var qde=Object.defineProperty;var Z9=n=>{throw TypeError(n)};var Yde=(n,e,t)=>e in n?qde(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var me=(n,e,t)=>Yde(n,typeof e!="symbol"?e+"":e,t),G4=(n,e,t)=>e.has(n)||Z9("Cannot "+t);var X=(n,e,t)=>(G4(n,e,"read from private field"),t?t.call(n):e.get(n)),Ge=(n,e,t)=>e.has(n)?Z9("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),ke=(n,e,t,r)=>(G4(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),Tt=(n,e,t)=>(G4(n,e,"access private method"),t);var SE=(n,e,t,r)=>({set _(i){ke(n,e,i,t)},get _(){return X(n,e,r)}});function Xde(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var q4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Y4={exports:{}},EE={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q9;function Kde(){if(Q9)return EE;Q9=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:a,ref:i!==void 0?i:null,props:s}}return EE.Fragment=e,EE.jsx=t,EE.jsxs=t,EE}var eH;function Jde(){return eH||(eH=1,Y4.exports=Kde()),Y4.exports}var T=Jde(),X4={exports:{}},Dn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tH;function Zde(){if(tH)return Dn;tH=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.for("react.activity"),p=Symbol.iterator;function g(ee){return ee===null||typeof ee!="object"?null:(ee=p&&ee[p]||ee["@@iterator"],typeof ee=="function"?ee:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,w={};function E(ee,xe,ae){this.props=ee,this.context=xe,this.refs=w,this.updater=ae||b}E.prototype.isReactComponent={},E.prototype.setState=function(ee,xe){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,xe,"setState")},E.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function k(){}k.prototype=E.prototype;function R(ee,xe,ae){this.props=ee,this.context=xe,this.refs=w,this.updater=ae||b}var O=R.prototype=new k;O.constructor=R,S(O,E.prototype),O.isPureReactComponent=!0;var D=Array.isArray;function I(){}var B={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function V(ee,xe,ae){var De=ae.ref;return{$$typeof:n,type:ee,key:xe,ref:De!==void 0?De:null,props:ae}}function Y(ee,xe){return V(ee.type,xe,ee.props)}function q(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function J(ee){var xe={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(ae){return xe[ae]})}var re=/\/+/g;function fe(ee,xe){return typeof ee=="object"&&ee!==null&&ee.key!=null?J(""+ee.key):xe.toString(36)}function ne(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(I,I):(ee.status="pending",ee.then(function(xe){ee.status==="pending"&&(ee.status="fulfilled",ee.value=xe)},function(xe){ee.status==="pending"&&(ee.status="rejected",ee.reason=xe)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function te(ee,xe,ae,De,dt){var Ne=typeof ee;(Ne==="undefined"||Ne==="boolean")&&(ee=null);var Ue=!1;if(ee===null)Ue=!0;else switch(Ne){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(ee.$$typeof){case n:case e:Ue=!0;break;case f:return Ue=ee._init,te(Ue(ee._payload),xe,ae,De,dt)}}if(Ue)return dt=dt(ee),Ue=De===""?"."+fe(ee,0):De,D(dt)?(ae="",Ue!=null&&(ae=Ue.replace(re,"$&/")+"/"),te(dt,xe,ae,"",function(lt){return lt})):dt!=null&&(q(dt)&&(dt=Y(dt,ae+(dt.key==null||ee&&ee.key===dt.key?"":(""+dt.key).replace(re,"$&/")+"/")+Ue)),xe.push(dt)),1;Ue=0;var qe=De===""?".":De+":";if(D(ee))for(var Pe=0;Pe<ee.length;Pe++)De=ee[Pe],Ne=qe+fe(De,Pe),Ue+=te(De,xe,ae,Ne,dt);else if(Pe=g(ee),typeof Pe=="function")for(ee=Pe.call(ee),Pe=0;!(De=ee.next()).done;)De=De.value,Ne=qe+fe(De,Pe++),Ue+=te(De,xe,ae,Ne,dt);else if(Ne==="object"){if(typeof ee.then=="function")return te(ne(ee),xe,ae,De,dt);throw xe=String(ee),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function se(ee,xe,ae){if(ee==null)return ee;var De=[],dt=0;return te(ee,De,"","",function(Ne){return xe.call(ae,Ne,dt++)}),De}function be(ee){if(ee._status===-1){var xe=ee._result;xe=xe(),xe.then(function(ae){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=ae)},function(ae){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=ae)}),ee._status===-1&&(ee._status=0,ee._result=xe)}if(ee._status===1)return ee._result.default;throw ee._result}var Ee=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var xe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(xe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},oe={map:se,forEach:function(ee,xe,ae){se(ee,function(){xe.apply(this,arguments)},ae)},count:function(ee){var xe=0;return se(ee,function(){xe++}),xe},toArray:function(ee){return se(ee,function(xe){return xe})||[]},only:function(ee){if(!q(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return Dn.Activity=d,Dn.Children=oe,Dn.Component=E,Dn.Fragment=t,Dn.Profiler=i,Dn.PureComponent=R,Dn.StrictMode=r,Dn.Suspense=l,Dn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Dn.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return B.H.useMemoCache(ee)}},Dn.cache=function(ee){return function(){return ee.apply(null,arguments)}},Dn.cacheSignal=function(){return null},Dn.cloneElement=function(ee,xe,ae){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var De=S({},ee.props),dt=ee.key;if(xe!=null)for(Ne in xe.key!==void 0&&(dt=""+xe.key),xe)!z.call(xe,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&xe.ref===void 0||(De[Ne]=xe[Ne]);var Ne=arguments.length-2;if(Ne===1)De.children=ae;else if(1<Ne){for(var Ue=Array(Ne),qe=0;qe<Ne;qe++)Ue[qe]=arguments[qe+2];De.children=Ue}return V(ee.type,dt,De)},Dn.createContext=function(ee){return ee={$$typeof:a,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:s,_context:ee},ee},Dn.createElement=function(ee,xe,ae){var De,dt={},Ne=null;if(xe!=null)for(De in xe.key!==void 0&&(Ne=""+xe.key),xe)z.call(xe,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(dt[De]=xe[De]);var Ue=arguments.length-2;if(Ue===1)dt.children=ae;else if(1<Ue){for(var qe=Array(Ue),Pe=0;Pe<Ue;Pe++)qe[Pe]=arguments[Pe+2];dt.children=qe}if(ee&&ee.defaultProps)for(De in Ue=ee.defaultProps,Ue)dt[De]===void 0&&(dt[De]=Ue[De]);return V(ee,Ne,dt)},Dn.createRef=function(){return{current:null}},Dn.forwardRef=function(ee){return{$$typeof:o,render:ee}},Dn.isValidElement=q,Dn.lazy=function(ee){return{$$typeof:f,_payload:{_status:-1,_result:ee},_init:be}},Dn.memo=function(ee,xe){return{$$typeof:c,type:ee,compare:xe===void 0?null:xe}},Dn.startTransition=function(ee){var xe=B.T,ae={};B.T=ae;try{var De=ee(),dt=B.S;dt!==null&&dt(ae,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(I,Ee)}catch(Ne){Ee(Ne)}finally{xe!==null&&ae.types!==null&&(xe.types=ae.types),B.T=xe}},Dn.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Dn.use=function(ee){return B.H.use(ee)},Dn.useActionState=function(ee,xe,ae){return B.H.useActionState(ee,xe,ae)},Dn.useCallback=function(ee,xe){return B.H.useCallback(ee,xe)},Dn.useContext=function(ee){return B.H.useContext(ee)},Dn.useDebugValue=function(){},Dn.useDeferredValue=function(ee,xe){return B.H.useDeferredValue(ee,xe)},Dn.useEffect=function(ee,xe){return B.H.useEffect(ee,xe)},Dn.useEffectEvent=function(ee){return B.H.useEffectEvent(ee)},Dn.useId=function(){return B.H.useId()},Dn.useImperativeHandle=function(ee,xe,ae){return B.H.useImperativeHandle(ee,xe,ae)},Dn.useInsertionEffect=function(ee,xe){return B.H.useInsertionEffect(ee,xe)},Dn.useLayoutEffect=function(ee,xe){return B.H.useLayoutEffect(ee,xe)},Dn.useMemo=function(ee,xe){return B.H.useMemo(ee,xe)},Dn.useOptimistic=function(ee,xe){return B.H.useOptimistic(ee,xe)},Dn.useReducer=function(ee,xe,ae){return B.H.useReducer(ee,xe,ae)},Dn.useRef=function(ee){return B.H.useRef(ee)},Dn.useState=function(ee){return B.H.useState(ee)},Dn.useSyncExternalStore=function(ee,xe,ae){return B.H.useSyncExternalStore(ee,xe,ae)},Dn.useTransition=function(){return B.H.useTransition()},Dn.version="19.2.4",Dn}var nH;function vw(){return nH||(nH=1,X4.exports=Zde()),X4.exports}var L=vw();const st=Mc(L),XF=Xde({__proto__:null,default:st},[L]);var K4={exports:{}},ME={},J4={exports:{}},Z4={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rH;function Qde(){return rH||(rH=1,(function(n){function e(te,se){var be=te.length;te.push(se);e:for(;0<be;){var Ee=be-1>>>1,oe=te[Ee];if(0<i(oe,se))te[Ee]=se,te[be]=oe,be=Ee;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var se=te[0],be=te.pop();if(be!==se){te[0]=be;e:for(var Ee=0,oe=te.length,ee=oe>>>1;Ee<ee;){var xe=2*(Ee+1)-1,ae=te[xe],De=xe+1,dt=te[De];if(0>i(ae,be))De<oe&&0>i(dt,ae)?(te[Ee]=dt,te[De]=be,Ee=De):(te[Ee]=ae,te[xe]=be,Ee=xe);else if(De<oe&&0>i(dt,be))te[Ee]=dt,te[De]=be,Ee=De;else break e}}return se}function i(te,se){var be=te.sortIndex-se.sortIndex;return be!==0?be:te.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],c=[],f=1,d=null,p=3,g=!1,b=!1,S=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function O(te){for(var se=t(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=te)r(c),se.sortIndex=se.expirationTime,e(l,se);else break;se=t(c)}}function D(te){if(S=!1,O(te),!b)if(t(l)!==null)b=!0,I||(I=!0,J());else{var se=t(c);se!==null&&ne(D,se.startTime-te)}}var I=!1,B=-1,z=5,V=-1;function Y(){return w?!0:!(n.unstable_now()-V<z)}function q(){if(w=!1,I){var te=n.unstable_now();V=te;var se=!0;try{e:{b=!1,S&&(S=!1,k(B),B=-1),g=!0;var be=p;try{t:{for(O(te),d=t(l);d!==null&&!(d.expirationTime>te&&Y());){var Ee=d.callback;if(typeof Ee=="function"){d.callback=null,p=d.priorityLevel;var oe=Ee(d.expirationTime<=te);if(te=n.unstable_now(),typeof oe=="function"){d.callback=oe,O(te),se=!0;break t}d===t(l)&&r(l),O(te)}else r(l);d=t(l)}if(d!==null)se=!0;else{var ee=t(c);ee!==null&&ne(D,ee.startTime-te),se=!1}}break e}finally{d=null,p=be,g=!1}se=void 0}}finally{se?J():I=!1}}}var J;if(typeof R=="function")J=function(){R(q)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,fe=re.port2;re.port1.onmessage=q,J=function(){fe.postMessage(null)}}else J=function(){E(q,0)};function ne(te,se){B=E(function(){te(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_next=function(te){switch(p){case 1:case 2:case 3:var se=3;break;default:se=p}var be=p;p=se;try{return te()}finally{p=be}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(te,se){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var be=p;p=te;try{return se()}finally{p=be}},n.unstable_scheduleCallback=function(te,se,be){var Ee=n.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?Ee+be:Ee):be=Ee,te){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=be+oe,te={id:f++,callback:se,priorityLevel:te,startTime:be,expirationTime:oe,sortIndex:-1},be>Ee?(te.sortIndex=be,e(c,te),t(l)===null&&te===t(c)&&(S?(k(B),B=-1):S=!0,ne(D,be-Ee))):(te.sortIndex=oe,e(l,te),b||g||(b=!0,I||(I=!0,J()))),te},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(te){var se=p;return function(){var be=p;p=se;try{return te.apply(this,arguments)}finally{p=be}}}})(Z4)),Z4}var iH;function uQ(){return iH||(iH=1,J4.exports=Qde()),J4.exports}var Q4={exports:{}},ho={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sH;function ehe(){if(sH)return ho;sH=1;var n=vw();function e(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)c+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,c,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:d==null?null:""+d,children:l,containerInfo:c,implementation:f}}var a=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,c){if(l==="font")return"";if(typeof c=="string")return c==="use-credentials"?c:""}return ho.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ho.createPortal=function(l,c){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)throw Error(e(299));return s(l,c,null,f)},ho.flushSync=function(l){var c=a.T,f=r.p;try{if(a.T=null,r.p=2,l)return l()}finally{a.T=c,r.p=f,r.d.f()}},ho.preconnect=function(l,c){typeof l=="string"&&(c?(c=c.crossOrigin,c=typeof c=="string"?c==="use-credentials"?c:"":void 0):c=null,r.d.C(l,c))},ho.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},ho.preinit=function(l,c){if(typeof l=="string"&&c&&typeof c.as=="string"){var f=c.as,d=o(f,c.crossOrigin),p=typeof c.integrity=="string"?c.integrity:void 0,g=typeof c.fetchPriority=="string"?c.fetchPriority:void 0;f==="style"?r.d.S(l,typeof c.precedence=="string"?c.precedence:void 0,{crossOrigin:d,integrity:p,fetchPriority:g}):f==="script"&&r.d.X(l,{crossOrigin:d,integrity:p,fetchPriority:g,nonce:typeof c.nonce=="string"?c.nonce:void 0})}},ho.preinitModule=function(l,c){if(typeof l=="string")if(typeof c=="object"&&c!==null){if(c.as==null||c.as==="script"){var f=o(c.as,c.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0})}}else c==null&&r.d.M(l)},ho.preload=function(l,c){if(typeof l=="string"&&typeof c=="object"&&c!==null&&typeof c.as=="string"){var f=c.as,d=o(f,c.crossOrigin);r.d.L(l,f,{crossOrigin:d,integrity:typeof c.integrity=="string"?c.integrity:void 0,nonce:typeof c.nonce=="string"?c.nonce:void 0,type:typeof c.type=="string"?c.type:void 0,fetchPriority:typeof c.fetchPriority=="string"?c.fetchPriority:void 0,referrerPolicy:typeof c.referrerPolicy=="string"?c.referrerPolicy:void 0,imageSrcSet:typeof c.imageSrcSet=="string"?c.imageSrcSet:void 0,imageSizes:typeof c.imageSizes=="string"?c.imageSizes:void 0,media:typeof c.media=="string"?c.media:void 0})}},ho.preloadModule=function(l,c){if(typeof l=="string")if(c){var f=o(c.as,c.crossOrigin);r.d.m(l,{as:typeof c.as=="string"&&c.as!=="script"?c.as:void 0,crossOrigin:f,integrity:typeof c.integrity=="string"?c.integrity:void 0})}else r.d.m(l)},ho.requestFormReset=function(l){r.d.r(l)},ho.unstable_batchedUpdates=function(l,c){return l(c)},ho.useFormState=function(l,c,f){return a.H.useFormState(l,c,f)},ho.useFormStatus=function(){return a.H.useHostTransitionStatus()},ho.version="19.2.4",ho}var aH;function fQ(){if(aH)return Q4.exports;aH=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Q4.exports=ehe(),Q4.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oH;function the(){if(oH)return ME;oH=1;var n=uQ(),e=vw(),t=fQ();function r(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var h=u,x=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(x=h.return),u=h.return;while(u)}return h.tag===3?x:null}function a(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function o(u){if(u.tag===31){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(s(u)!==u)throw Error(r(188))}function c(u){var h=u.alternate;if(!h){if(h=s(u),h===null)throw Error(r(188));return h!==u?null:u}for(var x=u,A=h;;){var N=x.return;if(N===null)break;var F=N.alternate;if(F===null){if(A=N.return,A!==null){x=A;continue}break}if(N.child===F.child){for(F=N.child;F;){if(F===x)return l(N),u;if(F===A)return l(N),h;F=F.sibling}throw Error(r(188))}if(x.return!==A.return)x=N,A=F;else{for(var Z=!1,pe=N.child;pe;){if(pe===x){Z=!0,x=N,A=F;break}if(pe===A){Z=!0,A=N,x=F;break}pe=pe.sibling}if(!Z){for(pe=F.child;pe;){if(pe===x){Z=!0,x=F,A=N;break}if(pe===A){Z=!0,A=F,x=N;break}pe=pe.sibling}if(!Z)throw Error(r(189))}}if(x.alternate!==A)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?u:h}function f(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=f(u),h!==null)return h;u=u.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),R=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function J(u){return u===null||typeof u!="object"?null:(u=q&&u[q]||u["@@iterator"],typeof u=="function"?u:null)}var re=Symbol.for("react.client.reference");function fe(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===re?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case S:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case D:return"Suspense";case I:return"SuspenseList";case V:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case b:return"Portal";case R:return u.displayName||"Context";case k:return(u._context.displayName||"Context")+".Consumer";case O:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case B:return h=u.displayName||null,h!==null?h:fe(u.type)||"Memo";case z:h=u._payload,u=u._init;try{return fe(u(h))}catch{}}return null}var ne=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be={pending:!1,data:null,method:null,action:null},Ee=[],oe=-1;function ee(u){return{current:u}}function xe(u){0>oe||(u.current=Ee[oe],Ee[oe]=null,oe--)}function ae(u,h){oe++,Ee[oe]=u.current,u.current=h}var De=ee(null),dt=ee(null),Ne=ee(null),Ue=ee(null);function qe(u,h){switch(ae(Ne,h),ae(dt,u),ae(De,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?_9(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=_9(h),u=w9(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}xe(De),ae(De,u)}function Pe(){xe(De),xe(dt),xe(Ne)}function lt(u){u.memoizedState!==null&&ae(Ue,u);var h=De.current,x=w9(h,u.type);h!==x&&(ae(dt,u),ae(De,x))}function Mt(u){dt.current===u&&(xe(De),xe(dt)),Ue.current===u&&(xe(Ue),xE._currentValue=be)}var Ze,_t;function Ve(u){if(Ze===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);Ze=h&&h[1]||"",_t=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+u+_t}var ot=!1;function Qe(u,h){if(!u||ot)return"";ot=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var A={DetermineComponentFrameRoot:function(){try{if(h){var yt=function(){throw Error()};if(Object.defineProperty(yt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(yt,[])}catch(it){var Je=it}Reflect.construct(u,[],yt)}else{try{yt.call()}catch(it){Je=it}u.call(yt.prototype)}}else{try{throw Error()}catch(it){Je=it}(yt=u())&&typeof yt.catch=="function"&&yt.catch(function(){})}}catch(it){if(it&&Je&&typeof it.stack=="string")return[it.stack,Je.stack]}return[null,null]}};A.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(A.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(A.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var F=A.DetermineComponentFrameRoot(),Z=F[0],pe=F[1];if(Z&&pe){var Te=Z.split(`
`),Xe=pe.split(`
`);for(N=A=0;A<Te.length&&!Te[A].includes("DetermineComponentFrameRoot");)A++;for(;N<Xe.length&&!Xe[N].includes("DetermineComponentFrameRoot");)N++;if(A===Te.length||N===Xe.length)for(A=Te.length-1,N=Xe.length-1;1<=A&&0<=N&&Te[A]!==Xe[N];)N--;for(;1<=A&&0<=N;A--,N--)if(Te[A]!==Xe[N]){if(A!==1||N!==1)do if(A--,N--,0>N||Te[A]!==Xe[N]){var ut=`
`+Te[A].replace(" at new "," at ");return u.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",u.displayName)),ut}while(1<=A&&0<=N);break}}}finally{ot=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?Ve(x):""}function mt(u,h){switch(u.tag){case 26:case 27:case 5:return Ve(u.type);case 16:return Ve("Lazy");case 13:return u.child!==h&&h!==null?Ve("Suspense Fallback"):Ve("Suspense");case 19:return Ve("SuspenseList");case 0:case 15:return Qe(u.type,!1);case 11:return Qe(u.type.render,!1);case 1:return Qe(u.type,!0);case 31:return Ve("Activity");default:return""}}function _e(u){try{var h="",x=null;do h+=mt(u,x),x=u,u=u.return;while(u);return h}catch(A){return`
Error generating stack: `+A.message+`
`+A.stack}}var zt=Object.prototype.hasOwnProperty,kt=n.unstable_scheduleCallback,Vt=n.unstable_cancelCallback,gt=n.unstable_shouldYield,ge=n.unstable_requestPaint,ie=n.unstable_now,Ie=n.unstable_getCurrentPriorityLevel,we=n.unstable_ImmediatePriority,K=n.unstable_UserBlockingPriority,j=n.unstable_NormalPriority,$=n.unstable_LowPriority,ce=n.unstable_IdlePriority,le=n.log,Re=n.unstable_setDisableYieldValue,Me=null,ue=null;function vt(u){if(typeof le=="function"&&Re(u),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(Me,u)}catch{}}var ft=Math.clz32?Math.clz32:Le,ct=Math.log,Rt=Math.LN2;function Le(u){return u>>>=0,u===0?32:31-(ct(u)/Rt|0)|0}var $e=256,At=262144,Lt=4194304;function bt(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function tt(u,h,x){var A=u.pendingLanes;if(A===0)return 0;var N=0,F=u.suspendedLanes,Z=u.pingedLanes;u=u.warmLanes;var pe=A&134217727;return pe!==0?(A=pe&~F,A!==0?N=bt(A):(Z&=pe,Z!==0?N=bt(Z):x||(x=pe&~u,x!==0&&(N=bt(x))))):(pe=A&~F,pe!==0?N=bt(pe):Z!==0?N=bt(Z):x||(x=A&~u,x!==0&&(N=bt(x)))),N===0?0:h!==0&&h!==N&&(h&F)===0&&(F=N&-N,x=h&-h,F>=x||F===32&&(x&4194048)!==0)?h:N}function Dt(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function an(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var u=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),u}function kn(u){for(var h=[],x=0;31>x;x++)h.push(u);return h}function Wr(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function pi(u,h,x,A,N,F){var Z=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var pe=u.entanglements,Te=u.expirationTimes,Xe=u.hiddenUpdates;for(x=Z&~x;0<x;){var ut=31-ft(x),yt=1<<ut;pe[ut]=0,Te[ut]=-1;var Je=Xe[ut];if(Je!==null)for(Xe[ut]=null,ut=0;ut<Je.length;ut++){var it=Je[ut];it!==null&&(it.lane&=-536870913)}x&=~yt}A!==0&&Ws(u,A,0),F!==0&&N===0&&u.tag!==0&&(u.suspendedLanes|=F&~(Z&~h))}function Ws(u,h,x){u.pendingLanes|=h,u.suspendedLanes&=~h;var A=31-ft(h);u.entangledLanes|=h,u.entanglements[A]=u.entanglements[A]|1073741824|x&261930}function Zr(u,h){var x=u.entangledLanes|=h;for(u=u.entanglements;x;){var A=31-ft(x),N=1<<A;N&h|u[A]&h&&(u[A]|=h),x&=~N}}function Ts(u,h){var x=h&-h;return x=(x&42)!==0?1:Cs(x),(x&(u.suspendedLanes|h))!==0?0:x}function Cs(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function ns(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Hi(){var u=se.p;return u!==0?u:(u=window.event,u===void 0?32:$9(u.type))}function Ti(u,h){var x=se.p;try{return se.p=u,h()}finally{se.p=x}}var Ci=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Ci,yr="__reactProps$"+Ci,mi="__reactContainer$"+Ci,pr="__reactEvents$"+Ci,wt="__reactListeners$"+Ci,Gt="__reactHandles$"+Ci,Ca="__reactResources$"+Ci,ri="__reactMarker$"+Ci;function rr(u){delete u[Xn],delete u[yr],delete u[pr],delete u[wt],delete u[Gt]}function rs(u){var h=u[Xn];if(h)return h;for(var x=u.parentNode;x;){if(h=x[mi]||x[Xn]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(u=k9(u);u!==null;){if(x=u[Xn])return x;u=k9(u)}return h}u=x,x=u.parentNode}return null}function ve(u){if(u=u[Xn]||u[mi]){var h=u.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return u}return null}function $s(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(r(33))}function de(u){var h=u[Ca];return h||(h=u[Ca]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ae(u){u[ri]=!0}var Be=new Set,ze={};function _(u,h){y(u,h),y(u+"Capture",h)}function y(u,h){for(ze[u]=h,u=0;u<h.length;u++)Be.add(h[u])}var M=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),U={},Q={};function ye(u){return zt.call(Q,u)?!0:zt.call(U,u)?!1:M.test(u)?Q[u]=!0:(U[u]=!0,!1)}function Oe(u,h,x){if(ye(h))if(x===null)u.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var A=h.toLowerCase().slice(0,5);if(A!=="data-"&&A!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+x)}}function et(u,h,x){if(x===null)u.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+x)}}function ht(u,h,x,A){if(A===null)u.removeAttribute(x);else{switch(typeof A){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(x);return}u.setAttributeNS(h,x,""+A)}}function Jt(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function or(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function kr(u,h,x){var A=Object.getOwnPropertyDescriptor(u.constructor.prototype,h);if(!u.hasOwnProperty(h)&&typeof A<"u"&&typeof A.get=="function"&&typeof A.set=="function"){var N=A.get,F=A.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return N.call(this)},set:function(Z){x=""+Z,F.call(this,Z)}}),Object.defineProperty(u,h,{enumerable:A.enumerable}),{getValue:function(){return x},setValue:function(Z){x=""+Z},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function lr(u){if(!u._valueTracker){var h=or(u)?"checked":"value";u._valueTracker=kr(u,h,""+u[h])}}function mr(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var x=h.getValue(),A="";return u&&(A=or(u)?u.checked?"true":"false":u.value),u=A,u!==x?(h.setValue(u),!0):!1}function Bt(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var ks=/[\n"\\]/g;function gn(u){return u.replace(ks,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Rs(u,h,x,A,N,F,Z,pe){u.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?u.type=Z:u.removeAttribute("type"),h!=null?Z==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+Jt(h)):u.value!==""+Jt(h)&&(u.value=""+Jt(h)):Z!=="submit"&&Z!=="reset"||u.removeAttribute("value"),h!=null?ms(u,Z,Jt(h)):x!=null?ms(u,Z,Jt(x)):A!=null&&u.removeAttribute("value"),N==null&&F!=null&&(u.defaultChecked=!!F),N!=null&&(u.checked=N&&typeof N!="function"&&typeof N!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?u.name=""+Jt(pe):u.removeAttribute("name")}function ka(u,h,x,A,N,F,Z,pe){if(F!=null&&typeof F!="function"&&typeof F!="symbol"&&typeof F!="boolean"&&(u.type=F),h!=null||x!=null){if(!(F!=="submit"&&F!=="reset"||h!=null)){lr(u);return}x=x!=null?""+Jt(x):"",h=h!=null?""+Jt(h):x,pe||h===u.value||(u.value=h),u.defaultValue=h}A=A??N,A=typeof A!="function"&&typeof A!="symbol"&&!!A,u.checked=pe?u.checked:!!A,u.defaultChecked=!!A,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(u.name=Z),lr(u)}function ms(u,h,x){h==="number"&&Bt(u.ownerDocument)===u||u.defaultValue===""+x||(u.defaultValue=""+x)}function la(u,h,x,A){if(u=u.options,h){h={};for(var N=0;N<x.length;N++)h["$"+x[N]]=!0;for(x=0;x<u.length;x++)N=h.hasOwnProperty("$"+u[x].value),u[x].selected!==N&&(u[x].selected=N),N&&A&&(u[x].defaultSelected=!0)}else{for(x=""+Jt(x),h=null,N=0;N<u.length;N++){if(u[N].value===x){u[N].selected=!0,A&&(u[N].defaultSelected=!0);return}h!==null||u[N].disabled||(h=u[N])}h!==null&&(h.selected=!0)}}function vr(u,h,x){if(h!=null&&(h=""+Jt(h),h!==u.value&&(u.value=h),x==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=x!=null?""+Jt(x):""}function ki(u,h,x,A){if(h==null){if(A!=null){if(x!=null)throw Error(r(92));if(ne(A)){if(1<A.length)throw Error(r(93));A=A[0]}x=A}x==null&&(x=""),h=x}x=Jt(h),u.defaultValue=x,A=u.textContent,A===x&&A!==""&&A!==null&&(u.value=A),lr(u)}function ca(u,h){if(h){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=h;return}}u.textContent=h}var Vi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fl(u,h,x){var A=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?A?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":A?u.setProperty(h,x):typeof x!="number"||x===0||Vi.has(h)?h==="float"?u.cssFloat=x:u[h]=(""+x).trim():u[h]=x+"px"}function kc(u,h,x){if(h!=null&&typeof h!="object")throw Error(r(62));if(u=u.style,x!=null){for(var A in x)!x.hasOwnProperty(A)||h!=null&&h.hasOwnProperty(A)||(A.indexOf("--")===0?u.setProperty(A,""):A==="float"?u.cssFloat="":u[A]="");for(var N in h)A=h[N],h.hasOwnProperty(N)&&x[N]!==A&&fl(u,N,A)}else for(var F in h)h.hasOwnProperty(F)&&fl(u,F,h[F])}function yh(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function vg(u){return Qw.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Bu(){}var _x=null;function wx(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var vh=null,jf=null;function eS(u){var h=ve(u);if(h&&(u=h.stateNode)){var x=u[yr]||null;e:switch(u=h.stateNode,h.type){case"input":if(Rs(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+gn(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var A=x[h];if(A!==u&&A.form===u.form){var N=A[yr]||null;if(!N)throw Error(r(90));Rs(A,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(h=0;h<x.length;h++)A=x[h],A.form===u.form&&mr(A)}break e;case"textarea":vr(u,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&la(u,!!x.multiple,h,!1)}}}var Sx=!1;function tS(u,h,x){if(Sx)return u(h,x);Sx=!0;try{var A=u(h);return A}finally{if(Sx=!1,(vh!==null||jf!==null)&&(rc(),vh&&(h=vh,u=jf,jf=vh=null,eS(h),u)))for(h=0;h<u.length;h++)eS(u[h])}}function am(u,h){var x=u.stateNode;if(x===null)return null;var A=x[yr]||null;if(A===null)return null;x=A[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(A=!A.disabled)||(u=u.type,A=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!A;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(r(231,h,typeof x));return x}var Rc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nS=!1;if(Rc)try{var om={};Object.defineProperty(om,"passive",{get:function(){nS=!0}}),window.addEventListener("test",om,om),window.removeEventListener("test",om,om)}catch{nS=!1}var Io=null,Ex=null,xh=null;function xg(){if(xh)return xh;var u,h=Ex,x=h.length,A,N="value"in Io?Io.value:Io.textContent,F=N.length;for(u=0;u<x&&h[u]===N[u];u++);var Z=x-u;for(A=1;A<=Z&&h[x-A]===N[F-A];A++);return xh=N.slice(u,1<A?1-A:void 0)}function bg(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function lm(){return!0}function lC(){return!1}function Ra(u){function h(x,A,N,F,Z){this._reactName=x,this._targetInst=N,this.type=A,this.nativeEvent=F,this.target=Z,this.currentTarget=null;for(var pe in u)u.hasOwnProperty(pe)&&(x=u[pe],this[pe]=x?x(F):F[pe]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?lm:lC,this.isPropagationStopped=lC,this}return d(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=lm)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=lm)},persist:function(){},isPersistent:lm}),h}var Hf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_g=Ra(Hf),cm=d({},Hf,{view:0,detail:0}),cC=Ra(cm),wg,Mx,um,fm=d({},cm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kx,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==um&&(um&&u.type==="mousemove"?(wg=u.screenX-um.screenX,Mx=u.screenY-um.screenY):Mx=wg=0,um=u),wg)},movementY:function(u){return"movementY"in u?u.movementY:Mx}}),rS=Ra(fm),uC=d({},fm,{dataTransfer:0}),fC=Ra(uC),iS=d({},cm,{relatedTarget:0}),Ax=Ra(iS),dC=d({},Hf,{animationName:0,elapsedTime:0,pseudoElement:0}),d4=Ra(dC),h4=d({},Hf,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),hC=Ra(h4),Sg=d({},Hf,{data:0}),Tx=Ra(Sg),Cx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=mC[u])?!!h[u]:!1}function kx(){return sS}var gC=d({},cm,{key:function(u){if(u.key){var h=Cx[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=bg(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?pC[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kx,charCode:function(u){return u.type==="keypress"?bg(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?bg(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),bh=Ra(gC),Rx=d({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aS=Ra(Rx),oS=d({},cm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kx}),yC=Ra(oS),vC=d({},Hf,{propertyName:0,elapsedTime:0,pseudoElement:0}),p4=Ra(vC),Gs=d({},fm,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),xC=Ra(Gs),bC=d({},Hf,{newState:0,oldState:0}),_C=Ra(bC),wC=[9,13,27,32],_h=Rc&&"CompositionEvent"in window,dm=null;Rc&&"documentMode"in document&&(dm=document.documentMode);var Ox=Rc&&"TextEvent"in window&&!dm,lS=Rc&&(!_h||dm&&8<dm&&11>=dm),SC=" ",Eg=!1;function Px(u,h){switch(u){case"keyup":return wC.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var wh=!1;function EC(u,h){switch(u){case"compositionend":return cS(h);case"keypress":return h.which!==32?null:(Eg=!0,SC);case"textInput":return u=h.data,u===SC&&Eg?null:u;default:return null}}function uS(u,h){if(wh)return u==="compositionend"||!_h&&Px(u,h)?(u=xg(),xh=Ex=Io=null,wh=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return lS&&h.locale!=="ko"?null:h.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dS(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!fS[u.type]:h==="textarea"}function Dx(u,h,x,A){vh?jf?jf.push(A):jf=[A]:vh=A,h=k3(h,"onChange"),0<h.length&&(x=new _g("onChange","change",null,x,A),u.push({event:x,listeners:h}))}var Vf=null,Sh=null;function MC(u){m9(u,0)}function hm(u){var h=$s(u);if(mr(h))return u}function hS(u,h){if(u==="change")return h}var Oc=!1;if(Rc){var Mg;if(Rc){var pS="oninput"in document;if(!pS){var mS=document.createElement("div");mS.setAttribute("oninput","return;"),pS=typeof mS.oninput=="function"}Mg=pS}else Mg=!1;Oc=Mg&&(!document.documentMode||9<document.documentMode)}function dl(){Vf&&(Vf.detachEvent("onpropertychange",Ag),Sh=Vf=null)}function Ag(u){if(u.propertyName==="value"&&hm(Sh)){var h=[];Dx(h,Sh,u,wx(u)),tS(MC,h)}}function AC(u,h,x){u==="focusin"?(dl(),Vf=h,Sh=x,Vf.attachEvent("onpropertychange",Ag)):u==="focusout"&&dl()}function gS(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return hm(Sh)}function TC(u,h){if(u==="click")return hm(h)}function CC(u,h){if(u==="input"||u==="change")return hm(h)}function yS(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Oa=typeof Object.is=="function"?Object.is:yS;function pm(u,h){if(Oa(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var x=Object.keys(u),A=Object.keys(h);if(x.length!==A.length)return!1;for(A=0;A<x.length;A++){var N=x[A];if(!zt.call(h,N)||!Oa(u[N],h[N]))return!1}return!0}function Tg(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function mm(u,h){var x=Tg(u);u=0;for(var A;x;){if(x.nodeType===3){if(A=u+x.textContent.length,u<=h&&A>=h)return{node:x,offset:h-u};u=A}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=Tg(x)}}function $r(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?$r(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function kC(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=Bt(u.document);h instanceof u.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)u=h.contentWindow;else break;h=Bt(u.document)}return h}function vS(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var RC=Rc&&"documentMode"in document&&11>=document.documentMode,Pc=null,Dc=null,gm=null,Ix=!1;function ym(u,h,x){var A=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Ix||Pc==null||Pc!==Bt(A)||(A=Pc,"selectionStart"in A&&vS(A)?A={start:A.selectionStart,end:A.selectionEnd}:(A=(A.ownerDocument&&A.ownerDocument.defaultView||window).getSelection(),A={anchorNode:A.anchorNode,anchorOffset:A.anchorOffset,focusNode:A.focusNode,focusOffset:A.focusOffset}),gm&&pm(gm,A)||(gm=A,A=k3(Dc,"onSelect"),0<A.length&&(h=new _g("onSelect","select",null,h,x),u.push({event:h,listeners:A}),h.target=Pc)))}function ua(u,h){var x={};return x[u.toLowerCase()]=h.toLowerCase(),x["Webkit"+u]="webkit"+h,x["Moz"+u]="moz"+h,x}var Eh={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},Cg={},xS={};Rc&&(xS=document.createElement("div").style,"AnimationEvent"in window||(delete Eh.animationend.animation,delete Eh.animationiteration.animation,delete Eh.animationstart.animation),"TransitionEvent"in window||delete Eh.transitionend.transition);function Fu(u){if(Cg[u])return Cg[u];if(!Eh[u])return u;var h=Eh[u],x;for(x in h)if(h.hasOwnProperty(x)&&x in xS)return Cg[u]=h[x];return u}var Nx=Fu("animationend"),kg=Fu("animationiteration"),bS=Fu("animationstart"),OC=Fu("transitionrun"),m4=Fu("transitionstart"),PC=Fu("transitioncancel"),_S=Fu("transitionend"),hl=new Map,Rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rg.push("scrollEnd");function pl(u,h){hl.set(u,h),_(h,[u])}var Og=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},ml=[],zu=0,Os=0;function Pg(){for(var u=zu,h=Os=zu=0;h<u;){var x=ml[h];ml[h++]=null;var A=ml[h];ml[h++]=null;var N=ml[h];ml[h++]=null;var F=ml[h];if(ml[h++]=null,A!==null&&N!==null){var Z=A.pending;Z===null?N.next=N:(N.next=Z.next,Z.next=N),A.pending=N}F!==0&&Wf(x,N,F)}}function Ps(u,h,x,A){ml[zu++]=u,ml[zu++]=h,ml[zu++]=x,ml[zu++]=A,Os|=A,u.lanes|=A,u=u.alternate,u!==null&&(u.lanes|=A)}function Lx(u,h,x,A){return Ps(u,h,x,A),gl(u)}function Pa(u,h){return Ps(u,null,null,h),gl(u)}function Wf(u,h,x){u.lanes|=x;var A=u.alternate;A!==null&&(A.lanes|=x);for(var N=!1,F=u.return;F!==null;)F.childLanes|=x,A=F.alternate,A!==null&&(A.childLanes|=x),F.tag===22&&(u=F.stateNode,u===null||u._visibility&1||(N=!0)),u=F,F=F.return;return u.tag===3?(F=u.stateNode,N&&h!==null&&(N=31-ft(x),u=F.hiddenUpdates,A=u[N],A===null?u[N]=[h]:A.push(h),h.lane=x|536870912),F):null}function gl(u){if(50<cd)throw cd=0,Vh=null,Error(r(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var $f={};function wS(u,h,x,A){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gi(u,h,x,A){return new wS(u,h,x,A)}function Bx(u){return u=u.prototype,!(!u||!u.isReactComponent)}function no(u,h){var x=u.alternate;return x===null?(x=gi(u.tag,h,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=h,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&65011712,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,h=u.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function vm(u,h){u.flags&=65011714;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,h=x.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function Ic(u,h,x,A,N,F){var Z=0;if(A=u,typeof u=="function")Bx(u)&&(Z=1);else if(typeof u=="string")Z=Nde(u,x,De.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case V:return u=gi(31,x,h,N),u.elementType=V,u.lanes=F,u;case S:return Gf(x.children,N,F,h);case w:Z=8,N|=24;break;case E:return u=gi(12,x,h,N|2),u.elementType=E,u.lanes=F,u;case D:return u=gi(13,x,h,N),u.elementType=D,u.lanes=F,u;case I:return u=gi(19,x,h,N),u.elementType=I,u.lanes=F,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case R:Z=10;break e;case k:Z=9;break e;case O:Z=11;break e;case B:Z=14;break e;case z:Z=16,A=null;break e}Z=29,x=Error(r(130,u===null?"null":typeof u,"")),A=null}return h=gi(Z,x,h,N),h.elementType=u,h.type=A,h.lanes=F,h}function Gf(u,h,x,A){return u=gi(7,u,A,h),u.lanes=x,u}function Fx(u,h,x){return u=gi(6,u,null,h),u.lanes=x,u}function xm(u){var h=gi(18,null,null,0);return h.stateNode=u,h}function zx(u,h,x){return h=gi(4,u.children!==null?u.children:[],u.key,h),h.lanes=x,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var Dg=new WeakMap;function No(u,h){if(typeof u=="object"&&u!==null){var x=Dg.get(u);return x!==void 0?x:(h={value:u,source:h,stack:_e(h)},Dg.set(u,h),h)}return{value:u,source:h,stack:_e(h)}}var qf=[],Yf=0,bm=null,_m=0,ro=[],ii=0,Uu=null,yi=1,Ql="";function Nc(u,h){qf[Yf++]=_m,qf[Yf++]=bm,bm=u,_m=h}function DC(u,h,x){ro[ii++]=yi,ro[ii++]=Ql,ro[ii++]=Uu,Uu=u;var A=yi;u=Ql;var N=32-ft(A)-1;A&=~(1<<N),x+=1;var F=32-ft(h)+N;if(30<F){var Z=N-N%5;F=(A&(1<<Z)-1).toString(32),A>>=Z,N-=Z,yi=1<<32-ft(h)+N|x<<N|A,Ql=F+u}else yi=1<<F|x<<N|A,Ql=u}function Lc(u){u.return!==null&&(Nc(u,1),DC(u,1,0))}function Ux(u){for(;u===bm;)bm=qf[--Yf],qf[Yf]=null,_m=qf[--Yf],qf[Yf]=null;for(;u===Uu;)Uu=ro[--ii],ro[ii]=null,Ql=ro[--ii],ro[ii]=null,yi=ro[--ii],ro[ii]=null}function jx(u,h){ro[ii++]=yi,ro[ii++]=Ql,ro[ii++]=Uu,yi=h.id,Ql=h.overflow,Uu=u}var Ri=null,Gr=null,er=!1,ju=null,Lo=!1,wm=Error(r(519));function Bc(u){var h=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fc(No(h,u)),wm}function IC(u){var h=u.stateNode,x=u.type,A=u.memoizedProps;switch(h[Xn]=u,h[yr]=A,x){case"dialog":sr("cancel",h),sr("close",h);break;case"iframe":case"object":case"embed":sr("load",h);break;case"video":case"audio":for(x=0;x<kl.length;x++)sr(kl[x],h);break;case"source":sr("error",h);break;case"img":case"image":case"link":sr("error",h),sr("load",h);break;case"details":sr("toggle",h);break;case"input":sr("invalid",h),ka(h,A.value,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name,!0);break;case"select":sr("invalid",h);break;case"textarea":sr("invalid",h),ki(h,A.value,A.defaultValue,A.children)}x=A.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||A.suppressHydrationWarning===!0||x9(h.textContent,x)?(A.popover!=null&&(sr("beforetoggle",h),sr("toggle",h)),A.onScroll!=null&&sr("scroll",h),A.onScrollEnd!=null&&sr("scrollend",h),A.onClick!=null&&(h.onclick=Bu),h=!0):h=!1,h||Bc(u,!0)}function NC(u){for(Ri=u.return;Ri;)switch(Ri.tag){case 5:case 31:case 13:Lo=!1;return;case 27:case 3:Lo=!0;return;default:Ri=Ri.return}}function Sm(u){if(u!==Ri)return!1;if(!er)return NC(u),er=!0,!1;var h=u.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=u.type,x=!(x!=="form"&&x!=="button")||O4(u.type,u.memoizedProps)),x=!x),x&&Gr&&Bc(u),NC(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Gr=C9(u)}else if(h===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Gr=C9(u)}else h===27?(h=Gr,Vm(u.type)?(u=L4,L4=null,Gr=u):Gr=h):Gr=Ri?Zc(u.stateNode.nextSibling):null;return!0}function Xf(){Gr=Ri=null,er=!1}function Hx(){var u=ju;return u!==null&&(Pi===null?Pi=u:Pi.push.apply(Pi,u),ju=null),u}function Fc(u){ju===null?ju=[u]:ju.push(u)}var Em=ee(null),Kf=null,zc=null;function Hu(u,h,x){ae(Em,h._currentValue),h._currentValue=x}function Uc(u){u._currentValue=Em.current,xe(Em)}function Vx(u,h,x){for(;u!==null;){var A=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,A!==null&&(A.childLanes|=h)):A!==null&&(A.childLanes&h)!==h&&(A.childLanes|=h),u===x)break;u=u.return}}function Wx(u,h,x,A){var N=u.child;for(N!==null&&(N.return=u);N!==null;){var F=N.dependencies;if(F!==null){var Z=N.child;F=F.firstContext;e:for(;F!==null;){var pe=F;F=N;for(var Te=0;Te<h.length;Te++)if(pe.context===h[Te]){F.lanes|=x,pe=F.alternate,pe!==null&&(pe.lanes|=x),Vx(F.return,x,u),A||(Z=null);break e}F=pe.next}}else if(N.tag===18){if(Z=N.return,Z===null)throw Error(r(341));Z.lanes|=x,F=Z.alternate,F!==null&&(F.lanes|=x),Vx(Z,x,u),Z=null}else Z=N.child;if(Z!==null)Z.return=N;else for(Z=N;Z!==null;){if(Z===u){Z=null;break}if(N=Z.sibling,N!==null){N.return=Z.return,Z=N;break}Z=Z.return}N=Z}}function jc(u,h,x,A){u=null;for(var N=h,F=!1;N!==null;){if(!F){if((N.flags&524288)!==0)F=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var Z=N.alternate;if(Z===null)throw Error(r(387));if(Z=Z.memoizedProps,Z!==null){var pe=N.type;Oa(N.pendingProps.value,Z.value)||(u!==null?u.push(pe):u=[pe])}}else if(N===Ue.current){if(Z=N.alternate,Z===null)throw Error(r(387));Z.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(u!==null?u.push(xE):u=[xE])}N=N.return}u!==null&&Wx(h,u,x,A),h.flags|=262144}function Ig(u){for(u=u.firstContext;u!==null;){if(!Oa(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Jf(u){Kf=u,zc=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function xn(u){return LC(Kf,u)}function Mm(u,h){return Kf===null&&Jf(u),LC(u,h)}function LC(u,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},zc===null){if(u===null)throw Error(r(308));zc=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else zc=zc.next=h;return x}var BC=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(x,A){u.push(A)}};this.abort=function(){h.aborted=!0,u.forEach(function(x){return x()})}},g4=n.unstable_scheduleCallback,y4=n.unstable_NormalPriority,is={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function SS(){return{controller:new BC,data:new Map,refCount:0}}function Mh(u){u.refCount--,u.refCount===0&&g4(y4,function(){u.controller.abort()})}var Bo=null,$x=0,Vu=0,yl=null;function ES(u,h){if(Bo===null){var x=Bo=[];$x=0,Vu=nt(),yl={status:"pending",value:void 0,then:function(A){x.push(A)}}}return $x++,h.then(MS,MS),h}function MS(){if(--$x===0&&Bo!==null){yl!==null&&(yl.status="fulfilled");var u=Bo;Bo=null,Vu=0,yl=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function AS(u,h){var x=[],A={status:"pending",value:null,reason:null,then:function(N){x.push(N)}};return u.then(function(){A.status="fulfilled",A.value=h;for(var N=0;N<x.length;N++)(0,x[N])(h)},function(N){for(A.status="rejected",A.reason=N,N=0;N<x.length;N++)(0,x[N])(void 0)}),A}var FC=te.S;te.S=function(u,h){hE=ie(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&ES(u,h),FC!==null&&FC(u,h)};var Zf=ee(null);function Gx(){var u=Zf.current;return u!==null?u:En.pooledCache}function Ng(u,h){h===null?ae(Zf,Zf.current):ae(Zf,h.pool)}function TS(){var u=Gx();return u===null?null:{parent:is._currentValue,pool:u}}var Ah=Error(r(460)),Lg=Error(r(474)),Fn=Error(r(542)),qx={then:function(){}};function io(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Yx(u,h,x){switch(x=u[x],x===void 0?u.push(h):x!==h&&(h.then(Bu,Bu),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,kh(u),u;default:if(typeof h.status=="string")h.then(Bu,Bu);else{if(u=En,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=h,u.status="pending",u.then(function(A){if(h.status==="pending"){var N=h;N.status="fulfilled",N.value=A}},function(A){if(h.status==="pending"){var N=h;N.status="rejected",N.reason=A}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,kh(u),u}throw Hc=h,Ah}}function Th(u){try{var h=u._init;return h(u._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(Hc=x,Ah):x}}var Hc=null;function Ch(){if(Hc===null)throw Error(r(459));var u=Hc;return Hc=null,u}function kh(u){if(u===Ah||u===Fn)throw Error(r(483))}var Rh=null,Oh=0;function Bg(u){var h=Oh;return Oh+=1,Rh===null&&(Rh=[]),Yx(Rh,u,h)}function vl(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function Am(u,h){throw h.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(h),Error(r(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function Xx(u){function h(He,Fe){if(u){var Ye=He.deletions;Ye===null?(He.deletions=[Fe],He.flags|=16):Ye.push(Fe)}}function x(He,Fe){if(!u)return null;for(;Fe!==null;)h(He,Fe),Fe=Fe.sibling;return null}function A(He){for(var Fe=new Map;He!==null;)He.key!==null?Fe.set(He.key,He):Fe.set(He.index,He),He=He.sibling;return Fe}function N(He,Fe){return He=no(He,Fe),He.index=0,He.sibling=null,He}function F(He,Fe,Ye){return He.index=Ye,u?(Ye=He.alternate,Ye!==null?(Ye=Ye.index,Ye<Fe?(He.flags|=67108866,Fe):Ye):(He.flags|=67108866,Fe)):(He.flags|=1048576,Fe)}function Z(He){return u&&He.alternate===null&&(He.flags|=67108866),He}function pe(He,Fe,Ye,pt){return Fe===null||Fe.tag!==6?(Fe=Fx(Ye,He.mode,pt),Fe.return=He,Fe):(Fe=N(Fe,Ye),Fe.return=He,Fe)}function Te(He,Fe,Ye,pt){var fn=Ye.type;return fn===S?ut(He,Fe,Ye.props.children,pt,Ye.key):Fe!==null&&(Fe.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===z&&Th(fn)===Fe.type)?(Fe=N(Fe,Ye.props),vl(Fe,Ye),Fe.return=He,Fe):(Fe=Ic(Ye.type,Ye.key,Ye.props,null,He.mode,pt),vl(Fe,Ye),Fe.return=He,Fe)}function Xe(He,Fe,Ye,pt){return Fe===null||Fe.tag!==4||Fe.stateNode.containerInfo!==Ye.containerInfo||Fe.stateNode.implementation!==Ye.implementation?(Fe=zx(Ye,He.mode,pt),Fe.return=He,Fe):(Fe=N(Fe,Ye.children||[]),Fe.return=He,Fe)}function ut(He,Fe,Ye,pt,fn){return Fe===null||Fe.tag!==7?(Fe=Gf(Ye,He.mode,pt,fn),Fe.return=He,Fe):(Fe=N(Fe,Ye),Fe.return=He,Fe)}function yt(He,Fe,Ye){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Fe=Fx(""+Fe,He.mode,Ye),Fe.return=He,Fe;if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case g:return Ye=Ic(Fe.type,Fe.key,Fe.props,null,He.mode,Ye),vl(Ye,Fe),Ye.return=He,Ye;case b:return Fe=zx(Fe,He.mode,Ye),Fe.return=He,Fe;case z:return Fe=Th(Fe),yt(He,Fe,Ye)}if(ne(Fe)||J(Fe))return Fe=Gf(Fe,He.mode,Ye,null),Fe.return=He,Fe;if(typeof Fe.then=="function")return yt(He,Bg(Fe),Ye);if(Fe.$$typeof===R)return yt(He,Mm(He,Fe),Ye);Am(He,Fe)}return null}function Je(He,Fe,Ye,pt){var fn=Fe!==null?Fe.key:null;if(typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint")return fn!==null?null:pe(He,Fe,""+Ye,pt);if(typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:return Ye.key===fn?Te(He,Fe,Ye,pt):null;case b:return Ye.key===fn?Xe(He,Fe,Ye,pt):null;case z:return Ye=Th(Ye),Je(He,Fe,Ye,pt)}if(ne(Ye)||J(Ye))return fn!==null?null:ut(He,Fe,Ye,pt,null);if(typeof Ye.then=="function")return Je(He,Fe,Bg(Ye),pt);if(Ye.$$typeof===R)return Je(He,Fe,Mm(He,Ye),pt);Am(He,Ye)}return null}function it(He,Fe,Ye,pt,fn){if(typeof pt=="string"&&pt!==""||typeof pt=="number"||typeof pt=="bigint")return He=He.get(Ye)||null,pe(Fe,He,""+pt,fn);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case g:return He=He.get(pt.key===null?Ye:pt.key)||null,Te(Fe,He,pt,fn);case b:return He=He.get(pt.key===null?Ye:pt.key)||null,Xe(Fe,He,pt,fn);case z:return pt=Th(pt),it(He,Fe,Ye,pt,fn)}if(ne(pt)||J(pt))return He=He.get(Ye)||null,ut(Fe,He,pt,fn,null);if(typeof pt.then=="function")return it(He,Fe,Ye,Bg(pt),fn);if(pt.$$typeof===R)return it(He,Fe,Ye,Mm(Fe,pt),fn);Am(Fe,pt)}return null}function Zt(He,Fe,Ye,pt){for(var fn=null,Er=null,en=Fe,Vn=Fe=0,ur=null;en!==null&&Vn<Ye.length;Vn++){en.index>Vn?(ur=en,en=null):ur=en.sibling;var Mr=Je(He,en,Ye[Vn],pt);if(Mr===null){en===null&&(en=ur);break}u&&en&&Mr.alternate===null&&h(He,en),Fe=F(Mr,Fe,Vn),Er===null?fn=Mr:Er.sibling=Mr,Er=Mr,en=ur}if(Vn===Ye.length)return x(He,en),er&&Nc(He,Vn),fn;if(en===null){for(;Vn<Ye.length;Vn++)en=yt(He,Ye[Vn],pt),en!==null&&(Fe=F(en,Fe,Vn),Er===null?fn=en:Er.sibling=en,Er=en);return er&&Nc(He,Vn),fn}for(en=A(en);Vn<Ye.length;Vn++)ur=it(en,He,Vn,Ye[Vn],pt),ur!==null&&(u&&ur.alternate!==null&&en.delete(ur.key===null?Vn:ur.key),Fe=F(ur,Fe,Vn),Er===null?fn=ur:Er.sibling=ur,Er=ur);return u&&en.forEach(function(Ym){return h(He,Ym)}),er&&Nc(He,Vn),fn}function yn(He,Fe,Ye,pt){if(Ye==null)throw Error(r(151));for(var fn=null,Er=null,en=Fe,Vn=Fe=0,ur=null,Mr=Ye.next();en!==null&&!Mr.done;Vn++,Mr=Ye.next()){en.index>Vn?(ur=en,en=null):ur=en.sibling;var Ym=Je(He,en,Mr.value,pt);if(Ym===null){en===null&&(en=ur);break}u&&en&&Ym.alternate===null&&h(He,en),Fe=F(Ym,Fe,Vn),Er===null?fn=Ym:Er.sibling=Ym,Er=Ym,en=ur}if(Mr.done)return x(He,en),er&&Nc(He,Vn),fn;if(en===null){for(;!Mr.done;Vn++,Mr=Ye.next())Mr=yt(He,Mr.value,pt),Mr!==null&&(Fe=F(Mr,Fe,Vn),Er===null?fn=Mr:Er.sibling=Mr,Er=Mr);return er&&Nc(He,Vn),fn}for(en=A(en);!Mr.done;Vn++,Mr=Ye.next())Mr=it(en,He,Vn,Mr.value,pt),Mr!==null&&(u&&Mr.alternate!==null&&en.delete(Mr.key===null?Vn:Mr.key),Fe=F(Mr,Fe,Vn),Er===null?fn=Mr:Er.sibling=Mr,Er=Mr);return u&&en.forEach(function(Gde){return h(He,Gde)}),er&&Nc(He,Vn),fn}function Xr(He,Fe,Ye,pt){if(typeof Ye=="object"&&Ye!==null&&Ye.type===S&&Ye.key===null&&(Ye=Ye.props.children),typeof Ye=="object"&&Ye!==null){switch(Ye.$$typeof){case g:e:{for(var fn=Ye.key;Fe!==null;){if(Fe.key===fn){if(fn=Ye.type,fn===S){if(Fe.tag===7){x(He,Fe.sibling),pt=N(Fe,Ye.props.children),pt.return=He,He=pt;break e}}else if(Fe.elementType===fn||typeof fn=="object"&&fn!==null&&fn.$$typeof===z&&Th(fn)===Fe.type){x(He,Fe.sibling),pt=N(Fe,Ye.props),vl(pt,Ye),pt.return=He,He=pt;break e}x(He,Fe);break}else h(He,Fe);Fe=Fe.sibling}Ye.type===S?(pt=Gf(Ye.props.children,He.mode,pt,Ye.key),pt.return=He,He=pt):(pt=Ic(Ye.type,Ye.key,Ye.props,null,He.mode,pt),vl(pt,Ye),pt.return=He,He=pt)}return Z(He);case b:e:{for(fn=Ye.key;Fe!==null;){if(Fe.key===fn)if(Fe.tag===4&&Fe.stateNode.containerInfo===Ye.containerInfo&&Fe.stateNode.implementation===Ye.implementation){x(He,Fe.sibling),pt=N(Fe,Ye.children||[]),pt.return=He,He=pt;break e}else{x(He,Fe);break}else h(He,Fe);Fe=Fe.sibling}pt=zx(Ye,He.mode,pt),pt.return=He,He=pt}return Z(He);case z:return Ye=Th(Ye),Xr(He,Fe,Ye,pt)}if(ne(Ye))return Zt(He,Fe,Ye,pt);if(J(Ye)){if(fn=J(Ye),typeof fn!="function")throw Error(r(150));return Ye=fn.call(Ye),yn(He,Fe,Ye,pt)}if(typeof Ye.then=="function")return Xr(He,Fe,Bg(Ye),pt);if(Ye.$$typeof===R)return Xr(He,Fe,Mm(He,Ye),pt);Am(He,Ye)}return typeof Ye=="string"&&Ye!==""||typeof Ye=="number"||typeof Ye=="bigint"?(Ye=""+Ye,Fe!==null&&Fe.tag===6?(x(He,Fe.sibling),pt=N(Fe,Ye),pt.return=He,He=pt):(x(He,Fe),pt=Fx(Ye,He.mode,pt),pt.return=He,He=pt),Z(He)):x(He,Fe)}return function(He,Fe,Ye,pt){try{Oh=0;var fn=Xr(He,Fe,Ye,pt);return Rh=null,fn}catch(en){if(en===Ah||en===Fn)throw en;var Er=gi(29,en,null,He.mode);return Er.lanes=pt,Er.return=He,Er}finally{}}}var Wu=Xx(!0),Kx=Xx(!1),Da=!1;function Fg(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function CS(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function $u(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Qf(u,h,x){var A=u.updateQueue;if(A===null)return null;if(A=A.shared,(tn&2)!==0){var N=A.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),A.pending=h,h=gl(u),Wf(u,null,x),h}return Ps(u,A,h,x),gl(u)}function ed(u,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var A=h.lanes;A&=u.pendingLanes,x|=A,h.lanes=x,Zr(u,x)}}function un(u,h){var x=u.updateQueue,A=u.alternate;if(A!==null&&(A=A.updateQueue,x===A)){var N=null,F=null;if(x=x.firstBaseUpdate,x!==null){do{var Z={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};F===null?N=F=Z:F=F.next=Z,x=x.next}while(x!==null);F===null?N=F=h:F=F.next=h}else N=F=h;x={baseState:A.baseState,firstBaseUpdate:N,lastBaseUpdate:F,shared:A.shared,callbacks:A.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=h:u.next=h,x.lastBaseUpdate=h}var kS=!1;function zg(){if(kS){var u=yl;if(u!==null)throw u}}function Tm(u,h,x,A){kS=!1;var N=u.updateQueue;Da=!1;var F=N.firstBaseUpdate,Z=N.lastBaseUpdate,pe=N.shared.pending;if(pe!==null){N.shared.pending=null;var Te=pe,Xe=Te.next;Te.next=null,Z===null?F=Xe:Z.next=Xe,Z=Te;var ut=u.alternate;ut!==null&&(ut=ut.updateQueue,pe=ut.lastBaseUpdate,pe!==Z&&(pe===null?ut.firstBaseUpdate=Xe:pe.next=Xe,ut.lastBaseUpdate=Te))}if(F!==null){var yt=N.baseState;Z=0,ut=Xe=Te=null,pe=F;do{var Je=pe.lane&-536870913,it=Je!==pe.lane;if(it?(Ln&Je)===Je:(A&Je)===Je){Je!==0&&Je===Vu&&(kS=!0),ut!==null&&(ut=ut.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Zt=u,yn=pe;Je=h;var Xr=x;switch(yn.tag){case 1:if(Zt=yn.payload,typeof Zt=="function"){yt=Zt.call(Xr,yt,Je);break e}yt=Zt;break e;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=yn.payload,Je=typeof Zt=="function"?Zt.call(Xr,yt,Je):Zt,Je==null)break e;yt=d({},yt,Je);break e;case 2:Da=!0}}Je=pe.callback,Je!==null&&(u.flags|=64,it&&(u.flags|=8192),it=N.callbacks,it===null?N.callbacks=[Je]:it.push(Je))}else it={lane:Je,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},ut===null?(Xe=ut=it,Te=yt):ut=ut.next=it,Z|=Je;if(pe=pe.next,pe===null){if(pe=N.shared.pending,pe===null)break;it=pe,pe=it.next,it.next=null,N.lastBaseUpdate=it,N.shared.pending=null}}while(!0);ut===null&&(Te=yt),N.baseState=Te,N.firstBaseUpdate=Xe,N.lastBaseUpdate=ut,F===null&&(N.shared.lanes=0),Xc|=Z,u.lanes=Z,u.memoizedState=yt}}function Cm(u,h){if(typeof u!="function")throw Error(r(191,u));u.call(h)}function zC(u,h){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)Cm(x[u],h)}var km=ee(null),Jx=ee(0);function UC(u,h){u=jo,ae(Jx,u),ae(km,h),jo=u|h.baseLanes}function RS(){ae(Jx,jo),ae(km,km.current)}function Ug(){jo=Jx.current,xe(km),xe(Jx)}var so=ee(null),Ia=null;function Gu(u){var h=u.alternate;ae(tr,tr.current&1),ae(so,u),Ia===null&&(h===null||km.current!==null||h.memoizedState!==null)&&(Ia=u)}function OS(u){ae(tr,tr.current),ae(so,u),Ia===null&&(Ia=u)}function jC(u){u.tag===22?(ae(tr,tr.current),ae(so,u),Ia===null&&(Ia=u)):ao()}function ao(){ae(tr,tr.current),ae(so,so.current)}function Wi(u){xe(so),Ia===u&&(Ia=null),xe(tr)}var tr=ee(0);function Fo(u){for(var h=u;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||I4(x)||N4(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var si=0,On=null,Lr=null,Kn=null,xl=!1,Rm=!1,Ph=!1,Zx=0,jg=0,Om=null,PS=0;function vi(){throw Error(r(321))}function DS(u,h){if(h===null)return!1;for(var x=0;x<h.length&&x<u.length;x++)if(!Oa(u[x],h[x]))return!1;return!0}function Qx(u,h,x,A,N,F){return si=F,On=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,te.H=u===null||u.memoizedState===null?x3:QS,Ph=!1,F=x(A,N),Ph=!1,Rm&&(F=Dh(h,x,A,N)),HC(u),F}function HC(u){te.H=Pm;var h=Lr!==null&&Lr.next!==null;if(si=0,Kn=Lr=On=null,xl=!1,jg=0,Om=null,h)throw Error(r(300));u===null||ss||(u=u.dependencies,u!==null&&Ig(u)&&(ss=!0))}function Dh(u,h,x,A){On=u;var N=0;do{if(Rm&&(Om=null),jg=0,Rm=!1,25<=N)throw Error(r(301));if(N+=1,Kn=Lr=null,u.updateQueue!=null){var F=u.updateQueue;F.lastEffect=null,F.events=null,F.stores=null,F.memoCache!=null&&(F.memoCache.index=0)}te.H=bl,F=h(x,A)}while(Rm);return F}function Ih(){var u=te.H,h=u.useState()[0];return h=typeof h.then=="function"?Hg(h):h,u=u.useState()[0],(Lr!==null?Lr.memoizedState:null)!==u&&(On.flags|=1024),h}function IS(){var u=Zx!==0;return Zx=0,u}function NS(u,h,x){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~x}function LS(u){if(xl){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}xl=!1}si=0,Kn=Lr=On=null,Rm=!1,jg=Zx=0,Om=null}function gs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?On.memoizedState=Kn=u:Kn=Kn.next=u,Kn}function $i(){if(Lr===null){var u=On.alternate;u=u!==null?u.memoizedState:null}else u=Lr.next;var h=Kn===null?On.memoizedState:Kn.next;if(h!==null)Kn=h,Lr=u;else{if(u===null)throw On.alternate===null?Error(r(467)):Error(r(310));Lr=u,u={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Kn===null?On.memoizedState=Kn=u:Kn=Kn.next=u}return Kn}function eb(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hg(u){var h=jg;return jg+=1,Om===null&&(Om=[]),u=Yx(Om,u,h),h=On,(Kn===null?h.memoizedState:Kn.next)===null&&(h=h.alternate,te.H=h===null||h.memoizedState===null?x3:QS),u}function td(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Hg(u);if(u.$$typeof===R)return xn(u)}throw Error(r(438,String(u)))}function BS(u){var h=null,x=On.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var A=On.alternate;A!==null&&(A=A.updateQueue,A!==null&&(A=A.memoCache,A!=null&&(h={data:A.data.map(function(N){return N.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=eb(),On.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(u),A=0;A<u;A++)x[A]=Y;return h.index++,x}function qu(u,h){return typeof h=="function"?h(u):h}function tb(u){var h=$i();return FS(h,Lr,u)}function FS(u,h,x){var A=u.queue;if(A===null)throw Error(r(311));A.lastRenderedReducer=x;var N=u.baseQueue,F=A.pending;if(F!==null){if(N!==null){var Z=N.next;N.next=F.next,F.next=Z}h.baseQueue=N=F,A.pending=null}if(F=u.baseState,N===null)u.memoizedState=F;else{h=N.next;var pe=Z=null,Te=null,Xe=h,ut=!1;do{var yt=Xe.lane&-536870913;if(yt!==Xe.lane?(Ln&yt)===yt:(si&yt)===yt){var Je=Xe.revertLane;if(Je===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null}),yt===Vu&&(ut=!0);else if((si&Je)===Je){Xe=Xe.next,Je===Vu&&(ut=!0);continue}else yt={lane:0,revertLane:Xe.revertLane,gesture:null,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Te===null?(pe=Te=yt,Z=F):Te=Te.next=yt,On.lanes|=Je,Xc|=Je;yt=Xe.action,Ph&&x(F,yt),F=Xe.hasEagerState?Xe.eagerState:x(F,yt)}else Je={lane:yt,revertLane:Xe.revertLane,gesture:Xe.gesture,action:Xe.action,hasEagerState:Xe.hasEagerState,eagerState:Xe.eagerState,next:null},Te===null?(pe=Te=Je,Z=F):Te=Te.next=Je,On.lanes|=yt,Xc|=yt;Xe=Xe.next}while(Xe!==null&&Xe!==h);if(Te===null?Z=F:Te.next=pe,!Oa(F,u.memoizedState)&&(ss=!0,ut&&(x=yl,x!==null)))throw x;u.memoizedState=F,u.baseState=Z,u.baseQueue=Te,A.lastRenderedState=F}return N===null&&(A.lanes=0),[u.memoizedState,A.dispatch]}function zS(u){var h=$i(),x=h.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=u;var A=x.dispatch,N=x.pending,F=h.memoizedState;if(N!==null){x.pending=null;var Z=N=N.next;do F=u(F,Z.action),Z=Z.next;while(Z!==N);Oa(F,h.memoizedState)||(ss=!0),h.memoizedState=F,h.baseQueue===null&&(h.baseState=F),x.lastRenderedState=F}return[F,A]}function VC(u,h,x){var A=On,N=$i(),F=er;if(F){if(x===void 0)throw Error(r(407));x=x()}else x=h();var Z=!Oa((Lr||N).memoizedState,x);if(Z&&(N.memoizedState=x,ss=!0),N=N.queue,qS(GC.bind(null,A,N,u),[u]),N.getSnapshot!==h||Z||Kn!==null&&Kn.memoizedState.tag&1){if(A.flags|=2048,nd(9,{destroy:void 0},$C.bind(null,A,N,x,h),null),En===null)throw Error(r(349));F||(si&127)!==0||WC(A,h,x)}return x}function WC(u,h,x){u.flags|=16384,u={getSnapshot:h,value:x},h=On.updateQueue,h===null?(h=eb(),On.updateQueue=h,h.stores=[u]):(x=h.stores,x===null?h.stores=[u]:x.push(u))}function $C(u,h,x,A){h.value=x,h.getSnapshot=A,qC(h)&&YC(u)}function GC(u,h,x){return x(function(){qC(h)&&YC(u)})}function qC(u){var h=u.getSnapshot;u=u.value;try{var x=h();return!Oa(u,x)}catch{return!0}}function YC(u){var h=Pa(u,2);h!==null&&Un(h,u,2)}function US(u){var h=gs();if(typeof u=="function"){var x=u;if(u=x(),Ph){vt(!0);try{x()}finally{vt(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:u},h}function jS(u,h,x,A){return u.baseState=x,FS(u,Lr,typeof A=="function"?A:qu)}function v4(u,h,x,A,N){if(sb(u))throw Error(r(485));if(u=h.action,u!==null){var F={payload:N,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){F.listeners.push(Z)}};te.T!==null?x(!0):F.isTransition=!1,A(F),x=h.pending,x===null?(F.next=h.pending=F,XC(h,F)):(F.next=x.next,h.pending=x.next=F)}}function XC(u,h){var x=h.action,A=h.payload,N=u.state;if(h.isTransition){var F=te.T,Z={};te.T=Z;try{var pe=x(N,A),Te=te.S;Te!==null&&Te(Z,pe),KC(u,h,pe)}catch(Xe){HS(u,h,Xe)}finally{F!==null&&Z.types!==null&&(F.types=Z.types),te.T=F}}else try{F=x(N,A),KC(u,h,F)}catch(Xe){HS(u,h,Xe)}}function KC(u,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(A){JC(u,h,A)},function(A){return HS(u,h,A)}):JC(u,h,x)}function JC(u,h,x){h.status="fulfilled",h.value=x,ZC(h),u.state=x,h=u.pending,h!==null&&(x=h.next,x===h?u.pending=null:(x=x.next,h.next=x,XC(u,x)))}function HS(u,h,x){var A=u.pending;if(u.pending=null,A!==null){A=A.next;do h.status="rejected",h.reason=x,ZC(h),h=h.next;while(h!==A)}u.action=null}function ZC(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function VS(u,h){return h}function WS(u,h){if(er){var x=En.formState;if(x!==null){e:{var A=On;if(er){if(Gr){t:{for(var N=Gr,F=Lo;N.nodeType!==8;){if(!F){N=null;break t}if(N=Zc(N.nextSibling),N===null){N=null;break t}}F=N.data,N=F==="F!"||F==="F"?N:null}if(N){Gr=Zc(N.nextSibling),A=N.data==="F!";break e}}Bc(A)}A=!1}A&&(h=x[0])}}return x=gs(),x.memoizedState=x.baseState=h,A={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VS,lastRenderedState:h},x.queue=A,x=g3.bind(null,On,A),A.dispatch=x,A=US(!1),F=ZS.bind(null,On,!1,A.queue),A=gs(),N={state:h,dispatch:null,action:u,pending:null},A.queue=N,x=v4.bind(null,On,N,F,x),N.dispatch=x,A.memoizedState=u,[h,x,!1]}function QC(u){var h=$i();return $S(h,Lr,u)}function $S(u,h,x){if(h=FS(u,h,VS)[0],u=tb(qu)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var A=Hg(h)}catch(Z){throw Z===Ah?Fn:Z}else A=h;h=$i();var N=h.queue,F=N.dispatch;return x!==h.memoizedState&&(On.flags|=2048,nd(9,{destroy:void 0},e3.bind(null,N,x),null)),[A,F,u]}function e3(u,h){u.action=h}function GS(u){var h=$i(),x=Lr;if(x!==null)return $S(h,x,u);$i(),h=h.memoizedState,x=$i();var A=x.queue.dispatch;return x.memoizedState=u,[h,A,!1]}function nd(u,h,x,A){return u={tag:u,create:x,deps:A,inst:h,next:null},h=On.updateQueue,h===null&&(h=eb(),On.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=u.next=u:(A=x.next,x.next=u,u.next=A,h.lastEffect=u),u}function nb(){return $i().memoizedState}function rb(u,h,x,A){var N=gs();On.flags|=u,N.memoizedState=nd(1|h,{destroy:void 0},x,A===void 0?null:A)}function ib(u,h,x,A){var N=$i();A=A===void 0?null:A;var F=N.memoizedState.inst;Lr!==null&&A!==null&&DS(A,Lr.memoizedState.deps)?N.memoizedState=nd(h,F,x,A):(On.flags|=u,N.memoizedState=nd(1|h,F,x,A))}function t3(u,h){rb(8390656,8,u,h)}function qS(u,h){ib(2048,8,u,h)}function n3(u){On.flags|=4;var h=On.updateQueue;if(h===null)h=eb(),On.updateQueue=h,h.events=[u];else{var x=h.events;x===null?h.events=[u]:x.push(u)}}function r3(u){var h=$i().memoizedState;return n3({ref:h,nextImpl:u}),function(){if((tn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}function i3(u,h){return ib(4,2,u,h)}function s3(u,h){return ib(4,4,u,h)}function a3(u,h){if(typeof h=="function"){u=u();var x=h(u);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function o3(u,h,x){x=x!=null?x.concat([u]):null,ib(4,4,a3.bind(null,h,u),x)}function YS(){}function l3(u,h){var x=$i();h=h===void 0?null:h;var A=x.memoizedState;return h!==null&&DS(h,A[1])?A[0]:(x.memoizedState=[u,h],u)}function c3(u,h){var x=$i();h=h===void 0?null:h;var A=x.memoizedState;if(h!==null&&DS(h,A[1]))return A[0];if(A=u(),Ph){vt(!0);try{u()}finally{vt(!1)}}return x.memoizedState=[A,h],A}function XS(u,h,x){return x===void 0||(si&1073741824)!==0&&(Ln&261930)===0?u.memoizedState=h:(u.memoizedState=x,u=Gn(),On.lanes|=u,Xc|=u,x)}function u3(u,h,x,A){return Oa(x,h)?x:km.current!==null?(u=XS(u,x,A),Oa(u,h)||(ss=!0),u):(si&42)===0||(si&1073741824)!==0&&(Ln&261930)===0?(ss=!0,u.memoizedState=x):(u=Gn(),On.lanes|=u,Xc|=u,h)}function f3(u,h,x,A,N){var F=se.p;se.p=F!==0&&8>F?F:8;var Z=te.T,pe={};te.T=pe,ZS(u,!1,h,x);try{var Te=N(),Xe=te.S;if(Xe!==null&&Xe(pe,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var ut=AS(Te,A);Vg(u,h,ut,Vo(u))}else Vg(u,h,A,Vo(u))}catch(yt){Vg(u,h,{then:function(){},status:"rejected",reason:yt},Vo())}finally{se.p=F,Z!==null&&pe.types!==null&&(Z.types=pe.types),te.T=Z}}function x4(){}function KS(u,h,x,A){if(u.tag!==5)throw Error(r(476));var N=d3(u).queue;f3(u,N,h,be,x===null?x4:function(){return h3(u),x(A)})}function d3(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:be,baseState:be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:be},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qu,lastRenderedState:x},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function h3(u){var h=d3(u);h.next===null&&(h=u.alternate.memoizedState),Vg(u,h.next.queue,{},Vo())}function JS(){return xn(xE)}function p3(){return $i().memoizedState}function m3(){return $i().memoizedState}function b4(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var x=Vo();u=$u(x);var A=Qf(h,u,x);A!==null&&(Un(A,h,x),ed(A,h,x)),h={cache:SS()},u.payload=h;return}h=h.return}}function _4(u,h,x){var A=Vo();x={lane:A,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},sb(u)?y3(h,x):(x=Lx(u,h,x,A),x!==null&&(Un(x,u,A),v3(x,h,A)))}function g3(u,h,x){var A=Vo();Vg(u,h,x,A)}function Vg(u,h,x,A){var N={lane:A,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(sb(u))y3(h,N);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=h.lastRenderedReducer,F!==null))try{var Z=h.lastRenderedState,pe=F(Z,x);if(N.hasEagerState=!0,N.eagerState=pe,Oa(pe,Z))return Ps(u,h,N,0),En===null&&Pg(),!1}catch{}finally{}if(x=Lx(u,h,N,A),x!==null)return Un(x,u,A),v3(x,h,A),!0}return!1}function ZS(u,h,x,A){if(A={lane:2,revertLane:nt(),gesture:null,action:A,hasEagerState:!1,eagerState:null,next:null},sb(u)){if(h)throw Error(r(479))}else h=Lx(u,x,A,2),h!==null&&Un(h,u,2)}function sb(u){var h=u.alternate;return u===On||h!==null&&h===On}function y3(u,h){Rm=xl=!0;var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}function v3(u,h,x){if((x&4194048)!==0){var A=h.lanes;A&=u.pendingLanes,x|=A,h.lanes=x,Zr(u,x)}}var Pm={readContext:xn,use:td,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useLayoutEffect:vi,useInsertionEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useSyncExternalStore:vi,useId:vi,useHostTransitionStatus:vi,useFormState:vi,useActionState:vi,useOptimistic:vi,useMemoCache:vi,useCacheRefresh:vi};Pm.useEffectEvent=vi;var x3={readContext:xn,use:td,useCallback:function(u,h){return gs().memoizedState=[u,h===void 0?null:h],u},useContext:xn,useEffect:t3,useImperativeHandle:function(u,h,x){x=x!=null?x.concat([u]):null,rb(4194308,4,a3.bind(null,h,u),x)},useLayoutEffect:function(u,h){return rb(4194308,4,u,h)},useInsertionEffect:function(u,h){rb(4,2,u,h)},useMemo:function(u,h){var x=gs();h=h===void 0?null:h;var A=u();if(Ph){vt(!0);try{u()}finally{vt(!1)}}return x.memoizedState=[A,h],A},useReducer:function(u,h,x){var A=gs();if(x!==void 0){var N=x(h);if(Ph){vt(!0);try{x(h)}finally{vt(!1)}}}else N=h;return A.memoizedState=A.baseState=N,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:N},A.queue=u,u=u.dispatch=_4.bind(null,On,u),[A.memoizedState,u]},useRef:function(u){var h=gs();return u={current:u},h.memoizedState=u},useState:function(u){u=US(u);var h=u.queue,x=g3.bind(null,On,h);return h.dispatch=x,[u.memoizedState,x]},useDebugValue:YS,useDeferredValue:function(u,h){var x=gs();return XS(x,u,h)},useTransition:function(){var u=US(!1);return u=f3.bind(null,On,u.queue,!0,!1),gs().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,x){var A=On,N=gs();if(er){if(x===void 0)throw Error(r(407));x=x()}else{if(x=h(),En===null)throw Error(r(349));(Ln&127)!==0||WC(A,h,x)}N.memoizedState=x;var F={value:x,getSnapshot:h};return N.queue=F,t3(GC.bind(null,A,F,u),[u]),A.flags|=2048,nd(9,{destroy:void 0},$C.bind(null,A,F,x,h),null),x},useId:function(){var u=gs(),h=En.identifierPrefix;if(er){var x=Ql,A=yi;x=(A&~(1<<32-ft(A)-1)).toString(32)+x,h="_"+h+"R_"+x,x=Zx++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=PS++,h="_"+h+"r_"+x.toString(32)+"_";return u.memoizedState=h},useHostTransitionStatus:JS,useFormState:WS,useActionState:WS,useOptimistic:function(u){var h=gs();h.memoizedState=h.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=ZS.bind(null,On,!0,x),x.dispatch=h,[u,h]},useMemoCache:BS,useCacheRefresh:function(){return gs().memoizedState=b4.bind(null,On)},useEffectEvent:function(u){var h=gs(),x={impl:u};return h.memoizedState=x,function(){if((tn&2)!==0)throw Error(r(440));return x.impl.apply(void 0,arguments)}}},QS={readContext:xn,use:td,useCallback:l3,useContext:xn,useEffect:qS,useImperativeHandle:o3,useInsertionEffect:i3,useLayoutEffect:s3,useMemo:c3,useReducer:tb,useRef:nb,useState:function(){return tb(qu)},useDebugValue:YS,useDeferredValue:function(u,h){var x=$i();return u3(x,Lr.memoizedState,u,h)},useTransition:function(){var u=tb(qu)[0],h=$i().memoizedState;return[typeof u=="boolean"?u:Hg(u),h]},useSyncExternalStore:VC,useId:p3,useHostTransitionStatus:JS,useFormState:QC,useActionState:QC,useOptimistic:function(u,h){var x=$i();return jS(x,Lr,u,h)},useMemoCache:BS,useCacheRefresh:m3};QS.useEffectEvent=r3;var bl={readContext:xn,use:td,useCallback:l3,useContext:xn,useEffect:qS,useImperativeHandle:o3,useInsertionEffect:i3,useLayoutEffect:s3,useMemo:c3,useReducer:zS,useRef:nb,useState:function(){return zS(qu)},useDebugValue:YS,useDeferredValue:function(u,h){var x=$i();return Lr===null?XS(x,u,h):u3(x,Lr.memoizedState,u,h)},useTransition:function(){var u=zS(qu)[0],h=$i().memoizedState;return[typeof u=="boolean"?u:Hg(u),h]},useSyncExternalStore:VC,useId:p3,useHostTransitionStatus:JS,useFormState:GS,useActionState:GS,useOptimistic:function(u,h){var x=$i();return Lr!==null?jS(x,Lr,u,h):(x.baseState=u,[u,x.queue.dispatch])},useMemoCache:BS,useCacheRefresh:m3};bl.useEffectEvent=r3;function ab(u,h,x,A){h=u.memoizedState,x=x(A,h),x=x==null?h:d({},h,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var Wg={enqueueSetState:function(u,h,x){u=u._reactInternals;var A=Vo(),N=$u(A);N.payload=h,x!=null&&(N.callback=x),h=Qf(u,N,A),h!==null&&(Un(h,u,A),ed(h,u,A))},enqueueReplaceState:function(u,h,x){u=u._reactInternals;var A=Vo(),N=$u(A);N.tag=1,N.payload=h,x!=null&&(N.callback=x),h=Qf(u,N,A),h!==null&&(Un(h,u,A),ed(h,u,A))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var x=Vo(),A=$u(x);A.tag=2,h!=null&&(A.callback=h),h=Qf(u,A,x),h!==null&&(Un(h,u,x),ed(h,u,x))}};function eE(u,h,x,A,N,F,Z){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(A,F,Z):h.prototype&&h.prototype.isPureReactComponent?!pm(x,A)||!pm(N,F):!0}function tE(u,h,x,A){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,A),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,A),h.state!==u&&Wg.enqueueReplaceState(h,h.state,null)}function rd(u,h){var x=h;if("ref"in h){x={};for(var A in h)A!=="ref"&&(x[A]=h[A])}if(u=u.defaultProps){x===h&&(x=d({},x));for(var N in u)x[N]===void 0&&(x[N]=u[N])}return x}function b3(u){Og(u)}function nE(u){console.error(u)}function rE(u){Og(u)}function ob(u,h){try{var x=u.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(A){setTimeout(function(){throw A})}}function _3(u,h,x){try{var A=u.onCaughtError;A(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function iE(u,h,x){return x=$u(x),x.tag=3,x.payload={element:null},x.callback=function(){ob(u,h)},x}function sE(u){return u=$u(u),u.tag=3,u}function w3(u,h,x,A){var N=x.type.getDerivedStateFromError;if(typeof N=="function"){var F=A.value;u.payload=function(){return N(F)},u.callback=function(){_3(h,x,A)}}var Z=x.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(u.callback=function(){_3(h,x,A),typeof N!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var pe=A.stack;this.componentDidCatch(A.value,{componentStack:pe!==null?pe:""})})}function ys(u,h,x,A,N){if(x.flags|=32768,A!==null&&typeof A=="object"&&typeof A.then=="function"){if(h=x.alternate,h!==null&&jc(h,x,N,!0),x=so.current,x!==null){switch(x.tag){case 31:case 13:return Ia===null?zm():x.alternate===null&&xi===0&&(xi=3),x.flags&=-257,x.flags|=65536,x.lanes=N,A===qx?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([A]):h.add(A),ny(u,A,N)),!1;case 22:return x.flags|=65536,A===qx?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([A])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([A]):x.add(A)),ny(u,A,N)),!1}throw Error(r(435,x.tag))}return ny(u,A,N),zm(),!1}if(er)return h=so.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=N,A!==wm&&(u=Error(r(422),{cause:A}),Fc(No(u,x)))):(A!==wm&&(h=Error(r(423),{cause:A}),Fc(No(h,x))),u=u.current.alternate,u.flags|=65536,N&=-N,u.lanes|=N,A=No(A,x),N=iE(u.stateNode,A,N),un(u,N),xi!==4&&(xi=2)),!1;var F=Error(r(520),{cause:A});if(F=No(F,x),Hh===null?Hh=[F]:Hh.push(F),xi!==4&&(xi=2),h===null)return!0;A=No(A,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,u=N&-N,x.lanes|=u,u=iE(x.stateNode,A,u),un(x,u),!1;case 1:if(h=x.type,F=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Yi===null||!Yi.has(F))))return x.flags|=65536,N&=-N,x.lanes|=N,N=sE(N),w3(N,u,x,A),un(x,N),!1}x=x.return}while(x!==null);return!1}var lb=Error(r(461)),ss=!1;function Ds(u,h,x,A){h.child=u===null?Kx(h,null,x,A):Wu(h,u.child,x,A)}function aE(u,h,x,A,N){x=x.render;var F=h.ref;if("ref"in A){var Z={};for(var pe in A)pe!=="ref"&&(Z[pe]=A[pe])}else Z=A;return Jf(h),A=Qx(u,h,x,Z,F,N),pe=IS(),u!==null&&!ss?(NS(u,h,N),Gi(u,h,N)):(er&&pe&&Lc(h),h.flags|=1,Ds(u,h,A,N),h.child)}function Nh(u,h,x,A,N){if(u===null){var F=x.type;return typeof F=="function"&&!Bx(F)&&F.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=F,cb(u,h,F,A,N)):(u=Ic(x.type,null,A,h,h.mode,N),u.ref=h.ref,u.return=h,h.child=u)}if(F=u.child,!mb(u,N)){var Z=F.memoizedProps;if(x=x.compare,x=x!==null?x:pm,x(Z,A)&&u.ref===h.ref)return Gi(u,h,N)}return h.flags|=1,u=no(F,A),u.ref=h.ref,u.return=h,h.child=u}function cb(u,h,x,A,N){if(u!==null){var F=u.memoizedProps;if(pm(F,A)&&u.ref===h.ref)if(ss=!1,h.pendingProps=A=F,mb(u,N))(u.flags&131072)!==0&&(ss=!0);else return h.lanes=u.lanes,Gi(u,h,N)}return Dm(u,h,x,A,N)}function Lh(u,h,x,A){var N=A.children,F=u!==null?u.memoizedState:null;if(u===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.mode==="hidden"){if((h.flags&128)!==0){if(F=F!==null?F.baseLanes|x:x,u!==null){for(A=h.child=u.child,N=0;A!==null;)N=N|A.lanes|A.childLanes,A=A.sibling;A=N&~F}else A=0,h.child=null;return oo(u,h,F,x,A)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Ng(h,F!==null?F.cachePool:null),F!==null?UC(h,F):RS(),jC(h);else return A=h.lanes=536870912,oo(u,h,F!==null?F.baseLanes|x:x,x,A)}else F!==null?(Ng(h,F.cachePool),UC(h,F),ao(),h.memoizedState=null):(u!==null&&Ng(h,null),RS(),ao());return Ds(u,h,N,x),h.child}function Vc(u,h){return u!==null&&u.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function oo(u,h,x,A,N){var F=Gx();return F=F===null?null:{parent:is._currentValue,pool:F},h.memoizedState={baseLanes:x,cachePool:F},u!==null&&Ng(h,null),RS(),jC(h),u!==null&&jc(u,h,A,!0),h.childLanes=N,null}function ub(u,h){return h=pb({mode:h.mode,children:h.children},u.mode),h.ref=u.ref,u.child=h,h.return=u,h}function S3(u,h,x){return Wu(h,u.child,null,x),u=ub(h,h.pendingProps),u.flags|=2,Wi(h),h.memoizedState=null,u}function fb(u,h,x){var A=h.pendingProps,N=(h.flags&128)!==0;if(h.flags&=-129,u===null){if(er){if(A.mode==="hidden")return u=ub(h,A),h.lanes=536870912,Vc(null,u);if(OS(h),(u=Gr)?(u=T9(u,Lo),u=u!==null&&u.data==="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:Uu!==null?{id:yi,overflow:Ql}:null,retryLane:536870912,hydrationErrors:null},x=xm(u),x.return=h,h.child=x,Ri=h,Gr=null)):u=null,u===null)throw Bc(h);return h.lanes=536870912,null}return ub(h,A)}var F=u.memoizedState;if(F!==null){var Z=F.dehydrated;if(OS(h),N)if(h.flags&256)h.flags&=-257,h=S3(u,h,x);else if(h.memoizedState!==null)h.child=u.child,h.flags|=128,h=null;else throw Error(r(558));else if(ss||jc(u,h,x,!1),N=(x&u.childLanes)!==0,ss||N){if(A=En,A!==null&&(Z=Ts(A,x),Z!==0&&Z!==F.retryLane))throw F.retryLane=Z,Pa(u,Z),Un(A,u,Z),lb;zm(),h=S3(u,h,x)}else u=F.treeContext,Gr=Zc(Z.nextSibling),Ri=h,er=!0,ju=null,Lo=!1,u!==null&&jx(h,u),h=ub(h,A),h.flags|=4096;return h}return u=no(u.child,{mode:A.mode,children:A.children}),u.ref=h.ref,h.child=u,u.return=h,u}function Bh(u,h){var x=h.ref;if(x===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(u===null||u.ref!==x)&&(h.flags|=4194816)}}function Dm(u,h,x,A,N){return Jf(h),x=Qx(u,h,x,A,void 0,N),A=IS(),u!==null&&!ss?(NS(u,h,N),Gi(u,h,N)):(er&&A&&Lc(h),h.flags|=1,Ds(u,h,x,N),h.child)}function $g(u,h,x,A,N,F){return Jf(h),h.updateQueue=null,x=Dh(h,A,x,N),HC(u),A=IS(),u!==null&&!ss?(NS(u,h,F),Gi(u,h,F)):(er&&A&&Lc(h),h.flags|=1,Ds(u,h,x,F),h.child)}function db(u,h,x,A,N){if(Jf(h),h.stateNode===null){var F=$f,Z=x.contextType;typeof Z=="object"&&Z!==null&&(F=xn(Z)),F=new x(A,F),h.memoizedState=F.state!==null&&F.state!==void 0?F.state:null,F.updater=Wg,h.stateNode=F,F._reactInternals=h,F=h.stateNode,F.props=A,F.state=h.memoizedState,F.refs={},Fg(h),Z=x.contextType,F.context=typeof Z=="object"&&Z!==null?xn(Z):$f,F.state=h.memoizedState,Z=x.getDerivedStateFromProps,typeof Z=="function"&&(ab(h,x,Z,A),F.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof F.getSnapshotBeforeUpdate=="function"||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(Z=F.state,typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount(),Z!==F.state&&Wg.enqueueReplaceState(F,F.state,null),Tm(h,A,F,N),zg(),F.state=h.memoizedState),typeof F.componentDidMount=="function"&&(h.flags|=4194308),A=!0}else if(u===null){F=h.stateNode;var pe=h.memoizedProps,Te=rd(x,pe);F.props=Te;var Xe=F.context,ut=x.contextType;Z=$f,typeof ut=="object"&&ut!==null&&(Z=xn(ut));var yt=x.getDerivedStateFromProps;ut=typeof yt=="function"||typeof F.getSnapshotBeforeUpdate=="function",pe=h.pendingProps!==pe,ut||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(pe||Xe!==Z)&&tE(h,F,A,Z),Da=!1;var Je=h.memoizedState;F.state=Je,Tm(h,A,F,N),zg(),Xe=h.memoizedState,pe||Je!==Xe||Da?(typeof yt=="function"&&(ab(h,x,yt,A),Xe=h.memoizedState),(Te=Da||eE(h,x,Te,A,Je,Xe,Z))?(ut||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(h.flags|=4194308)):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=A,h.memoizedState=Xe),F.props=A,F.state=Xe,F.context=Z,A=Te):(typeof F.componentDidMount=="function"&&(h.flags|=4194308),A=!1)}else{F=h.stateNode,CS(u,h),Z=h.memoizedProps,ut=rd(x,Z),F.props=ut,yt=h.pendingProps,Je=F.context,Xe=x.contextType,Te=$f,typeof Xe=="object"&&Xe!==null&&(Te=xn(Xe)),pe=x.getDerivedStateFromProps,(Xe=typeof pe=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(Z!==yt||Je!==Te)&&tE(h,F,A,Te),Da=!1,Je=h.memoizedState,F.state=Je,Tm(h,A,F,N),zg();var it=h.memoizedState;Z!==yt||Je!==it||Da||u!==null&&u.dependencies!==null&&Ig(u.dependencies)?(typeof pe=="function"&&(ab(h,x,pe,A),it=h.memoizedState),(ut=Da||eE(h,x,ut,A,Je,it,Te)||u!==null&&u.dependencies!==null&&Ig(u.dependencies))?(Xe||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(A,it,Te),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(A,it,Te)),typeof F.componentDidUpdate=="function"&&(h.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof F.componentDidUpdate!="function"||Z===u.memoizedProps&&Je===u.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Je===u.memoizedState||(h.flags|=1024),h.memoizedProps=A,h.memoizedState=it),F.props=A,F.state=it,F.context=Te,A=ut):(typeof F.componentDidUpdate!="function"||Z===u.memoizedProps&&Je===u.memoizedState||(h.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||Z===u.memoizedProps&&Je===u.memoizedState||(h.flags|=1024),A=!1)}return F=A,Bh(u,h),A=(h.flags&128)!==0,F||A?(F=h.stateNode,x=A&&typeof x.getDerivedStateFromError!="function"?null:F.render(),h.flags|=1,u!==null&&A?(h.child=Wu(h,u.child,null,N),h.child=Wu(h,null,x,N)):Ds(u,h,x,N),h.memoizedState=F.state,u=h.child):u=Gi(u,h,N),u}function E3(u,h,x,A){return Xf(),h.flags|=256,Ds(u,h,x,A),h.child}var oE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fa(u){return{baseLanes:u,cachePool:TS()}}function hb(u,h,x){return u=u!==null?u.childLanes&~x:0,h&&(u|=Ba),u}function M3(u,h,x){var A=h.pendingProps,N=!1,F=(h.flags&128)!==0,Z;if((Z=F)||(Z=u!==null&&u.memoizedState===null?!1:(tr.current&2)!==0),Z&&(N=!0,h.flags&=-129),Z=(h.flags&32)!==0,h.flags&=-33,u===null){if(er){if(N?Gu(h):ao(),(u=Gr)?(u=T9(u,Lo),u=u!==null&&u.data!=="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:Uu!==null?{id:yi,overflow:Ql}:null,retryLane:536870912,hydrationErrors:null},x=xm(u),x.return=h,h.child=x,Ri=h,Gr=null)):u=null,u===null)throw Bc(h);return N4(u)?h.lanes=32:h.lanes=536870912,null}var pe=A.children;return A=A.fallback,N?(ao(),N=h.mode,pe=pb({mode:"hidden",children:pe},N),A=Gf(A,N,x,null),pe.return=h,A.return=h,pe.sibling=A,h.child=pe,A=h.child,A.memoizedState=fa(x),A.childLanes=hb(u,Z,x),h.memoizedState=oE,Vc(null,A)):(Gu(h),Gg(h,pe))}var Te=u.memoizedState;if(Te!==null&&(pe=Te.dehydrated,pe!==null)){if(F)h.flags&256?(Gu(h),h.flags&=-257,h=lE(u,h,x)):h.memoizedState!==null?(ao(),h.child=u.child,h.flags|=128,h=null):(ao(),pe=A.fallback,N=h.mode,A=pb({mode:"visible",children:A.children},N),pe=Gf(pe,N,x,null),pe.flags|=2,A.return=h,pe.return=h,A.sibling=pe,h.child=A,Wu(h,u.child,null,x),A=h.child,A.memoizedState=fa(x),A.childLanes=hb(u,Z,x),h.memoizedState=oE,h=Vc(null,A));else if(Gu(h),N4(pe)){if(Z=pe.nextSibling&&pe.nextSibling.dataset,Z)var Xe=Z.dgst;Z=Xe,A=Error(r(419)),A.stack="",A.digest=Z,Fc({value:A,source:null,stack:null}),h=lE(u,h,x)}else if(ss||jc(u,h,x,!1),Z=(x&u.childLanes)!==0,ss||Z){if(Z=En,Z!==null&&(A=Ts(Z,x),A!==0&&A!==Te.retryLane))throw Te.retryLane=A,Pa(u,A),Un(Z,u,A),lb;I4(pe)||zm(),h=lE(u,h,x)}else I4(pe)?(h.flags|=192,h.child=u.child,h=null):(u=Te.treeContext,Gr=Zc(pe.nextSibling),Ri=h,er=!0,ju=null,Lo=!1,u!==null&&jx(h,u),h=Gg(h,A.children),h.flags|=4096);return h}return N?(ao(),pe=A.fallback,N=h.mode,Te=u.child,Xe=Te.sibling,A=no(Te,{mode:"hidden",children:A.children}),A.subtreeFlags=Te.subtreeFlags&65011712,Xe!==null?pe=no(Xe,pe):(pe=Gf(pe,N,x,null),pe.flags|=2),pe.return=h,A.return=h,A.sibling=pe,h.child=A,Vc(null,A),A=h.child,pe=u.child.memoizedState,pe===null?pe=fa(x):(N=pe.cachePool,N!==null?(Te=is._currentValue,N=N.parent!==Te?{parent:Te,pool:Te}:N):N=TS(),pe={baseLanes:pe.baseLanes|x,cachePool:N}),A.memoizedState=pe,A.childLanes=hb(u,Z,x),h.memoizedState=oE,Vc(u.child,A)):(Gu(h),x=u.child,u=x.sibling,x=no(x,{mode:"visible",children:A.children}),x.return=h,x.sibling=null,u!==null&&(Z=h.deletions,Z===null?(h.deletions=[u],h.flags|=16):Z.push(u)),h.child=x,h.memoizedState=null,x)}function Gg(u,h){return h=pb({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function pb(u,h){return u=gi(22,u,null,h),u.lanes=0,u}function lE(u,h,x){return Wu(h,u.child,null,x),u=Gg(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function A3(u,h,x){u.lanes|=h;var A=u.alternate;A!==null&&(A.lanes|=h),Vx(u.return,h,x)}function Fh(u,h,x,A,N,F){var Z=u.memoizedState;Z===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:A,tail:x,tailMode:N,treeForkCount:F}:(Z.isBackwards=h,Z.rendering=null,Z.renderingStartTime=0,Z.last=A,Z.tail=x,Z.tailMode=N,Z.treeForkCount=F)}function lo(u,h,x){var A=h.pendingProps,N=A.revealOrder,F=A.tail;A=A.children;var Z=tr.current,pe=(Z&2)!==0;if(pe?(Z=Z&1|2,h.flags|=128):Z&=1,ae(tr,Z),Ds(u,h,A,x),A=er?_m:0,!pe&&u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&A3(u,x,h);else if(u.tag===19)A3(u,x,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(N){case"forwards":for(x=h.child,N=null;x!==null;)u=x.alternate,u!==null&&Fo(u)===null&&(N=x),x=x.sibling;x=N,x===null?(N=h.child,h.child=null):(N=x.sibling,x.sibling=null),Fh(h,!1,N,x,F,A);break;case"backwards":case"unstable_legacy-backwards":for(x=null,N=h.child,h.child=null;N!==null;){if(u=N.alternate,u!==null&&Fo(u)===null){h.child=N;break}u=N.sibling,N.sibling=x,x=N,N=u}Fh(h,!0,x,null,F,A);break;case"together":Fh(h,!1,null,null,void 0,A);break;default:h.memoizedState=null}return h.child}function Gi(u,h,x){if(u!==null&&(h.dependencies=u.dependencies),Xc|=h.lanes,(x&h.childLanes)===0)if(u!==null){if(jc(u,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(r(153));if(h.child!==null){for(u=h.child,x=no(u,u.pendingProps),h.child=x,x.return=h;u.sibling!==null;)u=u.sibling,x=x.sibling=no(u,u.pendingProps),x.return=h;x.sibling=null}return h.child}function mb(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&Ig(u)))}function w4(u,h,x){switch(h.tag){case 3:qe(h,h.stateNode.containerInfo),Hu(h,is,u.memoizedState.cache),Xf();break;case 27:case 5:lt(h);break;case 4:qe(h,h.stateNode.containerInfo);break;case 10:Hu(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,OS(h),null;break;case 13:var A=h.memoizedState;if(A!==null)return A.dehydrated!==null?(Gu(h),h.flags|=128,null):(x&h.child.childLanes)!==0?M3(u,h,x):(Gu(h),u=Gi(u,h,x),u!==null?u.sibling:null);Gu(h);break;case 19:var N=(u.flags&128)!==0;if(A=(x&h.childLanes)!==0,A||(jc(u,h,x,!1),A=(x&h.childLanes)!==0),N){if(A)return lo(u,h,x);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),ae(tr,tr.current),A)break;return null;case 22:return h.lanes=0,Lh(u,h,x,h.pendingProps);case 24:Hu(h,is,u.memoizedState.cache)}return Gi(u,h,x)}function gb(u,h,x){if(u!==null)if(u.memoizedProps!==h.pendingProps)ss=!0;else{if(!mb(u,x)&&(h.flags&128)===0)return ss=!1,w4(u,h,x);ss=(u.flags&131072)!==0}else ss=!1,er&&(h.flags&1048576)!==0&&DC(h,_m,h.index);switch(h.lanes=0,h.tag){case 16:e:{var A=h.pendingProps;if(u=Th(h.elementType),h.type=u,typeof u=="function")Bx(u)?(A=rd(u,A),h.tag=1,h=db(null,h,u,A,x)):(h.tag=0,h=Dm(null,h,u,A,x));else{if(u!=null){var N=u.$$typeof;if(N===O){h.tag=11,h=aE(null,h,u,A,x);break e}else if(N===B){h.tag=14,h=Nh(null,h,u,A,x);break e}}throw h=fe(u)||u,Error(r(306,h,""))}}return h;case 0:return Dm(u,h,h.type,h.pendingProps,x);case 1:return A=h.type,N=rd(A,h.pendingProps),db(u,h,A,N,x);case 3:e:{if(qe(h,h.stateNode.containerInfo),u===null)throw Error(r(387));A=h.pendingProps;var F=h.memoizedState;N=F.element,CS(u,h),Tm(h,A,null,x);var Z=h.memoizedState;if(A=Z.cache,Hu(h,is,A),A!==F.cache&&Wx(h,[is],x,!0),zg(),A=Z.element,F.isDehydrated)if(F={element:A,isDehydrated:!1,cache:Z.cache},h.updateQueue.baseState=F,h.memoizedState=F,h.flags&256){h=E3(u,h,A,x);break e}else if(A!==N){N=No(Error(r(424)),h),Fc(N),h=E3(u,h,A,x);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Gr=Zc(u.firstChild),Ri=h,er=!0,ju=null,Lo=!0,x=Kx(h,null,A,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Xf(),A===N){h=Gi(u,h,x);break e}Ds(u,h,A,x)}h=h.child}return h;case 26:return Bh(u,h),u===null?(x=D9(h.type,null,h.pendingProps,null))?h.memoizedState=x:er||(x=h.type,u=h.pendingProps,A=R3(Ne.current).createElement(x),A[Xn]=h,A[yr]=u,za(A,x,u),Ae(A),h.stateNode=A):h.memoizedState=D9(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return lt(h),u===null&&er&&(A=h.stateNode=R9(h.type,h.pendingProps,Ne.current),Ri=h,Lo=!0,N=Gr,Vm(h.type)?(L4=N,Gr=Zc(A.firstChild)):Gr=N),Ds(u,h,h.pendingProps.children,x),Bh(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&er&&((N=A=Gr)&&(A=wde(A,h.type,h.pendingProps,Lo),A!==null?(h.stateNode=A,Ri=h,Gr=Zc(A.firstChild),Lo=!1,N=!0):N=!1),N||Bc(h)),lt(h),N=h.type,F=h.pendingProps,Z=u!==null?u.memoizedProps:null,A=F.children,O4(N,F)?A=null:Z!==null&&O4(N,Z)&&(h.flags|=32),h.memoizedState!==null&&(N=Qx(u,h,Ih,null,null,x),xE._currentValue=N),Bh(u,h),Ds(u,h,A,x),h.child;case 6:return u===null&&er&&((u=x=Gr)&&(x=Sde(x,h.pendingProps,Lo),x!==null?(h.stateNode=x,Ri=h,Gr=null,u=!0):u=!1),u||Bc(h)),null;case 13:return M3(u,h,x);case 4:return qe(h,h.stateNode.containerInfo),A=h.pendingProps,u===null?h.child=Wu(h,null,A,x):Ds(u,h,A,x),h.child;case 11:return aE(u,h,h.type,h.pendingProps,x);case 7:return Ds(u,h,h.pendingProps,x),h.child;case 8:return Ds(u,h,h.pendingProps.children,x),h.child;case 12:return Ds(u,h,h.pendingProps.children,x),h.child;case 10:return A=h.pendingProps,Hu(h,h.type,A.value),Ds(u,h,A.children,x),h.child;case 9:return N=h.type._context,A=h.pendingProps.children,Jf(h),N=xn(N),A=A(N),h.flags|=1,Ds(u,h,A,x),h.child;case 14:return Nh(u,h,h.type,h.pendingProps,x);case 15:return cb(u,h,h.type,h.pendingProps,x);case 19:return lo(u,h,x);case 31:return fb(u,h,x);case 22:return Lh(u,h,x,h.pendingProps);case 24:return Jf(h),A=xn(is),u===null?(N=Gx(),N===null&&(N=En,F=SS(),N.pooledCache=F,F.refCount++,F!==null&&(N.pooledCacheLanes|=x),N=F),h.memoizedState={parent:A,cache:N},Fg(h),Hu(h,is,N)):((u.lanes&x)!==0&&(CS(u,h),Tm(h,null,null,x),zg()),N=u.memoizedState,F=h.memoizedState,N.parent!==A?(N={parent:A,cache:A},h.memoizedState=N,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=N),Hu(h,is,A)):(A=F.cache,Hu(h,is,A),A!==N.cache&&Wx(h,[is],x,!0))),Ds(u,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(r(156,h.tag))}function Wc(u){u.flags|=4}function qg(u,h,x,A,N){if((h=(u.mode&32)!==0)&&(h=!1),h){if(u.flags|=16777216,(N&335544128)===N)if(u.stateNode.complete)u.flags|=8192;else if(_i())u.flags|=8192;else throw Hc=qx,Lg}else u.flags&=-16777217}function cE(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!F9(h))if(_i())u.flags|=8192;else throw Hc=qx,Lg}function Yu(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?An():536870912,u.lanes|=h,Qr|=h)}function $c(u,h){if(!er)switch(u.tailMode){case"hidden":h=u.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var A=null;x!==null;)x.alternate!==null&&(A=x),x=x.sibling;A===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:A.sibling=null}}function Br(u){var h=u.alternate!==null&&u.alternate.child===u.child,x=0,A=0;if(h)for(var N=u.child;N!==null;)x|=N.lanes|N.childLanes,A|=N.subtreeFlags&65011712,A|=N.flags&65011712,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)x|=N.lanes|N.childLanes,A|=N.subtreeFlags,A|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=A,u.childLanes=x,h}function Yg(u,h,x){var A=h.pendingProps;switch(Ux(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(h),null;case 1:return Br(h),null;case 3:return x=h.stateNode,A=null,u!==null&&(A=u.memoizedState.cache),h.memoizedState.cache!==A&&(h.flags|=2048),Uc(is),Pe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(Sm(h)?Wc(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Hx())),Br(h),null;case 26:var N=h.type,F=h.memoizedState;return u===null?(Wc(h),F!==null?(Br(h),cE(h,F)):(Br(h),qg(h,N,null,A,x))):F?F!==u.memoizedState?(Wc(h),Br(h),cE(h,F)):(Br(h),h.flags&=-16777217):(u=u.memoizedProps,u!==A&&Wc(h),Br(h),qg(h,N,u,A,x)),null;case 27:if(Mt(h),x=Ne.current,N=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==A&&Wc(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return Br(h),null}u=De.current,Sm(h)?IC(h):(u=R9(N,A,x),h.stateNode=u,Wc(h))}return Br(h),null;case 5:if(Mt(h),N=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==A&&Wc(h);else{if(!A){if(h.stateNode===null)throw Error(r(166));return Br(h),null}if(F=De.current,Sm(h))IC(h);else{var Z=R3(Ne.current);switch(F){case 1:F=Z.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:F=Z.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":F=Z.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":F=Z.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":F=Z.createElement("div"),F.innerHTML="<script><\/script>",F=F.removeChild(F.firstChild);break;case"select":F=typeof A.is=="string"?Z.createElement("select",{is:A.is}):Z.createElement("select"),A.multiple?F.multiple=!0:A.size&&(F.size=A.size);break;default:F=typeof A.is=="string"?Z.createElement(N,{is:A.is}):Z.createElement(N)}}F[Xn]=h,F[yr]=A;e:for(Z=h.child;Z!==null;){if(Z.tag===5||Z.tag===6)F.appendChild(Z.stateNode);else if(Z.tag!==4&&Z.tag!==27&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===h)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===h)break e;Z=Z.return}Z.sibling.return=Z.return,Z=Z.sibling}h.stateNode=F;e:switch(za(F,N,A),N){case"button":case"input":case"select":case"textarea":A=!!A.autoFocus;break e;case"img":A=!0;break e;default:A=!1}A&&Wc(h)}}return Br(h),qg(h,h.type,u===null?null:u.memoizedProps,h.pendingProps,x),null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==A&&Wc(h);else{if(typeof A!="string"&&h.stateNode===null)throw Error(r(166));if(u=Ne.current,Sm(h)){if(u=h.stateNode,x=h.memoizedProps,A=null,N=Ri,N!==null)switch(N.tag){case 27:case 5:A=N.memoizedProps}u[Xn]=h,u=!!(u.nodeValue===x||A!==null&&A.suppressHydrationWarning===!0||x9(u.nodeValue,x)),u||Bc(h,!0)}else u=R3(u).createTextNode(A),u[Xn]=h,h.stateNode=u}return Br(h),null;case 31:if(x=h.memoizedState,u===null||u.memoizedState!==null){if(A=Sm(h),x!==null){if(u===null){if(!A)throw Error(r(318));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[Xn]=h}else Xf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Br(h),u=!1}else x=Hx(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=x),u=!0;if(!u)return h.flags&256?(Wi(h),h):(Wi(h),null);if((h.flags&128)!==0)throw Error(r(558))}return Br(h),null;case 13:if(A=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(N=Sm(h),A!==null&&A.dehydrated!==null){if(u===null){if(!N)throw Error(r(318));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[Xn]=h}else Xf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Br(h),N=!1}else N=Hx(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=N),N=!0;if(!N)return h.flags&256?(Wi(h),h):(Wi(h),null)}return Wi(h),(h.flags&128)!==0?(h.lanes=x,h):(x=A!==null,u=u!==null&&u.memoizedState!==null,x&&(A=h.child,N=null,A.alternate!==null&&A.alternate.memoizedState!==null&&A.alternate.memoizedState.cachePool!==null&&(N=A.alternate.memoizedState.cachePool.pool),F=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(F=A.memoizedState.cachePool.pool),F!==N&&(A.flags|=2048)),x!==u&&x&&(h.child.flags|=8192),Yu(h,h.updateQueue),Br(h),null);case 4:return Pe(),u===null&&A4(h.stateNode.containerInfo),Br(h),null;case 10:return Uc(h.type),Br(h),null;case 19:if(xe(tr),A=h.memoizedState,A===null)return Br(h),null;if(N=(h.flags&128)!==0,F=A.rendering,F===null)if(N)$c(A,!1);else{if(xi!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(F=Fo(u),F!==null){for(h.flags|=128,$c(A,!1),u=F.updateQueue,h.updateQueue=u,Yu(h,u),h.subtreeFlags=0,u=x,x=h.child;x!==null;)vm(x,u),x=x.sibling;return ae(tr,tr.current&1|2),er&&Nc(h,A.treeForkCount),h.child}u=u.sibling}A.tail!==null&&ie()>qi&&(h.flags|=128,N=!0,$c(A,!1),h.lanes=4194304)}else{if(!N)if(u=Fo(F),u!==null){if(h.flags|=128,N=!0,u=u.updateQueue,h.updateQueue=u,Yu(h,u),$c(A,!0),A.tail===null&&A.tailMode==="hidden"&&!F.alternate&&!er)return Br(h),null}else 2*ie()-A.renderingStartTime>qi&&x!==536870912&&(h.flags|=128,N=!0,$c(A,!1),h.lanes=4194304);A.isBackwards?(F.sibling=h.child,h.child=F):(u=A.last,u!==null?u.sibling=F:h.child=F,A.last=F)}return A.tail!==null?(u=A.tail,A.rendering=u,A.tail=u.sibling,A.renderingStartTime=ie(),u.sibling=null,x=tr.current,ae(tr,N?x&1|2:x&1),er&&Nc(h,A.treeForkCount),u):(Br(h),null);case 22:case 23:return Wi(h),Ug(),A=h.memoizedState!==null,u!==null?u.memoizedState!==null!==A&&(h.flags|=8192):A&&(h.flags|=8192),A?(x&536870912)!==0&&(h.flags&128)===0&&(Br(h),h.subtreeFlags&6&&(h.flags|=8192)):Br(h),x=h.updateQueue,x!==null&&Yu(h,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),A=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(A=h.memoizedState.cachePool.pool),A!==x&&(h.flags|=2048),u!==null&&xe(Zf),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Uc(is),Br(h),null;case 25:return null;case 30:return null}throw Error(r(156,h.tag))}function _l(u,h){switch(Ux(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Uc(is),Pe(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return Mt(h),null;case 31:if(h.memoizedState!==null){if(Wi(h),h.alternate===null)throw Error(r(340));Xf()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 13:if(Wi(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(r(340));Xf()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return xe(tr),null;case 4:return Pe(),null;case 10:return Uc(h.type),null;case 22:case 23:return Wi(h),Ug(),u!==null&&xe(Zf),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return Uc(is),null;case 25:return null;default:return null}}function zo(u,h){switch(Ux(h),h.tag){case 3:Uc(is),Pe();break;case 26:case 27:case 5:Mt(h);break;case 4:Pe();break;case 31:h.memoizedState!==null&&Wi(h);break;case 13:Wi(h);break;case 19:xe(tr);break;case 10:Uc(h.type);break;case 22:case 23:Wi(h),Ug(),u!==null&&xe(Zf);break;case 24:Uc(is)}}function wl(u,h){try{var x=h.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var N=A.next;x=N;do{if((x.tag&u)===u){A=void 0;var F=x.create,Z=x.inst;A=F(),Z.destroy=A}x=x.next}while(x!==N)}}catch(pe){gr(h,h.return,pe)}}function qs(u,h,x){try{var A=h.updateQueue,N=A!==null?A.lastEffect:null;if(N!==null){var F=N.next;A=F;do{if((A.tag&u)===u){var Z=A.inst,pe=Z.destroy;if(pe!==void 0){Z.destroy=void 0,N=h;var Te=x,Xe=pe;try{Xe()}catch(ut){gr(N,Te,ut)}}}A=A.next}while(A!==F)}}catch(ut){gr(h,h.return,ut)}}function ec(u){var h=u.updateQueue;if(h!==null){var x=u.stateNode;try{zC(h,x)}catch(A){gr(u,u.return,A)}}}function Is(u,h,x){x.props=rd(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(A){gr(u,h,A)}}function Xu(u,h){try{var x=u.ref;if(x!==null){switch(u.tag){case 26:case 27:case 5:var A=u.stateNode;break;case 30:A=u.stateNode;break;default:A=u.stateNode}typeof x=="function"?u.refCleanup=x(A):x.current=A}}catch(N){gr(u,h,N)}}function Ys(u,h){var x=u.ref,A=u.refCleanup;if(x!==null)if(typeof A=="function")try{A()}catch(N){gr(u,h,N)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(N){gr(u,h,N)}else x.current=null}function Xg(u){var h=u.type,x=u.memoizedProps,A=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&A.focus();break e;case"img":x.src?A.src=x.src:x.srcSet&&(A.srcset=x.srcSet)}}catch(N){gr(u,u.return,N)}}function vs(u,h,x){try{var A=u.stateNode;gde(A,u.type,x,h),A[yr]=h}catch(N){gr(u,u.return,N)}}function ai(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Vm(u.type)||u.tag===4}function Jn(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||ai(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Vm(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Gc(u,h,x){var A=u.tag;if(A===5||A===6)u=u.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(u,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(u),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Bu));else if(A!==4&&(A===27&&Vm(u.type)&&(x=u.stateNode,h=null),u=u.child,u!==null))for(Gc(u,h,x),u=u.sibling;u!==null;)Gc(u,h,x),u=u.sibling}function Na(u,h,x){var A=u.tag;if(A===5||A===6)u=u.stateNode,h?x.insertBefore(u,h):x.appendChild(u);else if(A!==4&&(A===27&&Vm(u.type)&&(x=u.stateNode),u=u.child,u!==null))for(Na(u,h,x),u=u.sibling;u!==null;)Na(u,h,x),u=u.sibling}function yb(u){var h=u.stateNode,x=u.memoizedProps;try{for(var A=u.type,N=h.attributes;N.length;)h.removeAttributeNode(N[0]);za(h,A,x),h[Xn]=u,h[yr]=x}catch(F){gr(u,u.return,F)}}var Sl=!1,qr=!1,tc=!1,T3=typeof WeakSet=="function"?WeakSet:Set,Ns=null;function S4(u,h){if(u=u.containerInfo,k4=B3,u=kC(u),vS(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var A=x.getSelection&&x.getSelection();if(A&&A.rangeCount!==0){x=A.anchorNode;var N=A.anchorOffset,F=A.focusNode;A=A.focusOffset;try{x.nodeType,F.nodeType}catch{x=null;break e}var Z=0,pe=-1,Te=-1,Xe=0,ut=0,yt=u,Je=null;t:for(;;){for(var it;yt!==x||N!==0&&yt.nodeType!==3||(pe=Z+N),yt!==F||A!==0&&yt.nodeType!==3||(Te=Z+A),yt.nodeType===3&&(Z+=yt.nodeValue.length),(it=yt.firstChild)!==null;)Je=yt,yt=it;for(;;){if(yt===u)break t;if(Je===x&&++Xe===N&&(pe=Z),Je===F&&++ut===A&&(Te=Z),(it=yt.nextSibling)!==null)break;yt=Je,Je=yt.parentNode}yt=it}x=pe===-1||Te===-1?null:{start:pe,end:Te}}else x=null}x=x||{start:0,end:0}}else x=null;for(R4={focusedElem:u,selectionRange:x},B3=!1,Ns=h;Ns!==null;)if(h=Ns,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ns=u;else for(;Ns!==null;){switch(h=Ns,F=h.alternate,u=h.flags,h.tag){case 0:if((u&4)!==0&&(u=h.updateQueue,u=u!==null?u.events:null,u!==null))for(x=0;x<u.length;x++)N=u[x],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&F!==null){u=void 0,x=h,N=F.memoizedProps,F=F.memoizedState,A=x.stateNode;try{var Zt=rd(x.type,N);u=A.getSnapshotBeforeUpdate(Zt,F),A.__reactInternalSnapshotBeforeUpdate=u}catch(yn){gr(x,x.return,yn)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,x=u.nodeType,x===9)D4(u);else if(x===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":D4(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=h.sibling,u!==null){u.return=h.return,Ns=u;break}Ns=h.return}}function oi(u,h,x){var A=x.flags;switch(x.tag){case 0:case 11:case 15:Al(u,x),A&4&&wl(5,x);break;case 1:if(Al(u,x),A&4)if(u=x.stateNode,h===null)try{u.componentDidMount()}catch(Z){gr(x,x.return,Z)}else{var N=rd(x.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(N,h,u.__reactInternalSnapshotBeforeUpdate)}catch(Z){gr(x,x.return,Z)}}A&64&&ec(x),A&512&&Xu(x,x.return);break;case 3:if(Al(u,x),A&64&&(u=x.updateQueue,u!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{zC(u,h)}catch(Z){gr(x,x.return,Z)}}break;case 27:h===null&&A&4&&yb(x);case 26:case 5:Al(u,x),h===null&&A&4&&Xg(x),A&512&&Xu(x,x.return);break;case 12:Al(u,x);break;case 31:Al(u,x),A&4&&id(u,x);break;case 13:Al(u,x),A&4&&Im(u,x),A&64&&(u=x.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(x=C.bind(null,x),Ede(u,x))));break;case 22:if(A=x.memoizedState!==null||Sl,!A){h=h!==null&&h.memoizedState!==null||qr,N=Sl;var F=qr;Sl=A,(qr=h)&&!F?La(u,x,(x.subtreeFlags&8772)!==0):Al(u,x),Sl=N,qr=F}break;case 30:break;default:Al(u,x)}}function Kg(u){var h=u.alternate;h!==null&&(u.alternate=null,Kg(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&rr(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Rr=null,da=!1;function El(u,h,x){for(x=x.child;x!==null;)vb(u,h,x),x=x.sibling}function vb(u,h,x){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(Me,x)}catch{}switch(x.tag){case 26:qr||Ys(x,h),El(u,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:qr||Ys(x,h);var A=Rr,N=da;Vm(x.type)&&(Rr=x.stateNode,da=!1),El(u,h,x),gE(x.stateNode),Rr=A,da=N;break;case 5:qr||Ys(x,h);case 6:if(A=Rr,N=da,Rr=null,El(u,h,x),Rr=A,da=N,Rr!==null)if(da)try{(Rr.nodeType===9?Rr.body:Rr.nodeName==="HTML"?Rr.ownerDocument.body:Rr).removeChild(x.stateNode)}catch(F){gr(x,h,F)}else try{Rr.removeChild(x.stateNode)}catch(F){gr(x,h,F)}break;case 18:Rr!==null&&(da?(u=Rr,M9(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,x.stateNode),Ab(u)):M9(Rr,x.stateNode));break;case 4:A=Rr,N=da,Rr=x.stateNode.containerInfo,da=!0,El(u,h,x),Rr=A,da=N;break;case 0:case 11:case 14:case 15:qs(2,x,h),qr||qs(4,x,h),El(u,h,x);break;case 1:qr||(Ys(x,h),A=x.stateNode,typeof A.componentWillUnmount=="function"&&Is(x,h,A)),El(u,h,x);break;case 21:El(u,h,x);break;case 22:qr=(A=qr)||x.memoizedState!==null,El(u,h,x),qr=A;break;default:El(u,h,x)}}function id(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Ab(u)}catch(x){gr(h,h.return,x)}}}function Im(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Ab(u)}catch(x){gr(h,h.return,x)}}function uE(u){switch(u.tag){case 31:case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new T3),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new T3),h;default:throw Error(r(435,u.tag))}}function Ku(u,h){var x=uE(u);h.forEach(function(A){if(!x.has(A)){x.add(A);var N=P.bind(null,u,A);A.then(N,N)}})}function xs(u,h){var x=h.deletions;if(x!==null)for(var A=0;A<x.length;A++){var N=x[A],F=u,Z=h,pe=Z;e:for(;pe!==null;){switch(pe.tag){case 27:if(Vm(pe.type)){Rr=pe.stateNode,da=!1;break e}break;case 5:Rr=pe.stateNode,da=!1;break e;case 3:case 4:Rr=pe.stateNode.containerInfo,da=!0;break e}pe=pe.return}if(Rr===null)throw Error(r(160));vb(F,Z,N),Rr=null,da=!1,F=N.alternate,F!==null&&(F.return=null),N.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)sd(h,u),h=h.sibling}var Ml=null;function sd(u,h){var x=u.alternate,A=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:xs(h,u),bs(u),A&4&&(qs(3,u,u.return),wl(3,u),qs(5,u,u.return));break;case 1:xs(h,u),bs(u),A&512&&(qr||x===null||Ys(x,x.return)),A&64&&Sl&&(u=u.updateQueue,u!==null&&(A=u.callbacks,A!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?A:x.concat(A))));break;case 26:var N=Ml;if(xs(h,u),bs(u),A&512&&(qr||x===null||Ys(x,x.return)),A&4){var F=x!==null?x.memoizedState:null;if(A=u.memoizedState,x===null)if(A===null)if(u.stateNode===null){e:{A=u.type,x=u.memoizedProps,N=N.ownerDocument||N;t:switch(A){case"title":F=N.getElementsByTagName("title")[0],(!F||F[ri]||F[Xn]||F.namespaceURI==="http://www.w3.org/2000/svg"||F.hasAttribute("itemprop"))&&(F=N.createElement(A),N.head.insertBefore(F,N.querySelector("head > title"))),za(F,A,x),F[Xn]=u,Ae(F),A=F;break e;case"link":var Z=L9("link","href",N).get(A+(x.href||""));if(Z){for(var pe=0;pe<Z.length;pe++)if(F=Z[pe],F.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&F.getAttribute("rel")===(x.rel==null?null:x.rel)&&F.getAttribute("title")===(x.title==null?null:x.title)&&F.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){Z.splice(pe,1);break t}}F=N.createElement(A),za(F,A,x),N.head.appendChild(F);break;case"meta":if(Z=L9("meta","content",N).get(A+(x.content||""))){for(pe=0;pe<Z.length;pe++)if(F=Z[pe],F.getAttribute("content")===(x.content==null?null:""+x.content)&&F.getAttribute("name")===(x.name==null?null:x.name)&&F.getAttribute("property")===(x.property==null?null:x.property)&&F.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&F.getAttribute("charset")===(x.charSet==null?null:x.charSet)){Z.splice(pe,1);break t}}F=N.createElement(A),za(F,A,x),N.head.appendChild(F);break;default:throw Error(r(468,A))}F[Xn]=u,Ae(F),A=F}u.stateNode=A}else B9(N,u.type,u.stateNode);else u.stateNode=N9(N,A,u.memoizedProps);else F!==A?(F===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):F.count--,A===null?B9(N,u.type,u.stateNode):N9(N,A,u.memoizedProps)):A===null&&u.stateNode!==null&&vs(u,u.memoizedProps,x.memoizedProps)}break;case 27:xs(h,u),bs(u),A&512&&(qr||x===null||Ys(x,x.return)),x!==null&&A&4&&vs(u,u.memoizedProps,x.memoizedProps);break;case 5:if(xs(h,u),bs(u),A&512&&(qr||x===null||Ys(x,x.return)),u.flags&32){N=u.stateNode;try{ca(N,"")}catch(Zt){gr(u,u.return,Zt)}}A&4&&u.stateNode!=null&&(N=u.memoizedProps,vs(u,N,x!==null?x.memoizedProps:N)),A&1024&&(tc=!0);break;case 6:if(xs(h,u),bs(u),A&4){if(u.stateNode===null)throw Error(r(162));A=u.memoizedProps,x=u.stateNode;try{x.nodeValue=A}catch(Zt){gr(u,u.return,Zt)}}break;case 3:if(D3=null,N=Ml,Ml=O3(h.containerInfo),xs(h,u),Ml=N,bs(u),A&4&&x!==null&&x.memoizedState.isDehydrated)try{Ab(h.containerInfo)}catch(Zt){gr(u,u.return,Zt)}tc&&(tc=!1,xb(u));break;case 4:A=Ml,Ml=O3(u.stateNode.containerInfo),xs(h,u),bs(u),Ml=A;break;case 12:xs(h,u),bs(u);break;case 31:xs(h,u),bs(u),A&4&&(A=u.updateQueue,A!==null&&(u.updateQueue=null,Ku(u,A)));break;case 13:xs(h,u),bs(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Nm=ie()),A&4&&(A=u.updateQueue,A!==null&&(u.updateQueue=null,Ku(u,A)));break;case 22:N=u.memoizedState!==null;var Te=x!==null&&x.memoizedState!==null,Xe=Sl,ut=qr;if(Sl=Xe||N,qr=ut||Te,xs(h,u),qr=ut,Sl=Xe,bs(u),A&8192)e:for(h=u.stateNode,h._visibility=N?h._visibility&-2:h._visibility|1,N&&(x===null||Te||Sl||qr||qc(u)),x=null,h=u;;){if(h.tag===5||h.tag===26){if(x===null){Te=x=h;try{if(F=Te.stateNode,N)Z=F.style,typeof Z.setProperty=="function"?Z.setProperty("display","none","important"):Z.display="none";else{pe=Te.stateNode;var yt=Te.memoizedProps.style,Je=yt!=null&&yt.hasOwnProperty("display")?yt.display:null;pe.style.display=Je==null||typeof Je=="boolean"?"":(""+Je).trim()}}catch(Zt){gr(Te,Te.return,Zt)}}}else if(h.tag===6){if(x===null){Te=h;try{Te.stateNode.nodeValue=N?"":Te.memoizedProps}catch(Zt){gr(Te,Te.return,Zt)}}}else if(h.tag===18){if(x===null){Te=h;try{var it=Te.stateNode;N?A9(it,!0):A9(Te.stateNode,!1)}catch(Zt){gr(Te,Te.return,Zt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}A&4&&(A=u.updateQueue,A!==null&&(x=A.retryQueue,x!==null&&(A.retryQueue=null,Ku(u,x))));break;case 19:xs(h,u),bs(u),A&4&&(A=u.updateQueue,A!==null&&(u.updateQueue=null,Ku(u,A)));break;case 30:break;case 21:break;default:xs(h,u),bs(u)}}function bs(u){var h=u.flags;if(h&2){try{for(var x,A=u.return;A!==null;){if(ai(A)){x=A;break}A=A.return}if(x==null)throw Error(r(160));switch(x.tag){case 27:var N=x.stateNode,F=Jn(u);Na(u,F,N);break;case 5:var Z=x.stateNode;x.flags&32&&(ca(Z,""),x.flags&=-33);var pe=Jn(u);Na(u,pe,Z);break;case 3:case 4:var Te=x.stateNode.containerInfo,Xe=Jn(u);Gc(u,Xe,Te);break;default:throw Error(r(161))}}catch(ut){gr(u,u.return,ut)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function xb(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;xb(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function Al(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)oi(u,h.alternate,h),h=h.sibling}function qc(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:qs(4,h,h.return),qc(h);break;case 1:Ys(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&Is(h,h.return,x),qc(h);break;case 27:gE(h.stateNode);case 26:case 5:Ys(h,h.return),qc(h);break;case 22:h.memoizedState===null&&qc(h);break;case 30:qc(h);break;default:qc(h)}u=u.sibling}}function La(u,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var A=h.alternate,N=u,F=h,Z=F.flags;switch(F.tag){case 0:case 11:case 15:La(N,F,x),wl(4,F);break;case 1:if(La(N,F,x),A=F,N=A.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(Xe){gr(A,A.return,Xe)}if(A=F,N=A.updateQueue,N!==null){var pe=A.stateNode;try{var Te=N.shared.hiddenCallbacks;if(Te!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Te.length;N++)Cm(Te[N],pe)}catch(Xe){gr(A,A.return,Xe)}}x&&Z&64&&ec(F),Xu(F,F.return);break;case 27:yb(F);case 26:case 5:La(N,F,x),x&&A===null&&Z&4&&Xg(F),Xu(F,F.return);break;case 12:La(N,F,x);break;case 31:La(N,F,x),x&&Z&4&&id(N,F);break;case 13:La(N,F,x),x&&Z&4&&Im(N,F);break;case 22:F.memoizedState===null&&La(N,F,x),Xu(F,F.return);break;case 30:break;default:La(N,F,x)}h=h.sibling}}function ad(u,h){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&Mh(x))}function zh(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Mh(u))}function Xs(u,h,x,A){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)fE(u,h,x,A),h=h.sibling}function fE(u,h,x,A){var N=h.flags;switch(h.tag){case 0:case 11:case 15:Xs(u,h,x,A),N&2048&&wl(9,h);break;case 1:Xs(u,h,x,A);break;case 3:Xs(u,h,x,A),N&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Mh(u)));break;case 12:if(N&2048){Xs(u,h,x,A),u=h.stateNode;try{var F=h.memoizedProps,Z=F.id,pe=F.onPostCommit;typeof pe=="function"&&pe(Z,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(Te){gr(h,h.return,Te)}}else Xs(u,h,x,A);break;case 31:Xs(u,h,x,A);break;case 13:Xs(u,h,x,A);break;case 23:break;case 22:F=h.stateNode,Z=h.alternate,h.memoizedState!==null?F._visibility&2?Xs(u,h,x,A):Yc(u,h):F._visibility&2?Xs(u,h,x,A):(F._visibility|=2,Ks(u,h,x,A,(h.subtreeFlags&10256)!==0||!1)),N&2048&&ad(Z,h);break;case 24:Xs(u,h,x,A),N&2048&&zh(h.alternate,h);break;default:Xs(u,h,x,A)}}function Ks(u,h,x,A,N){for(N=N&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var F=u,Z=h,pe=x,Te=A,Xe=Z.flags;switch(Z.tag){case 0:case 11:case 15:Ks(F,Z,pe,Te,N),wl(8,Z);break;case 23:break;case 22:var ut=Z.stateNode;Z.memoizedState!==null?ut._visibility&2?Ks(F,Z,pe,Te,N):Yc(F,Z):(ut._visibility|=2,Ks(F,Z,pe,Te,N)),N&&Xe&2048&&ad(Z.alternate,Z);break;case 24:Ks(F,Z,pe,Te,N),N&&Xe&2048&&zh(Z.alternate,Z);break;default:Ks(F,Z,pe,Te,N)}h=h.sibling}}function Yc(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=u,A=h,N=A.flags;switch(A.tag){case 22:Yc(x,A),N&2048&&ad(A.alternate,A);break;case 24:Yc(x,A),N&2048&&zh(A.alternate,A);break;default:Yc(x,A)}h=h.sibling}}var Uh=8192;function Uo(u,h,x){if(u.subtreeFlags&Uh)for(u=u.child;u!==null;)bb(u,h,x),u=u.sibling}function bb(u,h,x){switch(u.tag){case 26:Uo(u,h,x),u.flags&Uh&&u.memoizedState!==null&&Lde(x,Ml,u.memoizedState,u.memoizedProps);break;case 5:Uo(u,h,x);break;case 3:case 4:var A=Ml;Ml=O3(u.stateNode.containerInfo),Uo(u,h,x),Ml=A;break;case 22:u.memoizedState===null&&(A=u.alternate,A!==null&&A.memoizedState!==null?(A=Uh,Uh=16777216,Uo(u,h,x),Uh=A):Uo(u,h,x));break;default:Uo(u,h,x)}}function jh(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function od(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var A=h[x];Ns=A,Oi(A,u)}jh(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)co(u),u=u.sibling}function co(u){switch(u.tag){case 0:case 11:case 15:od(u),u.flags&2048&&qs(9,u,u.return);break;case 3:od(u);break;case 12:od(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,uo(u)):od(u);break;default:od(u)}}function uo(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var A=h[x];Ns=A,Oi(A,u)}jh(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:qs(8,h,h.return),uo(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,uo(h));break;default:uo(h)}u=u.sibling}}function Oi(u,h){for(;Ns!==null;){var x=Ns;switch(x.tag){case 0:case 11:case 15:qs(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var A=x.memoizedState.cachePool.pool;A!=null&&A.refCount++}break;case 24:Mh(x.memoizedState.cache)}if(A=x.child,A!==null)A.return=x,Ns=A;else e:for(x=u;Ns!==null;){A=Ns;var N=A.sibling,F=A.return;if(Kg(A),A===x){Ns=null;break e}if(N!==null){N.return=F,Ns=N;break e}Ns=F}}}var Ju={getCacheForType:function(u){var h=xn(is),x=h.data.get(u);return x===void 0&&(x=u(),h.data.set(u,x)),x},cacheSignal:function(){return xn(is).controller.signal}},Pn=typeof WeakMap=="function"?WeakMap:Map,tn=0,En=null,zn=null,Ln=0,ir=0,ha=null,Tl=!1,nc=!1,dE=!1,jo=0,xi=0,Xc=0,ld=0,Jg=0,Ba=0,Qr=0,Hh=null,Pi=null,Di=!1,Nm=0,hE=0,qi=1/0,bi=null,Yi=null,Or=0,Ho=null,Lm=null,Cl=0,Bm=0,Fm=null,Zg=null,cd=0,Vh=null;function Vo(){return(tn&2)!==0&&Ln!==0?Ln&-Ln:te.T!==null?nt():Hi()}function Gn(){if(Ba===0)if((Ln&536870912)===0||er){var u=At;At<<=1,(At&3932160)===0&&(At=262144),Ba=u}else Ba=536870912;return u=so.current,u!==null&&(u.flags|=32),Ba}function Un(u,h,x){(u===En&&(ir===2||ir===9)||u.cancelPendingCommit!==null)&&(fd(u,0),as(u,Ln,Ba,!1)),Wr(u,x),((tn&2)===0||u!==En)&&(u===En&&((tn&2)===0&&(ld|=x),xi===4&&as(u,Ln,Ba,!1)),Ct(u))}function qn(u,h,x){if((tn&6)!==0)throw Error(r(327));var A=!x&&(h&127)===0&&(h&u.expiredLanes)===0||Dt(u,h),N=A?Qg(u,h):Fa(u,h,!0),F=A;do{if(N===0){nc&&!A&&as(u,h,0,!1);break}else{if(x=u.current.alternate,F&&!Pr(x)){N=Fa(u,h,!1),F=!1;continue}if(N===2){if(F=h,u.errorRecoveryDisabledLanes&F)var Z=0;else Z=u.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){h=Z;e:{var pe=u;N=Hh;var Te=pe.current.memoizedState.isDehydrated;if(Te&&(fd(pe,Z).flags|=256),Z=Fa(pe,Z,!1),Z!==2){if(dE&&!Te){pe.errorRecoveryDisabledLanes|=F,ld|=F,N=4;break e}F=Pi,Pi=N,F!==null&&(Pi===null?Pi=F:Pi.push.apply(Pi,F))}N=Z}if(F=!1,N!==2)continue}}if(N===1){fd(u,0),as(u,h,0,!0);break}e:{switch(A=u,F=N,F){case 0:case 1:throw Error(r(345));case 4:if((h&4194048)!==h)break;case 6:as(A,h,Ba,!Tl);break e;case 2:Pi=null;break;case 3:case 5:break;default:throw Error(r(329))}if((h&62914560)===h&&(N=Nm+300-ie(),10<N)){if(as(A,h,Ba,!Tl),tt(A,0,!0)!==0)break e;Cl=h,A.timeoutHandle=S9(Zn.bind(null,A,x,Pi,bi,Di,h,Ba,ld,Qr,Tl,F,"Throttled",-0,0),N);break e}Zn(A,x,Pi,bi,Di,h,Ba,ld,Qr,Tl,F,null,-0,0)}}break}while(!0);Ct(u)}function Zn(u,h,x,A,N,F,Z,pe,Te,Xe,ut,yt,Je,it){if(u.timeoutHandle=-1,yt=h.subtreeFlags,yt&8192||(yt&16785408)===16785408){yt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bu},bb(h,F,yt);var Zt=(F&62914560)===F?Nm-ie():(F&4194048)===F?hE-ie():0;if(Zt=Bde(yt,Zt),Zt!==null){Cl=F,u.cancelPendingCommit=Zt(Qu.bind(null,u,h,F,x,A,N,Z,pe,Te,ut,yt,null,Je,it)),as(u,F,Z,!Xe);return}}Qu(u,h,F,x,A,N,Z,pe,Te)}function Pr(u){for(var h=u;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var A=0;A<x.length;A++){var N=x[A],F=N.getSnapshot;N=N.value;try{if(!Oa(F(),N))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function as(u,h,x,A){h&=~Jg,h&=~ld,u.suspendedLanes|=h,u.pingedLanes&=~h,A&&(u.warmLanes|=h),A=u.expirationTimes;for(var N=h;0<N;){var F=31-ft(N),Z=1<<F;A[F]=-1,N&=~Z}x!==0&&Ws(u,x,h)}function rc(){return(tn&6)===0?(Wt(0),!1):!0}function ud(){if(zn!==null){if(ir===0)var u=zn.return;else u=zn,zc=Kf=null,LS(u),Rh=null,Oh=0,u=zn;for(;u!==null;)zo(u.alternate,u),u=u.return;zn=null}}function fd(u,h){var x=u.timeoutHandle;x!==-1&&(u.timeoutHandle=-1,xde(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),Cl=0,ud(),En=u,zn=x=no(u.current,null),Ln=h,ir=0,ha=null,Tl=!1,nc=Dt(u,h),dE=!1,Qr=Ba=Jg=ld=Xc=xi=0,Pi=Hh=null,Di=!1,(h&8)!==0&&(h|=h&32);var A=u.entangledLanes;if(A!==0)for(u=u.entanglements,A&=h;0<A;){var N=31-ft(A),F=1<<N;h|=u[N],A&=~F}return jo=h,Pg(),x}function Kc(u,h){On=null,te.H=Pm,h===Ah||h===Fn?(h=Ch(),ir=3):h===Lg?(h=Ch(),ir=4):ir=h===lb?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,ha=h,zn===null&&(xi=1,ob(u,No(h,u.current)))}function _i(){var u=so.current;return u===null?!0:(Ln&4194048)===Ln?Ia===null:(Ln&62914560)===Ln||(Ln&536870912)!==0?u===Ia:!1}function Zu(){var u=te.H;return te.H=Pm,u===null?Pm:u}function dd(){var u=te.A;return te.A=Ju,u}function zm(){xi=4,Tl||(Ln&4194048)!==Ln&&so.current!==null||(nc=!0),(Xc&134217727)===0&&(ld&134217727)===0||En===null||as(En,Ln,Ba,!1)}function Fa(u,h,x){var A=tn;tn|=2;var N=Zu(),F=dd();(En!==u||Ln!==h)&&(bi=null,fd(u,h)),h=!1;var Z=xi;e:do try{if(ir!==0&&zn!==null){var pe=zn,Te=ha;switch(ir){case 8:ud(),Z=6;break e;case 3:case 2:case 9:case 6:so.current===null&&(h=!0);var Xe=ir;if(ir=0,ha=null,Wh(u,pe,Te,Xe),x&&nc){Z=0;break e}break;default:Xe=ir,ir=0,ha=null,Wh(u,pe,Te,Xe)}}Um(),Z=xi;break}catch(ut){Kc(u,ut)}while(!0);return h&&u.shellSuspendCounter++,zc=Kf=null,tn=A,te.H=N,te.A=F,zn===null&&(En=null,Ln=0,Pg()),Z}function Um(){for(;zn!==null;)_b(zn)}function Qg(u,h){var x=tn;tn|=2;var A=Zu(),N=dd();En!==u||Ln!==h?(bi=null,qi=ie()+500,fd(u,h)):nc=Dt(u,h);e:do try{if(ir!==0&&zn!==null){h=zn;var F=ha;t:switch(ir){case 1:ir=0,ha=null,Wh(u,h,F,1);break;case 2:case 9:if(io(F)){ir=0,ha=null,ey(h);break}h=function(){ir!==2&&ir!==9||En!==u||(ir=7),Ct(u)},F.then(h,h);break e;case 3:ir=7;break e;case 4:ir=5;break e;case 7:io(F)?(ir=0,ha=null,ey(h)):(ir=0,ha=null,Wh(u,h,F,7));break;case 5:var Z=null;switch(zn.tag){case 26:Z=zn.memoizedState;case 5:case 27:var pe=zn;if(Z?F9(Z):pe.stateNode.complete){ir=0,ha=null;var Te=pe.sibling;if(Te!==null)zn=Te;else{var Xe=pe.return;Xe!==null?(zn=Xe,hd(Xe)):zn=null}break t}}ir=0,ha=null,Wh(u,h,F,5);break;case 6:ir=0,ha=null,Wh(u,h,F,6);break;case 8:ud(),xi=6;break e;default:throw Error(r(462))}}fo();break}catch(ut){Kc(u,ut)}while(!0);return zc=Kf=null,te.H=A,te.A=N,tn=x,zn!==null?0:(En=null,Ln=0,Pg(),xi)}function fo(){for(;zn!==null&&!gt();)_b(zn)}function _b(u){var h=gb(u.alternate,u,jo);u.memoizedProps=u.pendingProps,h===null?hd(u):zn=h}function ey(u){var h=u,x=h.alternate;switch(h.tag){case 15:case 0:h=$g(x,h,h.pendingProps,h.type,void 0,Ln);break;case 11:h=$g(x,h,h.pendingProps,h.type.render,h.ref,Ln);break;case 5:LS(h);default:zo(x,h),h=zn=vm(h,jo),h=gb(x,h,jo)}u.memoizedProps=u.pendingProps,h===null?hd(u):zn=h}function Wh(u,h,x,A){zc=Kf=null,LS(h),Rh=null,Oh=0;var N=h.return;try{if(ys(u,N,h,x,Ln)){xi=1,ob(u,No(x,u.current)),zn=null;return}}catch(F){if(N!==null)throw zn=N,F;xi=1,ob(u,No(x,u.current)),zn=null;return}h.flags&32768?(er||A===1?u=!0:nc||(Ln&536870912)!==0?u=!1:(Tl=u=!0,(A===2||A===9||A===3||A===6)&&(A=so.current,A!==null&&A.tag===13&&(A.flags|=16384))),ty(h,u)):hd(h)}function hd(u){var h=u;do{if((h.flags&32768)!==0){ty(h,Tl);return}u=h.return;var x=Yg(h.alternate,h,jo);if(x!==null){zn=x;return}if(h=h.sibling,h!==null){zn=h;return}zn=h=u}while(h!==null);xi===0&&(xi=5)}function ty(u,h){do{var x=_l(u.alternate,u);if(x!==null){x.flags&=32767,zn=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(u=u.sibling,u!==null)){zn=u;return}zn=u=x}while(u!==null);xi=6,zn=null}function Qu(u,h,x,A,N,F,Z,pe,Te){u.cancelPendingCommit=null;do jm();while(Or!==0);if((tn&6)!==0)throw Error(r(327));if(h!==null){if(h===u.current)throw Error(r(177));if(F=h.lanes|h.childLanes,F|=Os,pi(u,x,F,Z,pe,Te),u===En&&(zn=En=null,Ln=0),Lm=h,Ho=u,Cl=x,Bm=F,Fm=N,Zg=A,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,H(j,function(){return wb(),null})):(u.callbackNode=null,u.callbackPriority=0),A=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||A){A=te.T,te.T=null,N=se.p,se.p=2,Z=tn,tn|=4;try{S4(u,h,x)}finally{tn=Z,se.p=N,te.T=A}}Or=1,os(),ef(),$h()}}function os(){if(Or===1){Or=0;var u=Ho,h=Lm,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=te.T,te.T=null;var A=se.p;se.p=2;var N=tn;tn|=4;try{sd(h,u);var F=R4,Z=kC(u.containerInfo),pe=F.focusedElem,Te=F.selectionRange;if(Z!==pe&&pe&&pe.ownerDocument&&$r(pe.ownerDocument.documentElement,pe)){if(Te!==null&&vS(pe)){var Xe=Te.start,ut=Te.end;if(ut===void 0&&(ut=Xe),"selectionStart"in pe)pe.selectionStart=Xe,pe.selectionEnd=Math.min(ut,pe.value.length);else{var yt=pe.ownerDocument||document,Je=yt&&yt.defaultView||window;if(Je.getSelection){var it=Je.getSelection(),Zt=pe.textContent.length,yn=Math.min(Te.start,Zt),Xr=Te.end===void 0?yn:Math.min(Te.end,Zt);!it.extend&&yn>Xr&&(Z=Xr,Xr=yn,yn=Z);var He=mm(pe,yn),Fe=mm(pe,Xr);if(He&&Fe&&(it.rangeCount!==1||it.anchorNode!==He.node||it.anchorOffset!==He.offset||it.focusNode!==Fe.node||it.focusOffset!==Fe.offset)){var Ye=yt.createRange();Ye.setStart(He.node,He.offset),it.removeAllRanges(),yn>Xr?(it.addRange(Ye),it.extend(Fe.node,Fe.offset)):(Ye.setEnd(Fe.node,Fe.offset),it.addRange(Ye))}}}}for(yt=[],it=pe;it=it.parentNode;)it.nodeType===1&&yt.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof pe.focus=="function"&&pe.focus(),pe=0;pe<yt.length;pe++){var pt=yt[pe];pt.element.scrollLeft=pt.left,pt.element.scrollTop=pt.top}}B3=!!k4,R4=k4=null}finally{tn=N,se.p=A,te.T=x}}u.current=h,Or=2}}function ef(){if(Or===2){Or=0;var u=Ho,h=Lm,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=te.T,te.T=null;var A=se.p;se.p=2;var N=tn;tn|=4;try{oi(u,h.alternate,h)}finally{tn=N,se.p=A,te.T=x}}Or=3}}function $h(){if(Or===4||Or===3){Or=0,ge();var u=Ho,h=Lm,x=Cl,A=Zg;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Or=5:(Or=0,Lm=Ho=null,Jc(u,u.pendingLanes));var N=u.pendingLanes;if(N===0&&(Yi=null),ns(x),h=h.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(Me,h,void 0,(h.current.flags&128)===128)}catch{}if(A!==null){h=te.T,N=se.p,se.p=2,te.T=null;try{for(var F=u.onRecoverableError,Z=0;Z<A.length;Z++){var pe=A[Z];F(pe.value,{componentStack:pe.stack})}}finally{te.T=h,se.p=N}}(Cl&3)!==0&&jm(),Ct(u),N=u.pendingLanes,(x&261930)!==0&&(N&42)!==0?u===Vh?cd++:(cd=0,Vh=u):cd=0,Wt(0)}}function Jc(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Mh(h)))}function jm(){return os(),ef(),$h(),wb()}function wb(){if(Or!==5)return!1;var u=Ho,h=Bm;Bm=0;var x=ns(Cl),A=te.T,N=se.p;try{se.p=32>x?32:x,te.T=null,x=Fm,Fm=null;var F=Ho,Z=Cl;if(Or=0,Lm=Ho=null,Cl=0,(tn&6)!==0)throw Error(r(331));var pe=tn;if(tn|=4,co(F.current),fE(F,F.current,Z,x),tn=pe,Wt(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(Me,F)}catch{}return!0}finally{se.p=N,te.T=A,Jc(u,h)}}function pE(u,h,x){h=No(x,h),h=iE(u.stateNode,h,2),u=Qf(u,h,2),u!==null&&(Wr(u,2),Ct(u))}function gr(u,h,x){if(u.tag===3)pE(u,u,x);else for(;h!==null;){if(h.tag===3){pE(h,u,x);break}else if(h.tag===1){var A=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Yi===null||!Yi.has(A))){u=No(x,u),x=sE(2),A=Qf(h,x,2),A!==null&&(w3(x,A,h,u),Wr(A,2),Ct(A));break}}h=h.return}}function ny(u,h,x){var A=u.pingCache;if(A===null){A=u.pingCache=new Pn;var N=new Set;A.set(h,N)}else N=A.get(h),N===void 0&&(N=new Set,A.set(h,N));N.has(x)||(dE=!0,N.add(x),u=m.bind(null,u,h,x),h.then(u,u))}function m(u,h,x){var A=u.pingCache;A!==null&&A.delete(h),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,En===u&&(Ln&x)===x&&(xi===4||xi===3&&(Ln&62914560)===Ln&&300>ie()-Nm?(tn&2)===0&&fd(u,0):Jg|=x,Qr===Ln&&(Qr=0)),Ct(u)}function v(u,h){h===0&&(h=An()),u=Pa(u,h),u!==null&&(Wr(u,h),Ct(u))}function C(u){var h=u.memoizedState,x=0;h!==null&&(x=h.retryLane),v(u,x)}function P(u,h){var x=0;switch(u.tag){case 31:case 13:var A=u.stateNode,N=u.memoizedState;N!==null&&(x=N.retryLane);break;case 19:A=u.stateNode;break;case 22:A=u.stateNode._retryCache;break;default:throw Error(r(314))}A!==null&&A.delete(h),v(u,x)}function H(u,h){return kt(u,h)}var G=null,he=null,Ce=!1,rt=!1,Et=!1,It=0;function Ct(u){u!==he&&u.next===null&&(he===null?G=he=u:he=he.next=u),rt=!0,Ce||(Ce=!0,We())}function Wt(u,h){if(!Et&&rt){Et=!0;do for(var x=!1,A=G;A!==null;){if(u!==0){var N=A.pendingLanes;if(N===0)var F=0;else{var Z=A.suspendedLanes,pe=A.pingedLanes;F=(1<<31-ft(42|u)+1)-1,F&=N&~(Z&~pe),F=F&201326741?F&201326741|1:F?F|2:0}F!==0&&(x=!0,Ke(A,F))}else F=Ln,F=tt(A,A===En?F:0,A.cancelPendingCommit!==null||A.timeoutHandle!==-1),(F&3)===0||Dt(A,F)||(x=!0,Ke(A,F));A=A.next}while(x);Et=!1}}function Rn(){Xi()}function Xi(){rt=Ce=!1;var u=0;It!==0&&vde()&&(u=It);for(var h=ie(),x=null,A=G;A!==null;){var N=A.next,F=Hm(A,h);F===0?(A.next=null,x===null?G=N:x.next=N,N===null&&(he=x)):(x=A,(u!==0||(F&3)!==0)&&(rt=!0)),A=N}Or!==0&&Or!==5||Wt(u),It!==0&&(It=0)}function Hm(u,h){for(var x=u.suspendedLanes,A=u.pingedLanes,N=u.expirationTimes,F=u.pendingLanes&-62914561;0<F;){var Z=31-ft(F),pe=1<<Z,Te=N[Z];Te===-1?((pe&x)===0||(pe&A)!==0)&&(N[Z]=an(pe,h)):Te<=h&&(u.expiredLanes|=pe),F&=~pe}if(h=En,x=Ln,x=tt(u,u===h?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),A=u.callbackNode,x===0||u===h&&(ir===2||ir===9)||u.cancelPendingCommit!==null)return A!==null&&A!==null&&Vt(A),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||Dt(u,x)){if(h=x&-x,h===u.callbackPriority)return h;switch(A!==null&&Vt(A),ns(x)){case 2:case 8:x=K;break;case 32:x=j;break;case 268435456:x=ce;break;default:x=j}return A=pd.bind(null,u),x=kt(x,A),u.callbackPriority=h,u.callbackNode=x,h}return A!==null&&A!==null&&Vt(A),u.callbackPriority=2,u.callbackNode=null,2}function pd(u,h){if(Or!==0&&Or!==5)return u.callbackNode=null,u.callbackPriority=0,null;var x=u.callbackNode;if(jm()&&u.callbackNode!==x)return null;var A=Ln;return A=tt(u,u===En?A:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),A===0?null:(qn(u,A,h),Hm(u,ie()),u.callbackNode!=null&&u.callbackNode===x?pd.bind(null,u):null)}function Ke(u,h){if(jm())return null;qn(u,h,!0)}function We(){bde(function(){(tn&6)!==0?kt(we,Rn):Xi()})}function nt(){if(It===0){var u=Vu;u===0&&(u=$e,$e<<=1,($e&261888)===0&&($e=256)),It=u}return It}function Ot(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:vg(""+u)}function dn(u,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,u.id&&x.setAttribute("form",u.id),h.parentNode.insertBefore(x,h),u=new FormData(u),x.parentNode.removeChild(x),u}function wi(u,h,x,A,N){if(h==="submit"&&x&&x.stateNode===N){var F=Ot((N[yr]||null).action),Z=A.submitter;Z&&(h=(h=Z[yr]||null)?Ot(h.formAction):Z.getAttribute("formAction"),h!==null&&(F=h,Z=null));var pe=new _g("action","action",null,A,N);u.push({event:pe,listeners:[{instance:null,listener:function(){if(A.defaultPrevented){if(It!==0){var Te=Z?dn(N,Z):new FormData(N);KS(x,{pending:!0,data:Te,method:N.method,action:F},null,Te)}}else typeof F=="function"&&(pe.preventDefault(),Te=Z?dn(N,Z):new FormData(N),KS(x,{pending:!0,data:Te,method:N.method,action:F},F,Te))},currentTarget:N}]})}}for(var pn=0;pn<Rg.length;pn++){var cr=Rg[pn],Ls=cr.toLowerCase(),xr=cr[0].toUpperCase()+cr.slice(1);pl(Ls,"on"+xr)}pl(Nx,"onAnimationEnd"),pl(kg,"onAnimationIteration"),pl(bS,"onAnimationStart"),pl("dblclick","onDoubleClick"),pl("focusin","onFocus"),pl("focusout","onBlur"),pl(OC,"onTransitionRun"),pl(m4,"onTransitionStart"),pl(PC,"onTransitionCancel"),pl(_S,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_("onBeforeInput",["compositionend","keypress","textInput","paste"]),_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function m9(u,h){h=(h&4)!==0;for(var x=0;x<u.length;x++){var A=u[x],N=A.event;A=A.listeners;e:{var F=void 0;if(h)for(var Z=A.length-1;0<=Z;Z--){var pe=A[Z],Te=pe.instance,Xe=pe.currentTarget;if(pe=pe.listener,Te!==F&&N.isPropagationStopped())break e;F=pe,N.currentTarget=Xe;try{F(N)}catch(ut){Og(ut)}N.currentTarget=null,F=Te}else for(Z=0;Z<A.length;Z++){if(pe=A[Z],Te=pe.instance,Xe=pe.currentTarget,pe=pe.listener,Te!==F&&N.isPropagationStopped())break e;F=pe,N.currentTarget=Xe;try{F(N)}catch(ut){Og(ut)}N.currentTarget=null,F=Te}}}}function sr(u,h){var x=h[pr];x===void 0&&(x=h[pr]=new Set);var A=u+"__bubble";x.has(A)||(g9(h,u,2,!1),x.add(A))}function M4(u,h,x){var A=0;h&&(A|=4),g9(x,u,A,h)}var C3="_reactListening"+Math.random().toString(36).slice(2);function A4(u){if(!u[C3]){u[C3]=!0,Be.forEach(function(x){x!=="selectionchange"&&(E4.has(x)||M4(x,!1,u),M4(x,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[C3]||(h[C3]=!0,M4("selectionchange",!1,h))}}function g9(u,h,x,A){switch($9(h)){case 2:var N=Ude;break;case 8:N=jde;break;default:N=j4}x=N.bind(null,h,x,u),N=void 0,!nS||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),A?N!==void 0?u.addEventListener(h,x,{capture:!0,passive:N}):u.addEventListener(h,x,!0):N!==void 0?u.addEventListener(h,x,{passive:N}):u.addEventListener(h,x,!1)}function T4(u,h,x,A,N){var F=A;if((h&1)===0&&(h&2)===0&&A!==null)e:for(;;){if(A===null)return;var Z=A.tag;if(Z===3||Z===4){var pe=A.stateNode.containerInfo;if(pe===N)break;if(Z===4)for(Z=A.return;Z!==null;){var Te=Z.tag;if((Te===3||Te===4)&&Z.stateNode.containerInfo===N)return;Z=Z.return}for(;pe!==null;){if(Z=rs(pe),Z===null)return;if(Te=Z.tag,Te===5||Te===6||Te===26||Te===27){A=F=Z;continue e}pe=pe.parentNode}}A=A.return}tS(function(){var Xe=F,ut=wx(x),yt=[];e:{var Je=hl.get(u);if(Je!==void 0){var it=_g,Zt=u;switch(u){case"keypress":if(bg(x)===0)break e;case"keydown":case"keyup":it=bh;break;case"focusin":Zt="focus",it=Ax;break;case"focusout":Zt="blur",it=Ax;break;case"beforeblur":case"afterblur":it=Ax;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=rS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=fC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=yC;break;case Nx:case kg:case bS:it=d4;break;case _S:it=p4;break;case"scroll":case"scrollend":it=cC;break;case"wheel":it=xC;break;case"copy":case"cut":case"paste":it=hC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=aS;break;case"toggle":case"beforetoggle":it=_C}var yn=(h&4)!==0,Xr=!yn&&(u==="scroll"||u==="scrollend"),He=yn?Je!==null?Je+"Capture":null:Je;yn=[];for(var Fe=Xe,Ye;Fe!==null;){var pt=Fe;if(Ye=pt.stateNode,pt=pt.tag,pt!==5&&pt!==26&&pt!==27||Ye===null||He===null||(pt=am(Fe,He),pt!=null&&yn.push(mE(Fe,pt,Ye))),Xr)break;Fe=Fe.return}0<yn.length&&(Je=new it(Je,Zt,null,x,ut),yt.push({event:Je,listeners:yn}))}}if((h&7)===0){e:{if(Je=u==="mouseover"||u==="pointerover",it=u==="mouseout"||u==="pointerout",Je&&x!==_x&&(Zt=x.relatedTarget||x.fromElement)&&(rs(Zt)||Zt[mi]))break e;if((it||Je)&&(Je=ut.window===ut?ut:(Je=ut.ownerDocument)?Je.defaultView||Je.parentWindow:window,it?(Zt=x.relatedTarget||x.toElement,it=Xe,Zt=Zt?rs(Zt):null,Zt!==null&&(Xr=s(Zt),yn=Zt.tag,Zt!==Xr||yn!==5&&yn!==27&&yn!==6)&&(Zt=null)):(it=null,Zt=Xe),it!==Zt)){if(yn=rS,pt="onMouseLeave",He="onMouseEnter",Fe="mouse",(u==="pointerout"||u==="pointerover")&&(yn=aS,pt="onPointerLeave",He="onPointerEnter",Fe="pointer"),Xr=it==null?Je:$s(it),Ye=Zt==null?Je:$s(Zt),Je=new yn(pt,Fe+"leave",it,x,ut),Je.target=Xr,Je.relatedTarget=Ye,pt=null,rs(ut)===Xe&&(yn=new yn(He,Fe+"enter",Zt,x,ut),yn.target=Ye,yn.relatedTarget=Xr,pt=yn),Xr=pt,it&&Zt)t:{for(yn=hde,He=it,Fe=Zt,Ye=0,pt=He;pt;pt=yn(pt))Ye++;pt=0;for(var fn=Fe;fn;fn=yn(fn))pt++;for(;0<Ye-pt;)He=yn(He),Ye--;for(;0<pt-Ye;)Fe=yn(Fe),pt--;for(;Ye--;){if(He===Fe||Fe!==null&&He===Fe.alternate){yn=He;break t}He=yn(He),Fe=yn(Fe)}yn=null}else yn=null;it!==null&&y9(yt,Je,it,yn,!1),Zt!==null&&Xr!==null&&y9(yt,Xr,Zt,yn,!0)}}e:{if(Je=Xe?$s(Xe):window,it=Je.nodeName&&Je.nodeName.toLowerCase(),it==="select"||it==="input"&&Je.type==="file")var Er=hS;else if(dS(Je))if(Oc)Er=CC;else{Er=gS;var en=AC}else it=Je.nodeName,!it||it.toLowerCase()!=="input"||Je.type!=="checkbox"&&Je.type!=="radio"?Xe&&yh(Xe.elementType)&&(Er=hS):Er=TC;if(Er&&(Er=Er(u,Xe))){Dx(yt,Er,x,ut);break e}en&&en(u,Je,Xe),u==="focusout"&&Xe&&Je.type==="number"&&Xe.memoizedProps.value!=null&&ms(Je,"number",Je.value)}switch(en=Xe?$s(Xe):window,u){case"focusin":(dS(en)||en.contentEditable==="true")&&(Pc=en,Dc=Xe,gm=null);break;case"focusout":gm=Dc=Pc=null;break;case"mousedown":Ix=!0;break;case"contextmenu":case"mouseup":case"dragend":Ix=!1,ym(yt,x,ut);break;case"selectionchange":if(RC)break;case"keydown":case"keyup":ym(yt,x,ut)}var Vn;if(_h)e:{switch(u){case"compositionstart":var ur="onCompositionStart";break e;case"compositionend":ur="onCompositionEnd";break e;case"compositionupdate":ur="onCompositionUpdate";break e}ur=void 0}else wh?Px(u,x)&&(ur="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(ur="onCompositionStart");ur&&(lS&&x.locale!=="ko"&&(wh||ur!=="onCompositionStart"?ur==="onCompositionEnd"&&wh&&(Vn=xg()):(Io=ut,Ex="value"in Io?Io.value:Io.textContent,wh=!0)),en=k3(Xe,ur),0<en.length&&(ur=new Tx(ur,u,null,x,ut),yt.push({event:ur,listeners:en}),Vn?ur.data=Vn:(Vn=cS(x),Vn!==null&&(ur.data=Vn)))),(Vn=Ox?EC(u,x):uS(u,x))&&(ur=k3(Xe,"onBeforeInput"),0<ur.length&&(en=new Tx("onBeforeInput","beforeinput",null,x,ut),yt.push({event:en,listeners:ur}),en.data=Vn)),wi(yt,u,Xe,x,ut)}m9(yt,h)})}function mE(u,h,x){return{instance:u,listener:h,currentTarget:x}}function k3(u,h){for(var x=h+"Capture",A=[];u!==null;){var N=u,F=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||F===null||(N=am(u,x),N!=null&&A.unshift(mE(u,N,F)),N=am(u,h),N!=null&&A.push(mE(u,N,F))),u.tag===3)return A;u=u.return}return[]}function hde(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function y9(u,h,x,A,N){for(var F=h._reactName,Z=[];x!==null&&x!==A;){var pe=x,Te=pe.alternate,Xe=pe.stateNode;if(pe=pe.tag,Te!==null&&Te===A)break;pe!==5&&pe!==26&&pe!==27||Xe===null||(Te=Xe,N?(Xe=am(x,F),Xe!=null&&Z.unshift(mE(x,Xe,Te))):N||(Xe=am(x,F),Xe!=null&&Z.push(mE(x,Xe,Te)))),x=x.return}Z.length!==0&&u.push({event:h,listeners:Z})}var pde=/\r\n?/g,mde=/\u0000|\uFFFD/g;function v9(u){return(typeof u=="string"?u:""+u).replace(pde,`
`).replace(mde,"")}function x9(u,h){return h=v9(h),v9(u)===h}function Yr(u,h,x,A,N,F){switch(x){case"children":typeof A=="string"?h==="body"||h==="textarea"&&A===""||ca(u,A):(typeof A=="number"||typeof A=="bigint")&&h!=="body"&&ca(u,""+A);break;case"className":et(u,"class",A);break;case"tabIndex":et(u,"tabindex",A);break;case"dir":case"role":case"viewBox":case"width":case"height":et(u,x,A);break;case"style":kc(u,A,F);break;case"data":if(h!=="object"){et(u,"data",A);break}case"src":case"href":if(A===""&&(h!=="a"||x!=="href")){u.removeAttribute(x);break}if(A==null||typeof A=="function"||typeof A=="symbol"||typeof A=="boolean"){u.removeAttribute(x);break}A=vg(""+A),u.setAttribute(x,A);break;case"action":case"formAction":if(typeof A=="function"){u.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof F=="function"&&(x==="formAction"?(h!=="input"&&Yr(u,h,"name",N.name,N,null),Yr(u,h,"formEncType",N.formEncType,N,null),Yr(u,h,"formMethod",N.formMethod,N,null),Yr(u,h,"formTarget",N.formTarget,N,null)):(Yr(u,h,"encType",N.encType,N,null),Yr(u,h,"method",N.method,N,null),Yr(u,h,"target",N.target,N,null)));if(A==null||typeof A=="symbol"||typeof A=="boolean"){u.removeAttribute(x);break}A=vg(""+A),u.setAttribute(x,A);break;case"onClick":A!=null&&(u.onclick=Bu);break;case"onScroll":A!=null&&sr("scroll",u);break;case"onScrollEnd":A!=null&&sr("scrollend",u);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(x=A.__html,x!=null){if(N.children!=null)throw Error(r(60));u.innerHTML=x}}break;case"multiple":u.multiple=A&&typeof A!="function"&&typeof A!="symbol";break;case"muted":u.muted=A&&typeof A!="function"&&typeof A!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(A==null||typeof A=="function"||typeof A=="boolean"||typeof A=="symbol"){u.removeAttribute("xlink:href");break}x=vg(""+A),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":A!=null&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(x,""+A):u.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":A&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(x,""):u.removeAttribute(x);break;case"capture":case"download":A===!0?u.setAttribute(x,""):A!==!1&&A!=null&&typeof A!="function"&&typeof A!="symbol"?u.setAttribute(x,A):u.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":A!=null&&typeof A!="function"&&typeof A!="symbol"&&!isNaN(A)&&1<=A?u.setAttribute(x,A):u.removeAttribute(x);break;case"rowSpan":case"start":A==null||typeof A=="function"||typeof A=="symbol"||isNaN(A)?u.removeAttribute(x):u.setAttribute(x,A);break;case"popover":sr("beforetoggle",u),sr("toggle",u),Oe(u,"popover",A);break;case"xlinkActuate":ht(u,"http://www.w3.org/1999/xlink","xlink:actuate",A);break;case"xlinkArcrole":ht(u,"http://www.w3.org/1999/xlink","xlink:arcrole",A);break;case"xlinkRole":ht(u,"http://www.w3.org/1999/xlink","xlink:role",A);break;case"xlinkShow":ht(u,"http://www.w3.org/1999/xlink","xlink:show",A);break;case"xlinkTitle":ht(u,"http://www.w3.org/1999/xlink","xlink:title",A);break;case"xlinkType":ht(u,"http://www.w3.org/1999/xlink","xlink:type",A);break;case"xmlBase":ht(u,"http://www.w3.org/XML/1998/namespace","xml:base",A);break;case"xmlLang":ht(u,"http://www.w3.org/XML/1998/namespace","xml:lang",A);break;case"xmlSpace":ht(u,"http://www.w3.org/XML/1998/namespace","xml:space",A);break;case"is":Oe(u,"is",A);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=oC.get(x)||x,Oe(u,x,A))}}function C4(u,h,x,A,N,F){switch(x){case"style":kc(u,A,F);break;case"dangerouslySetInnerHTML":if(A!=null){if(typeof A!="object"||!("__html"in A))throw Error(r(61));if(x=A.__html,x!=null){if(N.children!=null)throw Error(r(60));u.innerHTML=x}}break;case"children":typeof A=="string"?ca(u,A):(typeof A=="number"||typeof A=="bigint")&&ca(u,""+A);break;case"onScroll":A!=null&&sr("scroll",u);break;case"onScrollEnd":A!=null&&sr("scrollend",u);break;case"onClick":A!=null&&(u.onclick=Bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ze.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(N=x.endsWith("Capture"),h=x.slice(2,N?x.length-7:void 0),F=u[yr]||null,F=F!=null?F[x]:null,typeof F=="function"&&u.removeEventListener(h,F,N),typeof A=="function")){typeof F!="function"&&F!==null&&(x in u?u[x]=null:u.hasAttribute(x)&&u.removeAttribute(x)),u.addEventListener(h,A,N);break e}x in u?u[x]=A:A===!0?u.setAttribute(x,""):Oe(u,x,A)}}}function za(u,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":sr("error",u),sr("load",u);var A=!1,N=!1,F;for(F in x)if(x.hasOwnProperty(F)){var Z=x[F];if(Z!=null)switch(F){case"src":A=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Yr(u,h,F,Z,x,null)}}N&&Yr(u,h,"srcSet",x.srcSet,x,null),A&&Yr(u,h,"src",x.src,x,null);return;case"input":sr("invalid",u);var pe=F=Z=N=null,Te=null,Xe=null;for(A in x)if(x.hasOwnProperty(A)){var ut=x[A];if(ut!=null)switch(A){case"name":N=ut;break;case"type":Z=ut;break;case"checked":Te=ut;break;case"defaultChecked":Xe=ut;break;case"value":F=ut;break;case"defaultValue":pe=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(r(137,h));break;default:Yr(u,h,A,ut,x,null)}}ka(u,F,pe,Te,Xe,Z,N,!1);return;case"select":sr("invalid",u),A=Z=F=null;for(N in x)if(x.hasOwnProperty(N)&&(pe=x[N],pe!=null))switch(N){case"value":F=pe;break;case"defaultValue":Z=pe;break;case"multiple":A=pe;default:Yr(u,h,N,pe,x,null)}h=F,x=Z,u.multiple=!!A,h!=null?la(u,!!A,h,!1):x!=null&&la(u,!!A,x,!0);return;case"textarea":sr("invalid",u),F=N=A=null;for(Z in x)if(x.hasOwnProperty(Z)&&(pe=x[Z],pe!=null))switch(Z){case"value":A=pe;break;case"defaultValue":N=pe;break;case"children":F=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(91));break;default:Yr(u,h,Z,pe,x,null)}ki(u,A,N,F);return;case"option":for(Te in x)if(x.hasOwnProperty(Te)&&(A=x[Te],A!=null))switch(Te){case"selected":u.selected=A&&typeof A!="function"&&typeof A!="symbol";break;default:Yr(u,h,Te,A,x,null)}return;case"dialog":sr("beforetoggle",u),sr("toggle",u),sr("cancel",u),sr("close",u);break;case"iframe":case"object":sr("load",u);break;case"video":case"audio":for(A=0;A<kl.length;A++)sr(kl[A],u);break;case"image":sr("error",u),sr("load",u);break;case"details":sr("toggle",u);break;case"embed":case"source":case"link":sr("error",u),sr("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xe in x)if(x.hasOwnProperty(Xe)&&(A=x[Xe],A!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,h));default:Yr(u,h,Xe,A,x,null)}return;default:if(yh(h)){for(ut in x)x.hasOwnProperty(ut)&&(A=x[ut],A!==void 0&&C4(u,h,ut,A,x,void 0));return}}for(pe in x)x.hasOwnProperty(pe)&&(A=x[pe],A!=null&&Yr(u,h,pe,A,x,null))}function gde(u,h,x,A){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,F=null,Z=null,pe=null,Te=null,Xe=null,ut=null;for(it in x){var yt=x[it];if(x.hasOwnProperty(it)&&yt!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":Te=yt;default:A.hasOwnProperty(it)||Yr(u,h,it,null,A,yt)}}for(var Je in A){var it=A[Je];if(yt=x[Je],A.hasOwnProperty(Je)&&(it!=null||yt!=null))switch(Je){case"type":F=it;break;case"name":N=it;break;case"checked":Xe=it;break;case"defaultChecked":ut=it;break;case"value":Z=it;break;case"defaultValue":pe=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(r(137,h));break;default:it!==yt&&Yr(u,h,Je,it,A,yt)}}Rs(u,Z,pe,Te,Xe,ut,F,N);return;case"select":it=Z=pe=Je=null;for(F in x)if(Te=x[F],x.hasOwnProperty(F)&&Te!=null)switch(F){case"value":break;case"multiple":it=Te;default:A.hasOwnProperty(F)||Yr(u,h,F,null,A,Te)}for(N in A)if(F=A[N],Te=x[N],A.hasOwnProperty(N)&&(F!=null||Te!=null))switch(N){case"value":Je=F;break;case"defaultValue":pe=F;break;case"multiple":Z=F;default:F!==Te&&Yr(u,h,N,F,A,Te)}h=pe,x=Z,A=it,Je!=null?la(u,!!x,Je,!1):!!A!=!!x&&(h!=null?la(u,!!x,h,!0):la(u,!!x,x?[]:"",!1));return;case"textarea":it=Je=null;for(pe in x)if(N=x[pe],x.hasOwnProperty(pe)&&N!=null&&!A.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:Yr(u,h,pe,null,A,N)}for(Z in A)if(N=A[Z],F=x[Z],A.hasOwnProperty(Z)&&(N!=null||F!=null))switch(Z){case"value":Je=N;break;case"defaultValue":it=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(r(91));break;default:N!==F&&Yr(u,h,Z,N,A,F)}vr(u,Je,it);return;case"option":for(var Zt in x)if(Je=x[Zt],x.hasOwnProperty(Zt)&&Je!=null&&!A.hasOwnProperty(Zt))switch(Zt){case"selected":u.selected=!1;break;default:Yr(u,h,Zt,null,A,Je)}for(Te in A)if(Je=A[Te],it=x[Te],A.hasOwnProperty(Te)&&Je!==it&&(Je!=null||it!=null))switch(Te){case"selected":u.selected=Je&&typeof Je!="function"&&typeof Je!="symbol";break;default:Yr(u,h,Te,Je,A,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yn in x)Je=x[yn],x.hasOwnProperty(yn)&&Je!=null&&!A.hasOwnProperty(yn)&&Yr(u,h,yn,null,A,Je);for(Xe in A)if(Je=A[Xe],it=x[Xe],A.hasOwnProperty(Xe)&&Je!==it&&(Je!=null||it!=null))switch(Xe){case"children":case"dangerouslySetInnerHTML":if(Je!=null)throw Error(r(137,h));break;default:Yr(u,h,Xe,Je,A,it)}return;default:if(yh(h)){for(var Xr in x)Je=x[Xr],x.hasOwnProperty(Xr)&&Je!==void 0&&!A.hasOwnProperty(Xr)&&C4(u,h,Xr,void 0,A,Je);for(ut in A)Je=A[ut],it=x[ut],!A.hasOwnProperty(ut)||Je===it||Je===void 0&&it===void 0||C4(u,h,ut,Je,A,it);return}}for(var He in x)Je=x[He],x.hasOwnProperty(He)&&Je!=null&&!A.hasOwnProperty(He)&&Yr(u,h,He,null,A,Je);for(yt in A)Je=A[yt],it=x[yt],!A.hasOwnProperty(yt)||Je===it||Je==null&&it==null||Yr(u,h,yt,Je,A,it)}function b9(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yde(){if(typeof performance.getEntriesByType=="function"){for(var u=0,h=0,x=performance.getEntriesByType("resource"),A=0;A<x.length;A++){var N=x[A],F=N.transferSize,Z=N.initiatorType,pe=N.duration;if(F&&pe&&b9(Z)){for(Z=0,pe=N.responseEnd,A+=1;A<x.length;A++){var Te=x[A],Xe=Te.startTime;if(Xe>pe)break;var ut=Te.transferSize,yt=Te.initiatorType;ut&&b9(yt)&&(Te=Te.responseEnd,Z+=ut*(Te<pe?1:(pe-Xe)/(Te-Xe)))}if(--A,h+=8*(F+Z)/(N.duration/1e3),u++,10<u)break}}if(0<u)return h/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var k4=null,R4=null;function R3(u){return u.nodeType===9?u:u.ownerDocument}function _9(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function w9(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function O4(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var P4=null;function vde(){var u=window.event;return u&&u.type==="popstate"?u===P4?!1:(P4=u,!0):(P4=null,!1)}var S9=typeof setTimeout=="function"?setTimeout:void 0,xde=typeof clearTimeout=="function"?clearTimeout:void 0,E9=typeof Promise=="function"?Promise:void 0,bde=typeof queueMicrotask=="function"?queueMicrotask:typeof E9<"u"?function(u){return E9.resolve(null).then(u).catch(_de)}:S9;function _de(u){setTimeout(function(){throw u})}function Vm(u){return u==="head"}function M9(u,h){var x=h,A=0;do{var N=x.nextSibling;if(u.removeChild(x),N&&N.nodeType===8)if(x=N.data,x==="/$"||x==="/&"){if(A===0){u.removeChild(N),Ab(h);return}A--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")A++;else if(x==="html")gE(u.ownerDocument.documentElement);else if(x==="head"){x=u.ownerDocument.head,gE(x);for(var F=x.firstChild;F;){var Z=F.nextSibling,pe=F.nodeName;F[ri]||pe==="SCRIPT"||pe==="STYLE"||pe==="LINK"&&F.rel.toLowerCase()==="stylesheet"||x.removeChild(F),F=Z}}else x==="body"&&gE(u.ownerDocument.body);x=N}while(x);Ab(h)}function A9(u,h){var x=u;u=0;do{var A=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),A&&A.nodeType===8)if(x=A.data,x==="/$"){if(u===0)break;u--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||u++;x=A}while(x)}function D4(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":D4(x),rr(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}u.removeChild(x)}}function wde(u,h,x,A){for(;u.nodeType===1;){var N=x;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!A&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(A){if(!u[ri])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(F=u.getAttribute("rel"),F==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(F!==N.rel||u.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||u.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||u.getAttribute("title")!==(N.title==null?null:N.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(F=u.getAttribute("src"),(F!==(N.src==null?null:N.src)||u.getAttribute("type")!==(N.type==null?null:N.type)||u.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&F&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var F=N.name==null?null:""+N.name;if(N.type==="hidden"&&u.getAttribute("name")===F)return u}else return u;if(u=Zc(u.nextSibling),u===null)break}return null}function Sde(u,h,x){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!x||(u=Zc(u.nextSibling),u===null))return null;return u}function T9(u,h){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!h||(u=Zc(u.nextSibling),u===null))return null;return u}function I4(u){return u.data==="$?"||u.data==="$~"}function N4(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function Ede(u,h){var x=u.ownerDocument;if(u.data==="$~")u._reactRetry=h;else if(u.data!=="$?"||x.readyState!=="loading")h();else{var A=function(){h(),x.removeEventListener("DOMContentLoaded",A)};x.addEventListener("DOMContentLoaded",A),u._reactRetry=A}}function Zc(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return u}var L4=null;function C9(u){u=u.nextSibling;for(var h=0;u;){if(u.nodeType===8){var x=u.data;if(x==="/$"||x==="/&"){if(h===0)return Zc(u.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}u=u.nextSibling}return null}function k9(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return u;h--}else x!=="/$"&&x!=="/&"||h++}u=u.previousSibling}return null}function R9(u,h,x){switch(h=R3(x),u){case"html":if(u=h.documentElement,!u)throw Error(r(452));return u;case"head":if(u=h.head,!u)throw Error(r(453));return u;case"body":if(u=h.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function gE(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);rr(u)}var Qc=new Map,O9=new Set;function O3(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Gh=se.d;se.d={f:Mde,r:Ade,D:Tde,C:Cde,L:kde,m:Rde,X:Pde,S:Ode,M:Dde};function Mde(){var u=Gh.f(),h=rc();return u||h}function Ade(u){var h=ve(u);h!==null&&h.tag===5&&h.type==="form"?h3(h):Gh.r(u)}var Sb=typeof document>"u"?null:document;function P9(u,h,x){var A=Sb;if(A&&typeof h=="string"&&h){var N=gn(h);N='link[rel="'+u+'"][href="'+N+'"]',typeof x=="string"&&(N+='[crossorigin="'+x+'"]'),O9.has(N)||(O9.add(N),u={rel:u,crossOrigin:x,href:h},A.querySelector(N)===null&&(h=A.createElement("link"),za(h,"link",u),Ae(h),A.head.appendChild(h)))}}function Tde(u){Gh.D(u),P9("dns-prefetch",u,null)}function Cde(u,h){Gh.C(u,h),P9("preconnect",u,h)}function kde(u,h,x){Gh.L(u,h,x);var A=Sb;if(A&&u&&h){var N='link[rel="preload"][as="'+gn(h)+'"]';h==="image"&&x&&x.imageSrcSet?(N+='[imagesrcset="'+gn(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(N+='[imagesizes="'+gn(x.imageSizes)+'"]')):N+='[href="'+gn(u)+'"]';var F=N;switch(h){case"style":F=Eb(u);break;case"script":F=Mb(u)}Qc.has(F)||(u=d({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:u,as:h},x),Qc.set(F,u),A.querySelector(N)!==null||h==="style"&&A.querySelector(yE(F))||h==="script"&&A.querySelector(vE(F))||(h=A.createElement("link"),za(h,"link",u),Ae(h),A.head.appendChild(h)))}}function Rde(u,h){Gh.m(u,h);var x=Sb;if(x&&u){var A=h&&typeof h.as=="string"?h.as:"script",N='link[rel="modulepreload"][as="'+gn(A)+'"][href="'+gn(u)+'"]',F=N;switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":F=Mb(u)}if(!Qc.has(F)&&(u=d({rel:"modulepreload",href:u},h),Qc.set(F,u),x.querySelector(N)===null)){switch(A){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(vE(F)))return}A=x.createElement("link"),za(A,"link",u),Ae(A),x.head.appendChild(A)}}}function Ode(u,h,x){Gh.S(u,h,x);var A=Sb;if(A&&u){var N=de(A).hoistableStyles,F=Eb(u);h=h||"default";var Z=N.get(F);if(!Z){var pe={loading:0,preload:null};if(Z=A.querySelector(yE(F)))pe.loading=5;else{u=d({rel:"stylesheet",href:u,"data-precedence":h},x),(x=Qc.get(F))&&B4(u,x);var Te=Z=A.createElement("link");Ae(Te),za(Te,"link",u),Te._p=new Promise(function(Xe,ut){Te.onload=Xe,Te.onerror=ut}),Te.addEventListener("load",function(){pe.loading|=1}),Te.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,P3(Z,h,A)}Z={type:"stylesheet",instance:Z,count:1,state:pe},N.set(F,Z)}}}function Pde(u,h){Gh.X(u,h);var x=Sb;if(x&&u){var A=de(x).hoistableScripts,N=Mb(u),F=A.get(N);F||(F=x.querySelector(vE(N)),F||(u=d({src:u,async:!0},h),(h=Qc.get(N))&&F4(u,h),F=x.createElement("script"),Ae(F),za(F,"link",u),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(N,F))}}function Dde(u,h){Gh.M(u,h);var x=Sb;if(x&&u){var A=de(x).hoistableScripts,N=Mb(u),F=A.get(N);F||(F=x.querySelector(vE(N)),F||(u=d({src:u,async:!0,type:"module"},h),(h=Qc.get(N))&&F4(u,h),F=x.createElement("script"),Ae(F),za(F,"link",u),x.head.appendChild(F)),F={type:"script",instance:F,count:1,state:null},A.set(N,F))}}function D9(u,h,x,A){var N=(N=Ne.current)?O3(N):null;if(!N)throw Error(r(446));switch(u){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=Eb(x.href),x=de(N).hoistableStyles,A=x.get(h),A||(A={type:"style",instance:null,count:0,state:null},x.set(h,A)),A):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){u=Eb(x.href);var F=de(N).hoistableStyles,Z=F.get(u);if(Z||(N=N.ownerDocument||N,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},F.set(u,Z),(F=N.querySelector(yE(u)))&&!F._p&&(Z.instance=F,Z.state.loading=5),Qc.has(u)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Qc.set(u,x),F||Ide(N,u,x,Z.state))),h&&A===null)throw Error(r(528,""));return Z}if(h&&A!==null)throw Error(r(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Mb(x),x=de(N).hoistableScripts,A=x.get(h),A||(A={type:"script",instance:null,count:0,state:null},x.set(h,A)),A):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Eb(u){return'href="'+gn(u)+'"'}function yE(u){return'link[rel="stylesheet"]['+u+"]"}function I9(u){return d({},u,{"data-precedence":u.precedence,precedence:null})}function Ide(u,h,x,A){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?A.loading=1:(h=u.createElement("link"),A.preload=h,h.addEventListener("load",function(){return A.loading|=1}),h.addEventListener("error",function(){return A.loading|=2}),za(h,"link",x),Ae(h),u.head.appendChild(h))}function Mb(u){return'[src="'+gn(u)+'"]'}function vE(u){return"script[async]"+u}function N9(u,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var A=u.querySelector('style[data-href~="'+gn(x.href)+'"]');if(A)return h.instance=A,Ae(A),A;var N=d({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return A=(u.ownerDocument||u).createElement("style"),Ae(A),za(A,"style",N),P3(A,x.precedence,u),h.instance=A;case"stylesheet":N=Eb(x.href);var F=u.querySelector(yE(N));if(F)return h.state.loading|=4,h.instance=F,Ae(F),F;A=I9(x),(N=Qc.get(N))&&B4(A,N),F=(u.ownerDocument||u).createElement("link"),Ae(F);var Z=F;return Z._p=new Promise(function(pe,Te){Z.onload=pe,Z.onerror=Te}),za(F,"link",A),h.state.loading|=4,P3(F,x.precedence,u),h.instance=F;case"script":return F=Mb(x.src),(N=u.querySelector(vE(F)))?(h.instance=N,Ae(N),N):(A=x,(N=Qc.get(F))&&(A=d({},x),F4(A,N)),u=u.ownerDocument||u,N=u.createElement("script"),Ae(N),za(N,"link",A),u.head.appendChild(N),h.instance=N);case"void":return null;default:throw Error(r(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(A=h.instance,h.state.loading|=4,P3(A,x.precedence,u));return h.instance}function P3(u,h,x){for(var A=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=A.length?A[A.length-1]:null,F=N,Z=0;Z<A.length;Z++){var pe=A[Z];if(pe.dataset.precedence===h)F=pe;else if(F!==N)break}F?F.parentNode.insertBefore(u,F.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(u,h.firstChild))}function B4(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function F4(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var D3=null;function L9(u,h,x){if(D3===null){var A=new Map,N=D3=new Map;N.set(x,A)}else N=D3,A=N.get(x),A||(A=new Map,N.set(x,A));if(A.has(u))return A;for(A.set(u,null),x=x.getElementsByTagName(u),N=0;N<x.length;N++){var F=x[N];if(!(F[ri]||F[Xn]||u==="link"&&F.getAttribute("rel")==="stylesheet")&&F.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=F.getAttribute(h)||"";Z=u+Z;var pe=A.get(Z);pe?pe.push(F):A.set(Z,[F])}}return A}function B9(u,h,x){u=u.ownerDocument||u,u.head.insertBefore(x,h==="title"?u.querySelector("head > title"):null)}function Nde(u,h,x){if(x===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function F9(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function Lde(u,h,x,A){if(x.type==="stylesheet"&&(typeof A.media!="string"||matchMedia(A.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var N=Eb(A.href),F=h.querySelector(yE(N));if(F){h=F._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(u.count++,u=I3.bind(u),h.then(u,u)),x.state.loading|=4,x.instance=F,Ae(F);return}F=h.ownerDocument||h,A=I9(A),(N=Qc.get(N))&&B4(A,N),F=F.createElement("link"),Ae(F);var Z=F;Z._p=new Promise(function(pe,Te){Z.onload=pe,Z.onerror=Te}),za(F,"link",A),x.instance=F}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(u.count++,x=I3.bind(u),h.addEventListener("load",x),h.addEventListener("error",x))}}var z4=0;function Bde(u,h){return u.stylesheets&&u.count===0&&L3(u,u.stylesheets),0<u.count||0<u.imgCount?function(x){var A=setTimeout(function(){if(u.stylesheets&&L3(u,u.stylesheets),u.unsuspend){var F=u.unsuspend;u.unsuspend=null,F()}},6e4+h);0<u.imgBytes&&z4===0&&(z4=62500*yde());var N=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&L3(u,u.stylesheets),u.unsuspend)){var F=u.unsuspend;u.unsuspend=null,F()}},(u.imgBytes>z4?50:800)+h);return u.unsuspend=x,function(){u.unsuspend=null,clearTimeout(A),clearTimeout(N)}}:null}function I3(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)L3(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var N3=null;function L3(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,N3=new Map,h.forEach(Fde,u),N3=null,I3.call(u))}function Fde(u,h){if(!(h.state.loading&4)){var x=N3.get(u);if(x)var A=x.get(null);else{x=new Map,N3.set(u,x);for(var N=u.querySelectorAll("link[data-precedence],style[data-precedence]"),F=0;F<N.length;F++){var Z=N[F];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(x.set(Z.dataset.precedence,Z),A=Z)}A&&x.set(null,A)}N=h.instance,Z=N.getAttribute("data-precedence"),F=x.get(Z)||A,F===A&&x.set(null,N),x.set(Z,N),this.count++,A=I3.bind(this),N.addEventListener("load",A),N.addEventListener("error",A),F?F.parentNode.insertBefore(N,F.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(N,u.firstChild)),h.state.loading|=4}}var xE={$$typeof:R,Provider:null,Consumer:null,_currentValue:be,_currentValue2:be,_threadCount:0};function zde(u,h,x,A,N,F,Z,pe,Te){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=A,this.onUncaughtError=N,this.onCaughtError=F,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function z9(u,h,x,A,N,F,Z,pe,Te,Xe,ut,yt){return u=new zde(u,h,x,Z,Te,Xe,ut,yt,pe),h=1,F===!0&&(h|=24),F=gi(3,null,null,h),u.current=F,F.stateNode=u,h=SS(),h.refCount++,u.pooledCache=h,h.refCount++,F.memoizedState={element:A,isDehydrated:x,cache:h},Fg(F),u}function U9(u){return u?(u=$f,u):$f}function j9(u,h,x,A,N,F){N=U9(N),A.context===null?A.context=N:A.pendingContext=N,A=$u(h),A.payload={element:x},F=F===void 0?null:F,F!==null&&(A.callback=F),x=Qf(u,A,h),x!==null&&(Un(x,u,h),ed(x,u,h))}function H9(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<h?x:h}}function U4(u,h){H9(u,h),(u=u.alternate)&&H9(u,h)}function V9(u){if(u.tag===13||u.tag===31){var h=Pa(u,67108864);h!==null&&Un(h,u,67108864),U4(u,67108864)}}function W9(u){if(u.tag===13||u.tag===31){var h=Vo();h=Cs(h);var x=Pa(u,h);x!==null&&Un(x,u,h),U4(u,h)}}var B3=!0;function Ude(u,h,x,A){var N=te.T;te.T=null;var F=se.p;try{se.p=2,j4(u,h,x,A)}finally{se.p=F,te.T=N}}function jde(u,h,x,A){var N=te.T;te.T=null;var F=se.p;try{se.p=8,j4(u,h,x,A)}finally{se.p=F,te.T=N}}function j4(u,h,x,A){if(B3){var N=H4(A);if(N===null)T4(u,h,A,F3,x),G9(u,A);else if(Vde(N,u,h,x,A))A.stopPropagation();else if(G9(u,A),h&4&&-1<Hde.indexOf(u)){for(;N!==null;){var F=ve(N);if(F!==null)switch(F.tag){case 3:if(F=F.stateNode,F.current.memoizedState.isDehydrated){var Z=bt(F.pendingLanes);if(Z!==0){var pe=F;for(pe.pendingLanes|=2,pe.entangledLanes|=2;Z;){var Te=1<<31-ft(Z);pe.entanglements[1]|=Te,Z&=~Te}Ct(F),(tn&6)===0&&(qi=ie()+500,Wt(0))}}break;case 31:case 13:pe=Pa(F,2),pe!==null&&Un(pe,F,2),rc(),U4(F,2)}if(F=H4(A),F===null&&T4(u,h,A,F3,x),F===N)break;N=F}N!==null&&A.stopPropagation()}else T4(u,h,A,null,x)}}function H4(u){return u=wx(u),V4(u)}var F3=null;function V4(u){if(F3=null,u=rs(u),u!==null){var h=s(u);if(h===null)u=null;else{var x=h.tag;if(x===13){if(u=a(h),u!==null)return u;u=null}else if(x===31){if(u=o(h),u!==null)return u;u=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return F3=u,null}function $9(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ie()){case we:return 2;case K:return 8;case j:case $:return 32;case ce:return 268435456;default:return 32}default:return 32}}var W4=!1,Wm=null,$m=null,Gm=null,bE=new Map,_E=new Map,qm=[],Hde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function G9(u,h){switch(u){case"focusin":case"focusout":Wm=null;break;case"dragenter":case"dragleave":$m=null;break;case"mouseover":case"mouseout":Gm=null;break;case"pointerover":case"pointerout":bE.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":_E.delete(h.pointerId)}}function wE(u,h,x,A,N,F){return u===null||u.nativeEvent!==F?(u={blockedOn:h,domEventName:x,eventSystemFlags:A,nativeEvent:F,targetContainers:[N]},h!==null&&(h=ve(h),h!==null&&V9(h)),u):(u.eventSystemFlags|=A,h=u.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),u)}function Vde(u,h,x,A,N){switch(h){case"focusin":return Wm=wE(Wm,u,h,x,A,N),!0;case"dragenter":return $m=wE($m,u,h,x,A,N),!0;case"mouseover":return Gm=wE(Gm,u,h,x,A,N),!0;case"pointerover":var F=N.pointerId;return bE.set(F,wE(bE.get(F)||null,u,h,x,A,N)),!0;case"gotpointercapture":return F=N.pointerId,_E.set(F,wE(_E.get(F)||null,u,h,x,A,N)),!0}return!1}function q9(u){var h=rs(u.target);if(h!==null){var x=s(h);if(x!==null){if(h=x.tag,h===13){if(h=a(x),h!==null){u.blockedOn=h,Ti(u.priority,function(){W9(x)});return}}else if(h===31){if(h=o(x),h!==null){u.blockedOn=h,Ti(u.priority,function(){W9(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function z3(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var x=H4(u.nativeEvent);if(x===null){x=u.nativeEvent;var A=new x.constructor(x.type,x);_x=A,x.target.dispatchEvent(A),_x=null}else return h=ve(x),h!==null&&V9(h),u.blockedOn=x,!1;h.shift()}return!0}function Y9(u,h,x){z3(u)&&x.delete(h)}function Wde(){W4=!1,Wm!==null&&z3(Wm)&&(Wm=null),$m!==null&&z3($m)&&($m=null),Gm!==null&&z3(Gm)&&(Gm=null),bE.forEach(Y9),_E.forEach(Y9)}function U3(u,h){u.blockedOn===h&&(u.blockedOn=null,W4||(W4=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Wde)))}var j3=null;function X9(u){j3!==u&&(j3=u,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){j3===u&&(j3=null);for(var h=0;h<u.length;h+=3){var x=u[h],A=u[h+1],N=u[h+2];if(typeof A!="function"){if(V4(A||x)===null)continue;break}var F=ve(x);F!==null&&(u.splice(h,3),h-=3,KS(F,{pending:!0,data:N,method:x.method,action:A},A,N))}}))}function Ab(u){function h(Te){return U3(Te,u)}Wm!==null&&U3(Wm,u),$m!==null&&U3($m,u),Gm!==null&&U3(Gm,u),bE.forEach(h),_E.forEach(h);for(var x=0;x<qm.length;x++){var A=qm[x];A.blockedOn===u&&(A.blockedOn=null)}for(;0<qm.length&&(x=qm[0],x.blockedOn===null);)q9(x),x.blockedOn===null&&qm.shift();if(x=(u.ownerDocument||u).$$reactFormReplay,x!=null)for(A=0;A<x.length;A+=3){var N=x[A],F=x[A+1],Z=N[yr]||null;if(typeof F=="function")Z||X9(x);else if(Z){var pe=null;if(F&&F.hasAttribute("formAction")){if(N=F,Z=F[yr]||null)pe=Z.formAction;else if(V4(N)!==null)continue}else pe=Z.action;typeof pe=="function"?x[A+1]=pe:(x.splice(A,3),A-=3),X9(x)}}}function K9(){function u(F){F.canIntercept&&F.info==="react-transition"&&F.intercept({handler:function(){return new Promise(function(Z){return N=Z})},focusReset:"manual",scroll:"manual"})}function h(){N!==null&&(N(),N=null),A||setTimeout(x,20)}function x(){if(!A&&!navigation.transition){var F=navigation.currentEntry;F&&F.url!=null&&navigation.navigate(F.url,{state:F.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var A=!1,N=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){A=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),N!==null&&(N(),N=null)}}}function $4(u){this._internalRoot=u}H3.prototype.render=$4.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(r(409));var x=h.current,A=Vo();j9(x,A,u,h,null,null)},H3.prototype.unmount=$4.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;j9(u.current,2,null,u,null,null),rc(),h[mi]=null}};function H3(u){this._internalRoot=u}H3.prototype.unstable_scheduleHydration=function(u){if(u){var h=Hi();u={blockedOn:null,target:u,priority:h};for(var x=0;x<qm.length&&h!==0&&h<qm[x].priority;x++);qm.splice(x,0,u),x===0&&q9(u)}};var J9=e.version;if(J9!=="19.2.4")throw Error(r(527,J9,"19.2.4"));se.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(r(188)):(u=Object.keys(u).join(","),Error(r(268,u)));return u=c(h),u=u!==null?f(u):null,u=u===null?null:u.stateNode,u};var $de={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var V3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!V3.isDisabled&&V3.supportsFiber)try{Me=V3.inject($de),ue=V3}catch{}}return ME.createRoot=function(u,h){if(!i(u))throw Error(r(299));var x=!1,A="",N=b3,F=nE,Z=rE;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(F=h.onCaughtError),h.onRecoverableError!==void 0&&(Z=h.onRecoverableError)),h=z9(u,1,!1,null,null,x,A,null,N,F,Z,K9),u[mi]=h.current,A4(u),new $4(h)},ME.hydrateRoot=function(u,h,x){if(!i(u))throw Error(r(299));var A=!1,N="",F=b3,Z=nE,pe=rE,Te=null;return x!=null&&(x.unstable_strictMode===!0&&(A=!0),x.identifierPrefix!==void 0&&(N=x.identifierPrefix),x.onUncaughtError!==void 0&&(F=x.onUncaughtError),x.onCaughtError!==void 0&&(Z=x.onCaughtError),x.onRecoverableError!==void 0&&(pe=x.onRecoverableError),x.formState!==void 0&&(Te=x.formState)),h=z9(u,1,!0,h,x??null,A,N,Te,F,Z,pe,K9),h.context=U9(null),x=h.current,A=Vo(),A=Cs(A),N=$u(A),N.callback=null,Qf(x,N,A),x=A,h.current.lanes=x,Wr(h,x),Ct(h),u[mi]=h.current,A4(u),new H3(h)},ME.version="19.2.4",ME}var lH;function nhe(){if(lH)return K4.exports;lH=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),K4.exports=the(),K4.exports}var rhe=nhe();/**
 * react-router v7.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cH="popstate";function uH(n){return typeof n=="object"&&n!=null&&"pathname"in n&&"search"in n&&"hash"in n&&"state"in n&&"key"in n}function ihe(n={}){function e(r,i){var c;let s=(c=i.state)==null?void 0:c.masked,{pathname:a,search:o,hash:l}=s||r.location;return q5("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default",s?{pathname:r.location.pathname,search:r.location.search,hash:r.location.hash}:void 0)}function t(r,i){return typeof i=="string"?i:QM(i)}return ahe(e,t,null,n)}function zi(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tu(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function she(){return Math.random().toString(36).substring(2,10)}function fH(n,e){return{usr:n.state,key:n.key,idx:e,masked:n.unstable_mask?{pathname:n.pathname,search:n.search,hash:n.hash}:void 0}}function q5(n,e,t=null,r,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?xw(e):e,state:t,key:e&&e.key||r||she(),unstable_mask:i}}function QM({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function xw(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function ahe(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=f();c==null&&(c=0,a.replaceState({...a.state,idx:c},""));function f(){return(a.state||{idx:null}).idx}function d(){o="POP";let w=f(),E=w==null?null:w-c;c=w,l&&l({action:o,location:S.location,delta:E})}function p(w,E){o="PUSH";let k=uH(w)?w:q5(S.location,w,E);c=f()+1;let R=fH(k,c),O=S.createHref(k.unstable_mask||k);try{a.pushState(R,"",O)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(O)}s&&l&&l({action:o,location:S.location,delta:1})}function g(w,E){o="REPLACE";let k=uH(w)?w:q5(S.location,w,E);c=f();let R=fH(k,c),O=S.createHref(k.unstable_mask||k);a.replaceState(R,"",O),s&&l&&l({action:o,location:S.location,delta:0})}function b(w){return ohe(w)}let S={get action(){return o},get location(){return n(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(cH,d),l=w,()=>{i.removeEventListener(cH,d),l=null}},createHref(w){return e(i,w)},createURL:b,encodeLocation(w){let E=b(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:p,replace:g,go(w){return a.go(w)}};return S}function ohe(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),zi(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:QM(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function dQ(n,e,t="/"){return lhe(n,e,t,!1)}function lhe(n,e,t,r){let i=typeof e=="string"?xw(e):e,s=Ip(i.pathname||"/",t);if(s==null)return null;let a=hQ(n);che(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=bhe(s);o=vhe(a[l],c,r)}return o}function hQ(n,e=[],t=[],r="",i=!1){let s=(a,o,l=i,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&l)return;zi(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let d=Xd([r,f.relativePath]),p=t.concat(f);a.children&&a.children.length>0&&(zi(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),hQ(a.children,e,p,d,l)),!(a.path==null&&!a.index)&&e.push({path:d,score:ghe(d,a.index),routesMeta:p})};return n.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of pQ(a.path))s(a,o,!0,c)}),e}function pQ(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=pQ(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function che(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:yhe(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var uhe=/^:[\w-]+$/,fhe=3,dhe=2,hhe=1,phe=10,mhe=-2,dH=n=>n==="*";function ghe(n,e){let t=n.split("/"),r=t.length;return t.some(dH)&&(r+=mhe),e&&(r+=dhe),t.filter(i=>!dH(i)).reduce((i,s)=>i+(uhe.test(s)?fhe:s===""?hhe:phe),r)}function yhe(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function vhe(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=_2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),p=l.route;if(!d&&c&&t&&!r[r.length-1].route.index&&(d=_2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},f)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:Xd([s,d.pathname]),pathnameBase:Ehe(Xd([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=Xd([s,d.pathnameBase]))}return a}function _2(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xhe(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:d},p)=>{if(f==="*"){let b=o[p]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const g=o[p];return d&&!g?c[f]=void 0:c[f]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:n}}function xhe(n,e=!1,t=!0){Tu(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l,c,f)=>{if(r.push({paramName:o,isOptional:l!=null}),l){let d=f.charAt(c+a.length);return d&&d!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bhe(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tu(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ip(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var _he=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function whe(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?xw(n):n,s;return t?(t=t.replace(/\/\/+/g,"/"),t.startsWith("/")?s=hH(t.substring(1),"/"):s=hH(t,e)):s=e,{pathname:s,search:Mhe(r),hash:Ahe(i)}}function hH(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function eN(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function She(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function KF(n){let e=She(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function iD(n,e,t,r=!1){let i;typeof n=="string"?i=xw(n):(i={...n},zi(!i.pathname||!i.pathname.includes("?"),eN("?","pathname","search",i)),zi(!i.pathname||!i.pathname.includes("#"),eN("#","pathname","hash",i)),zi(!i.search||!i.search.includes("#"),eN("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let d=e.length-1;if(!r&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;i.pathname=p.join("/")}o=d>=0?e[d]:"/"}let l=whe(i,o),c=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}var Xd=n=>n.join("/").replace(/\/\/+/g,"/"),Ehe=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Mhe=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Ahe=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,The=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Che(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function khe(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var mQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gQ(n,e){let t=n;if(typeof t!="string"||!_he.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(mQ)try{let s=new URL(window.location.href),a=t.startsWith("//")?new URL(s.protocol+t):new URL(t),o=Ip(a.pathname,e);a.origin===s.origin&&o!=null?t=o+a.search+a.hash:i=!0}catch{Tu(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var yQ=["POST","PUT","PATCH","DELETE"];new Set(yQ);var Rhe=["GET",...yQ];new Set(Rhe);var bw=L.createContext(null);bw.displayName="DataRouter";var sD=L.createContext(null);sD.displayName="DataRouterState";var Ohe=L.createContext(!1),vQ=L.createContext({isTransitioning:!1});vQ.displayName="ViewTransition";var Phe=L.createContext(new Map);Phe.displayName="Fetchers";var Dhe=L.createContext(null);Dhe.displayName="Await";var Ac=L.createContext(null);Ac.displayName="Navigation";var yT=L.createContext(null);yT.displayName="Location";var Iu=L.createContext({outlet:null,matches:[],isDataRoute:!1});Iu.displayName="Route";var JF=L.createContext(null);JF.displayName="RouteError";var xQ="REACT_ROUTER_ERROR",Ihe="REDIRECT",Nhe="ROUTE_ERROR_RESPONSE";function Lhe(n){if(n.startsWith(`${xQ}:${Ihe}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Bhe(n){if(n.startsWith(`${xQ}:${Nhe}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new The(e.status,e.statusText,e.data)}catch{}}function Fhe(n,{relative:e}={}){zi(_w(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=L.useContext(Ac),{hash:i,pathname:s,search:a}=vT(n,{relative:e}),o=s;return t!=="/"&&(o=s==="/"?t:Xd([t,s])),r.createHref({pathname:o,search:a,hash:i})}function _w(){return L.useContext(yT)!=null}function Tc(){return zi(_w(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(yT).location}var bQ="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _Q(n){L.useContext(Ac).static||L.useLayoutEffect(n)}function fx(){let{isDataRoute:n}=L.useContext(Iu);return n?Qhe():zhe()}function zhe(){zi(_w(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(bw),{basename:e,navigator:t}=L.useContext(Ac),{matches:r}=L.useContext(Iu),{pathname:i}=Tc(),s=JSON.stringify(KF(r)),a=L.useRef(!1);return _Q(()=>{a.current=!0}),L.useCallback((l,c={})=>{if(Tu(a.current,bQ),!a.current)return;if(typeof l=="number"){t.go(l);return}let f=iD(l,JSON.parse(s),i,c.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xd([e,f.pathname])),(c.replace?t.replace:t.push)(f,c.state,c)},[e,t,s,i,n])}var Uhe=L.createContext(null);function jhe(n){let e=L.useContext(Iu).outlet;return L.useMemo(()=>e&&L.createElement(Uhe.Provider,{value:n},e),[e,n])}function aD(){let{matches:n}=L.useContext(Iu),e=n[n.length-1];return e?e.params:{}}function vT(n,{relative:e}={}){let{matches:t}=L.useContext(Iu),{pathname:r}=Tc(),i=JSON.stringify(KF(t));return L.useMemo(()=>iD(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function Hhe(n,e){return wQ(n,e)}function wQ(n,e,t){var w;zi(_w(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=L.useContext(Ac),{matches:i}=L.useContext(Iu),s=i[i.length-1],a=s?s.params:{},o=s?s.pathname:"/",l=s?s.pathnameBase:"/",c=s&&s.route;{let E=c&&c.path||"";EQ(o,!c||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let f=Tc(),d;if(e){let E=typeof e=="string"?xw(e):e;zi(l==="/"||((w=E.pathname)==null?void 0:w.startsWith(l)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${l}" but pathname "${E.pathname}" was given in the \`location\` prop.`),d=E}else d=f;let p=d.pathname||"/",g=p;if(l!=="/"){let E=l.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(E.length).join("/")}let b=dQ(n,{pathname:g});Tu(c||b!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Tu(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=qhe(b&&b.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Xd([l,r.encodeLocation?r.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Xd([l,r.encodeLocation?r.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),i,t);return e&&S?L.createElement(yT.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...d},navigationType:"POP"}},S):S}function Vhe(){let n=Zhe(),e=Che(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},a=null;return console.error("Error handled by React Router default ErrorBoundary:",n),a=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:s},"ErrorBoundary")," or"," ",L.createElement("code",{style:s},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),t?L.createElement("pre",{style:i},t):null,a)}var Whe=L.createElement(Vhe,null),SQ=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=Bhe(n.digest);t&&(n=t)}let e=n!==void 0?L.createElement(Iu.Provider,{value:this.props.routeContext},L.createElement(JF.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?L.createElement($he,{error:n},e):e}};SQ.contextType=Ohe;var tN=new WeakMap;function $he({children:n,error:e}){let{basename:t}=L.useContext(Ac);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=Lhe(e.digest);if(r){let i=tN.get(e);if(i)throw i;let s=gQ(r.location,t);if(mQ&&!tN.get(e))if(s.isExternal||r.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const a=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:r.replace}));throw tN.set(e,a),a}return L.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function Ghe({routeContext:n,match:e,children:t}){let r=L.useContext(bw);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Iu.Provider,{value:n},t)}function qhe(n,e=[],t){let r=t==null?void 0:t.state;if(n==null){if(!r)return null;if(r.errors)n=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)n=r.matches;else return null}let i=n,s=r==null?void 0:r.errors;if(s!=null){let f=i.findIndex(d=>d.route.id&&(s==null?void 0:s[d.route.id])!==void 0);zi(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let a=!1,o=-1;if(t&&r){a=r.renderFallback;for(let f=0;f<i.length;f++){let d=i[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(o=f),d.route.id){let{loaderData:p,errors:g}=r,b=d.route.loader&&!p.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||b){t.isStatic&&(a=!0),o>=0?i=i.slice(0,o+1):i=[i[0]];break}}}}let l=t==null?void 0:t.onError,c=r&&l?(f,d)=>{var p,g;l(f,{location:r.location,params:((g=(p=r.matches)==null?void 0:p[0])==null?void 0:g.params)??{},unstable_pattern:khe(r.matches),errorInfo:d})}:void 0;return i.reduceRight((f,d,p)=>{let g,b=!1,S=null,w=null;r&&(g=s&&d.route.id?s[d.route.id]:void 0,S=d.route.errorElement||Whe,a&&(o<0&&p===0?(EQ("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,w=null):o===p&&(b=!0,w=d.route.hydrateFallbackElement||null)));let E=e.concat(i.slice(0,p+1)),k=()=>{let R;return g?R=S:b?R=w:d.route.Component?R=L.createElement(d.route.Component,null):d.route.element?R=d.route.element:R=f,L.createElement(Ghe,{match:d,routeContext:{outlet:f,matches:E,isDataRoute:r!=null},children:R})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?L.createElement(SQ,{location:r.location,revalidation:r.revalidation,component:S,error:g,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:c}):k()},null)}function ZF(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yhe(n){let e=L.useContext(bw);return zi(e,ZF(n)),e}function Xhe(n){let e=L.useContext(sD);return zi(e,ZF(n)),e}function Khe(n){let e=L.useContext(Iu);return zi(e,ZF(n)),e}function QF(n){let e=Khe(n),t=e.matches[e.matches.length-1];return zi(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Jhe(){return QF("useRouteId")}function Zhe(){var r;let n=L.useContext(JF),e=Xhe("useRouteError"),t=QF("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Qhe(){let{router:n}=Yhe("useNavigate"),e=QF("useNavigate"),t=L.useRef(!1);return _Q(()=>{t.current=!0}),L.useCallback(async(i,s={})=>{Tu(t.current,bQ),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var pH={};function EQ(n,e,t){!e&&!pH[n]&&(pH[n]=!0,Tu(!1,t))}L.memo(epe);function epe({routes:n,future:e,state:t,isStatic:r,onError:i}){return wQ(n,void 0,{state:t,isStatic:r,onError:i})}function tpe({to:n,replace:e,state:t,relative:r}){zi(_w(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=L.useContext(Ac);Tu(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=L.useContext(Iu),{pathname:a}=Tc(),o=fx(),l=iD(n,KF(s),a,r==="path"),c=JSON.stringify(l);return L.useEffect(()=>{o(JSON.parse(c),{replace:e,state:t,relative:r})},[o,c,r,e,t]),null}function MQ(n){return jhe(n.context)}function ma(n){zi(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function npe({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1,unstable_useTransitions:a}){zi(!_w(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=n.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:o,navigator:i,static:s,unstable_useTransitions:a,future:{}}),[o,i,s,a]);typeof t=="string"&&(t=xw(t));let{pathname:c="/",search:f="",hash:d="",state:p=null,key:g="default",unstable_mask:b}=t,S=L.useMemo(()=>{let w=Ip(c,o);return w==null?null:{location:{pathname:w,search:f,hash:d,state:p,key:g,unstable_mask:b},navigationType:r}},[o,c,f,d,p,g,r,b]);return Tu(S!=null,`<Router basename="${o}"> is not able to match the URL "${c}${f}${d}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:L.createElement(Ac.Provider,{value:l},L.createElement(yT.Provider,{children:e,value:S}))}function rpe({children:n,location:e}){return Hhe(Y5(n),e)}function Y5(n,e=[]){let t=[];return L.Children.forEach(n,(r,i)=>{if(!L.isValidElement(r))return;let s=[...e,i];if(r.type===L.Fragment){t.push.apply(t,Y5(r.props.children,s));return}zi(r.type===ma,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),zi(!r.props.index||!r.props.children,"An index route cannot have child routes.");let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Y5(r.props.children,s)),t.push(a)}),t}var LR="get",BR="application/x-www-form-urlencoded";function oD(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function ipe(n){return oD(n)&&n.tagName.toLowerCase()==="button"}function spe(n){return oD(n)&&n.tagName.toLowerCase()==="form"}function ape(n){return oD(n)&&n.tagName.toLowerCase()==="input"}function ope(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lpe(n,e){return n.button===0&&(!e||e==="_self")&&!ope(n)}function X5(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(i=>[t,i]):[[t,r]])},[]))}function cpe(n,e){let t=X5(n);return e&&e.forEach((r,i)=>{t.has(i)||e.getAll(i).forEach(s=>{t.append(i,s)})}),t}var W3=null;function upe(){if(W3===null)try{new FormData(document.createElement("form"),0),W3=!1}catch{W3=!0}return W3}var fpe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nN(n){return n!=null&&!fpe.has(n)?(Tu(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${BR}"`),null):n}function dpe(n,e){let t,r,i,s,a;if(spe(n)){let o=n.getAttribute("action");r=o?Ip(o,e):null,t=n.getAttribute("method")||LR,i=nN(n.getAttribute("enctype"))||BR,s=new FormData(n)}else if(ipe(n)||ape(n)&&(n.type==="submit"||n.type==="image")){let o=n.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=n.getAttribute("formaction")||o.getAttribute("action");if(r=l?Ip(l,e):null,t=n.getAttribute("formmethod")||o.getAttribute("method")||LR,i=nN(n.getAttribute("formenctype"))||nN(o.getAttribute("enctype"))||BR,s=new FormData(o,n),!upe()){let{name:c,type:f,value:d}=n;if(f==="image"){let p=c?`${c}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else c&&s.append(c,d)}}else{if(oD(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=LR,r=null,i=BR,a=n}return s&&i==="text/plain"&&(a=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function ez(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hpe(n,e,t,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&Ip(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function ppe(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mpe(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gpe(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let a=await ppe(s,t);return a.links?a.links():[]}return[]}));return bpe(r.flat(1).filter(mpe).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function mH(n,e,t,r,i,s){let a=(l,c)=>t[c]?l.route.id!==t[c].route.id:!0,o=(l,c)=>{var f;return t[c].pathname!==l.pathname||((f=t[c].route.path)==null?void 0:f.endsWith("*"))&&t[c].params["*"]!==l.params["*"]};return s==="assets"?e.filter((l,c)=>a(l,c)||o(l,c)):s==="data"?e.filter((l,c)=>{var d;let f=r.routes[l.route.id];if(!f||!f.hasLoader)return!1;if(a(l,c)||o(l,c))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function ype(n,e,{includeHydrateFallback:t}={}){return vpe(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function vpe(n){return[...new Set(n)]}function xpe(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bpe(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(xpe(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function AQ(){let n=L.useContext(bw);return ez(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _pe(){let n=L.useContext(sD);return ez(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var tz=L.createContext(void 0);tz.displayName="FrameworkContext";function TQ(){let n=L.useContext(tz);return ez(n,"You must render this element inside a <HydratedRouter> element"),n}function wpe(n,e){let t=L.useContext(tz),[r,i]=L.useState(!1),[s,a]=L.useState(!1),{onFocus:o,onBlur:l,onMouseEnter:c,onMouseLeave:f,onTouchStart:d}=e,p=L.useRef(null);L.useEffect(()=>{if(n==="render"&&a(!0),n==="viewport"){let S=E=>{E.forEach(k=>{a(k.isIntersecting)})},w=new IntersectionObserver(S,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[n]),L.useEffect(()=>{if(r){let S=setTimeout(()=>{a(!0)},100);return()=>{clearTimeout(S)}}},[r]);let g=()=>{i(!0)},b=()=>{i(!1),a(!1)};return t?n!=="intent"?[s,p,{}]:[s,p,{onFocus:AE(o,g),onBlur:AE(l,b),onMouseEnter:AE(c,g),onMouseLeave:AE(f,b),onTouchStart:AE(d,g)}]:[!1,p,{}]}function AE(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Spe({page:n,...e}){let{router:t}=AQ(),r=L.useMemo(()=>dQ(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?L.createElement(Mpe,{page:n,matches:r,...e}):null}function Epe(n){let{manifest:e,routeModules:t}=TQ(),[r,i]=L.useState([]);return L.useEffect(()=>{let s=!1;return gpe(n,e,t).then(a=>{s||i(a)}),()=>{s=!0}},[n,e,t]),r}function Mpe({page:n,matches:e,...t}){let r=Tc(),{future:i,manifest:s,routeModules:a}=TQ(),{basename:o}=AQ(),{loaderData:l,matches:c}=_pe(),f=L.useMemo(()=>mH(n,e,c,s,r,"data"),[n,e,c,s,r]),d=L.useMemo(()=>mH(n,e,c,s,r,"assets"),[n,e,c,s,r]),p=L.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let S=new Set,w=!1;if(e.forEach(k=>{var O;let R=s.routes[k.route.id];!R||!R.hasLoader||(!f.some(D=>D.route.id===k.route.id)&&k.route.id in l&&((O=a[k.route.id])!=null&&O.shouldRevalidate)||R.hasClientLoader?w=!0:S.add(k.route.id))}),S.size===0)return[];let E=hpe(n,o,i.unstable_trailingSlashAwareDataRequests,"data");return w&&S.size>0&&E.searchParams.set("_routes",e.filter(k=>S.has(k.route.id)).map(k=>k.route.id).join(",")),[E.pathname+E.search]},[o,i.unstable_trailingSlashAwareDataRequests,l,r,s,f,e,n,a]),g=L.useMemo(()=>ype(d,s),[d,s]),b=Epe(d);return L.createElement(L.Fragment,null,p.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...t})),g.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...t})),b.map(({key:S,link:w})=>L.createElement("link",{key:S,nonce:t.nonce,...w,crossOrigin:w.crossOrigin??t.crossOrigin})))}function Ape(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Tpe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Tpe&&(window.__reactRouterVersion="7.13.1")}catch{}function Cpe({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=L.useRef();i.current==null&&(i.current=ihe({window:r,v5Compat:!0}));let s=i.current,[a,o]=L.useState({action:s.action,location:s.location}),l=L.useCallback(c=>{t===!1?o(c):L.startTransition(()=>o(c))},[t]);return L.useLayoutEffect(()=>s.listen(l),[s,l]),L.createElement(npe,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s,unstable_useTransitions:t})}var CQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_r=L.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:a,unstable_mask:o,state:l,target:c,to:f,preventScrollReset:d,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},S){let{basename:w,navigator:E,unstable_useTransitions:k}=L.useContext(Ac),R=typeof f=="string"&&CQ.test(f),O=gQ(f,w);f=O.to;let D=Fhe(f,{relative:i}),I=Tc(),B=null;if(o){let ne=iD(o,[],I.unstable_mask?I.unstable_mask.pathname:"/",!0);w!=="/"&&(ne.pathname=ne.pathname==="/"?w:Xd([w,ne.pathname])),B=E.createHref(ne)}let[z,V,Y]=wpe(r,b),q=Ppe(f,{replace:a,unstable_mask:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:k});function J(ne){e&&e(ne),ne.defaultPrevented||q(ne)}let re=!(O.isExternal||s),fe=L.createElement("a",{...b,...Y,href:(re?B:void 0)||O.absoluteURL||D,onClick:re?J:e,ref:Ape(S,V),target:c,"data-discover":!R&&t==="render"?"true":void 0});return z&&!R?L.createElement(L.Fragment,null,fe,L.createElement(Spe,{page:D})):fe});_r.displayName="Link";var kpe=L.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:a,viewTransition:o,children:l,...c},f){let d=vT(a,{relative:c.relative}),p=Tc(),g=L.useContext(sD),{navigator:b,basename:S}=L.useContext(Ac),w=g!=null&&Fpe(d)&&o===!0,E=b.encodeLocation?b.encodeLocation(d).pathname:d.pathname,k=p.pathname,R=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;t||(k=k.toLowerCase(),R=R?R.toLowerCase():null,E=E.toLowerCase()),R&&S&&(R=Ip(R,S)||R);const O=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let D=k===E||!i&&k.startsWith(E)&&k.charAt(O)==="/",I=R!=null&&(R===E||!i&&R.startsWith(E)&&R.charAt(E.length)==="/"),B={isActive:D,isPending:I,isTransitioning:w},z=D?e:void 0,V;typeof r=="function"?V=r(B):V=[r,D?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let Y=typeof s=="function"?s(B):s;return L.createElement(_r,{...c,"aria-current":z,className:V,ref:f,style:Y,to:a,viewTransition:o},typeof l=="function"?l(B):l)});kpe.displayName="NavLink";var Rpe=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:a=LR,action:o,onSubmit:l,relative:c,preventScrollReset:f,viewTransition:d,unstable_defaultShouldRevalidate:p,...g},b)=>{let{unstable_useTransitions:S}=L.useContext(Ac),w=Lpe(),E=Bpe(o,{relative:c}),k=a.toLowerCase()==="get"?"get":"post",R=typeof o=="string"&&CQ.test(o),O=D=>{if(l&&l(D),D.defaultPrevented)return;D.preventDefault();let I=D.nativeEvent.submitter,B=(I==null?void 0:I.getAttribute("formmethod"))||a,z=()=>w(I||D.currentTarget,{fetcherKey:e,method:B,navigate:t,replace:i,state:s,relative:c,preventScrollReset:f,viewTransition:d,unstable_defaultShouldRevalidate:p});S&&t!==!1?L.startTransition(()=>z()):z()};return L.createElement("form",{ref:b,method:k,action:E,onSubmit:r?l:O,...g,"data-discover":!R&&n==="render"?"true":void 0})});Rpe.displayName="Form";function Ope(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kQ(n){let e=L.useContext(bw);return zi(e,Ope(n)),e}function Ppe(n,{target:e,replace:t,unstable_mask:r,state:i,preventScrollReset:s,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let f=fx(),d=Tc(),p=vT(n,{relative:a});return L.useCallback(g=>{if(lpe(g,e)){g.preventDefault();let b=t!==void 0?t:QM(d)===QM(p),S=()=>f(n,{replace:b,unstable_mask:r,state:i,preventScrollReset:s,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l});c?L.startTransition(()=>S()):S()}},[d,f,p,t,r,i,e,n,s,a,o,l,c])}function Dpe(n){Tu(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(X5(n)),t=L.useRef(!1),r=Tc(),i=L.useMemo(()=>cpe(r.search,t.current?null:e.current),[r.search]),s=fx(),a=L.useCallback((o,l)=>{const c=X5(typeof o=="function"?o(new URLSearchParams(i)):o);t.current=!0,s("?"+c,l)},[s,i]);return[i,a]}var Ipe=0,Npe=()=>`__${String(++Ipe)}__`;function Lpe(){let{router:n}=kQ("useSubmit"),{basename:e}=L.useContext(Ac),t=Jhe(),r=n.fetch,i=n.navigate;return L.useCallback(async(s,a={})=>{let{action:o,method:l,encType:c,formData:f,body:d}=dpe(s,e);if(a.navigate===!1){let p=a.fetcherKey||Npe();await r(p,t,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:f,body:d,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,e,t])}function Bpe(n,{relative:e}={}){let{basename:t}=L.useContext(Ac),r=L.useContext(Iu);zi(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...vT(n||".",{relative:e})},a=Tc();if(n==null){s.search=a.search;let o=new URLSearchParams(s.search),l=o.getAll("index");if(l.some(f=>f==="")){o.delete("index"),l.filter(d=>d).forEach(d=>o.append("index",d));let f=o.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Xd([t,s.pathname])),QM(s)}function Fpe(n,{relative:e}={}){let t=L.useContext(vQ);zi(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=kQ("useViewTransitionState"),i=vT(n,{relative:e});if(!t.isTransitioning)return!1;let s=Ip(t.currentLocation.pathname,r)||t.currentLocation.pathname,a=Ip(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _2(i.pathname,a)!=null||_2(i.pathname,s)!=null}var lD=fQ();const zpe=Mc(lD);let Upe={data:""},jpe=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||Upe},Hpe=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Vpe=/\/\*[^]*?\*\/|  +/g,gH=/\n+/g,g0=(n,e)=>{let t="",r="",i="";for(let s in n){let a=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+a+";":r+=s[1]=="f"?g0(a,s):s+"{"+g0(a,s[1]=="k"?"":e)+"}":typeof a=="object"?r+=g0(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=g0.p?g0.p(s,a):s+":"+a+";")}return t+(e&&i?e+"{"+i+"}":i)+r},qh={},RQ=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+RQ(n[t]);return e}return n},Wpe=(n,e,t,r,i)=>{let s=RQ(n),a=qh[s]||(qh[s]=(l=>{let c=0,f=11;for(;c<l.length;)f=101*f+l.charCodeAt(c++)>>>0;return"go"+f})(s));if(!qh[a]){let l=s!==n?n:(c=>{let f,d,p=[{}];for(;f=Hpe.exec(c.replace(Vpe,""));)f[4]?p.shift():f[3]?(d=f[3].replace(gH," ").trim(),p.unshift(p[0][d]=p[0][d]||{})):p[0][f[1]]=f[2].replace(gH," ").trim();return p[0]})(n);qh[a]=g0(i?{["@keyframes "+a]:l}:l,t?"":"."+a)}let o=t&&qh.g?qh.g:null;return t&&(qh.g=qh[a]),((l,c,f,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=f?l+c.data:c.data+l)})(qh[a],e,r,o),a},$pe=(n,e,t)=>n.reduce((r,i,s)=>{let a=e[s];if(a&&a.call){let o=a(t),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":g0(o,""):o===!1?"":o}return r+i+(a??"")},"");function cD(n){let e=this||{},t=n.call?n(e.p):n;return Wpe(t.unshift?t.raw?$pe(t,[].slice.call(arguments,1),e.p):t.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):t,jpe(e.target),e.g,e.o,e.k)}let OQ,K5,J5;cD.bind({g:1});let Np=cD.bind({k:1});function Gpe(n,e,t,r){g0.p=e,OQ=n,K5=t,J5=r}function lg(n,e){let t=this||{};return function(){let r=arguments;function i(s,a){let o=Object.assign({},s),l=o.className||i.className;t.p=Object.assign({theme:K5&&K5()},o),t.o=/ *go\d+/.test(l),o.className=cD.apply(t,r)+(l?" "+l:"");let c=n;return n[0]&&(c=o.as||n,delete o.as),J5&&c[0]&&J5(o),OQ(c,o)}return i}}var qpe=n=>typeof n=="function",w2=(n,e)=>qpe(n)?n(e):n,Ype=(()=>{let n=0;return()=>(++n).toString()})(),PQ=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),Xpe=20,nz="default",DQ=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return DQ(n,{type:n.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(a=>a.id===i||i===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},FR=[],IQ={toasts:[],pausedAt:void 0,settings:{toastLimit:Xpe}},Hd={},NQ=(n,e=nz)=>{Hd[e]=DQ(Hd[e]||IQ,n),FR.forEach(([t,r])=>{t===e&&r(Hd[e])})},LQ=n=>Object.keys(Hd).forEach(e=>NQ(n,e)),Kpe=n=>Object.keys(Hd).find(e=>Hd[e].toasts.some(t=>t.id===n)),uD=(n=nz)=>e=>{NQ(e,n)},Jpe={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Zpe=(n={},e=nz)=>{let[t,r]=L.useState(Hd[e]||IQ),i=L.useRef(Hd[e]);L.useEffect(()=>(i.current!==Hd[e]&&r(Hd[e]),FR.push([e,r]),()=>{let a=FR.findIndex(([o])=>o===e);a>-1&&FR.splice(a,1)}),[e]);let s=t.toasts.map(a=>{var o,l,c;return{...n,...n[a.type],...a,removeDelay:a.removeDelay||((o=n[a.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:a.duration||((l=n[a.type])==null?void 0:l.duration)||(n==null?void 0:n.duration)||Jpe[a.type],style:{...n.style,...(c=n[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:s}},Qpe=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||Ype()}),xT=n=>(e,t)=>{let r=Qpe(e,n,t);return uD(r.toasterId||Kpe(r.id))({type:2,toast:r}),r.id},na=(n,e)=>xT("blank")(n,e);na.error=xT("error");na.success=xT("success");na.loading=xT("loading");na.custom=xT("custom");na.dismiss=(n,e)=>{let t={type:3,toastId:n};e?uD(e)(t):LQ(t)};na.dismissAll=n=>na.dismiss(void 0,n);na.remove=(n,e)=>{let t={type:4,toastId:n};e?uD(e)(t):LQ(t)};na.removeAll=n=>na.remove(void 0,n);na.promise=(n,e,t)=>{let r=na.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(i=>{let s=e.success?w2(e.success,i):void 0;return s?na.success(s,{id:r,...t,...t==null?void 0:t.success}):na.dismiss(r),i}).catch(i=>{let s=e.error?w2(e.error,i):void 0;s?na.error(s,{id:r,...t,...t==null?void 0:t.error}):na.dismiss(r)}),n};var eme=1e3,tme=(n,e="default")=>{let{toasts:t,pausedAt:r}=Zpe(n,e),i=L.useRef(new Map).current,s=L.useCallback((d,p=eme)=>{if(i.has(d))return;let g=setTimeout(()=>{i.delete(d),a({type:4,toastId:d})},p);i.set(d,g)},[]);L.useEffect(()=>{if(r)return;let d=Date.now(),p=t.map(g=>{if(g.duration===1/0)return;let b=(g.duration||0)+g.pauseDuration-(d-g.createdAt);if(b<0){g.visible&&na.dismiss(g.id);return}return setTimeout(()=>na.dismiss(g.id,e),b)});return()=>{p.forEach(g=>g&&clearTimeout(g))}},[t,r,e]);let a=L.useCallback(uD(e),[e]),o=L.useCallback(()=>{a({type:5,time:Date.now()})},[a]),l=L.useCallback((d,p)=>{a({type:1,toast:{id:d,height:p}})},[a]),c=L.useCallback(()=>{r&&a({type:6,time:Date.now()})},[r,a]),f=L.useCallback((d,p)=>{let{reverseOrder:g=!1,gutter:b=8,defaultPosition:S}=p||{},w=t.filter(R=>(R.position||S)===(d.position||S)&&R.height),E=w.findIndex(R=>R.id===d.id),k=w.filter((R,O)=>O<E&&R.visible).length;return w.filter(R=>R.visible).slice(...g?[k+1]:[0,k]).reduce((R,O)=>R+(O.height||0)+b,0)},[t]);return L.useEffect(()=>{t.forEach(d=>{if(d.dismissed)s(d.id,d.removeDelay);else{let p=i.get(d.id);p&&(clearTimeout(p),i.delete(d.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:l,startPause:o,endPause:c,calculateOffset:f}}},nme=Np`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,rme=Np`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ime=Np`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sme=lg("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nme} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${rme} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ime} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ame=Np`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ome=lg("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${ame} 1s linear infinite;
`,lme=Np`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,cme=Np`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,ume=lg("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lme} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${cme} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,fme=lg("div")`
  position: absolute;
`,dme=lg("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hme=Np`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,pme=lg("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hme} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mme=({toast:n})=>{let{icon:e,type:t,iconTheme:r}=n;return e!==void 0?typeof e=="string"?L.createElement(pme,null,e):e:t==="blank"?null:L.createElement(dme,null,L.createElement(ome,{...r}),t!=="loading"&&L.createElement(fme,null,t==="error"?L.createElement(sme,{...r}):L.createElement(ume,{...r})))},gme=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yme=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,vme="0%{opacity:0;} 100%{opacity:1;}",xme="0%{opacity:1;} 100%{opacity:0;}",bme=lg("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_me=lg("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wme=(n,e)=>{let t=n.includes("top")?1:-1,[r,i]=PQ()?[vme,xme]:[gme(t),yme(t)];return{animation:e?`${Np(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Np(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Sme=L.memo(({toast:n,position:e,style:t,children:r})=>{let i=n.height?wme(n.position||e||"top-center",n.visible):{opacity:0},s=L.createElement(mme,{toast:n}),a=L.createElement(_me,{...n.ariaProps},w2(n.message,n));return L.createElement(bme,{className:n.className,style:{...i,...t,...n.style}},typeof r=="function"?r({icon:s,message:a}):L.createElement(L.Fragment,null,s,a))});Gpe(L.createElement);var Eme=({id:n,className:e,style:t,onHeightUpdate:r,children:i})=>{let s=L.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;r(n,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[n,r]);return L.createElement("div",{ref:s,className:e,style:t},i)},Mme=(n,e)=>{let t=n.includes("top"),r=t?{top:0}:{bottom:0},i=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PQ()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...r,...i}},Ame=cD`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$3=16,Tme=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:r,children:i,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=tme(t,s);return L.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:$3,left:$3,right:$3,bottom:$3,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(f=>{let d=f.position||e,p=c.calculateOffset(f,{reverseOrder:n,gutter:r,defaultPosition:e}),g=Mme(d,p);return L.createElement(Eme,{id:f.id,key:f.id,onHeightUpdate:c.updateHeight,className:f.visible?Ame:"",style:g},f.type==="custom"?w2(f.message,f):i?i(f):L.createElement(Sme,{toast:f,position:d}))}))},fi=na;/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kme=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),yH=n=>{const e=kme(n);return e.charAt(0).toUpperCase()+e.slice(1)},BQ=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),Rme=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ome={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=L.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>L.createElement("svg",{ref:l,...Ome,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:BQ("lucide",i),...!s&&!Rme(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,f])=>L.createElement(c,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=(n,e)=>{const t=L.forwardRef(({className:r,...i},s)=>L.createElement(Pme,{ref:s,iconNode:e,className:BQ(`lucide-${Cme(yH(n))}`,`lucide-${n}`,r),...i}));return t.displayName=yH(n),t};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ime=cn("arrow-left",Dme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],fD=cn("arrow-right",Nme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Z5=cn("arrow-up-right",Lme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Fme=cn("award",Bme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ume=cn("book-open",zme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],vH=cn("brain",jme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],F_=cn("briefcase",Hme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Q5=cn("calendar",Vme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],$me=cn("camera",Wme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],qme=cn("chart-line",Gme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],FQ=cn("check",Yme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],rz=cn("chevron-down",Xme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Jme=cn("circle-alert",Kme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zme=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ef=cn("circle-check-big",Zme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],eA=cn("circle-check",Qme);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iz=cn("clock",e0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],zQ=cn("code-xml",t0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],r0e=cn("copy",n0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sz=cn("dollar-sign",i0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0e=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Wy=cn("external-link",s0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$v=cn("file-text",a0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0e=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],dD=cn("github",o0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],z_=cn("globe",l0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0e=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],u0e=cn("house",c0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0e=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],d0e=cn("layers",f0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0e=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],az=cn("linkedin",h0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ov=cn("loader-circle",p0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0e=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],g0e=cn("lock",m0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],v0e=cn("log-out",y0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],e8=cn("map-pin",x0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0e=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],_0e=cn("menu",b0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0e=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],S0e=cn("message-circle",w0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],xH=cn("moon",E0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],A0e=cn("pen-tool",M0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],UQ=cn("plus",T0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],k0e=cn("refresh-ccw",C0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0e=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],O0e=cn("refresh-cw",R0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0e=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bH=cn("save",P0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rN=cn("search",D0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0e=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],t8=cn("send",I0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jQ=cn("shield-check",N0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],zR=cn("shield",L0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Pv=cn("star",B0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_H=cn("sun",F0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],U0e=cn("tag",z0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],H0e=cn("trash-2",j0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0e=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],W0e=cn("trending-up",V0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oz=cn("triangle-alert",$0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0e=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],q0e=cn("twitter",G0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],U_=cn("user",Y0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0e=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],HQ=cn("users",X0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0e=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],J0e=cn("video",K0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0e=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],n8=cn("wallet",Z0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],ege=cn("wrench",Q0e);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tge=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lz=cn("x",tge);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nge=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hD=cn("zap",nge);let rge=class extends L.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Uncaught error:",e,t)}render(){return this.state.hasError?T.jsx("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 24px",background:"var(--bg-base)",color:"var(--text-primary)",textAlign:"center"},children:T.jsxs("div",{className:"glass-card",style:{padding:48,maxWidth:500},children:[T.jsx("div",{style:{width:80,height:80,borderRadius:20,background:"rgba(239, 68, 68, 0.1)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ef4444",marginBottom:24,margin:"0 auto 24px"},children:T.jsx(oz,{size:40})}),T.jsx("h1",{style:{fontSize:24,fontWeight:700,marginBottom:16},children:"Interface Error"}),T.jsxs("p",{style:{color:"var(--text-secondary)",lineHeight:1.6,marginBottom:32},children:["A rendering error occurred in this view. This is likely due to a temporary data inconsistency.",this.state.error&&T.jsx("div",{style:{marginTop:16,padding:"12px 16px",background:"rgba(0,0,0,0.3)",borderRadius:8,fontSize:12,fontFamily:"var(--font-mono)",textAlign:"left",overflowX:"auto",border:"1px solid var(--border-subtle)"},children:this.state.error.message})]}),T.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center"},children:[T.jsxs("button",{onClick:()=>window.location.reload(),className:"btn-primary",style:{display:"flex",alignItems:"center",gap:8},children:[T.jsx(O0e,{size:16})," Reload Page"]}),T.jsxs("a",{href:"/",className:"btn-secondary",style:{display:"flex",alignItems:"center",gap:8,textDecoration:"none"},children:[T.jsx(u0e,{size:16})," Go Home"]})]})]})}):this.props.children}};const VQ=L.createContext({isDemo:!1,demoAddress:"",enterDemo:()=>{},exitDemo:()=>{},demoRole:null}),Xo="0x742d35Cc6634C0532925a3b844Bc454e4438f44e",zl="0xA94F5374Fce5edBC8E2a8697C15331677e6EbF0B",iN="qw_demo",sN="qw_demo_role";function ige({children:n}){const[e,t]=L.useState(()=>localStorage.getItem(iN)==="true"),[r,i]=L.useState(()=>localStorage.getItem(sN)),s=L.useCallback(l=>{t(!0),i(l),localStorage.setItem(iN,"true"),localStorage.setItem(sN,l)},[]),a=L.useCallback(()=>{t(!1),i(null),localStorage.removeItem(iN),localStorage.removeItem(sN)},[]),o=r==="client"?Xo:zl;return T.jsx(VQ.Provider,{value:{isDemo:e,demoAddress:o,enterDemo:s,exitDemo:a,demoRole:r},children:n})}const ww=()=>L.useContext(VQ),WQ=L.createContext({theme:"dark",toggleTheme:()=>{}});function sge({children:n}){const[e,t]=L.useState(()=>{const i=localStorage.getItem("qw_theme");return i==="light"||i==="dark"?i:"dark"});L.useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("qw_theme",e)},[e]);const r=L.useCallback(()=>{t(i=>i==="dark"?"light":"dark")},[]);return T.jsx(WQ.Provider,{value:{theme:e,toggleTheme:r},children:n})}const $Q=()=>L.useContext(WQ),age=()=>T.jsx("svg",{style:{display:"none"},children:T.jsxs("filter",{id:"glass-distortion",x:"0%",y:"0%",width:"100%",height:"100%",filterUnits:"objectBoundingBox",children:[T.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.001 0.005",numOctaves:1,seed:17,result:"turbulence"}),T.jsxs("feComponentTransfer",{in:"turbulence",result:"mapped",children:[T.jsx("feFuncR",{type:"gamma",amplitude:1,exponent:10,offset:.5}),T.jsx("feFuncG",{type:"gamma",amplitude:0,exponent:1,offset:0}),T.jsx("feFuncB",{type:"gamma",amplitude:0,exponent:1,offset:.5})]}),T.jsx("feGaussianBlur",{in:"turbulence",stdDeviation:3,result:"softMap"}),T.jsx("feSpecularLighting",{in:"softMap",surfaceScale:5,specularConstant:1,specularExponent:100,lightingColor:"white",result:"specLight",children:T.jsx("fePointLight",{x:-200,y:-200,z:300})}),T.jsx("feComposite",{in:"specLight",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0,result:"litImage"}),T.jsx("feDisplacementMap",{in:"SourceGraphic",in2:"softMap",scale:25,xChannelSelector:"R",yChannelSelector:"G"})]})}),cz=L.createContext({});function uz(n){const e=L.useRef(null);return e.current===null&&(e.current=n()),e.current}const GQ=typeof window<"u",qQ=GQ?L.useLayoutEffect:L.useEffect,pD=L.createContext(null);function fz(n,e){n.indexOf(e)===-1&&n.push(e)}function S2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const nh=(n,e,t)=>t>e?e:t<n?n:t;let dz=()=>{};const Lp={},YQ=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function XQ(n){return typeof n=="object"&&n!==null}const KQ=n=>/^0[^.\s]+$/u.test(n);function JQ(n){let e;return()=>(e===void 0&&(e=n()),e)}const Eu=n=>n,oge=(n,e)=>t=>e(n(t)),bT=(...n)=>n.reduce(oge),tA=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r};class hz{constructor(){this.subscriptions=[]}add(e){return fz(this.subscriptions,e),()=>S2(this.subscriptions,e)}notify(e,t,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,t,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Af=n=>n*1e3,xu=n=>n/1e3;function ZQ(n,e){return e?n*(1e3/e):0}const QQ=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,lge=1e-7,cge=12;function uge(n,e,t,r,i){let s,a,o=0;do a=e+(t-e)/2,s=QQ(a,r,i)-n,s>0?t=a:e=a;while(Math.abs(s)>lge&&++o<cge);return a}function _T(n,e,t,r){if(n===e&&t===r)return Eu;const i=s=>uge(s,0,1,n,t);return s=>s===0||s===1?s:QQ(i(s),e,r)}const eee=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,tee=n=>e=>1-n(1-e),nee=_T(.33,1.53,.69,.99),pz=tee(nee),ree=eee(pz),iee=n=>(n*=2)<1?.5*pz(n):.5*(2-Math.pow(2,-10*(n-1))),mz=n=>1-Math.sin(Math.acos(n)),see=tee(mz),aee=eee(mz),fge=_T(.42,0,1,1),dge=_T(0,0,.58,1),oee=_T(.42,0,.58,1),hge=n=>Array.isArray(n)&&typeof n[0]!="number",lee=n=>Array.isArray(n)&&typeof n[0]=="number",pge={linear:Eu,easeIn:fge,easeInOut:oee,easeOut:dge,circIn:mz,circInOut:aee,circOut:see,backIn:pz,backInOut:ree,backOut:nee,anticipate:iee},mge=n=>typeof n=="string",wH=n=>{if(lee(n)){dz(n.length===4);const[e,t,r,i]=n;return _T(e,t,r,i)}else if(mge(n))return pge[n];return n},G3=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gge(n,e){let t=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(f){a.has(f)&&(c.schedule(f),n()),f(o)}const c={schedule:(f,d=!1,p=!1)=>{const b=p&&i?t:r;return d&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(o=f,i){s=!0;return}i=!0,[t,r]=[r,t],t.forEach(l),t.clear(),i=!1,s&&(s=!1,c.process(f))}};return c}const yge=40;function cee(n,e){let t=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=G3.reduce((R,O)=>(R[O]=gge(s),R),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:f,update:d,preRender:p,render:g,postRender:b}=a,S=()=>{const R=Lp.useManualTiming?i.timestamp:performance.now();t=!1,Lp.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,yge),1)),i.timestamp=R,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),f.process(i),d.process(i),p.process(i),g.process(i),b.process(i),i.isProcessing=!1,t&&e&&(r=!1,n(S))},w=()=>{t=!0,r=!0,i.isProcessing||n(S)};return{schedule:G3.reduce((R,O)=>{const D=a[O];return R[O]=(I,B=!1,z=!1)=>(t||w(),D.schedule(I,B,z)),R},{}),cancel:R=>{for(let O=0;O<G3.length;O++)a[G3[O]].cancel(R)},state:i,steps:a}}const{schedule:hi,cancel:Y0,state:Ga,steps:aN}=cee(typeof requestAnimationFrame<"u"?requestAnimationFrame:Eu,!0);let UR;function vge(){UR=void 0}const Zo={now:()=>(UR===void 0&&Zo.set(Ga.isProcessing||Lp.useManualTiming?Ga.timestamp:performance.now()),UR),set:n=>{UR=n,queueMicrotask(vge)}},uee=n=>e=>typeof e=="string"&&e.startsWith(n),fee=uee("--"),xge=uee("var(--"),gz=n=>xge(n)?bge.test(n.split("/*")[0].trim()):!1,bge=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function SH(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Sw={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},nA={...Sw,transform:n=>nh(0,1,n)},q3={...Sw,default:1},TM=n=>Math.round(n*1e5)/1e5,yz=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _ge(n){return n==null}const wge=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vz=(n,e)=>t=>!!(typeof t=="string"&&wge.test(t)&&t.startsWith(n)||e&&!_ge(t)&&Object.prototype.hasOwnProperty.call(t,e)),dee=(n,e,t)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(yz);return{[n]:parseFloat(i),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Sge=n=>nh(0,255,n),oN={...Sw,transform:n=>Math.round(Sge(n))},$y={test:vz("rgb","red"),parse:dee("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+oN.transform(n)+", "+oN.transform(e)+", "+oN.transform(t)+", "+TM(nA.transform(r))+")"};function Ege(n){let e="",t="",r="",i="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),i=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),i=n.substring(4,5),e+=e,t+=t,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const r8={test:vz("#"),parse:Ege,transform:$y.transform},wT=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),l0=wT("deg"),Kd=wT("%"),Qt=wT("px"),Mge=wT("vh"),Age=wT("vw"),EH={...Kd,parse:n=>Kd.parse(n)/100,transform:n=>Kd.transform(n*100)},M1={test:vz("hsl","hue"),parse:dee("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+Kd.transform(TM(e))+", "+Kd.transform(TM(t))+", "+TM(nA.transform(r))+")"},Us={test:n=>$y.test(n)||r8.test(n)||M1.test(n),parse:n=>$y.test(n)?$y.parse(n):M1.test(n)?M1.parse(n):r8.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?$y.transform(n):M1.transform(n),getAnimatableNone:n=>{const e=Us.parse(n);return e.alpha=0,Us.transform(e)}},Tge=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Cge(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(yz))==null?void 0:e.length)||0)+(((t=n.match(Tge))==null?void 0:t.length)||0)>0}const hee="number",pee="color",kge="var",Rge="var(",MH="${}",Oge=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rA(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Oge,l=>(Us.test(l)?(r.color.push(s),i.push(pee),t.push(Us.parse(l))):l.startsWith(Rge)?(r.var.push(s),i.push(kge),t.push(l)):(r.number.push(s),i.push(hee),t.push(parseFloat(l))),++s,MH)).split(MH);return{values:t,split:o,indexes:r,types:i}}function mee(n){return rA(n).values}function gee(n){const{split:e,types:t}=rA(n),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=t[a];o===hee?s+=TM(i[a]):o===pee?s+=Us.transform(i[a]):s+=i[a]}return s}}const Pge=n=>typeof n=="number"?0:Us.test(n)?Us.getAnimatableNone(n):n;function Dge(n){const e=mee(n);return gee(n)(e.map(Pge))}const Tf={test:Cge,parse:mee,createTransformer:gee,getAnimatableNone:Dge};function lN(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function Ige({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let i=0,s=0,a=0;if(!e)i=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=lN(l,o,n+1/3),s=lN(l,o,n),a=lN(l,o,n-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function E2(n,e){return t=>t>0?e:n}const Qi=(n,e,t)=>n+(e-n)*t,cN=(n,e,t)=>{const r=n*n,i=t*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Nge=[r8,$y,M1],Lge=n=>Nge.find(e=>e.test(n));function AH(n){const e=Lge(n);if(!e)return!1;let t=e.parse(n);return e===M1&&(t=Ige(t)),t}const TH=(n,e)=>{const t=AH(n),r=AH(e);if(!t||!r)return E2(n,e);const i={...t};return s=>(i.red=cN(t.red,r.red,s),i.green=cN(t.green,r.green,s),i.blue=cN(t.blue,r.blue,s),i.alpha=Qi(t.alpha,r.alpha,s),$y.transform(i))},i8=new Set(["none","hidden"]);function Bge(n,e){return i8.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function Fge(n,e){return t=>Qi(n,e,t)}function xz(n){return typeof n=="number"?Fge:typeof n=="string"?gz(n)?E2:Us.test(n)?TH:jge:Array.isArray(n)?yee:typeof n=="object"?Us.test(n)?TH:zge:E2}function yee(n,e){const t=[...n],r=t.length,i=n.map((s,a)=>xz(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)t[a]=i[a](s);return t}}function zge(n,e){const t={...n,...e},r={};for(const i in t)n[i]!==void 0&&e[i]!==void 0&&(r[i]=xz(n[i])(n[i],e[i]));return i=>{for(const s in r)t[s]=r[s](i);return t}}function Uge(n,e){const t=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=n.indexes[s][r[s]],o=n.values[a]??0;t[i]=o,r[s]++}return t}const jge=(n,e)=>{const t=Tf.createTransformer(e),r=rA(n),i=rA(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?i8.has(n)&&!i.values.length||i8.has(e)&&!r.values.length?Bge(n,e):bT(yee(Uge(r,i),i.values),t):E2(n,e)};function vee(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Qi(n,e,t):xz(n)(n,e)}const Hge=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>hi.update(e,t),stop:()=>Y0(e),now:()=>Ga.isProcessing?Ga.timestamp:Zo.now()}},xee=(n,e,t=10)=>{let r="";const i=Math.max(Math.round(e/t),2);for(let s=0;s<i;s++)r+=Math.round(n(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},M2=2e4;function bz(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<M2;)e+=t,r=n.next(e);return e>=M2?1/0:e}function Vge(n,e=100,t){const r=t({...n,keyframes:[0,e]}),i=Math.min(bz(r),M2);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:xu(i)}}const Wge=5;function bee(n,e,t){const r=Math.max(e-Wge,0);return ZQ(t-n(r),e-r)}const ds={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},uN=.001;function $ge({duration:n=ds.duration,bounce:e=ds.bounce,velocity:t=ds.velocity,mass:r=ds.mass}){let i,s,a=1-e;a=nh(ds.minDamping,ds.maxDamping,a),n=nh(ds.minDuration,ds.maxDuration,xu(n)),a<1?(i=c=>{const f=c*a,d=f*n,p=f-t,g=s8(c,a),b=Math.exp(-d);return uN-p/g*b},s=c=>{const d=c*a*n,p=d*t+t,g=Math.pow(a,2)*Math.pow(c,2)*n,b=Math.exp(-d),S=s8(Math.pow(c,2),a);return(-i(c)+uN>0?-1:1)*((p-g)*b)/S}):(i=c=>{const f=Math.exp(-c*n),d=(c-t)*n+1;return-uN+f*d},s=c=>{const f=Math.exp(-c*n),d=(t-c)*(n*n);return f*d});const o=5/n,l=qge(i,s,o);if(n=Af(n),isNaN(l))return{stiffness:ds.stiffness,damping:ds.damping,duration:n};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:n}}}const Gge=12;function qge(n,e,t){let r=t;for(let i=1;i<Gge;i++)r=r-n(r)/e(r);return r}function s8(n,e){return n*Math.sqrt(1-e*e)}const Yge=["duration","bounce"],Xge=["stiffness","damping","mass"];function CH(n,e){return e.some(t=>n[t]!==void 0)}function Kge(n){let e={velocity:ds.velocity,stiffness:ds.stiffness,damping:ds.damping,mass:ds.mass,isResolvedFromDuration:!1,...n};if(!CH(n,Xge)&&CH(n,Yge))if(e.velocity=0,n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),i=r*r,s=2*nh(.05,1,1-(n.bounce||0))*Math.sqrt(i);e={...e,mass:ds.mass,stiffness:i,damping:s}}else{const t=$ge({...n,velocity:0});e={...e,...t,mass:ds.mass},e.isResolvedFromDuration=!0}return e}function A2(n=ds.visualDuration,e=ds.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:i}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:f,duration:d,velocity:p,isResolvedFromDuration:g}=Kge({...t,velocity:-xu(t.velocity||0)}),b=p||0,S=c/(2*Math.sqrt(l*f)),w=a-s,E=xu(Math.sqrt(l/f)),k=Math.abs(w)<5;r||(r=k?ds.restSpeed.granular:ds.restSpeed.default),i||(i=k?ds.restDelta.granular:ds.restDelta.default);let R;if(S<1){const D=s8(E,S);R=I=>{const B=Math.exp(-S*E*I);return a-B*((b+S*E*w)/D*Math.sin(D*I)+w*Math.cos(D*I))}}else if(S===1)R=D=>a-Math.exp(-E*D)*(w+(b+E*w)*D);else{const D=E*Math.sqrt(S*S-1);R=I=>{const B=Math.exp(-S*E*I),z=Math.min(D*I,300);return a-B*((b+S*E*w)*Math.sinh(z)+D*w*Math.cosh(z))/D}}const O={calculatedDuration:g&&d||null,next:D=>{const I=R(D);if(g)o.done=D>=d;else{let B=D===0?b:0;S<1&&(B=D===0?Af(b):bee(R,D,I));const z=Math.abs(B)<=r,V=Math.abs(a-I)<=i;o.done=z&&V}return o.value=o.done?a:I,o},toString:()=>{const D=Math.min(bz(O),M2),I=xee(B=>O.next(D*B).value,D,30);return D+"ms "+I},toTransition:()=>{}};return O}A2.applyToOptions=n=>{const e=Vge(n,100,A2);return n.ease=e.ease,n.duration=Af(e.duration),n.type="keyframes",n};function a8({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:f}){const d=n[0],p={done:!1,value:d},g=z=>o!==void 0&&z<o||l!==void 0&&z>l,b=z=>o===void 0?l:l===void 0||Math.abs(o-z)<Math.abs(l-z)?o:l;let S=t*e;const w=d+S,E=a===void 0?w:a(w);E!==w&&(S=E-d);const k=z=>-S*Math.exp(-z/r),R=z=>E+k(z),O=z=>{const V=k(z),Y=R(z);p.done=Math.abs(V)<=c,p.value=p.done?E:Y};let D,I;const B=z=>{g(p.value)&&(D=z,I=A2({keyframes:[p.value,b(p.value)],velocity:bee(R,z,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:f}))};return B(0),{calculatedDuration:null,next:z=>{let V=!1;return!I&&D===void 0&&(V=!0,O(z),B(z)),D!==void 0&&z>=D?I.next(z-D):(!V&&O(z),p)}}}function Jge(n,e,t){const r=[],i=t||Lp.mix||vee,s=n.length-1;for(let a=0;a<s;a++){let o=i(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||Eu:e;o=bT(l,o)}r.push(o)}return r}function Zge(n,e,{clamp:t=!0,ease:r,mixer:i}={}){const s=n.length;if(dz(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=Jge(e,r,i),l=o.length,c=f=>{if(a&&f<n[0])return e[0];let d=0;if(l>1)for(;d<n.length-2&&!(f<n[d+1]);d++);const p=tA(n[d],n[d+1],f);return o[d](p)};return t?f=>c(nh(n[0],n[s-1],f)):c}function Qge(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const i=tA(0,e,r);n.push(Qi(t,1,i))}}function eye(n){const e=[0];return Qge(e,n.length-1),e}function tye(n,e){return n.map(t=>t*e)}function nye(n,e){return n.map(()=>e||oee).splice(0,n.length-1)}function CM({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const i=hge(r)?r.map(wH):wH(r),s={done:!1,value:e[0]},a=tye(t&&t.length===e.length?t:eye(e),n),o=Zge(a,e,{ease:Array.isArray(i)?i:nye(e,i)});return{calculatedDuration:n,next:l=>(s.value=o(l),s.done=l>=n,s)}}const rye=n=>n!==null;function _z(n,{repeat:e,repeatType:t="loop"},r,i=1){const s=n.filter(rye),o=i<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const iye={decay:a8,inertia:a8,tween:CM,keyframes:CM,spring:A2};function _ee(n){typeof n.type=="string"&&(n.type=iye[n.type])}class wz{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const sye=n=>n/100;class Sz extends wz{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:t}=this.options;t&&t.updatedAt!==Zo.now()&&this.tick(Zo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;_ee(e);const{type:t=CM,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=t||CM;l!==CM&&typeof o[0]!="number"&&(this.mixKeyframes=bT(sye,vee(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=bz(c));const{calculatedDuration:f}=c;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:f,repeat:d,repeatType:p,repeatDelay:g,type:b,onUpdate:S,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const E=this.currentTime-c*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,O=r;if(d){const z=Math.min(this.currentTime,i)/o;let V=Math.floor(z),Y=z%1;!Y&&z>=1&&(Y=1),Y===1&&V--,V=Math.min(V,d+1),!!(V%2)&&(p==="reverse"?(Y=1-Y,g&&(Y-=g/o)):p==="mirror"&&(O=a)),R=nh(0,1,Y)*o}const D=k?{done:!1,value:f[0]}:O.next(R);s&&(D.value=s(D.value));let{done:I}=D;!k&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const B=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return B&&b!==a8&&(D.value=_z(f,this.options,w,this.speed)),S&&S(D.value),B&&this.finish(),D}then(e,t){return this.finished.then(e,t)}get duration(){return xu(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xu(e)}get time(){return xu(this.currentTime)}set time(e){var t;e=Af(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zo.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=xu(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=Hge,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=t??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function aye(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Gy=n=>n*180/Math.PI,o8=n=>{const e=Gy(Math.atan2(n[1],n[0]));return l8(e)},oye={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:o8,rotateZ:o8,skewX:n=>Gy(Math.atan(n[1])),skewY:n=>Gy(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},l8=n=>(n=n%360,n<0&&(n+=360),n),kH=o8,RH=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),OH=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),lye={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RH,scaleY:OH,scale:n=>(RH(n)+OH(n))/2,rotateX:n=>l8(Gy(Math.atan2(n[6],n[5]))),rotateY:n=>l8(Gy(Math.atan2(-n[2],n[0]))),rotateZ:kH,rotate:kH,skewX:n=>Gy(Math.atan(n[4])),skewY:n=>Gy(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function c8(n){return n.includes("scale")?1:0}function u8(n,e){if(!n||n==="none")return c8(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(t)r=lye,i=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=oye,i=o}if(!i)return c8(e);const s=r[e],a=i[1].split(",").map(uye);return typeof s=="function"?s(a):a[s]}const cye=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return u8(t,e)};function uye(n){return parseFloat(n.trim())}const Ew=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mw=new Set(Ew),PH=n=>n===Sw||n===Qt,fye=new Set(["x","y","z"]),dye=Ew.filter(n=>!fye.has(n));function hye(n){const e=[];return dye.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const N0={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>u8(e,"x"),y:(n,{transform:e})=>u8(e,"y")};N0.translateX=N0.x;N0.translateY=N0.y;const Dv=new Set;let f8=!1,d8=!1,h8=!1;function wee(){if(d8){const n=Array.from(Dv).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const i=hye(r);i.length&&(t.set(r,i),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=t.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}d8=!1,f8=!1,Dv.forEach(n=>n.complete(h8)),Dv.clear()}function See(){Dv.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(d8=!0)})}function pye(){h8=!0,See(),wee(),h8=!1}class Ez{constructor(e,t,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Dv.add(this),f8||(f8=!0,hi.read(See),hi.resolveKeyframes(wee))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&t){const o=r.readValue(t,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}aye(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Dv.delete(this)}cancel(){this.state==="scheduled"&&(Dv.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const mye=n=>n.startsWith("--");function gye(n,e,t){mye(e)?n.style.setProperty(e,t):n.style[e]=t}const yye={};function Eee(n,e){const t=JQ(n);return()=>yye[e]??t()}const vye=Eee(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),Mee=Eee(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dM=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,DH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dM([0,.65,.55,1]),circOut:dM([.55,0,1,.45]),backIn:dM([.31,.01,.66,-.59]),backOut:dM([.33,1.53,.69,.99])};function Aee(n,e){if(n)return typeof n=="function"?Mee()?xee(n,e):"ease-out":lee(n)?dM(n):Array.isArray(n)?n.map(t=>Aee(t,e)||DH.easeOut):DH[n]}function xye(n,e,t,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const f={[e]:t};l&&(f.offset=l);const d=Aee(o,i);Array.isArray(d)&&(f.easing=d);const p={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),n.animate(f,p)}function Tee(n){return typeof n=="function"&&"applyToOptions"in n}function bye({type:n,...e}){return Tee(n)&&Mee()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Cee extends wz{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,dz(typeof e.type!="string");const c=bye(e);this.animation=xye(t,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=_z(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):gye(t,r,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r,i;const e=(t=this.options)==null?void 0:t.element;!this.isPseudoElement&&(e!=null&&e.isConnected)&&((i=(r=this.animation).commitStyles)==null||i.call(r))}get duration(){var t,r;const e=((r=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:r.call(t).duration)||0;return xu(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xu(e)}get time(){return xu(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Af(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&vye()?(this.animation.timeline=e,Eu):t(this)}}const kee={anticipate:iee,backInOut:ree,circInOut:aee};function _ye(n){return n in kee}function wye(n){typeof n.ease=="string"&&_ye(n.ease)&&(n.ease=kee[n.ease])}const fN=10;class Sye extends Cee{constructor(e){wye(e),_ee(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new Sz({...a,autoplay:!1}),l=Math.max(fN,Zo.now()-this.startTime),c=nh(0,fN,l-fN);t.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const IH=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Tf.test(n)||n==="0")&&!n.startsWith("url("));function Eye(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Mye(n,e,t,r){const i=n[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=IH(i,e),o=IH(s,e);return!a||!o?!1:Eye(n)||(t==="spring"||Tee(t))&&r}function p8(n){n.duration=0,n.type="keyframes"}const Aye=new Set(["opacity","clipPath","filter","transform"]),Tye=JQ(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Cye(n){var f;const{motionValue:e,name:t,repeatDelay:r,repeatType:i,damping:s,type:a}=n;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return Tye()&&t&&Aye.has(t)&&(t!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const kye=40;class Rye extends wz{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:f,...d}){var b;super(),this.stop=()=>{var S,w;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Zo.now();const p={autoplay:e,delay:t,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:f,...d},g=(f==null?void 0:f.KeyframeResolver)||Ez;this.keyframeResolver=new g(o,(S,w,E)=>this.onKeyframesResolved(S,w,p,!E),l,c,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(e,t,r,i){var w,E;this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:f}=r;this.resolvedAt=Zo.now(),Mye(e,s,a,o)||((Lp.instantAnimations||!l)&&(f==null||f(_z(e,r,t))),e[0]=e[e.length-1],p8(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>kye?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...r,keyframes:e},g=!c&&Cye(p),b=(E=(w=p.motionValue)==null?void 0:w.owner)==null?void 0:E.current,S=g?new Sye({...p,element:b}):new Sz(p);S.finished.then(()=>{this.notifyFinished()}).catch(Eu),this.pendingTimeline&&(this.stopTimeline=S.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=S}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),pye()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function Ree(n,e,t,r=0,i=1){const s=Array.from(n).sort((c,f)=>c.sortNodePosition(f)).indexOf(e),a=n.size,o=(a-1)*r;return typeof t=="function"?t(s,a):i===1?s*r:o-s*r}const Oye=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pye(n){const e=Oye.exec(n);if(!e)return[,];const[,t,r,i]=e;return[`--${t??r}`,i]}function Oee(n,e,t=1){const[r,i]=Pye(n);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return YQ(a)?parseFloat(a):a}return gz(i)?Oee(i,e,t+1):i}const Dye={type:"spring",stiffness:500,damping:25,restSpeed:10},Iye=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Nye={type:"keyframes",duration:.8},Lye={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bye=(n,{keyframes:e})=>e.length>2?Nye:Mw.has(n)?n.startsWith("scale")?Iye(e[1]):Dye:Lye,Fye=n=>n!==null;function zye(n,{repeat:e,repeatType:t="loop"},r){const i=n.filter(Fye),s=e&&t!=="loop"&&e%2===1?0:i.length-1;return i[s]}function Pee(n,e){if(n!=null&&n.inherit&&e){const{inherit:t,...r}=n;return{...e,...r}}return n}function Mz(n,e){const t=(n==null?void 0:n[e])??(n==null?void 0:n.default)??n;return t!==n?Pee(t,n):t}function Uye({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...f}){return!!Object.keys(f).length}const Az=(n,e,t,r={},i,s)=>a=>{const o=Mz(r,n)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Af(l);const f={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:i};Uye(o)||Object.assign(f,Bye(n,f)),f.duration&&(f.duration=Af(f.duration)),f.repeatDelay&&(f.repeatDelay=Af(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(p8(f),f.delay===0&&(d=!0)),(Lp.instantAnimations||Lp.skipAnimations||i!=null&&i.shouldSkipAnimations)&&(d=!0,p8(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const p=zye(f.keyframes,o);if(p!==void 0){hi.update(()=>{f.onUpdate(p),f.onComplete()});return}}return o.isSync?new Sz(f):new Rye(f)};function NH(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Tz(n,e,t,r){if(typeof e=="function"){const[i,s]=NH(r);e=e(t!==void 0?t:n.custom,i,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[i,s]=NH(r);e=e(t!==void 0?t:n.custom,i,s)}return e}function $1(n,e,t){const r=n.getProps();return Tz(r,e,t!==void 0?t:r.custom,n)}const Dee=new Set(["width","height","top","left","right","bottom",...Ew]),LH=30,jye=n=>!isNaN(parseFloat(n));class Hye{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Zo.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Zo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=jye(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new hz);const r=this.events[e].add(t);return e==="change"?()=>{r(),hi.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LH)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,LH);return ZQ(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function j_(n,e){return new Hye(n,e)}const m8=n=>Array.isArray(n);function Vye(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,j_(t))}function Wye(n){return m8(n)?n[n.length-1]||0:n}function $ye(n,e){const t=$1(n,e);let{transitionEnd:r={},transition:i={},...s}=t||{};s={...s,...r};for(const a in s){const o=Wye(s[a]);Vye(n,a,o)}}const Ao=n=>!!(n&&n.getVelocity);function Gye(n){return!!(Ao(n)&&n.add)}function g8(n,e){const t=n.getValue("willChange");if(Gye(t))return t.add(e);if(!t&&Lp.WillChange){const r=new Lp.WillChange("auto");n.addValue("willChange",r),r.add(e)}}function Cz(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const qye="framerAppearId",Iee="data-"+Cz(qye);function Nee(n){return n.props[Iee]}function Yye({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function Lee(n,e,{delay:t=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:a,...o}=e;const l=n.getDefaultTransition();s=s?Pee(s,l):l;const c=s==null?void 0:s.reduceMotion;r&&(s=r);const f=[],d=i&&n.animationState&&n.animationState.getState()[i];for(const p in o){const g=n.getValue(p,n.latestValues[p]??null),b=o[p];if(b===void 0||d&&Yye(d,p))continue;const S={delay:t,...Mz(s||{},p)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===w&&!S.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const O=Nee(n);if(O){const D=window.MotionHandoffAnimation(O,p,hi);D!==null&&(S.startTime=D,E=!0)}}g8(n,p);const k=c??n.shouldReduceMotion;g.start(Az(p,g,b,k&&Dee.has(p)?{type:!1}:S,n,E));const R=g.animation;R&&f.push(R)}if(a){const p=()=>hi.update(()=>{a&&$ye(n,a)});f.length?Promise.all(f).then(p):p()}return f}function y8(n,e,t={}){var l;const r=$1(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=n.getDefaultTransition()||{}}=r||{};t.transitionOverride&&(i=t.transitionOverride);const s=r?()=>Promise.all(Lee(n,r,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:p}=i;return Xye(n,e,c,f,d,p,t)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,f]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>f())}else return Promise.all([s(),a(t.delay)])}function Xye(n,e,t=0,r=0,i=0,s=1,a){const o=[];for(const l of n.variantChildren)l.notify("AnimationStart",e),o.push(y8(l,e,{...a,delay:t+(typeof r=="function"?0:r)+Ree(n.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Kye(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>y8(n,s,t));r=Promise.all(i)}else if(typeof e=="string")r=y8(n,e,t);else{const i=typeof e=="function"?$1(n,e,t.custom):e;r=Promise.all(Lee(n,i,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const Jye={test:n=>n==="auto",parse:n=>n},Bee=n=>e=>e.test(n),Fee=[Sw,Qt,Kd,l0,Age,Mge,Jye],BH=n=>Fee.find(Bee(n));function Zye(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||KQ(n):!0}const Qye=new Set(["brightness","contrast","saturate","opacity"]);function eve(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(yz)||[];if(!r)return n;const i=t.replace(r,"");let s=Qye.has(e)?1:0;return r!==t&&(s*=100),e+"("+s+i+")"}const tve=/\b([a-z-]*)\(.*?\)/gu,v8={...Tf,getAnimatableNone:n=>{const e=n.match(tve);return e?e.map(eve).join(" "):n}},x8={...Tf,getAnimatableNone:n=>{const e=Tf.parse(n);return Tf.createTransformer(n)(e.map(r=>typeof r=="number"?0:typeof r=="object"?{...r,alpha:1}:r))}},FH={...Sw,transform:Math.round},nve={rotate:l0,rotateX:l0,rotateY:l0,rotateZ:l0,scale:q3,scaleX:q3,scaleY:q3,scaleZ:q3,skew:l0,skewX:l0,skewY:l0,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:nA,originX:EH,originY:EH,originZ:Qt},kz={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,inset:Qt,insetBlock:Qt,insetBlockStart:Qt,insetBlockEnd:Qt,insetInline:Qt,insetInlineStart:Qt,insetInlineEnd:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,paddingBlock:Qt,paddingBlockStart:Qt,paddingBlockEnd:Qt,paddingInline:Qt,paddingInlineStart:Qt,paddingInlineEnd:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,marginBlock:Qt,marginBlockStart:Qt,marginBlockEnd:Qt,marginInline:Qt,marginInlineStart:Qt,marginInlineEnd:Qt,fontSize:Qt,backgroundPositionX:Qt,backgroundPositionY:Qt,...nve,zIndex:FH,fillOpacity:nA,strokeOpacity:nA,numOctaves:FH},rve={...kz,color:Us,backgroundColor:Us,outlineColor:Us,fill:Us,stroke:Us,borderColor:Us,borderTopColor:Us,borderRightColor:Us,borderBottomColor:Us,borderLeftColor:Us,filter:v8,WebkitFilter:v8,mask:x8,WebkitMask:x8},zee=n=>rve[n],ive=new Set([v8,x8]);function Uee(n,e){let t=zee(n);return ive.has(t)||(t=Tf),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const sve=new Set(["auto","none","0"]);function ave(n,e,t){let r=0,i;for(;r<n.length&&!i;){const s=n[r];typeof s=="string"&&!sve.has(s)&&rA(s).values.length&&(i=n[r]),r++}if(i&&t)for(const s of e)n[s]=Uee(t,i)}class ove extends Ez{constructor(e,t,r,i,s){super(e,t,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let d=e[f];if(typeof d=="string"&&(d=d.trim(),gz(d))){const p=Oee(d,t.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Dee.has(r)||e.length!==2)return;const[i,s]=e,a=BH(i),o=BH(s),l=SH(i),c=SH(s);if(l!==c&&N0[r]){this.needsMeasurement=!0;return}if(a!==o)if(PH(a)&&PH(o))for(let f=0;f<e.length;f++){const d=e[f];typeof d=="string"&&(e[f]=parseFloat(d))}else N0[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Zye(e[i]))&&r.push(i);r.length&&ave(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=N0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(t);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=N0[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const lve=new Set(["opacity","clipPath","filter","transform"]);function jee(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let r=document;const i=(t==null?void 0:t[n])??r.querySelectorAll(n);return i?Array.from(i):[]}return Array.from(n).filter(r=>r!=null)}const Hee=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function b8(n){return XQ(n)&&"offsetHeight"in n}const{schedule:Rz}=cee(queueMicrotask,!1),of={x:!1,y:!1};function Vee(){return of.x||of.y}function cve(n){return n==="x"||n==="y"?of[n]?null:(of[n]=!0,()=>{of[n]=!1}):of.x||of.y?null:(of.x=of.y=!0,()=>{of.x=of.y=!1})}function Wee(n,e){const t=jee(n),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[t,i,()=>r.abort()]}function uve(n){return!(n.pointerType==="touch"||Vee())}function fve(n,e,t={}){const[r,i,s]=Wee(n,t);return r.forEach(a=>{let o=!1,l=!1,c;const f=()=>{a.removeEventListener("pointerleave",b)},d=w=>{c&&(c(w),c=void 0),f()},p=w=>{o=!1,window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",p),l&&(l=!1,d(w))},g=()=>{o=!0,window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",p,i)},b=w=>{if(w.pointerType!=="touch"){if(o){l=!0;return}d(w)}},S=w=>{if(!uve(w))return;l=!1;const E=e(a,w);typeof E=="function"&&(c=E,a.addEventListener("pointerleave",b,i))};a.addEventListener("pointerenter",S,i),a.addEventListener("pointerdown",g,i)}),s}const $ee=(n,e)=>e?n===e?!0:$ee(n,e.parentElement):!1,Oz=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,dve=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function hve(n){return dve.has(n.tagName)||n.isContentEditable===!0}const pve=new Set(["INPUT","SELECT","TEXTAREA"]);function mve(n){return pve.has(n.tagName)||n.isContentEditable===!0}const jR=new WeakSet;function zH(n){return e=>{e.key==="Enter"&&n(e)}}function dN(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gve=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=zH(()=>{if(jR.has(t))return;dN(t,"down");const i=zH(()=>{dN(t,"up")}),s=()=>dN(t,"cancel");t.addEventListener("keyup",i,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function UH(n){return Oz(n)&&!Vee()}const jH=new WeakSet;function yve(n,e,t={}){const[r,i,s]=Wee(n,t),a=o=>{const l=o.currentTarget;if(!UH(o)||jH.has(o))return;jR.add(l),t.stopPropagation&&jH.add(o);const c=e(l,o),f=(g,b)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",p),jR.has(l)&&jR.delete(l),UH(g)&&typeof c=="function"&&c(g,{success:b})},d=g=>{f(g,l===window||l===document||t.useGlobalTarget||$ee(l,g.target))},p=g=>{f(g,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",p,i)};return r.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),b8(o)&&(o.addEventListener("focus",c=>gve(c,i)),!hve(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function Pz(n){return XQ(n)&&"ownerSVGElement"in n}const HR=new WeakMap;let c0;const Gee=(n,e,t)=>(r,i)=>i&&i[0]?i[0][n+"Size"]:Pz(r)&&"getBBox"in r?r.getBBox()[e]:r[t],vve=Gee("inline","width","offsetWidth"),xve=Gee("block","height","offsetHeight");function bve({target:n,borderBoxSize:e}){var t;(t=HR.get(n))==null||t.forEach(r=>{r(n,{get width(){return vve(n,e)},get height(){return xve(n,e)}})})}function _ve(n){n.forEach(bve)}function wve(){typeof ResizeObserver>"u"||(c0=new ResizeObserver(_ve))}function Sve(n,e){c0||wve();const t=jee(n);return t.forEach(r=>{let i=HR.get(r);i||(i=new Set,HR.set(r,i)),i.add(e),c0==null||c0.observe(r)}),()=>{t.forEach(r=>{const i=HR.get(r);i==null||i.delete(e),i!=null&&i.size||c0==null||c0.unobserve(r)})}}const VR=new Set;let A1;function Eve(){A1=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};VR.forEach(e=>e(n))},window.addEventListener("resize",A1)}function Mve(n){return VR.add(n),A1||Eve(),()=>{VR.delete(n),!VR.size&&typeof A1=="function"&&(window.removeEventListener("resize",A1),A1=void 0)}}function HH(n,e){return typeof n=="function"?Mve(n):Sve(n,e)}function Ave(n){return Pz(n)&&n.tagName==="svg"}const Tve=[...Fee,Us,Tf],Cve=n=>Tve.find(Bee(n)),VH=()=>({translate:0,scale:1,origin:0,originPoint:0}),T1=()=>({x:VH(),y:VH()}),WH=()=>({min:0,max:0}),Zs=()=>({x:WH(),y:WH()}),kve=new WeakMap;function mD(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function iA(n){return typeof n=="string"||Array.isArray(n)}const Dz=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iz=["initial",...Dz];function gD(n){return mD(n.animate)||Iz.some(e=>iA(n[e]))}function qee(n){return!!(gD(n)||n.variants)}function Rve(n,e,t){for(const r in e){const i=e[r],s=t[r];if(Ao(i))n.addValue(r,i);else if(Ao(s))n.addValue(r,j_(i,{owner:n}));else if(s!==i)if(n.hasValue(r)){const a=n.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=n.getStaticValue(r);n.addValue(r,j_(a!==void 0?a:i,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const _8={current:null},Yee={current:!1},Ove=typeof window<"u";function Pve(){if(Yee.current=!0,!!Ove)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>_8.current=n.matches;n.addEventListener("change",e),e()}else _8.current=!1}const $H=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let T2={};function Xee(n){T2=n}function Dve(){return T2}class Ive{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Ez,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Zo.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,hi.render(this.render,!1,!0))};const{latestValues:c,renderState:f}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=t.initial?{...c}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=gD(t),this.isVariantNode=qee(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(t,{},this);for(const g in p){const b=p[g];c[g]!==void 0&&Ao(b)&&b.set(c[g])}}mount(e){var t,r;if(this.hasBeenMounted)for(const i in this.initialValues)(t=this.values.get(i))==null||t.jump(this.initialValues[i]),this.latestValues[i]=this.initialValues[i];this.current=e,kve.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Yee.current||Pve(),this.shouldReduceMotion=_8.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var e;this.projection&&this.projection.unmount(),Y0(this.notifyUpdate),Y0(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),t.accelerate&&lve.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:l,ease:c,duration:f}=t.accelerate,d=new Cee({element:this.current,name:e,keyframes:o,times:l,ease:c,duration:Af(f)}),p=a(d);this.valueSubscriptions.set(e,()=>{p(),d.cancel()});return}const r=Mw.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&hi.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in T2){const t=T2[e];if(!t)continue;const{isEnabled:r,Feature:i}=t;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Zs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<$H.length;r++){const i=$H[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Rve(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=j_(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(YQ(r)||KQ(r))?r=parseFloat(r):!Cve(r)&&Tf.test(t)&&(r=Uee(e,t)),this.setBaseTarget(e,Ao(r)?r.get():r)),Ao(r)?r.get():r}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let r;if(typeof t=="string"||typeof t=="object"){const a=Tz(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(t&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ao(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new hz),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){Rz.render(this.render)}}class Kee extends Ive{constructor(){super(...arguments),this.KeyframeResolver=ove}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const r=e.style;return r?r[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ao(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class cg{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Jee({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function Nve({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Lve(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function hN(n){return n===void 0||n===1}function w8({scale:n,scaleX:e,scaleY:t}){return!hN(n)||!hN(e)||!hN(t)}function My(n){return w8(n)||Zee(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Zee(n){return GH(n.x)||GH(n.y)}function GH(n){return n&&n!=="0%"}function C2(n,e,t){const r=n-t,i=e*r;return t+i}function qH(n,e,t,r,i){return i!==void 0&&(n=C2(n,i,r)),C2(n,t,r)+e}function S8(n,e=0,t=1,r,i){n.min=qH(n.min,e,t,r,i),n.max=qH(n.max,e,t,r,i)}function Qee(n,{x:e,y:t}){S8(n.x,e.translate,e.scale,e.originPoint),S8(n.y,t.translate,t.scale,t.originPoint)}const YH=.999999999999,XH=1.0000000000001;function Bve(n,e,t,r=!1){const i=t.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&k1(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Qee(n,a)),r&&My(s.latestValues)&&k1(n,s.latestValues))}e.x<XH&&e.x>YH&&(e.x=1),e.y<XH&&e.y>YH&&(e.y=1)}function C1(n,e){n.min=n.min+e,n.max=n.max+e}function KH(n,e,t,r,i=.5){const s=Qi(n.min,n.max,i);S8(n,e,t,s,r)}function k1(n,e){KH(n.x,e.x,e.scaleX,e.scale,e.originX),KH(n.y,e.y,e.scaleY,e.scale,e.originY)}function ete(n,e){return Jee(Lve(n.getBoundingClientRect(),e))}function Fve(n,e,t){const r=ete(n,t),{scroll:i}=e;return i&&(C1(r.x,i.offset.x),C1(r.y,i.offset.y)),r}const zve={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Uve=Ew.length;function jve(n,e,t){let r="",i=!0;for(let s=0;s<Uve;s++){const a=Ew[s],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const c=parseFloat(o);l=a.startsWith("scale")?c===1:c===0}if(!l||t){const c=Hee(o,kz[a]);if(!l){i=!1;const f=zve[a]||a;r+=`${f}(${c}) `}t&&(e[a]=c)}}return r=r.trim(),t?r=t(e,i?"":r):i&&(r="none"),r}function Nz(n,e,t){const{style:r,vars:i,transformOrigin:s}=n;let a=!1,o=!1;for(const l in e){const c=e[l];if(Mw.has(l)){a=!0;continue}else if(fee(l)){i[l]=c;continue}else{const f=Hee(c,kz[l]);l.startsWith("origin")?(o=!0,s[l]=f):r[l]=f}}if(e.transform||(a||t?r.transform=jve(e,n.transform,t):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${c} ${f}`}}function tte(n,{style:e,vars:t},r,i){const s=n.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in t)s.setProperty(a,t[a])}function JH(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const TE={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Qt.test(n))n=parseFloat(n);else return n;const t=JH(n,e.target.x),r=JH(n,e.target.y);return`${t}% ${r}%`}},Hve={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,i=Tf.parse(n);if(i.length>5)return r;const s=Tf.createTransformer(n),a=typeof i[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Qi(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},E8={borderRadius:{...TE,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:TE,borderTopRightRadius:TE,borderBottomLeftRadius:TE,borderBottomRightRadius:TE,boxShadow:Hve};function nte(n,{layout:e,layoutId:t}){return Mw.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!E8[n]||n==="opacity")}function Lz(n,e,t){var a;const r=n.style,i=e==null?void 0:e.style,s={};if(!r)return s;for(const o in r)(Ao(r[o])||i&&Ao(i[o])||nte(o,n)||((a=t==null?void 0:t.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(s[o]=r[o]);return s}function Vve(n){return window.getComputedStyle(n)}class Wve extends Kee{constructor(){super(...arguments),this.type="html",this.renderInstance=tte}readValueFromInstance(e,t){var r;if(Mw.has(t))return(r=this.projection)!=null&&r.isProjecting?c8(t):cye(e,t);{const i=Vve(e),s=(fee(t)?i.getPropertyValue(t):i[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return ete(e,t)}build(e,t,r){Nz(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return Lz(e,t,r)}}const $ve={offset:"stroke-dashoffset",array:"stroke-dasharray"},Gve={offset:"strokeDashoffset",array:"strokeDasharray"};function qve(n,e,t=1,r=0,i=!0){n.pathLength=1;const s=i?$ve:Gve;n[s.offset]=`${-r}`,n[s.array]=`${e} ${t}`}const Yve=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function rte(n,{attrX:e,attrY:t,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,f){if(Nz(n,o,c),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:d,style:p}=n;d.transform&&(p.transform=d.transform,delete d.transform),(p.transform||d.transformOrigin)&&(p.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete d.transformBox);for(const g of Yve)d[g]!==void 0&&(p[g]=d[g],delete d[g]);e!==void 0&&(d.x=e),t!==void 0&&(d.y=t),r!==void 0&&(d.scale=r),i!==void 0&&qve(d,i,s,a,!1)}const ite=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),ste=n=>typeof n=="string"&&n.toLowerCase()==="svg";function Xve(n,e,t,r){tte(n,e,void 0,r);for(const i in e.attrs)n.setAttribute(ite.has(i)?i:Cz(i),e.attrs[i])}function ate(n,e,t){const r=Lz(n,e,t);for(const i in n)if(Ao(n[i])||Ao(e[i])){const s=Ew.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=n[i]}return r}class Kve extends Kee{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Zs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Mw.has(t)){const r=zee(t);return r&&r.default||0}return t=ite.has(t)?t:Cz(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return ate(e,t,r)}build(e,t,r){rte(e,t,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,t,r,i){Xve(e,t,r,i)}mount(e){this.isSVGTag=ste(e.tagName),super.mount(e)}}const Jve=Iz.length;function ote(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?ote(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<Jve;t++){const r=Iz[t],i=n.props[r];(iA(i)||i===!1)&&(e[r]=i)}return e}function lte(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}const Zve=[...Dz].reverse(),Qve=Dz.length;function exe(n){return e=>Promise.all(e.map(({animation:t,options:r})=>Kye(n,t,r)))}function txe(n){let e=exe(n),t=ZH(),r=!0;const i=l=>(c,f)=>{var p;const d=$1(n,f,l==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);if(d){const{transition:g,transitionEnd:b,...S}=d;c={...c,...S,...b}}return c};function s(l){e=l(n)}function a(l){const{props:c}=n,f=ote(n.parent)||{},d=[],p=new Set;let g={},b=1/0;for(let w=0;w<Qve;w++){const E=Zve[w],k=t[E],R=c[E]!==void 0?c[E]:f[E],O=iA(R),D=E===l?k.isActive:null;D===!1&&(b=w);let I=R===f[E]&&R!==c[E]&&O;if(I&&r&&n.manuallyAnimateOnMount&&(I=!1),k.protectedKeys={...g},!k.isActive&&D===null||!R&&!k.prevProp||mD(R)||typeof R=="boolean")continue;if(E==="exit"&&k.isActive&&D!==!0){k.prevResolvedValues&&(g={...g,...k.prevResolvedValues});continue}const B=nxe(k.prevProp,R);let z=B||E===l&&k.isActive&&!I&&O||w>b&&O,V=!1;const Y=Array.isArray(R)?R:[R];let q=Y.reduce(i(E),{});D===!1&&(q={});const{prevResolvedValues:J={}}=k,re={...J,...q},fe=se=>{z=!0,p.has(se)&&(V=!0,p.delete(se)),k.needsAnimating[se]=!0;const be=n.getValue(se);be&&(be.liveStyle=!1)};for(const se in re){const be=q[se],Ee=J[se];if(g.hasOwnProperty(se))continue;let oe=!1;m8(be)&&m8(Ee)?oe=!lte(be,Ee):oe=be!==Ee,oe?be!=null?fe(se):p.add(se):be!==void 0&&p.has(se)?fe(se):k.protectedKeys[se]=!0}k.prevProp=R,k.prevResolvedValues=q,k.isActive&&(g={...g,...q}),r&&n.blockInitialAnimation&&(z=!1);const ne=I&&B;z&&(!ne||V)&&d.push(...Y.map(se=>{const be={type:E};if(typeof se=="string"&&r&&!ne&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ee}=n,oe=$1(Ee,se);if(Ee.enteringChildren&&oe){const{delayChildren:ee}=oe.transition||{};be.delay=Ree(Ee.enteringChildren,n,ee)}}return{animation:se,options:be}}))}if(p.size){const w={};if(typeof c.initial!="boolean"){const E=$1(n,Array.isArray(c.initial)?c.initial[0]:c.initial);E&&E.transition&&(w.transition=E.transition)}p.forEach(E=>{const k=n.getBaseTarget(E),R=n.getValue(E);R&&(R.liveStyle=!0),w[E]=k??null}),d.push({animation:w})}let S=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!n.manuallyAnimateOnMount&&(S=!1),r=!1,S?e(d):Promise.resolve()}function o(l,c){var d;if(t[l].isActive===c)return Promise.resolve();(d=n.variantChildren)==null||d.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(l,c)}),t[l].isActive=c;const f=a(l);for(const p in t)t[p].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=ZH()}}}function nxe(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!lte(e,n):!1}function ry(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZH(){return{animate:ry(!0),whileInView:ry(),whileHover:ry(),whileTap:ry(),whileDrag:ry(),whileFocus:ry(),exit:ry()}}function QH(n,e){n.min=e.min,n.max=e.max}function tf(n,e){QH(n.x,e.x),QH(n.y,e.y)}function eV(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const cte=1e-4,rxe=1-cte,ixe=1+cte,ute=.01,sxe=0-ute,axe=0+ute;function Qo(n){return n.max-n.min}function oxe(n,e,t){return Math.abs(n-e)<=t}function tV(n,e,t,r=.5){n.origin=r,n.originPoint=Qi(e.min,e.max,n.origin),n.scale=Qo(t)/Qo(e),n.translate=Qi(t.min,t.max,n.origin)-n.originPoint,(n.scale>=rxe&&n.scale<=ixe||isNaN(n.scale))&&(n.scale=1),(n.translate>=sxe&&n.translate<=axe||isNaN(n.translate))&&(n.translate=0)}function kM(n,e,t,r){tV(n.x,e.x,t.x,r?r.originX:void 0),tV(n.y,e.y,t.y,r?r.originY:void 0)}function nV(n,e,t){n.min=t.min+e.min,n.max=n.min+Qo(e)}function lxe(n,e,t){nV(n.x,e.x,t.x),nV(n.y,e.y,t.y)}function rV(n,e,t){n.min=e.min-t.min,n.max=n.min+Qo(e)}function k2(n,e,t){rV(n.x,e.x,t.x),rV(n.y,e.y,t.y)}function iV(n,e,t,r,i){return n-=e,n=C2(n,1/t,r),i!==void 0&&(n=C2(n,1/i,r)),n}function cxe(n,e=0,t=1,r=.5,i,s=n,a=n){if(Kd.test(e)&&(e=parseFloat(e),e=Qi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Qi(s.min,s.max,r);n===s&&(o-=e),n.min=iV(n.min,e,t,o,i),n.max=iV(n.max,e,t,o,i)}function sV(n,e,[t,r,i],s,a){cxe(n,e[t],e[r],e[i],e.scale,s,a)}const uxe=["x","scaleX","originX"],fxe=["y","scaleY","originY"];function aV(n,e,t,r){sV(n.x,e,uxe,t?t.x:void 0,r?r.x:void 0),sV(n.y,e,fxe,t?t.y:void 0,r?r.y:void 0)}function oV(n){return n.translate===0&&n.scale===1}function fte(n){return oV(n.x)&&oV(n.y)}function lV(n,e){return n.min===e.min&&n.max===e.max}function dxe(n,e){return lV(n.x,e.x)&&lV(n.y,e.y)}function cV(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function dte(n,e){return cV(n.x,e.x)&&cV(n.y,e.y)}function uV(n){return Qo(n.x)/Qo(n.y)}function fV(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function Ed(n){return[n("x"),n("y")]}function hxe(n,e,t){let r="";const i=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:c,rotate:f,rotateX:d,rotateY:p,skewX:g,skewY:b}=t;c&&(r=`perspective(${c}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),p&&(r+=`rotateY(${p}deg) `),g&&(r+=`skewX(${g}deg) `),b&&(r+=`skewY(${b}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const hte=["TopLeft","TopRight","BottomLeft","BottomRight"],pxe=hte.length,dV=n=>typeof n=="string"?parseFloat(n):n,hV=n=>typeof n=="number"||Qt.test(n);function mxe(n,e,t,r,i,s){i?(n.opacity=Qi(0,t.opacity??1,gxe(r)),n.opacityExit=Qi(e.opacity??1,0,yxe(r))):s&&(n.opacity=Qi(e.opacity??1,t.opacity??1,r));for(let a=0;a<pxe;a++){const o=`border${hte[a]}Radius`;let l=pV(e,o),c=pV(t,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||hV(l)===hV(c)?(n[o]=Math.max(Qi(dV(l),dV(c),r),0),(Kd.test(c)||Kd.test(l))&&(n[o]+="%")):n[o]=c}(e.rotate||t.rotate)&&(n.rotate=Qi(e.rotate||0,t.rotate||0,r))}function pV(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const gxe=pte(0,.5,see),yxe=pte(.5,.95,Eu);function pte(n,e,t){return r=>r<n?0:r>e?1:t(tA(n,e,r))}function vxe(n,e,t){const r=Ao(n)?n:j_(n);return r.start(Az("",r,e,t)),r.animation}function sA(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}const xxe=(n,e)=>n.depth-e.depth;class bxe{constructor(){this.children=[],this.isDirty=!1}add(e){fz(this.children,e),this.isDirty=!0}remove(e){S2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xxe),this.isDirty=!1,this.children.forEach(e)}}function _xe(n,e){const t=Zo.now(),r=({timestamp:i})=>{const s=i-t;s>=e&&(Y0(r),n(s-e))};return hi.setup(r,!0),()=>Y0(r)}function WR(n){return Ao(n)?n.get():n}class wxe{constructor(){this.members=[]}add(e){fz(this.members,e);for(let t=this.members.length-1;t>=0;t--){const r=this.members[t];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&S2(this.members,r)}e.scheduleRender()}remove(e){if(S2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(i=>e===i);if(t===0)return!1;let r;for(let i=t;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const l=r.instance;l&&l.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const $R={hasAnimatedSinceResize:!0,hasEverUpdated:!1},pN=["","X","Y","Z"],Sxe=1e3;let Exe=0;function mN(n,e,t,r){const{latestValues:i}=e;i[n]&&(t[n]=i[n],e.setStaticValue(n,0),r&&(r[n]=0))}function mte(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=Nee(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:i,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",hi,!(i||s))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&mte(r)}function gte({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Exe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Txe),this.nodes.forEach(Oxe),this.nodes.forEach(Pxe),this.nodes.forEach(Cxe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bxe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new hz),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Pz(a)&&!Ave(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let f,d=0;const p=()=>this.root.updateBlockedByResize=!1;hi.read(()=>{d=window.innerWidth}),n(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,f&&f(),f=_xe(p,250),$R.hasAnimatedSinceResize&&($R.hasAnimatedSinceResize=!1,this.nodes.forEach(yV)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||Bxe,{onLayoutAnimationStart:S,onLayoutAnimationComplete:w}=c.getProps(),E=!this.targetLayout||!dte(this.targetLayout,g),k=!d&&p;if(this.options.layoutRoot||this.resumeFrom||k||d&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Mz(b,"layout"),onPlay:S,onComplete:w};(c.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(f,k)}else d||yV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Y0(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dxe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mte(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mV);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gV);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rxe),this.nodes.forEach(Mxe),this.nodes.forEach(Axe)):this.nodes.forEach(gV),this.clearAllSnapshots();const o=Zo.now();Ga.delta=nh(0,1e3/60,o-Ga.timestamp),Ga.timestamp=o,Ga.isProcessing=!0,aN.update.process(Ga),aN.preRender.process(Ga),aN.render.process(Ga),Ga.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Rz.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(kxe),this.sharedNodes.forEach(Ixe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,hi.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){hi.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Qo(this.snapshot.measuredBox.x)&&!Qo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Zs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!fte(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||My(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Fxe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return Zs();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(zxe))){const{scroll:f}=this.root;f&&(C1(o.x,f.offset.x),C1(o.y,f.offset.y))}return o}removeElementScroll(a){var l;const o=Zs();if(tf(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:p}=f;f!==this.root&&d&&p.layoutScroll&&(d.wasRoot&&tf(o,a),C1(o.x,d.offset.x),C1(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=Zs();tf(l,a);for(let c=0;c<this.path.length;c++){const f=this.path[c];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&k1(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),My(f.latestValues)&&k1(l,f.latestValues)}return My(this.latestValues)&&k1(l,this.latestValues),l}removeTransform(a){const o=Zs();tf(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!My(c.latestValues))continue;w8(c.latestValues)&&c.updateSnapshot();const f=Zs(),d=c.measurePageBox();tf(f,d),aV(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return My(this.latestValues)&&aV(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ga.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var g;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:d}=this.options;if(!this.layout||!(f||d))return;this.resolvedRelativeTargetAt=Ga.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Zs(),this.targetWithTransforms=Zs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lxe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):tf(this.target,this.layout.layoutBox),Qee(this.target,this.targetDelta)):tf(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||w8(this.parent.latestValues)||Zee(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Zs(),this.relativeTargetOrigin=Zs(),k2(this.relativeTargetOrigin,o,l),tf(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ga.timestamp&&(l=!1),l)return;const{layout:c,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||f))return;tf(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;Bve(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Zs());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(eV(this.prevProjectionDelta.x,this.projectionDelta.x),eV(this.prevProjectionDelta.y,this.projectionDelta.y)),kM(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==p||!fV(this.projectionDelta.x,this.prevProjectionDelta.x)||!fV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=T1(),this.projectionDelta=T1(),this.projectionDeltaWithTransform=T1()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},d=T1();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Zs(),g=l?l.source:void 0,b=this.layout?this.layout.source:void 0,S=g!==b,w=this.getStack(),E=!w||w.members.length<=1,k=!!(S&&!E&&this.options.crossfade===!0&&!this.path.some(Lxe));this.animationProgress=0;let R;this.mixTargetDelta=O=>{const D=O/1e3;vV(d.x,a.x,D),vV(d.y,a.y,D),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(k2(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Nxe(this.relativeTarget,this.relativeTargetOrigin,p,D),R&&dxe(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Zs()),tf(R,this.relativeTarget)),S&&(this.animationValues=f,mxe(f,c,this.latestValues,D,k,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Y0(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=hi.update(()=>{$R.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=j_(0)),this.motionValue.jump(0,!1),this.currentAnimation=vxe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sxe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:f}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&yte(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Zs();const d=Qo(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const p=Qo(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}tf(o,l),k1(o,f),kM(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new wxe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&mN("z",a,c,this.animationValues);for(let f=0;f<pN.length;f++)mN(`rotate${pN[f]}`,a,c,this.animationValues),mN(`skew${pN[f]}`,a,c,this.animationValues);a.render();for(const f in c)a.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=WR(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=WR(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!My(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=hxe(this.projectionDeltaWithTransform,this.treeScale,f);l&&(d=l(f,d)),a.transform=d;const{x:p,y:g}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=c===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in E8){if(f[b]===void 0)continue;const{correct:S,applyTo:w,isCSSVariable:E}=E8[b],k=d==="none"?f[b]:S(f[b],c);if(w){const R=w.length;for(let O=0;O<R;O++)a[w[O]]=k}else E?this.options.visualElement.renderState.vars[b]=k:a[b]=k}this.options.layoutId&&(a.pointerEvents=c===this?WR(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(mV),this.root.sharedNodes.clear()}}}function Mxe(n){n.updateLayout()}function Axe(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=n.layout,{animationType:s}=n.options,a=e.source!==n.layout.source;s==="size"?Ed(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],g=Qo(p);p.min=r[d].min,p.max=p.min+g}):yte(s,e.layoutBox,r)&&Ed(d=>{const p=a?e.measuredBox[d]:e.layoutBox[d],g=Qo(r[d]);p.max=p.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[d].max=n.relativeTarget[d].min+g)});const o=T1();kM(o,r,e.layoutBox);const l=T1();a?kM(l,n.applyTransform(i,!0),e.measuredBox):kM(l,r,e.layoutBox);const c=!fte(o);let f=!1;if(!n.resumeFrom){const d=n.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:p,layout:g}=d;if(p&&g){const b=Zs();k2(b,e.layoutBox,p.layoutBox);const S=Zs();k2(S,r,g.layoutBox),dte(b,S)||(f=!0),d.options.layoutRoot&&(n.relativeTarget=S,n.relativeTargetOrigin=b,n.relativeParent=d)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:f})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function Txe(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function Cxe(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function kxe(n){n.clearSnapshot()}function mV(n){n.clearMeasurements()}function gV(n){n.isLayoutDirty=!1}function Rxe(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function yV(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Oxe(n){n.resolveTargetDelta()}function Pxe(n){n.calcProjection()}function Dxe(n){n.resetSkewAndRotation()}function Ixe(n){n.removeLeadSnapshot()}function vV(n,e,t){n.translate=Qi(e.translate,0,t),n.scale=Qi(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function xV(n,e,t,r){n.min=Qi(e.min,t.min,r),n.max=Qi(e.max,t.max,r)}function Nxe(n,e,t,r){xV(n.x,e.x,t.x,r),xV(n.y,e.y,t.y,r)}function Lxe(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const Bxe={duration:.45,ease:[.4,0,.1,1]},bV=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),_V=bV("applewebkit/")&&!bV("chrome/")?Math.round:Eu;function wV(n){n.min=_V(n.min),n.max=_V(n.max)}function Fxe(n){wV(n.x),wV(n.y)}function yte(n,e,t){return n==="position"||n==="preserve-aspect"&&!oxe(uV(e),uV(t),.2)}function zxe(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const Uxe=gte({attachResizeListener:(n,e)=>sA(n,"resize",e),measureScroll:()=>{var n,e;return{x:document.documentElement.scrollLeft||((n=document.body)==null?void 0:n.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),gN={current:void 0},vte=gte({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!gN.current){const n=new Uxe({});n.mount(window),n.setOptions({layoutScroll:!0}),gN.current=n}return gN.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Bz=L.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function SV(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function jxe(...n){return e=>{let t=!1;const r=n.map(i=>{const s=SV(i,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():SV(n[i],null)}}}}function Hxe(...n){return L.useCallback(jxe(...n),n)}class Vxe extends L.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=t.offsetParent,i=b8(r)&&r.offsetWidth||0,s=b8(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Wxe({children:n,isPresent:e,anchorX:t,anchorY:r,root:i,pop:s}){var p;const a=L.useId(),o=L.useRef(null),l=L.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:c}=L.useContext(Bz),f=((p=n.props)==null?void 0:p.ref)??(n==null?void 0:n.ref),d=Hxe(o,f);return L.useInsertionEffect(()=>{const{width:g,height:b,top:S,left:w,right:E,bottom:k}=l.current;if(e||s===!1||!o.current||!g||!b)return;const R=t==="left"?`left: ${w}`:`right: ${E}`,O=r==="bottom"?`bottom: ${k}`:`top: ${S}`;o.current.dataset.motionPopId=a;const D=document.createElement("style");c&&(D.nonce=c);const I=i??document.head;return I.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${b}px !important;
            ${R}px !important;
            ${O}px !important;
          }
        `),()=>{I.contains(D)&&I.removeChild(D)}},[e]),T.jsx(Vxe,{isPresent:e,childRef:o,sizeRef:l,pop:s,children:s===!1?n:L.cloneElement(n,{ref:d})})}const $xe=({children:n,initial:e,isPresent:t,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:l,root:c})=>{const f=uz(Gxe),d=L.useId();let p=!0,g=L.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:t,custom:i,onExitComplete:b=>{f.set(b,!0);for(const S of f.values())if(!S)return;r&&r()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[t,f,r]);return s&&p&&(g={...g}),L.useMemo(()=>{f.forEach((b,S)=>f.set(S,!1))},[t]),L.useEffect(()=>{!t&&!f.size&&r&&r()},[t]),n=T.jsx(Wxe,{pop:a==="popLayout",isPresent:t,anchorX:o,anchorY:l,root:c,children:n}),T.jsx(pD.Provider,{value:g,children:n})};function Gxe(){return new Map}function xte(n=!0){const e=L.useContext(pD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:i}=e,s=L.useId();L.useEffect(()=>{if(n)return i(s)},[n]);const a=L.useCallback(()=>n&&r&&r(s),[s,r,n]);return!t&&r?[!1,a]:[!0]}const Y3=n=>n.key||"";function EV(n){const e=[];return L.Children.forEach(n,t=>{L.isValidElement(t)&&e.push(t)}),e}const yD=({children:n,custom:e,initial:t=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[f,d]=xte(a),p=L.useMemo(()=>EV(n),[n]),g=a&&!f?[]:p.map(Y3),b=L.useRef(!0),S=L.useRef(p),w=uz(()=>new Map),E=L.useRef(new Set),[k,R]=L.useState(p),[O,D]=L.useState(p);qQ(()=>{b.current=!1,S.current=p;for(let z=0;z<O.length;z++){const V=Y3(O[z]);g.includes(V)?(w.delete(V),E.current.delete(V)):w.get(V)!==!0&&w.set(V,!1)}},[O,g.length,g.join("-")]);const I=[];if(p!==k){let z=[...p];for(let V=0;V<O.length;V++){const Y=O[V],q=Y3(Y);g.includes(q)||(z.splice(V,0,Y),I.push(Y))}return s==="wait"&&I.length&&(z=I),D(EV(z)),R(p),null}const{forceRender:B}=L.useContext(cz);return T.jsx(T.Fragment,{children:O.map(z=>{const V=Y3(z),Y=a&&!f?!1:p===O||g.includes(V),q=()=>{if(E.current.has(V))return;if(E.current.add(V),w.has(V))w.set(V,!0);else return;let J=!0;w.forEach(re=>{re||(J=!1)}),J&&(B==null||B(),D(S.current),a&&(d==null||d()),r&&r())};return T.jsx($xe,{isPresent:Y,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:Y?void 0:q,anchorX:o,anchorY:l,children:z},V)})})},bte=L.createContext({strict:!1}),MV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let AV=!1;function qxe(){if(AV)return;const n={};for(const e in MV)n[e]={isEnabled:t=>MV[e].some(r=>!!t[r])};Xee(n),AV=!0}function _te(){return qxe(),Dve()}function Yxe(n){const e=_te();for(const t in n)e[t]={...e[t],...n[t]};Xee(e)}const Xxe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function R2(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Xxe.has(n)}let wte=n=>!R2(n);function Kxe(n){typeof n=="function"&&(wte=e=>e.startsWith("on")?!R2(e):n(e))}try{Kxe(require("@emotion/is-prop-valid").default)}catch{}function Jxe(n,e,t){const r={};for(const i in n)i==="values"&&typeof n.values=="object"||(wte(i)||t===!0&&R2(i)||!e&&!R2(i)||n.draggable&&i.startsWith("onDrag"))&&(r[i]=n[i]);return r}const vD=L.createContext({});function Zxe(n,e){if(gD(n)){const{initial:t,animate:r}=n;return{initial:t===!1||iA(t)?t:void 0,animate:iA(r)?r:void 0}}return n.inherit!==!1?e:{}}function Qxe(n){const{initial:e,animate:t}=Zxe(n,L.useContext(vD));return L.useMemo(()=>({initial:e,animate:t}),[TV(e),TV(t)])}function TV(n){return Array.isArray(n)?n.join(" "):n}const Fz=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ste(n,e,t){for(const r in e)!Ao(e[r])&&!nte(r,t)&&(n[r]=e[r])}function ebe({transformTemplate:n},e){return L.useMemo(()=>{const t=Fz();return Nz(t,e,n),Object.assign({},t.vars,t.style)},[e])}function tbe(n,e){const t=n.style||{},r={};return Ste(r,t,n),Object.assign(r,ebe(n,e)),r}function nbe(n,e){const t={},r=tbe(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}const Ete=()=>({...Fz(),attrs:{}});function rbe(n,e,t,r){const i=L.useMemo(()=>{const s=Ete();return rte(s,e,ste(r),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};Ste(s,n.style,n),i.style={...s,...i.style}}return i}const ibe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zz(n){return typeof n!="string"||n.includes("-")?!1:!!(ibe.indexOf(n)>-1||/[A-Z]/u.test(n))}function sbe(n,e,t,{latestValues:r},i,s=!1,a){const l=(a??zz(n)?rbe:nbe)(e,r,i,n),c=Jxe(e,typeof n=="string",s),f=n!==L.Fragment?{...c,...l,ref:t}:{},{children:d}=e,p=L.useMemo(()=>Ao(d)?d.get():d,[d]);return L.createElement(n,{...f,children:p})}function abe({scrapeMotionValuesFromProps:n,createRenderState:e},t,r,i){return{latestValues:obe(t,r,i,n),renderState:e()}}function obe(n,e,t,r){const i={},s=r(n,{});for(const p in s)i[p]=WR(s[p]);let{initial:a,animate:o}=n;const l=gD(n),c=qee(n);e&&c&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let f=t?t.initial===!1:!1;f=f||a===!1;const d=f?o:a;if(d&&typeof d!="boolean"&&!mD(d)){const p=Array.isArray(d)?d:[d];for(let g=0;g<p.length;g++){const b=Tz(n,p[g]);if(b){const{transitionEnd:S,transition:w,...E}=b;for(const k in E){let R=E[k];if(Array.isArray(R)){const O=f?R.length-1:0;R=R[O]}R!==null&&(i[k]=R)}for(const k in S)i[k]=S[k]}}}return i}const Mte=n=>(e,t)=>{const r=L.useContext(vD),i=L.useContext(pD),s=()=>abe(n,e,r,i);return t?s():uz(s)},lbe=Mte({scrapeMotionValuesFromProps:Lz,createRenderState:Fz}),cbe=Mte({scrapeMotionValuesFromProps:ate,createRenderState:Ete}),ube=Symbol.for("motionComponentSymbol");function fbe(n,e,t){const r=L.useRef(t);L.useInsertionEffect(()=>{r.current=t});const i=L.useRef(null);return L.useCallback(s=>{var o;s&&((o=n.onMount)==null||o.call(n,s)),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const l=a(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const Ate=L.createContext({});function y1(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function dbe(n,e,t,r,i,s){var R,O;const{visualElement:a}=L.useContext(vD),o=L.useContext(bte),l=L.useContext(pD),c=L.useContext(Bz),f=c.reducedMotion,d=c.skipAnimations,p=L.useRef(null),g=L.useRef(!1);r=r||o.renderer,!p.current&&r&&(p.current=r(n,{visualState:e,parent:a,props:t,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:f,skipAnimations:d,isSVG:s}),g.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const b=p.current,S=L.useContext(Ate);b&&!b.projection&&i&&(b.type==="html"||b.type==="svg")&&hbe(p.current,t,i,S);const w=L.useRef(!1);L.useInsertionEffect(()=>{b&&w.current&&b.update(t,l)});const E=t[Iee],k=L.useRef(!!E&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,E))&&((O=window.MotionHasOptimisedAnimation)==null?void 0:O.call(window,E)));return qQ(()=>{g.current=!0,b&&(w.current=!0,window.MotionIsMounted=!0,b.updateFeatures(),b.scheduleRenderMicrotask(),k.current&&b.animationState&&b.animationState.animateChanges())}),L.useEffect(()=>{b&&(!k.current&&b.animationState&&b.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var D;(D=window.MotionHandoffMarkAsComplete)==null||D.call(window,E)}),k.current=!1),b.enteringChildren=void 0)}),b}function hbe(n,e,t,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:f}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:Tte(n.parent)),n.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&y1(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:l,layoutRoot:c})}function Tte(n){if(n)return n.options.allowProjection!==!1?n.projection:Tte(n.parent)}function yN(n,{forwardMotionProps:e=!1,type:t}={},r,i){r&&Yxe(r);const s=t?t==="svg":zz(n),a=s?cbe:lbe;function o(c,f){let d;const p={...L.useContext(Bz),...c,layoutId:pbe(c)},{isStatic:g}=p,b=Qxe(c),S=a(c,g);if(!g&&GQ){mbe();const w=gbe(p);d=w.MeasureLayout,b.visualElement=dbe(n,S,p,i,w.ProjectionNode,s)}return T.jsxs(vD.Provider,{value:b,children:[d&&b.visualElement?T.jsx(d,{visualElement:b.visualElement,...p}):null,sbe(n,c,fbe(S,b.visualElement,f),S,g,e,s)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const l=L.forwardRef(o);return l[ube]=n,l}function pbe({layoutId:n}){const e=L.useContext(cz).id;return e&&n!==void 0?e+"-"+n:n}function mbe(n,e){L.useContext(bte).strict}function gbe(n){const e=_te(),{drag:t,layout:r}=e;if(!t&&!r)return{};const i={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(n)||r!=null&&r.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function ybe(n,e){if(typeof Proxy>"u")return yN;const t=new Map,r=(s,a)=>yN(s,a,n,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(t.has(a)||t.set(a,yN(a,void 0,n,e)),t.get(a))})}const vbe=(n,e)=>e.isSVG??zz(n)?new Kve(e):new Wve(e,{allowProjection:n!==L.Fragment});class xbe extends cg{constructor(e){super(e),e.animationState||(e.animationState=txe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mD(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let bbe=0;class _be extends cg{constructor(){super(...arguments),this.id=bbe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wbe={animation:{Feature:xbe},exit:{Feature:_be}};function ST(n){return{point:{x:n.pageX,y:n.pageY}}}const Sbe=n=>e=>Oz(e)&&n(e,ST(e));function RM(n,e,t,r){return sA(n,e,Sbe(t),r)}const Cte=({current:n})=>n?n.ownerDocument.defaultView:null,CV=(n,e)=>Math.abs(n-e);function Ebe(n,e){const t=CV(n.x,e.x),r=CV(n.y,e.y);return Math.sqrt(t**2+r**2)}const kV=new Set(["auto","scroll"]);class kte{constructor(e,t,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=g=>{this.handleScroll(g.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=xN(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,S=Ebe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!S)return;const{point:w}=g,{timestamp:E}=Ga;this.history.push({...w,timestamp:E});const{onStart:k,onMove:R}=this.handlers;b||(k&&k(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=vN(b,this.transformPagePoint),hi.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:E}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&E&&E(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=xN(g.type==="pointercancel"?this.lastMoveEventInfo:vN(b,this.transformPagePoint),this.history);this.startEvent&&S&&S(g,k),w&&w(g,k)},!Oz(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=ST(e),c=vN(l,this.transformPagePoint),{point:f}=c,{timestamp:d}=Ga;this.history=[{...f,timestamp:d}];const{onSessionStart:p}=t;p&&p(e,xN(c,this.history)),this.removeListeners=bT(RM(this.contextWindow,"pointermove",this.handlePointerMove),RM(this.contextWindow,"pointerup",this.handlePointerUp),RM(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let t=e.parentElement;for(;t;){const r=getComputedStyle(t);(kV.has(r.overflowX)||kV.has(r.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-t.x,y:i.y-t.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),hi.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Y0(this.updatePoint)}}function vN(n,e){return e?{point:e(n.point)}:n}function RV(n,e){return{x:n.x-e.x,y:n.y-e.y}}function xN({point:n},e){return{point:n,delta:RV(n,Rte(e)),offset:RV(n,Mbe(e)),velocity:Abe(e,.1)}}function Mbe(n){return n[0]}function Rte(n){return n[n.length-1]}function Abe(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const i=Rte(n);for(;t>=0&&(r=n[t],!(i.timestamp-r.timestamp>Af(e)));)t--;if(!r)return{x:0,y:0};r===n[0]&&n.length>2&&i.timestamp-r.timestamp>Af(e)*2&&(r=n[1]);const s=xu(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Tbe(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?Qi(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?Qi(t,n,r.max):Math.min(n,t)),n}function OV(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Cbe(n,{top:e,left:t,bottom:r,right:i}){return{x:OV(n.x,t,i),y:OV(n.y,e,r)}}function PV(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function kbe(n,e){return{x:PV(n.x,e.x),y:PV(n.y,e.y)}}function Rbe(n,e){let t=.5;const r=Qo(n),i=Qo(e);return i>r?t=tA(e.min,e.max-r,n.min):r>i&&(t=tA(n.min,n.max-i,e.min)),nh(0,1,t)}function Obe(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const M8=.35;function Pbe(n=M8){return n===!1?n=0:n===!0&&(n=M8),{x:DV(n,"left","right"),y:DV(n,"top","bottom")}}function DV(n,e,t){return{min:IV(n,e),max:IV(n,t)}}function IV(n,e){return typeof n=="number"?n:n[e]||0}const Dbe=new WeakMap;class Ibe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Zs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{t&&this.snapToCursor(ST(d).point),this.stopAnimation()},a=(d,p)=>{const{drag:g,dragPropagation:b,onDragStart:S}=this.getProps();if(g&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cve(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ed(E=>{let k=this.getAxisMotionValue(E).get()||0;if(Kd.test(k)){const{projection:R}=this.visualElement;if(R&&R.layout){const O=R.layout.layoutBox[E];O&&(k=Qo(O)*(parseFloat(k)/100))}}this.originPoint[E]=k}),S&&hi.update(()=>S(d,p),!1,!0),g8(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:b,onDirectionLock:S,onDrag:w}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:E}=p;if(b&&this.currentDirection===null){this.currentDirection=Lbe(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,E),this.updateAxis("y",p.point,E),this.visualElement.render(),w&&hi.update(()=>w(d,p),!1,!0)},l=(d,p)=>{this.latestPointerEvent=d,this.latestPanInfo=p,this.stop(d,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>{const{dragSnapToOrigin:d}=this.getProps();(d||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new kte(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:Cte(this.visualElement),element:this.visualElement.current})}stop(e,t){const r=e||this.latestPointerEvent,i=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&hi.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,r){const{drag:i}=this.getProps();if(!r||!X3(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=Tbe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&y1(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Cbe(r.layoutBox,e):this.constraints=!1,this.elastic=Pbe(t),i!==this.constraints&&!y1(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&Ed(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Obe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!y1(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Fve(r,i.root,this.visualElement.getTransformPagePoint());let a=kbe(i.layout.layoutBox,s);if(t){const o=t(Nve(a));this.hasMutatedConstraints=!!o,o&&(a=Jee(o))}return a}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ed(f=>{if(!X3(f,t,this.currentDirection))return;let d=l&&l[f]||{};a&&(d={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,b)});return Promise.all(c).then(o)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return g8(this.visualElement,e),r.start(Az(e,r,0,t,this.visualElement,!1))}stopAnimation(){Ed(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[t];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ed(t=>{const{drag:r}=this.getProps();if(!X3(t,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(t);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[t],l=s.get()||0;s.set(e[t]-Qi(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!y1(t)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ed(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=Rbe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),Ed(a=>{if(!X3(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Qi(l,c,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;Dbe.set(this.visualElement,this);const e=this.visualElement.current,t=RM(e,"pointerdown",c=>{const{drag:f,dragListener:d=!0}=this.getProps(),p=c.target,g=p!==e&&mve(p);f&&d&&!g&&this.start(c)});let r;const i=()=>{const{dragConstraints:c}=this.getProps();y1(c)&&c.current&&(this.constraints=this.resolveRefConstraints(),r||(r=Nbe(e,c.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),hi.read(i);const o=sA(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(Ed(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=c[d].translate,p.set(p.get()+c[d].translate))}),this.visualElement.render())}));return()=>{o(),t(),a(),l&&l(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=M8,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function NV(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function Nbe(n,e,t){const r=HH(n,NV(t)),i=HH(e,NV(t));return()=>{r(),i()}}function X3(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function Lbe(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class Bbe extends cg{constructor(e){super(e),this.removeGroupControls=Eu,this.removeListeners=Eu,this.controls=new Ibe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Eu}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const bN=n=>(e,t)=>{n&&hi.update(()=>n(e,t),!1,!0)};class Fbe extends cg{constructor(){super(...arguments),this.removePointerDownListener=Eu}onPointerDown(e){this.session=new kte(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Cte(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bN(e),onStart:bN(t),onMove:bN(r),onEnd:(s,a)=>{delete this.session,i&&hi.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=RM(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let _N=!1;class zbe extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(t.group&&t.group.add(s),r&&r.register&&i&&r.register(s),_N&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),$R.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==t&&a.setOptions({...a.options,layoutDependency:t}),_N=!0,i||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||hi.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Rz.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:i}=e;_N=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Ote(n){const[e,t]=xte(),r=L.useContext(cz);return T.jsx(zbe,{...n,layoutGroup:r,switchLayoutGroup:L.useContext(Ate),isPresent:e,safeToRemove:t})}const Ube={pan:{Feature:Fbe},drag:{Feature:Bbe,ProjectionNode:vte,MeasureLayout:Ote}};function LV(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const i="onHover"+t,s=r[i];s&&hi.postRender(()=>s(e,ST(e)))}class jbe extends cg{mount(){const{current:e}=this.node;e&&(this.unmount=fve(e,(t,r)=>(LV(this.node,r,"Start"),i=>LV(this.node,i,"End"))))}unmount(){}}class Hbe extends cg{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=bT(sA(this.node.current,"focus",()=>this.onFocus()),sA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function BV(n,e,t){const{props:r}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const i="onTap"+(t==="End"?"":t),s=r[i];s&&hi.postRender(()=>s(e,ST(e)))}class Vbe extends cg{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:r}=this.node.props;this.unmount=yve(e,(i,s)=>(BV(this.node,s,"Start"),(a,{success:o})=>BV(this.node,a,o?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:(r==null?void 0:r.tap)===!1})}unmount(){}}const A8=new WeakMap,wN=new WeakMap,Wbe=n=>{const e=A8.get(n.target);e&&e(n)},$be=n=>{n.forEach(Wbe)};function Gbe({root:n,...e}){const t=n||document;wN.has(t)||wN.set(t,{});const r=wN.get(t),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver($be,{root:n,...e})),r[i]}function qbe(n,e,t){const r=Gbe(e);return A8.set(n,t),r.observe(n),()=>{A8.delete(n),r.unobserve(n)}}const Ybe={some:0,all:1};class Xbe extends cg{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:i="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ybe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),p=c?f:d;p&&p(l)};return qbe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(Kbe(e,t))&&this.startObserver()}unmount(){}}function Kbe({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const Jbe={inView:{Feature:Xbe},tap:{Feature:Vbe},focus:{Feature:Hbe},hover:{Feature:jbe}},Zbe={layout:{ProjectionNode:vte,MeasureLayout:Ote}},Qbe={...wbe,...Jbe,...Ube,...Zbe},nr=ybe(Qbe,vbe),e1e=()=>{const n=Math.floor(Math.random()*4),e=Math.random()*(typeof window<"u"?window.innerWidth:1200);switch(n){case 0:return{x:e,y:0,angle:45};case 1:return{x:typeof window<"u"?window.innerWidth:1200,y:e,angle:135};case 2:return{x:e,y:typeof window<"u"?window.innerHeight:800,angle:225};case 3:return{x:0,y:e,angle:315};default:return{x:0,y:0,angle:45}}};function O2({minSpeed:n=10,maxSpeed:e=30,minDelay:t=1200,maxDelay:r=4200,starColor:i="#4EFFA0",trailColor:s="#2EB9DF",starWidth:a=10,starHeight:o=1,style:l={}}){const[c,f]=L.useState(null),d=L.useRef(null),p=L.useId();return L.useEffect(()=>{let g;const b=()=>{const{x:S,y:w,angle:E}=e1e();f({id:Date.now(),x:S,y:w,angle:E,scale:1,speed:Math.random()*(e-n)+n,distance:0});const k=Math.random()*(r-t)+t;g=setTimeout(b,k)};return b(),()=>clearTimeout(g)},[n,e,t,r]),L.useEffect(()=>{const b=requestAnimationFrame(()=>{f(S=>{if(!S)return null;const w=S.x+S.speed*Math.cos(S.angle*Math.PI/180),E=S.y+S.speed*Math.sin(S.angle*Math.PI/180),k=S.distance+S.speed,R=1+k/100,O=typeof window<"u"?window.innerWidth:1200,D=typeof window<"u"?window.innerHeight:800;return w<-20||w>O+20||E<-20||E>D+20?null:{...S,x:w,y:E,distance:k,scale:R}})});return()=>cancelAnimationFrame(b)},[c]),T.jsxs("svg",{ref:d,style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:1,...l},children:[c&&T.jsx("rect",{x:c.x,y:c.y,width:a*c.scale,height:o,fill:`url(#${p})`,transform:`rotate(${c.angle}, ${c.x+a*c.scale/2}, ${c.y+o/2})`},c.id),T.jsx("defs",{children:T.jsxs("linearGradient",{id:p,x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[T.jsx("stop",{offset:"0%",style:{stopColor:s,stopOpacity:0}}),T.jsx("stop",{offset:"100%",style:{stopColor:i,stopOpacity:1}})]})})]})}/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const xD="183",t1e={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},n1e={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Pte=0,T8=1,Dte=2,r1e=3,Ite=0,G1=1,OM=2,qy=3,Bp=0,al=1,Ld=2,Jd=0,Iv=1,C8=2,k8=3,R8=4,Nte=5,i1e=6,y0=100,Lte=101,Bte=102,Fte=103,zte=104,Ute=200,jte=201,Hte=202,Vte=203,P2=204,D2=205,Wte=206,$te=207,Gte=208,qte=209,Yte=210,Xte=211,Kte=212,Jte=213,Zte=214,I2=0,N2=1,L2=2,Gv=3,B2=4,F2=5,z2=6,U2=7,ET=0,Qte=1,ene=2,Mu=0,Uz=1,jz=2,Hz=3,bD=4,Vz=5,Wz=6,$z=7,O8="attached",tne="detached",_D=300,rh=301,X0=302,PM=303,DM=304,Aw=306,aA=1e3,Vl=1001,oA=1002,Es=1003,Gz=1004,s1e=1004,R1=1005,a1e=1005,Mi=1006,IM=1007,o1e=1007,Vd=1008,l1e=1008,Ko=1009,qz=1010,Yz=1011,H_=1012,wD=1013,Cu=1014,el=1015,ih=1016,SD=1017,ED=1018,V_=1020,Xz=35902,Kz=35899,Jz=1021,Zz=1022,To=1023,sh=1026,L0=1027,MD=1028,MT=1029,qv=1030,AD=1031,c1e=1032,TD=1033,NM=33776,LM=33777,BM=33778,FM=33779,j2=35840,H2=35841,V2=35842,W2=35843,$2=36196,G2=37492,q2=37496,Y2=37488,X2=37489,K2=37490,J2=37491,Z2=37808,Q2=37809,eO=37810,tO=37811,nO=37812,rO=37813,iO=37814,sO=37815,aO=37816,oO=37817,lO=37818,cO=37819,uO=37820,fO=37821,dO=36492,hO=36494,pO=36495,mO=36283,gO=36284,yO=36285,vO=36286,nne=2200,rne=2201,ine=2202,lA=2300,xO=2301,GR=2302,P8=2303,Yy=2400,Xy=2401,cA=2402,CD=2500,Qz=2501,u1e=0,f1e=1,d1e=2,sne=3200,h1e=3201,p1e=3202,m1e=3203,ug=0,ane=1,xp="",So="srgb",K0="srgb-linear",uA="linear",Fr="srgb",g1e="",y1e="rg",v1e="ga",x1e=0,Ay=7680,b1e=7681,_1e=7682,w1e=7683,S1e=34055,E1e=34056,M1e=5386,A1e=512,T1e=513,C1e=514,k1e=515,R1e=516,O1e=517,P1e=518,D8=519,one=512,lne=513,cne=514,kD=515,une=516,fne=517,RD=518,dne=519,fA=35044,D1e=35048,I1e=35040,N1e=35045,L1e=35049,B1e=35041,F1e=35046,z1e=35050,U1e=35042,j1e="100",I8="300 es",gc=2e3,Yv=2001,H1e={COMPUTE:"compute",RENDER:"render"},V1e={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},W1e={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"},$1e={TEXTURE_COMPARE:"depthTextureCompare"};function G1e(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const q1e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function O1(n,e){return new q1e[n](e)}function hne(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function dA(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function pne(){const n=dA("canvas");return n.style.display="block",n}const FV={};let J0=null;function Y1e(n){J0=n}function X1e(){return J0}function hA(...n){const e="THREE."+n.shift();J0?J0("log",e,...n):console.log(e,...n)}function mne(n){const e=n[0];if(typeof e=="string"&&e.startsWith("TSL:")){const t=n[1];t&&t.isStackTrace?n[0]+=" "+t.getLocation():n[1]='Stack trace not available. Enable "THREE.Node.captureStackTrace" to capture stack traces.'}return n}function Ut(...n){n=mne(n);const e="THREE."+n.shift();if(J0)J0("warn",e,...n);else{const t=n[0];t&&t.isStackTrace?console.warn(t.getError(e)):console.warn(e,...n)}}function on(...n){n=mne(n);const e="THREE."+n.shift();if(J0)J0("error",e,...n);else{const t=n[0];t&&t.isStackTrace?console.error(t.getError(e)):console.error(e,...n)}}function pA(...n){const e=n.join(" ");e in FV||(FV[e]=!0,Ut(...n))}function K1e(n,e,t){return new Promise(function(r,i){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:i();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:r()}}setTimeout(s,t)})}const J1e={[I2]:N2,[L2]:z2,[B2]:U2,[Gv]:F2,[N2]:I2,[z2]:L2,[U2]:B2,[F2]:Gv};class hh{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const r=t[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const po=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let zV=1234567;const Nv=Math.PI/180,W_=180/Math.PI;function xc(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(po[n&255]+po[n>>8&255]+po[n>>16&255]+po[n>>24&255]+"-"+po[e&255]+po[e>>8&255]+"-"+po[e>>16&15|64]+po[e>>24&255]+"-"+po[t&63|128]+po[t>>8&255]+"-"+po[t>>16&255]+po[t>>24&255]+po[r&255]+po[r>>8&255]+po[r>>16&255]+po[r>>24&255]).toLowerCase()}function wn(n,e,t){return Math.max(e,Math.min(t,n))}function eU(n,e){return(n%e+e)%e}function Z1e(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function Q1e(n,e,t){return n!==e?(t-n)/(e-n):0}function zM(n,e,t){return(1-t)*n+t*e}function e_e(n,e,t,r){return zM(n,e,1-Math.exp(-t*r))}function t_e(n,e=1){return e-Math.abs(eU(n,e*2)-e)}function n_e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function r_e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function i_e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function s_e(n,e){return n+Math.random()*(e-n)}function a_e(n){return n*(.5-Math.random())}function o_e(n){n!==void 0&&(zV=n);let e=zV+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function l_e(n){return n*Nv}function c_e(n){return n*W_}function u_e(n){return(n&n-1)===0&&n!==0}function f_e(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function d_e(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function h_e(n,e,t,r,i){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),c=s((e+r)/2),f=a((e+r)/2),d=s((e-r)/2),p=a((e-r)/2),g=s((r-e)/2),b=a((r-e)/2);switch(i){case"XYX":n.set(o*f,l*d,l*p,o*c);break;case"YZY":n.set(l*p,o*f,l*d,o*c);break;case"ZXZ":n.set(l*d,l*p,o*f,o*c);break;case"XZX":n.set(o*f,l*b,l*g,o*c);break;case"YXY":n.set(l*g,o*f,l*b,o*c);break;case"ZYZ":n.set(l*b,l*g,o*f,o*c);break;default:Ut("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Jo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function jn(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const p_e={DEG2RAD:Nv,RAD2DEG:W_,generateUUID:xc,clamp:wn,euclideanModulo:eU,mapLinear:Z1e,inverseLerp:Q1e,lerp:zM,damp:e_e,pingpong:t_e,smoothstep:n_e,smootherstep:r_e,randInt:i_e,randFloat:s_e,randFloatSpread:a_e,seededRandom:o_e,degToRad:l_e,radToDeg:c_e,isPowerOfTwo:u_e,ceilPowerOfTwo:f_e,floorPowerOfTwo:d_e,setQuaternionFromProperEuler:h_e,normalize:jn,denormalize:Jo};class St{constructor(e=0,t=0){St.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=wn(this.x,e.x,t.x),this.y=wn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=wn(this.x,e,t),this.y=wn(this.y,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ol{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,a,o){let l=r[i+0],c=r[i+1],f=r[i+2],d=r[i+3],p=s[a+0],g=s[a+1],b=s[a+2],S=s[a+3];if(d!==S||l!==p||c!==g||f!==b){let w=l*p+c*g+f*b+d*S;w<0&&(p=-p,g=-g,b=-b,S=-S,w=-w);let E=1-o;if(w<.9995){const k=Math.acos(w),R=Math.sin(k);E=Math.sin(E*k)/R,o=Math.sin(o*k)/R,l=l*E+p*o,c=c*E+g*o,f=f*E+b*o,d=d*E+S*o}else{l=l*E+p*o,c=c*E+g*o,f=f*E+b*o,d=d*E+S*o;const k=1/Math.sqrt(l*l+c*c+f*f+d*d);l*=k,c*=k,f*=k,d*=k}}e[t]=l,e[t+1]=c,e[t+2]=f,e[t+3]=d}static multiplyQuaternionsFlat(e,t,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],f=r[i+3],d=s[a],p=s[a+1],g=s[a+2],b=s[a+3];return e[t]=o*b+f*d+l*g-c*p,e[t+1]=l*b+f*p+c*d-o*g,e[t+2]=c*b+f*g+o*p-l*d,e[t+3]=f*b-o*d-l*p-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),f=o(i/2),d=o(s/2),p=l(r/2),g=l(i/2),b=l(s/2);switch(a){case"XYZ":this._x=p*f*d+c*g*b,this._y=c*g*d-p*f*b,this._z=c*f*b+p*g*d,this._w=c*f*d-p*g*b;break;case"YXZ":this._x=p*f*d+c*g*b,this._y=c*g*d-p*f*b,this._z=c*f*b-p*g*d,this._w=c*f*d+p*g*b;break;case"ZXY":this._x=p*f*d-c*g*b,this._y=c*g*d+p*f*b,this._z=c*f*b+p*g*d,this._w=c*f*d-p*g*b;break;case"ZYX":this._x=p*f*d-c*g*b,this._y=c*g*d+p*f*b,this._z=c*f*b-p*g*d,this._w=c*f*d+p*g*b;break;case"YZX":this._x=p*f*d+c*g*b,this._y=c*g*d+p*f*b,this._z=c*f*b-p*g*d,this._w=c*f*d-p*g*b;break;case"XZY":this._x=p*f*d-c*g*b,this._y=c*g*d-p*f*b,this._z=c*f*b+p*g*d,this._w=c*f*d+p*g*b;break;default:Ut("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],a=t[1],o=t[5],l=t[9],c=t[2],f=t[6],d=t[10],p=r+o+d;if(p>0){const g=.5/Math.sqrt(p+1);this._w=.25/g,this._x=(f-l)*g,this._y=(s-c)*g,this._z=(a-i)*g}else if(r>o&&r>d){const g=2*Math.sqrt(1+r-o-d);this._w=(f-l)/g,this._x=.25*g,this._y=(i+a)/g,this._z=(s+c)/g}else if(o>d){const g=2*Math.sqrt(1+o-r-d);this._w=(s-c)/g,this._x=(i+a)/g,this._y=.25*g,this._z=(l+f)/g}else{const g=2*Math.sqrt(1+d-r-o);this._w=(a-i)/g,this._x=(s+c)/g,this._y=(l+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(wn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,a=e._w,o=t._x,l=t._y,c=t._z,f=t._w;return this._x=r*f+a*o+i*c-s*l,this._y=i*f+a*l+s*o-r*c,this._z=s*f+a*c+r*l-i*o,this._w=a*f-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){let r=e._x,i=e._y,s=e._z,a=e._w,o=this.dot(e);o<0&&(r=-r,i=-i,s=-s,a=-a,o=-o);let l=1-t;if(o<.9995){const c=Math.acos(o),f=Math.sin(c);l=Math.sin(l*c)/f,t=Math.sin(t*c)/f,this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+s*t,this._w=this._w*l+a*t,this._onChangeCallback()}else this._x=this._x*l+r*t,this._y=this._y*l+i*t,this._z=this._z*l+s*t,this._w=this._w*l+a*t,this.normalize();return this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Se{constructor(e=0,t=0,r=0){Se.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(UV.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(UV.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*r),f=2*(o*t-s*i),d=2*(s*r-a*t);return this.x=t+l*c+a*d-o*f,this.y=r+l*f+o*c-s*d,this.z=i+l*d+s*f-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=wn(this.x,e.x,t.x),this.y=wn(this.y,e.y,t.y),this.z=wn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=wn(this.x,e,t),this.y=wn(this.y,e,t),this.z=wn(this.z,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return SN.copy(this).projectOnVector(e),this.sub(SN)}reflect(e){return this.sub(SN.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,r=Math.sqrt(1-t*t);return this.x=r*Math.cos(e),this.y=t,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const SN=new Se,UV=new ol;class Bn{constructor(e,t,r,i,s,a,o,l,c){Bn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,c)}set(e,t,r,i,s,a,o,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=o,f[3]=t,f[4]=s,f[5]=l,f[6]=r,f[7]=a,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],f=r[4],d=r[7],p=r[2],g=r[5],b=r[8],S=i[0],w=i[3],E=i[6],k=i[1],R=i[4],O=i[7],D=i[2],I=i[5],B=i[8];return s[0]=a*S+o*k+l*D,s[3]=a*w+o*R+l*I,s[6]=a*E+o*O+l*B,s[1]=c*S+f*k+d*D,s[4]=c*w+f*R+d*I,s[7]=c*E+f*O+d*B,s[2]=p*S+g*k+b*D,s[5]=p*w+g*R+b*I,s[8]=p*E+g*O+b*B,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8];return t*a*f-t*o*c-r*s*f+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],d=f*a-o*c,p=o*l-f*s,g=c*s-a*l,b=t*d+r*p+i*g;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const S=1/b;return e[0]=d*S,e[1]=(i*c-f*r)*S,e[2]=(o*r-i*a)*S,e[3]=p*S,e[4]=(f*t-i*l)*S,e[5]=(i*s-o*t)*S,e[6]=g*S,e[7]=(r*l-c*t)*S,e[8]=(a*t-r*s)*S,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(EN.makeScale(e,t)),this}rotate(e){return this.premultiply(EN.makeRotation(-e)),this}translate(e,t){return this.premultiply(EN.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const EN=new Bn,jV=new Bn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),HV=new Bn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function m_e(){const n={enabled:!0,workingColorSpace:K0,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Fr&&(i.r=Cp(i.r),i.g=Cp(i.g),i.b=Cp(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Fr&&(i.r=q1(i.r),i.g=q1(i.g),i.b=q1(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===xp?uA:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return pA("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return pA("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],r=[.3127,.329];return n.define({[K0]:{primaries:e,whitePoint:r,transfer:uA,toXYZ:jV,fromXYZ:HV,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:So},outputColorSpaceConfig:{drawingBufferColorSpace:So}},[So]:{primaries:e,whitePoint:r,transfer:Fr,toXYZ:jV,fromXYZ:HV,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:So}}}),n}const dr=m_e();function Cp(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function q1(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Tb;class gne{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Tb===void 0&&(Tb=dA("canvas")),Tb.width=e.width,Tb.height=e.height;const i=Tb.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Tb}return r.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=dA("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Cp(s[a]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Cp(t[r]/255)*255):t[r]=Cp(t[r]);return{data:t,width:e.width,height:e.height}}else return Ut("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let g_e=0;class B0{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:g_e++}),this.uuid=xc(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight,0):typeof VideoFrame<"u"&&t instanceof VideoFrame?e.set(t.displayHeight,t.displayWidth,0):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(MN(i[a].image)):s.push(MN(i[a]))}else s=MN(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function MN(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?gne.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(Ut("Texture: Unable to serialize Texture."),{})}let y_e=0;const AN=new Se;class Ui extends hh{constructor(e=Ui.DEFAULT_IMAGE,t=Ui.DEFAULT_MAPPING,r=Vl,i=Vl,s=Mi,a=Vd,o=To,l=Ko,c=Ui.DEFAULT_ANISOTROPY,f=xp){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:y_e++}),this.uuid=xc(),this.name="",this.source=new B0(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new St(0,0),this.repeat=new St(1,1),this.center=new St(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(AN).x}get height(){return this.source.getSize(AN).y}get depth(){return this.source.getSize(AN).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const r=e[t];if(r===void 0){Ut(`Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Ut(`Texture.setValues(): property '${t}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_D)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case aA:e.x=e.x-Math.floor(e.x);break;case Vl:e.x=e.x<0?0:1;break;case oA:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case aA:e.y=e.y-Math.floor(e.y);break;case Vl:e.y=e.y<0?0:1;break;case oA:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ui.DEFAULT_IMAGE=null;Ui.DEFAULT_MAPPING=_D;Ui.DEFAULT_ANISOTROPY=1;class ti{constructor(e=0,t=0,r=0,i=1){ti.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*t+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*t+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*t+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],f=l[4],d=l[8],p=l[1],g=l[5],b=l[9],S=l[2],w=l[6],E=l[10];if(Math.abs(f-p)<.01&&Math.abs(d-S)<.01&&Math.abs(b-w)<.01){if(Math.abs(f+p)<.1&&Math.abs(d+S)<.1&&Math.abs(b+w)<.1&&Math.abs(c+g+E-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const R=(c+1)/2,O=(g+1)/2,D=(E+1)/2,I=(f+p)/4,B=(d+S)/4,z=(b+w)/4;return R>O&&R>D?R<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(R),i=I/r,s=B/r):O>D?O<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(O),r=I/i,s=z/i):D<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(D),r=B/s,i=z/s),this.set(r,i,s,t),this}let k=Math.sqrt((w-b)*(w-b)+(d-S)*(d-S)+(p-f)*(p-f));return Math.abs(k)<.001&&(k=1),this.x=(w-b)/k,this.y=(d-S)/k,this.z=(p-f)/k,this.w=Math.acos((c+g+E-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=wn(this.x,e.x,t.x),this.y=wn(this.y,e.y,t.y),this.z=wn(this.z,e.z,t.z),this.w=wn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=wn(this.x,e,t),this.y=wn(this.y,e,t),this.z=wn(this.z,e,t),this.w=wn(this.w,e,t),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(wn(r,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class tU extends hh{constructor(e=1,t=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Mi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=r.depth,this.scissor=new ti(0,0,e,t),this.scissorTest=!1,this.viewport=new ti(0,0,e,t),this.textures=[];const i={width:e,height:t,depth:r.depth},s=new Ui(i),a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const t={minFilter:Mi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=t,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,r=e.textures.length;t<r;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const i=Object.assign({},e.textures[t].image);this.textures[t].source=new B0(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bc extends tU{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class OD extends Ui{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Es,this.minFilter=Es,this.wrapR=Vl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class v_e extends bc{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new OD(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class PD extends Ui{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Es,this.minFilter=Es,this.wrapR=Vl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class x_e extends bc{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new PD(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Mn{constructor(e,t,r,i,s,a,o,l,c,f,d,p,g,b,S,w){Mn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,a,o,l,c,f,d,p,g,b,S,w)}set(e,t,r,i,s,a,o,l,c,f,d,p,g,b,S,w){const E=this.elements;return E[0]=e,E[4]=t,E[8]=r,E[12]=i,E[1]=s,E[5]=a,E[9]=o,E[13]=l,E[2]=c,E[6]=f,E[10]=d,E[14]=p,E[3]=g,E[7]=b,E[11]=S,E[15]=w,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Mn().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return this.determinant()===0?(e.set(1,0,0),t.set(0,1,0),r.set(0,0,1),this):(e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this)}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){if(e.determinant()===0)return this.identity();const t=this.elements,r=e.elements,i=1/Cb.setFromMatrixColumn(e,0).length(),s=1/Cb.setFromMatrixColumn(e,1).length(),a=1/Cb.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const p=a*f,g=a*d,b=o*f,S=o*d;t[0]=l*f,t[4]=-l*d,t[8]=c,t[1]=g+b*c,t[5]=p-S*c,t[9]=-o*l,t[2]=S-p*c,t[6]=b+g*c,t[10]=a*l}else if(e.order==="YXZ"){const p=l*f,g=l*d,b=c*f,S=c*d;t[0]=p+S*o,t[4]=b*o-g,t[8]=a*c,t[1]=a*d,t[5]=a*f,t[9]=-o,t[2]=g*o-b,t[6]=S+p*o,t[10]=a*l}else if(e.order==="ZXY"){const p=l*f,g=l*d,b=c*f,S=c*d;t[0]=p-S*o,t[4]=-a*d,t[8]=b+g*o,t[1]=g+b*o,t[5]=a*f,t[9]=S-p*o,t[2]=-a*c,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const p=a*f,g=a*d,b=o*f,S=o*d;t[0]=l*f,t[4]=b*c-g,t[8]=p*c+S,t[1]=l*d,t[5]=S*c+p,t[9]=g*c-b,t[2]=-c,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const p=a*l,g=a*c,b=o*l,S=o*c;t[0]=l*f,t[4]=S-p*d,t[8]=b*d+g,t[1]=d,t[5]=a*f,t[9]=-o*f,t[2]=-c*f,t[6]=g*d+b,t[10]=p-S*d}else if(e.order==="XZY"){const p=a*l,g=a*c,b=o*l,S=o*c;t[0]=l*f,t[4]=-d,t[8]=c*f,t[1]=p*d+S,t[5]=a*f,t[9]=g*d-b,t[2]=b*d-g,t[6]=o*f,t[10]=S*d+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(b_e,e,__e)}lookAt(e,t,r){const i=this.elements;return ic.subVectors(e,t),ic.lengthSq()===0&&(ic.z=1),ic.normalize(),Xm.crossVectors(r,ic),Xm.lengthSq()===0&&(Math.abs(r.z)===1?ic.x+=1e-4:ic.z+=1e-4,ic.normalize(),Xm.crossVectors(r,ic)),Xm.normalize(),K3.crossVectors(ic,Xm),i[0]=Xm.x,i[4]=K3.x,i[8]=ic.x,i[1]=Xm.y,i[5]=K3.y,i[9]=ic.y,i[2]=Xm.z,i[6]=K3.z,i[10]=ic.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],f=r[1],d=r[5],p=r[9],g=r[13],b=r[2],S=r[6],w=r[10],E=r[14],k=r[3],R=r[7],O=r[11],D=r[15],I=i[0],B=i[4],z=i[8],V=i[12],Y=i[1],q=i[5],J=i[9],re=i[13],fe=i[2],ne=i[6],te=i[10],se=i[14],be=i[3],Ee=i[7],oe=i[11],ee=i[15];return s[0]=a*I+o*Y+l*fe+c*be,s[4]=a*B+o*q+l*ne+c*Ee,s[8]=a*z+o*J+l*te+c*oe,s[12]=a*V+o*re+l*se+c*ee,s[1]=f*I+d*Y+p*fe+g*be,s[5]=f*B+d*q+p*ne+g*Ee,s[9]=f*z+d*J+p*te+g*oe,s[13]=f*V+d*re+p*se+g*ee,s[2]=b*I+S*Y+w*fe+E*be,s[6]=b*B+S*q+w*ne+E*Ee,s[10]=b*z+S*J+w*te+E*oe,s[14]=b*V+S*re+w*se+E*ee,s[3]=k*I+R*Y+O*fe+D*be,s[7]=k*B+R*q+O*ne+D*Ee,s[11]=k*z+R*J+O*te+D*oe,s[15]=k*V+R*re+O*se+D*ee,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],f=e[2],d=e[6],p=e[10],g=e[14],b=e[3],S=e[7],w=e[11],E=e[15],k=l*g-c*p,R=o*g-c*d,O=o*p-l*d,D=a*g-c*f,I=a*p-l*f,B=a*d-o*f;return t*(S*k-w*R+E*O)-r*(b*k-w*D+E*I)+i*(b*R-S*D+E*B)-s*(b*O-S*I+w*B)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],f=e[8],d=e[9],p=e[10],g=e[11],b=e[12],S=e[13],w=e[14],E=e[15],k=t*o-r*a,R=t*l-i*a,O=t*c-s*a,D=r*l-i*o,I=r*c-s*o,B=i*c-s*l,z=f*S-d*b,V=f*w-p*b,Y=f*E-g*b,q=d*w-p*S,J=d*E-g*S,re=p*E-g*w,fe=k*re-R*J+O*q+D*Y-I*V+B*z;if(fe===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ne=1/fe;return e[0]=(o*re-l*J+c*q)*ne,e[1]=(i*J-r*re-s*q)*ne,e[2]=(S*B-w*I+E*D)*ne,e[3]=(p*I-d*B-g*D)*ne,e[4]=(l*Y-a*re-c*V)*ne,e[5]=(t*re-i*Y+s*V)*ne,e[6]=(w*O-b*B-E*R)*ne,e[7]=(f*B-p*O+g*R)*ne,e[8]=(a*J-o*Y+c*z)*ne,e[9]=(r*Y-t*J-s*z)*ne,e[10]=(b*I-S*O+E*k)*ne,e[11]=(d*O-f*I-g*k)*ne,e[12]=(o*V-a*q-l*z)*ne,e[13]=(t*q-r*V+i*z)*ne,e[14]=(S*R-b*D-w*k)*ne,e[15]=(f*D-d*R+p*k)*ne,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,f=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,f*o+r,f*l-i*a,0,c*l-i*o,f*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,c=s+s,f=a+a,d=o+o,p=s*c,g=s*f,b=s*d,S=a*f,w=a*d,E=o*d,k=l*c,R=l*f,O=l*d,D=r.x,I=r.y,B=r.z;return i[0]=(1-(S+E))*D,i[1]=(g+O)*D,i[2]=(b-R)*D,i[3]=0,i[4]=(g-O)*I,i[5]=(1-(p+E))*I,i[6]=(w+k)*I,i[7]=0,i[8]=(b+R)*B,i[9]=(w-k)*B,i[10]=(1-(p+S))*B,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;e.x=i[12],e.y=i[13],e.z=i[14];const s=this.determinant();if(s===0)return r.set(1,1,1),t.identity(),this;let a=Cb.set(i[0],i[1],i[2]).length();const o=Cb.set(i[4],i[5],i[6]).length(),l=Cb.set(i[8],i[9],i[10]).length();s<0&&(a=-a),nf.copy(this);const c=1/a,f=1/o,d=1/l;return nf.elements[0]*=c,nf.elements[1]*=c,nf.elements[2]*=c,nf.elements[4]*=f,nf.elements[5]*=f,nf.elements[6]*=f,nf.elements[8]*=d,nf.elements[9]*=d,nf.elements[10]*=d,t.setFromRotationMatrix(nf),r.x=a,r.y=o,r.z=l,this}makePerspective(e,t,r,i,s,a,o=gc,l=!1){const c=this.elements,f=2*s/(t-e),d=2*s/(r-i),p=(t+e)/(t-e),g=(r+i)/(r-i);let b,S;if(l)b=s/(a-s),S=a*s/(a-s);else if(o===gc)b=-(a+s)/(a-s),S=-2*a*s/(a-s);else if(o===Yv)b=-a/(a-s),S=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=f,c[4]=0,c[8]=p,c[12]=0,c[1]=0,c[5]=d,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=b,c[14]=S,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,t,r,i,s,a,o=gc,l=!1){const c=this.elements,f=2/(t-e),d=2/(r-i),p=-(t+e)/(t-e),g=-(r+i)/(r-i);let b,S;if(l)b=1/(a-s),S=a/(a-s);else if(o===gc)b=-2/(a-s),S=-(a+s)/(a-s);else if(o===Yv)b=-1/(a-s),S=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=f,c[4]=0,c[8]=0,c[12]=p,c[1]=0,c[5]=d,c[9]=0,c[13]=g,c[2]=0,c[6]=0,c[10]=b,c[14]=S,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const Cb=new Se,nf=new Mn,b_e=new Se(0,0,0),__e=new Se(1,1,1),Xm=new Se,K3=new Se,ic=new Se,VV=new Mn,WV=new ol;class Sc{constructor(e=0,t=0,r=0,i=Sc.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],f=i[9],d=i[2],p=i[6],g=i[10];switch(t){case"XYZ":this._y=Math.asin(wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-wn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(o,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-d,g),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-wn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,g));break;case"XZY":this._z=Math.asin(-wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-f,g),this._y=0);break;default:Ut("Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return VV.makeRotationFromQuaternion(e),this.setFromRotationMatrix(VV,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return WV.setFromEuler(this),this.setFromQuaternion(WV,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Sc.DEFAULT_ORDER="XYZ";class $_{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let w_e=0;const $V=new Se,kb=new ol,Yh=new Mn,J3=new Se,CE=new Se,S_e=new Se,E_e=new ol,GV=new Se(1,0,0),qV=new Se(0,1,0),YV=new Se(0,0,1),XV={type:"added"},M_e={type:"removed"},Rb={type:"childadded",child:null},TN={type:"childremoved",child:null};class Sr extends hh{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:w_e++}),this.uuid=xc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Sr.DEFAULT_UP.clone();const e=new Se,t=new Sc,r=new ol,i=new Se(1,1,1);function s(){r.setFromEuler(t,!1)}function a(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Mn},normalMatrix:{value:new Bn}}),this.matrix=new Mn,this.matrixWorld=new Mn,this.matrixAutoUpdate=Sr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new $_,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.static=!1,this.userData={},this.pivot=null}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return kb.setFromAxisAngle(e,t),this.quaternion.multiply(kb),this}rotateOnWorldAxis(e,t){return kb.setFromAxisAngle(e,t),this.quaternion.premultiply(kb),this}rotateX(e){return this.rotateOnAxis(GV,e)}rotateY(e){return this.rotateOnAxis(qV,e)}rotateZ(e){return this.rotateOnAxis(YV,e)}translateOnAxis(e,t){return $V.copy(e).applyQuaternion(this.quaternion),this.position.add($V.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(GV,e)}translateY(e){return this.translateOnAxis(qV,e)}translateZ(e){return this.translateOnAxis(YV,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yh.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?J3.copy(e):J3.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),CE.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yh.lookAt(CE,J3,this.up):Yh.lookAt(J3,CE,this.up),this.quaternion.setFromRotationMatrix(Yh),i&&(Yh.extractRotation(i.matrixWorld),kb.setFromRotationMatrix(Yh),this.quaternion.premultiply(kb.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(on("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(XV),Rb.child=e,this.dispatchEvent(Rb),Rb.child=null):on("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(M_e),TN.child=e,this.dispatchEvent(TN),TN.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Yh.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Yh.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yh),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(XV),Rb.child=e,this.dispatchEvent(Rb),Rb.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(CE,e,S_e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(CE,E_e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale);const e=this.pivot;if(e!==null){const t=e.x,r=e.y,i=e.z,s=this.matrix.elements;s[12]+=t-s[0]*t-s[4]*r-s[8]*i,s[13]+=r-s[1]*t-s[5]*r-s[9]*i,s[14]+=i-s[2]*t-s[6]*r-s[10]*i}this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].updateMatrixWorld(e)}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),this.static!==!1&&(i.static=this.static),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.pivot!==null&&(i.pivot=this.pivot.toArray()),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.morphTargetDictionary!==void 0&&(i.morphTargetDictionary=Object.assign({},this.morphTargetDictionary)),this.morphTargetInfluences!==void 0&&(i.morphTargetInfluences=this.morphTargetInfluences.slice()),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),f=a(e.images),d=a(e.shapes),p=a(e.skeletons),g=a(e.animations),b=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),b.length>0&&(r.nodes=b)}return r.object=i,r;function a(o){const l=[];for(const c in o){const f=o[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),e.pivot!==null&&(this.pivot=e.pivot.clone()),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.static=e.static,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Sr.DEFAULT_UP=new Se(0,1,0);Sr.DEFAULT_MATRIX_AUTO_UPDATE=!0;Sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;class P1 extends Sr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const A_e={type:"move"};class qR{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new P1,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new P1,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Se,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Se),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new P1,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Se,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Se),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const S of e.hand.values()){const w=t.getJointPose(S,r),E=this._getHandJoint(c,S);w!==null&&(E.matrix.fromArray(w.transform.matrix),E.matrix.decompose(E.position,E.rotation,E.scale),E.matrixWorldNeedsUpdate=!0,E.jointRadius=w.radius),E.visible=w!==null}const f=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],p=f.position.distanceTo(d.position),g=.02,b=.005;c.inputState.pinching&&p>g+b?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=g-b&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(A_e)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new P1;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}const yne={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Km={h:0,s:0,l:0},Z3={h:0,s:0,l:0};function CN(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let qt=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=So){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,dr.colorSpaceToWorking(this,t),this}setRGB(e,t,r,i=dr.workingColorSpace){return this.r=e,this.g=t,this.b=r,dr.colorSpaceToWorking(this,i),this}setHSL(e,t,r,i=dr.workingColorSpace){if(e=eU(e,1),t=wn(t,0,1),r=wn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,a=2*r-s;this.r=CN(a,s,e+1/3),this.g=CN(a,s,e),this.b=CN(a,s,e-1/3)}return dr.colorSpaceToWorking(this,i),this}setStyle(e,t=So){function r(s){s!==void 0&&parseFloat(s)<1&&Ut("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:Ut("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);Ut("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=So){const r=yne[e.toLowerCase()];return r!==void 0?this.setHex(r,t):Ut("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Cp(e.r),this.g=Cp(e.g),this.b=Cp(e.b),this}copyLinearToSRGB(e){return this.r=q1(e.r),this.g=q1(e.g),this.b=q1(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=So){return dr.workingToColorSpace(mo.copy(this),e),Math.round(wn(mo.r*255,0,255))*65536+Math.round(wn(mo.g*255,0,255))*256+Math.round(wn(mo.b*255,0,255))}getHexString(e=So){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=dr.workingColorSpace){dr.workingToColorSpace(mo.copy(this),t);const r=mo.r,i=mo.g,s=mo.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const f=(o+a)/2;if(o===a)l=0,c=0;else{const d=a-o;switch(c=f<=.5?d/(a+o):d/(2-a-o),a){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,t=dr.workingColorSpace){return dr.workingToColorSpace(mo.copy(this),t),e.r=mo.r,e.g=mo.g,e.b=mo.b,e}getStyle(e=So){dr.workingToColorSpace(mo.copy(this),e);const t=mo.r,r=mo.g,i=mo.b;return e!==So?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(Km),this.setHSL(Km.h+e,Km.s+t,Km.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(Km),e.getHSL(Z3);const r=zM(Km.h,Z3.h,t),i=zM(Km.s,Z3.s,t),s=zM(Km.l,Z3.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const mo=new qt;qt.NAMES=yne;class DD{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new qt(e),this.density=t}clone(){return new DD(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class ID{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new qt(e),this.near=t,this.far=r}clone(){return new ID(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class nU extends Sr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Sc,this.environmentIntensity=1,this.environmentRotation=new Sc,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}const rf=new Se,Xh=new Se,kN=new Se,Kh=new Se,Ob=new Se,Pb=new Se,KV=new Se,RN=new Se,ON=new Se,PN=new Se,DN=new ti,IN=new ti,NN=new ti;class jl{constructor(e=new Se,t=new Se,r=new Se){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),rf.subVectors(e,t),i.cross(rf);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){rf.subVectors(i,t),Xh.subVectors(r,t),kN.subVectors(e,t);const a=rf.dot(rf),o=rf.dot(Xh),l=rf.dot(kN),c=Xh.dot(Xh),f=Xh.dot(kN),d=a*c-o*o;if(d===0)return s.set(0,0,0),null;const p=1/d,g=(c*l-o*f)*p,b=(a*f-o*l)*p;return s.set(1-g-b,b,g)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Kh)===null?!1:Kh.x>=0&&Kh.y>=0&&Kh.x+Kh.y<=1}static getInterpolation(e,t,r,i,s,a,o,l){return this.getBarycoord(e,t,r,i,Kh)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Kh.x),l.addScaledVector(a,Kh.y),l.addScaledVector(o,Kh.z),l)}static getInterpolatedAttribute(e,t,r,i,s,a){return DN.setScalar(0),IN.setScalar(0),NN.setScalar(0),DN.fromBufferAttribute(e,t),IN.fromBufferAttribute(e,r),NN.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(DN,s.x),a.addScaledVector(IN,s.y),a.addScaledVector(NN,s.z),a}static isFrontFacing(e,t,r,i){return rf.subVectors(r,t),Xh.subVectors(e,t),rf.cross(Xh).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return rf.subVectors(this.c,this.b),Xh.subVectors(this.a,this.b),rf.cross(Xh).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return jl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return jl.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,r,i,s){return jl.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return jl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return jl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let a,o;Ob.subVectors(i,r),Pb.subVectors(s,r),RN.subVectors(e,r);const l=Ob.dot(RN),c=Pb.dot(RN);if(l<=0&&c<=0)return t.copy(r);ON.subVectors(e,i);const f=Ob.dot(ON),d=Pb.dot(ON);if(f>=0&&d<=f)return t.copy(i);const p=l*d-f*c;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(r).addScaledVector(Ob,a);PN.subVectors(e,s);const g=Ob.dot(PN),b=Pb.dot(PN);if(b>=0&&g<=b)return t.copy(s);const S=g*c-l*b;if(S<=0&&c>=0&&b<=0)return o=c/(c-b),t.copy(r).addScaledVector(Pb,o);const w=f*b-g*d;if(w<=0&&d-f>=0&&g-b>=0)return KV.subVectors(s,i),o=(d-f)/(d-f+(g-b)),t.copy(i).addScaledVector(KV,o);const E=1/(w+S+p);return a=S*E,o=p*E,t.copy(r).addScaledVector(Ob,a).addScaledVector(Pb,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}class Co{constructor(e=new Se(1/0,1/0,1/0),t=new Se(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(sf.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(sf.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=sf.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,sf):sf.fromBufferAttribute(s,a),sf.applyMatrix4(e.matrixWorld),this.expandByPoint(sf);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Q3.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Q3.copy(r.boundingBox)),Q3.applyMatrix4(e.matrixWorld),this.union(Q3)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,sf),sf.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(kE),ek.subVectors(this.max,kE),Db.subVectors(e.a,kE),Ib.subVectors(e.b,kE),Nb.subVectors(e.c,kE),Jm.subVectors(Ib,Db),Zm.subVectors(Nb,Ib),iy.subVectors(Db,Nb);let t=[0,-Jm.z,Jm.y,0,-Zm.z,Zm.y,0,-iy.z,iy.y,Jm.z,0,-Jm.x,Zm.z,0,-Zm.x,iy.z,0,-iy.x,-Jm.y,Jm.x,0,-Zm.y,Zm.x,0,-iy.y,iy.x,0];return!LN(t,Db,Ib,Nb,ek)||(t=[1,0,0,0,1,0,0,0,1],!LN(t,Db,Ib,Nb,ek))?!1:(tk.crossVectors(Jm,Zm),t=[tk.x,tk.y,tk.z],LN(t,Db,Ib,Nb,ek))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,sf).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(sf).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Jh[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jh[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jh[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jh[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jh[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jh[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jh[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jh[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jh),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Jh=[new Se,new Se,new Se,new Se,new Se,new Se,new Se,new Se],sf=new Se,Q3=new Co,Db=new Se,Ib=new Se,Nb=new Se,Jm=new Se,Zm=new Se,iy=new Se,kE=new Se,ek=new Se,tk=new Se,sy=new Se;function LN(n,e,t,r,i){for(let s=0,a=n.length-3;s<=a;s+=3){sy.fromArray(n,s);const o=i.x*Math.abs(sy.x)+i.y*Math.abs(sy.y)+i.z*Math.abs(sy.z),l=e.dot(sy),c=t.dot(sy),f=r.dot(sy);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>o)return!1}return!0}const bp=T_e();function T_e(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;(c&8388608)===0;)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function Ol(n){Math.abs(n)>65504&&Ut("DataUtils.toHalfFloat(): Value out of range."),n=wn(n,-65504,65504),bp.floatView[0]=n;const e=bp.uint32View[0],t=e>>23&511;return bp.baseTable[t]+((e&8388607)>>bp.shiftTable[t])}function hM(n){const e=n>>10;return bp.uint32View[0]=bp.mantissaTable[bp.offsetTable[e]+(n&1023)]+bp.exponentTable[e],bp.floatView[0]}class C_e{static toHalfFloat(e){return Ol(e)}static fromHalfFloat(e){return hM(e)}}const Bs=new Se,nk=new St;let k_e=0;class Jr{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:k_e++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=fA,this.updateRanges=[],this.gpuType=el,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)nk.fromBufferAttribute(this,t),nk.applyMatrix3(e),this.setXY(t,nk.x,nk.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Bs.fromBufferAttribute(this,t),Bs.applyMatrix3(e),this.setXYZ(t,Bs.x,Bs.y,Bs.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Bs.fromBufferAttribute(this,t),Bs.applyMatrix4(e),this.setXYZ(t,Bs.x,Bs.y,Bs.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Bs.fromBufferAttribute(this,t),Bs.applyNormalMatrix(e),this.setXYZ(t,Bs.x,Bs.y,Bs.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Bs.fromBufferAttribute(this,t),Bs.transformDirection(e),this.setXYZ(t,Bs.x,Bs.y,Bs.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Jo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=jn(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==fA&&(e.usage=this.usage),e}}class R_e extends Jr{constructor(e,t,r){super(new Int8Array(e),t,r)}}class O_e extends Jr{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class P_e extends Jr{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class D_e extends Jr{constructor(e,t,r){super(new Int16Array(e),t,r)}}class rU extends Jr{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class I_e extends Jr{constructor(e,t,r){super(new Int32Array(e),t,r)}}class iU extends Jr{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class N_e extends Jr{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=hM(this.array[e*this.itemSize]);return this.normalized&&(t=Jo(t,this.array)),t}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize]=Ol(t),this}getY(e){let t=hM(this.array[e*this.itemSize+1]);return this.normalized&&(t=Jo(t,this.array)),t}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+1]=Ol(t),this}getZ(e){let t=hM(this.array[e*this.itemSize+2]);return this.normalized&&(t=Jo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+2]=Ol(t),this}getW(e){let t=hM(this.array[e*this.itemSize+3]);return this.normalized&&(t=Jo(t,this.array)),t}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.array[e*this.itemSize+3]=Ol(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array)),this.array[e+0]=Ol(t),this.array[e+1]=Ol(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.array[e+0]=Ol(t),this.array[e+1]=Ol(r),this.array[e+2]=Ol(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.array[e+0]=Ol(t),this.array[e+1]=Ol(r),this.array[e+2]=Ol(i),this.array[e+3]=Ol(s),this}}class Kt extends Jr{constructor(e,t,r){super(new Float32Array(e),t,r)}}const L_e=new Co,RE=new Se,BN=new Se;class Ja{constructor(e=new Se,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):L_e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;RE.subVectors(e,this.center);const t=RE.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(RE,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(BN.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(RE.copy(e.center).add(BN)),this.expandByPoint(RE.copy(e.center).sub(BN))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}let B_e=0;const eu=new Mn,FN=new Sr,Lb=new Se,sc=new Co,OE=new Co,pa=new Se;class Nn extends hh{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:B_e++}),this.uuid=xc(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.indirectOffset=0,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(G1e(e)?iU:rU)(e,1):this.index=e,this}setIndirect(e,t=0){return this.indirect=e,this.indirectOffset=t,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Bn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return eu.makeRotationFromQuaternion(e),this.applyMatrix4(eu),this}rotateX(e){return eu.makeRotationX(e),this.applyMatrix4(eu),this}rotateY(e){return eu.makeRotationY(e),this.applyMatrix4(eu),this}rotateZ(e){return eu.makeRotationZ(e),this.applyMatrix4(eu),this}translate(e,t,r){return eu.makeTranslation(e,t,r),this.applyMatrix4(eu),this}scale(e,t,r){return eu.makeScale(e,t,r),this.applyMatrix4(eu),this}lookAt(e){return FN.lookAt(e),FN.updateMatrix(),this.applyMatrix4(FN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Lb).negate(),this.translate(Lb.x,Lb.y,Lb.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Kt(r,3))}else{const r=Math.min(e.length,t.count);for(let i=0;i<r;i++){const s=e[i];t.setXYZ(i,s.x,s.y,s.z||0)}e.length>t.count&&Ut("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Co);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){on("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Se(-1/0,-1/0,-1/0),new Se(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];sc.setFromBufferAttribute(s),this.morphTargetsRelative?(pa.addVectors(this.boundingBox.min,sc.min),this.boundingBox.expandByPoint(pa),pa.addVectors(this.boundingBox.max,sc.max),this.boundingBox.expandByPoint(pa)):(this.boundingBox.expandByPoint(sc.min),this.boundingBox.expandByPoint(sc.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&on('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ja);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){on("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Se,1/0);return}if(e){const r=this.boundingSphere.center;if(sc.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];OE.setFromBufferAttribute(o),this.morphTargetsRelative?(pa.addVectors(sc.min,OE.min),sc.expandByPoint(pa),pa.addVectors(sc.max,OE.max),sc.expandByPoint(pa)):(sc.expandByPoint(OE.min),sc.expandByPoint(OE.max))}sc.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)pa.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(pa));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let c=0,f=o.count;c<f;c++)pa.fromBufferAttribute(o,c),l&&(Lb.fromBufferAttribute(e,c),pa.add(Lb)),i=Math.max(i,r.distanceToSquared(pa))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&on('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){on("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=t.position,i=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jr(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let z=0;z<r.count;z++)o[z]=new Se,l[z]=new Se;const c=new Se,f=new Se,d=new Se,p=new St,g=new St,b=new St,S=new Se,w=new Se;function E(z,V,Y){c.fromBufferAttribute(r,z),f.fromBufferAttribute(r,V),d.fromBufferAttribute(r,Y),p.fromBufferAttribute(s,z),g.fromBufferAttribute(s,V),b.fromBufferAttribute(s,Y),f.sub(c),d.sub(c),g.sub(p),b.sub(p);const q=1/(g.x*b.y-b.x*g.y);isFinite(q)&&(S.copy(f).multiplyScalar(b.y).addScaledVector(d,-g.y).multiplyScalar(q),w.copy(d).multiplyScalar(g.x).addScaledVector(f,-b.x).multiplyScalar(q),o[z].add(S),o[V].add(S),o[Y].add(S),l[z].add(w),l[V].add(w),l[Y].add(w))}let k=this.groups;k.length===0&&(k=[{start:0,count:e.count}]);for(let z=0,V=k.length;z<V;++z){const Y=k[z],q=Y.start,J=Y.count;for(let re=q,fe=q+J;re<fe;re+=3)E(e.getX(re+0),e.getX(re+1),e.getX(re+2))}const R=new Se,O=new Se,D=new Se,I=new Se;function B(z){D.fromBufferAttribute(i,z),I.copy(D);const V=o[z];R.copy(V),R.sub(D.multiplyScalar(D.dot(V))).normalize(),O.crossVectors(I,V);const q=O.dot(l[z])<0?-1:1;a.setXYZW(z,R.x,R.y,R.z,q)}for(let z=0,V=k.length;z<V;++z){const Y=k[z],q=Y.start,J=Y.count;for(let re=q,fe=q+J;re<fe;re+=3)B(e.getX(re+0)),B(e.getX(re+1)),B(e.getX(re+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Jr(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,g=r.count;p<g;p++)r.setXYZ(p,0,0,0);const i=new Se,s=new Se,a=new Se,o=new Se,l=new Se,c=new Se,f=new Se,d=new Se;if(e)for(let p=0,g=e.count;p<g;p+=3){const b=e.getX(p+0),S=e.getX(p+1),w=e.getX(p+2);i.fromBufferAttribute(t,b),s.fromBufferAttribute(t,S),a.fromBufferAttribute(t,w),f.subVectors(a,s),d.subVectors(i,s),f.cross(d),o.fromBufferAttribute(r,b),l.fromBufferAttribute(r,S),c.fromBufferAttribute(r,w),o.add(f),l.add(f),c.add(f),r.setXYZ(b,o.x,o.y,o.z),r.setXYZ(S,l.x,l.y,l.z),r.setXYZ(w,c.x,c.y,c.z)}else for(let p=0,g=t.count;p<g;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),a.fromBufferAttribute(t,p+2),f.subVectors(a,s),d.subVectors(i,s),f.cross(d),r.setXYZ(p+0,f.x,f.y,f.z),r.setXYZ(p+1,f.x,f.y,f.z),r.setXYZ(p+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)pa.fromBufferAttribute(e,t),pa.normalize(),e.setXYZ(t,pa.x,pa.y,pa.z)}toNonIndexed(){function e(o,l){const c=o.array,f=o.itemSize,d=o.normalized,p=new c.constructor(l.length*f);let g=0,b=0;for(let S=0,w=l.length;S<w;S++){o.isInterleavedBufferAttribute?g=l[S]*o.data.stride+o.offset:g=l[S]*f;for(let E=0;E<f;E++)p[b++]=c[g++]}return new Jr(p,f,d)}if(this.index===null)return Ut("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Nn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);t.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let f=0,d=c.length;f<d;f++){const p=c[f],g=e(p,r);l.push(g)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let d=0,p=c.length;d<p;d++){const g=c[d];f.push(g.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(t))}const s=e.morphAttributes;for(const c in s){const f=[],d=s[c];for(let p=0,g=d.length;p<g;p++)f.push(d[p].clone(t));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,f=a.length;c<f;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ND{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=fA,this.updateRanges=[],this.version=0,this.uuid=xc()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=xc()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Wo=new Se;class Xv{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Wo.fromBufferAttribute(this,t),Wo.applyMatrix4(e),this.setXYZ(t,Wo.x,Wo.y,Wo.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Wo.fromBufferAttribute(this,t),Wo.applyNormalMatrix(e),this.setXYZ(t,Wo.x,Wo.y,Wo.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Wo.fromBufferAttribute(this,t),Wo.transformDirection(e),this.setXYZ(t,Wo.x,Wo.y,Wo.z);return this}getComponent(e,t){let r=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(r=Jo(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=jn(r,this.array)),this.data.array[e*this.data.stride+this.offset+t]=r,this}setX(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=jn(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Jo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Jo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Jo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Jo(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=jn(t,this.array),r=jn(r,this.array),i=jn(i,this.array),s=jn(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){hA("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Jr(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Xv(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){hA("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}let F_e=0;class Oo extends hh{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:F_e++}),this.uuid=xc(),this.name="",this.type="Material",this.blending=Iv,this.side=Bp,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=P2,this.blendDst=D2,this.blendEquation=y0,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new qt(0,0,0),this.blendAlpha=0,this.depthFunc=Gv,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=D8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ay,this.stencilZFail=Ay,this.stencilZPass=Ay,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){Ut(`Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){Ut(`Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Iv&&(r.blending=this.blending),this.side!==Bp&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==P2&&(r.blendSrc=this.blendSrc),this.blendDst!==D2&&(r.blendDst=this.blendDst),this.blendEquation!==y0&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Gv&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==D8&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ay&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ay&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ay&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.allowOverride===!1&&(r.allowOverride=!1),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.allowOverride=e.allowOverride,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class sU extends Oo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new qt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Bb;const PE=new Se,Fb=new Se,zb=new Se,Ub=new St,DE=new St,vne=new Mn,rk=new Se,IE=new Se,ik=new Se,JV=new St,zN=new St,ZV=new St;class xne extends Sr{constructor(e=new sU){if(super(),this.isSprite=!0,this.type="Sprite",Bb===void 0){Bb=new Nn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new ND(t,5);Bb.setIndex([0,1,2,0,2,3]),Bb.setAttribute("position",new Xv(r,3,0,!1)),Bb.setAttribute("uv",new Xv(r,2,3,!1))}this.geometry=Bb,this.material=e,this.center=new St(.5,.5),this.count=1}raycast(e,t){e.camera===null&&on('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fb.setFromMatrixScale(this.matrixWorld),vne.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),zb.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fb.multiplyScalar(-zb.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;sk(rk.set(-.5,-.5,0),zb,a,Fb,i,s),sk(IE.set(.5,-.5,0),zb,a,Fb,i,s),sk(ik.set(.5,.5,0),zb,a,Fb,i,s),JV.set(0,0),zN.set(1,0),ZV.set(1,1);let o=e.ray.intersectTriangle(rk,IE,ik,!1,PE);if(o===null&&(sk(IE.set(-.5,.5,0),zb,a,Fb,i,s),zN.set(0,1),o=e.ray.intersectTriangle(rk,ik,IE,!1,PE),o===null))return;const l=e.ray.origin.distanceTo(PE);l<e.near||l>e.far||t.push({distance:l,point:PE.clone(),uv:jl.getInterpolation(PE,rk,IE,ik,JV,zN,ZV,new St),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function sk(n,e,t,r,i,s){Ub.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(DE.x=s*Ub.x-i*Ub.y,DE.y=i*Ub.x+s*Ub.y):DE.copy(Ub),n.copy(e),n.x+=DE.x,n.y+=DE.y,n.applyMatrix4(vne)}const ak=new Se,QV=new Se;class bne extends Sr{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let r=0;r<t.length;r++)if(t[r].distance===e){const i=t.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){ak.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(ak);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){ak.setFromMatrixPosition(e.matrixWorld),QV.setFromMatrixPosition(this.matrixWorld);const r=ak.distanceTo(QV)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let a=t[i].distance;if(t[i].object.visible&&(a-=a*t[i].hysteresis),r>=a)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const Zh=new Se,UN=new Se,ok=new Se,Qm=new Se,jN=new Se,lk=new Se,HN=new Se;class Tw{constructor(e=new Se,t=new Se(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Zh)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Zh.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Zh.copy(this.origin).addScaledVector(this.direction,t),Zh.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){UN.copy(e).add(t).multiplyScalar(.5),ok.copy(t).sub(e).normalize(),Qm.copy(this.origin).sub(UN);const s=e.distanceTo(t)*.5,a=-this.direction.dot(ok),o=Qm.dot(this.direction),l=-Qm.dot(ok),c=Qm.lengthSq(),f=Math.abs(1-a*a);let d,p,g,b;if(f>0)if(d=a*l-o,p=a*o-l,b=s*f,d>=0)if(p>=-b)if(p<=b){const S=1/f;d*=S,p*=S,g=d*(d+a*p+2*o)+p*(a*d+p+2*l)+c}else p=s,d=Math.max(0,-(a*p+o)),g=-d*d+p*(p+2*l)+c;else p=-s,d=Math.max(0,-(a*p+o)),g=-d*d+p*(p+2*l)+c;else p<=-b?(d=Math.max(0,-(-a*s+o)),p=d>0?-s:Math.min(Math.max(-s,-l),s),g=-d*d+p*(p+2*l)+c):p<=b?(d=0,p=Math.min(Math.max(-s,-l),s),g=p*(p+2*l)+c):(d=Math.max(0,-(a*s+o)),p=d>0?s:Math.min(Math.max(-s,-l),s),g=-d*d+p*(p+2*l)+c);else p=a>0?-s:s,d=Math.max(0,-(a*p+o)),g=-d*d+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(UN).addScaledVector(ok,p),g}intersectSphere(e,t){Zh.subVectors(e.center,this.origin);const r=Zh.dot(this.direction),i=Zh.dot(Zh)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,a,o,l;const c=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),f>=0?(s=(e.min.y-p.y)*f,a=(e.max.y-p.y)*f):(s=(e.max.y-p.y)*f,a=(e.min.y-p.y)*f),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),d>=0?(o=(e.min.z-p.z)*d,l=(e.max.z-p.z)*d):(o=(e.max.z-p.z)*d,l=(e.min.z-p.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,Zh)!==null}intersectTriangle(e,t,r,i,s){jN.subVectors(t,e),lk.subVectors(r,e),HN.crossVectors(jN,lk);let a=this.direction.dot(HN),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Qm.subVectors(this.origin,e);const l=o*this.direction.dot(lk.crossVectors(Qm,lk));if(l<0)return null;const c=o*this.direction.dot(jN.cross(Qm));if(c<0||l+c>a)return null;const f=-o*Qm.dot(HN);return f<0?null:this.at(f/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class fg extends Oo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sc,this.combine=ET,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const eW=new Mn,ay=new Tw,ck=new Ja,tW=new Se,uk=new Se,fk=new Se,dk=new Se,VN=new Se,hk=new Se,nW=new Se,pk=new Se;class Vs extends Sr{constructor(e=new Nn,t=new fg){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){hk.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=o[l],d=s[l];f!==0&&(VN.fromBufferAttribute(d,e),a?hk.addScaledVector(VN,f):hk.addScaledVector(VN.sub(t),f))}t.add(hk)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),ck.copy(r.boundingSphere),ck.applyMatrix4(s),ay.copy(e.ray).recast(e.near),!(ck.containsPoint(ay.origin)===!1&&(ay.intersectSphere(ck,tW)===null||ay.origin.distanceToSquared(tW)>(e.far-e.near)**2))&&(eW.copy(s).invert(),ay.copy(e.ray).applyMatrix4(eW),!(r.boundingBox!==null&&ay.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,ay)))}_computeIntersections(e,t,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,p=s.groups,g=s.drawRange;if(o!==null)if(Array.isArray(a))for(let b=0,S=p.length;b<S;b++){const w=p[b],E=a[w.materialIndex],k=Math.max(w.start,g.start),R=Math.min(o.count,Math.min(w.start+w.count,g.start+g.count));for(let O=k,D=R;O<D;O+=3){const I=o.getX(O),B=o.getX(O+1),z=o.getX(O+2);i=mk(this,E,e,r,c,f,d,I,B,z),i&&(i.faceIndex=Math.floor(O/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const b=Math.max(0,g.start),S=Math.min(o.count,g.start+g.count);for(let w=b,E=S;w<E;w+=3){const k=o.getX(w),R=o.getX(w+1),O=o.getX(w+2);i=mk(this,a,e,r,c,f,d,k,R,O),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let b=0,S=p.length;b<S;b++){const w=p[b],E=a[w.materialIndex],k=Math.max(w.start,g.start),R=Math.min(l.count,Math.min(w.start+w.count,g.start+g.count));for(let O=k,D=R;O<D;O+=3){const I=O,B=O+1,z=O+2;i=mk(this,E,e,r,c,f,d,I,B,z),i&&(i.faceIndex=Math.floor(O/3),i.face.materialIndex=w.materialIndex,t.push(i))}}else{const b=Math.max(0,g.start),S=Math.min(l.count,g.start+g.count);for(let w=b,E=S;w<E;w+=3){const k=w,R=w+1,O=w+2;i=mk(this,a,e,r,c,f,d,k,R,O),i&&(i.faceIndex=Math.floor(w/3),t.push(i))}}}}function z_e(n,e,t,r,i,s,a,o){let l;if(e.side===al?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===Bp,o),l===null)return null;pk.copy(o),pk.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(pk);return c<t.near||c>t.far?null:{distance:c,point:pk.clone(),object:n}}function mk(n,e,t,r,i,s,a,o,l,c){n.getVertexPosition(o,uk),n.getVertexPosition(l,fk),n.getVertexPosition(c,dk);const f=z_e(n,e,t,r,uk,fk,dk,nW);if(f){const d=new Se;jl.getBarycoord(nW,uk,fk,dk,d),i&&(f.uv=jl.getInterpolatedAttribute(i,o,l,c,d,new St)),s&&(f.uv1=jl.getInterpolatedAttribute(s,o,l,c,d,new St)),a&&(f.normal=jl.getInterpolatedAttribute(a,o,l,c,d,new Se),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const p={a:o,b:l,c,normal:new Se,materialIndex:0};jl.getNormal(uk,fk,dk,p.normal),f.face=p,f.barycoord=d}return f}const rW=new Se,iW=new ti,sW=new ti,U_e=new Se,aW=new Mn,gk=new Se,WN=new Ja,oW=new Mn,$N=new Tw;class _ne extends Vs{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=O8,this.bindMatrix=new Mn,this.bindMatrixInverse=new Mn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Co),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,gk),this.boundingBox.expandByPoint(gk)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ja),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,gk),this.boundingSphere.expandByPoint(gk)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),WN.copy(this.boundingSphere),WN.applyMatrix4(i),e.ray.intersectsSphere(WN)!==!1&&(oW.copy(i).invert(),$N.copy(e.ray).applyMatrix4(oW),!(this.boundingBox!==null&&$N.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,$N)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ti,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===O8?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===tne?this.bindMatrixInverse.copy(this.bindMatrix).invert():Ut("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;iW.fromBufferAttribute(i.attributes.skinIndex,e),sW.fromBufferAttribute(i.attributes.skinWeight,e),rW.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=sW.getComponent(s);if(a!==0){const o=iW.getComponent(s);aW.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),t.addScaledVector(U_e.copy(rW).applyMatrix4(aW),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class aU extends Sr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Cf extends Ui{constructor(e=null,t=1,r=1,i,s,a,o,l,c=Es,f=Es,d,p){super(null,a,o,l,c,f,i,s,d,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const lW=new Mn,j_e=new Mn;class LD{constructor(e=[],t=[]){this.uuid=xc(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.previousBoneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){Ut("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Mn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new Mn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:j_e;lW.multiplyMatrices(o,t[s]),lW.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new LD(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new Cf(t,e,e,To,el);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=t[s];a===void 0&&(Ut("Skeleton: No bone found with UUID:",s),a=new aU),this.bones.push(a),this.boneInverses.push(new Mn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const a=t[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class G_ extends Jr{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const jb=new Mn,cW=new Mn,yk=[],uW=new Co,H_e=new Mn,NE=new Vs,LE=new Ja;class wne extends Vs{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new G_(new Float32Array(r*16),16),this.previousInstanceMatrix=null,this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,H_e)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new Co),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,jb),uW.copy(e.boundingBox).applyMatrix4(jb),this.boundingBox.union(uW)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ja),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,jb),LE.copy(e.boundingSphere).applyMatrix4(jb),this.boundingSphere.union(LE)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.previousInstanceMatrix!==null&&(this.previousInstanceMatrix=e.previousInstanceMatrix.clone()),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const r=t.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,t){const r=this.matrixWorld,i=this.count;if(NE.geometry=this.geometry,NE.material=this.material,NE.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),LE.copy(this.boundingSphere),LE.applyMatrix4(r),e.ray.intersectsSphere(LE)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,jb),cW.multiplyMatrices(r,jb),NE.matrixWorld=cW,NE.raycast(e,yk);for(let a=0,o=yk.length;a<o;a++){const l=yk[a];l.instanceId=s,l.object=this,t.push(l)}yk.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new G_(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const r=t.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Cf(new Float32Array(i*this.count),i,this.count,MD,el));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const GN=new Se,V_e=new Se,W_e=new Bn;class f0{constructor(e=new Se(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=GN.subVectors(r,t).cross(V_e.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(GN),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||W_e.getNormalMatrix(e),i=this.coplanarPoint(GN).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const oy=new Ja,$_e=new St(.5,.5),vk=new Se;class Cw{constructor(e=new f0,t=new f0,r=new f0,i=new f0,s=new f0,a=new f0){this.planes=[e,t,r,i,s,a]}set(e,t,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=gc,r=!1){const i=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],c=s[3],f=s[4],d=s[5],p=s[6],g=s[7],b=s[8],S=s[9],w=s[10],E=s[11],k=s[12],R=s[13],O=s[14],D=s[15];if(i[0].setComponents(c-a,g-f,E-b,D-k).normalize(),i[1].setComponents(c+a,g+f,E+b,D+k).normalize(),i[2].setComponents(c+o,g+d,E+S,D+R).normalize(),i[3].setComponents(c-o,g-d,E-S,D-R).normalize(),r)i[4].setComponents(l,p,w,O).normalize(),i[5].setComponents(c-l,g-p,E-w,D-O).normalize();else if(i[4].setComponents(c-l,g-p,E-w,D-O).normalize(),t===gc)i[5].setComponents(c+l,g+p,E+w,D+O).normalize();else if(t===Yv)i[5].setComponents(l,p,w,O).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),oy.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),oy.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(oy)}intersectsSprite(e){oy.center.set(0,0,0);const t=$_e.distanceTo(e.center);return oy.radius=.7071067811865476+t,oy.applyMatrix4(e.matrixWorld),this.intersectsSphere(oy)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(vk.x=i.normal.x>0?e.max.x:e.min.x,vk.y=i.normal.y>0?e.max.y:e.min.y,vk.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vk)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const md=new Mn,gd=new Cw;class BD{constructor(){this.coordinateSystem=gc}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(md.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),gd.setFromProjectionMatrix(md,i.coordinateSystem,i.reversedDepth),gd.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(md.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),gd.setFromProjectionMatrix(md,i.coordinateSystem,i.reversedDepth),gd.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(md.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),gd.setFromProjectionMatrix(md,i.coordinateSystem,i.reversedDepth),gd.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(md.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),gd.setFromProjectionMatrix(md,i.coordinateSystem,i.reversedDepth),gd.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let r=0;r<t.cameras.length;r++){const i=t.cameras[r];if(md.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),gd.setFromProjectionMatrix(md,i.coordinateSystem,i.reversedDepth),gd.containsPoint(e))return!0}return!1}clone(){return new BD}}function qN(n,e){return n-e}function G_e(n,e){return n.z-e.z}function q_e(n,e){return e.z-n.z}class Y_e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const Rl=new Mn,X_e=new qt(1,1,1),fW=new Cw,K_e=new BD,xk=new Co,ly=new Ja,BE=new Se,dW=new Se,J_e=new Se,YN=new Y_e,go=new Vs,bk=[];function Z_e(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*r);e.needsUpdate=!0}function cy(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++)e[r]=n[r]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class Sne extends Vs{constructor(e,t,r=t*2,i){super(new Nn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new Cf(t,e,e,To,el);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),r=new Cf(t,e,e,MT,Cu);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),r=new Cf(t,e,e,To,el);r.colorSpace=dr.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,f=new o.constructor(r*l),d=new Jr(f,l,c);t.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);t.setIndex(new Jr(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Co);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,Rl),this.getBoundingBoxAt(s,xk).applyMatrix4(Rl),e.union(xk)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ja);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let r=0,i=t.length;r<i;r++){if(t[r].active===!1)continue;const s=t[r].geometryIndex;this.getMatrixAt(r,Rl),this.getBoundingSphereAt(s,ly).applyMatrix4(Rl),e.union(ly)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(qN),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;Rl.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(X_e.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,t=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(qN),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const f in r.attributes){const d=t.getAttribute(f),p=r.getAttribute(f);Z_e(d,p,l);const g=d.itemSize;for(let b=d.count,S=c;b<S;b++){const w=l+b;for(let E=0;E<g;E++)p.setComponent(w,E,0)}p.needsUpdate=!0,p.addUpdateRange(l*g,c*g)}if(i){const f=o.indexStart,d=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let p=0;p<a.count;p++)s.setX(f+p,l+a.getX(p));for(let p=a.count,g=d;p<g;p++)s.setX(f+p,l);s.needsUpdate=!0,s.addUpdateRange(f,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const r=this._geometryInfo,i=r.map((a,o)=>o).sort((a,o)=>r[a].vertexStart-r[o].vertexStart),s=this.geometry;for(let a=0,o=r.length;a<o;a++){const l=i[a],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==t){const{indexStart:f,vertexStart:d,reservedIndexCount:p}=c,g=s.index,b=g.array,S=e-d;for(let w=f;w<f+p;w++)b[w]=b[w]+S;g.array.copyWithin(t,f,f+p),g.addUpdateRange(t,p),g.needsUpdate=!0,c.indexStart=t}t+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:f,reservedVertexCount:d}=c,p=s.attributes;for(const g in p){const b=p[g],{array:S,itemSize:w}=b;S.copyWithin(e*w,f*w,(f+d)*w),b.addUpdateRange(e*w,d*w),b.needsUpdate=!0}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart}}return this._nextIndexStart=t,this._nextVertexStart=e,this._visibilityChanged=!0,this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Co,a=r.index,o=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let f=l;a&&(f=a.getX(f)),s.expandByPoint(BE.fromBufferAttribute(o,f))}i.boundingBox=s}return t.copy(i.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Ja;this.getBoundingBoxAt(e,xk),xk.getCenter(s.center);const a=r.index,o=r.attributes.position;let l=0;for(let c=i.start,f=i.start+i.count;c<f;c++){let d=c;a&&(d=a.getX(d)),BE.fromBufferAttribute(o,d),l=Math.max(l,s.center.distanceToSquared(BE))}s.radius=Math.sqrt(l),i.boundingSphere=s}return t.copy(i.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return t.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return t.vertexStart=r.vertexStart,t.vertexCount=r.vertexCount,t.reservedVertexCount=r.reservedVertexCount,t.indexStart=r.indexStart,t.indexCount=r.indexCount,t.reservedIndexCount=r.reservedIndexCount,t.start=r.start,t.count=r.count,t}setInstanceCount(e){const t=this._availableInstanceIds,r=this._instanceInfo;for(t.sort(qN);t[t.length-1]===r.length-1;)r.pop(),t.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);cy(this._multiDrawCounts,i),cy(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),cy(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),cy(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),cy(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new Nn,this._initializeGeometry(s));const a=this.geometry;s.index&&cy(s.index.array,a.index.array);for(const o in s.attributes)cy(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;go.material=this.material,go.geometry.index=a.index,go.geometry.attributes=a.attributes,go.geometry.boundingBox===null&&(go.geometry.boundingBox=new Co),go.geometry.boundingSphere===null&&(go.geometry.boundingSphere=new Ja);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const c=r[o].geometryIndex,f=i[c];go.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(o,go.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,go.geometry.boundingBox),this.getBoundingSphereAt(c,go.geometry.boundingSphere),go.raycast(e,bk);for(let d=0,p=bk.length;d<p;d++){const g=bk[d];g.object=this,g.batchId=o,t.push(g)}bk.length=0}go.material=null,go.geometry.index=null,go.geometry.attributes={},go.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex();let o=a===null?1:a.array.BYTES_PER_ELEMENT,l=1;s.wireframe&&(l=2,o=i.attributes.position.count>65535?4:2);const c=this._instanceInfo,f=this._multiDrawStarts,d=this._multiDrawCounts,p=this._geometryInfo,g=this.perObjectFrustumCulled,b=this._indirectTexture,S=b.image.data,w=r.isArrayCamera?K_e:fW;g&&!r.isArrayCamera&&(Rl.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),fW.setFromProjectionMatrix(Rl,r.coordinateSystem,r.reversedDepth));let E=0;if(this.sortObjects){Rl.copy(this.matrixWorld).invert(),BE.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Rl),dW.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Rl);for(let O=0,D=c.length;O<D;O++)if(c[O].visible&&c[O].active){const I=c[O].geometryIndex;this.getMatrixAt(O,Rl),this.getBoundingSphereAt(I,ly).applyMatrix4(Rl);let B=!1;if(g&&(B=!w.intersectsSphere(ly,r)),!B){const z=p[I],V=J_e.subVectors(ly.center,BE).dot(dW);YN.push(z.start,z.count,V,O)}}const k=YN.list,R=this.customSort;R===null?k.sort(s.transparent?q_e:G_e):R.call(this,k,r);for(let O=0,D=k.length;O<D;O++){const I=k[O];f[E]=I.start*o*l,d[E]=I.count*l,S[E]=I.index,E++}YN.reset()}else for(let k=0,R=c.length;k<R;k++)if(c[k].visible&&c[k].active){const O=c[k].geometryIndex;let D=!1;if(g&&(this.getMatrixAt(k,Rl),this.getBoundingSphereAt(O,ly).applyMatrix4(Rl),D=!w.intersectsSphere(ly,r)),!D){const I=p[O];f[E]=I.start*o*l,d[E]=I.count*l,S[E]=k,E++}}b.needsUpdate=!0,this._multiDrawCount=E,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class cl extends Oo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new qt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const bO=new Se,_O=new Se,hW=new Mn,FE=new Tw,_k=new Ja,XN=new Se,pW=new Se;class Z0 extends Sr{constructor(e=new Nn,t=new cl){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)bO.fromBufferAttribute(t,i-1),_O.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=bO.distanceTo(_O);e.setAttribute("lineDistance",new Kt(r,1))}else Ut("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),_k.copy(r.boundingSphere),_k.applyMatrix4(i),_k.radius+=s,e.ray.intersectsSphere(_k)===!1)return;hW.copy(i).invert(),FE.copy(e.ray).applyMatrix4(hW);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,f=r.index,p=r.attributes.position;if(f!==null){const g=Math.max(0,a.start),b=Math.min(f.count,a.start+a.count);for(let S=g,w=b-1;S<w;S+=c){const E=f.getX(S),k=f.getX(S+1),R=wk(this,e,FE,l,E,k,S);R&&t.push(R)}if(this.isLineLoop){const S=f.getX(b-1),w=f.getX(g),E=wk(this,e,FE,l,S,w,b-1);E&&t.push(E)}}else{const g=Math.max(0,a.start),b=Math.min(p.count,a.start+a.count);for(let S=g,w=b-1;S<w;S+=c){const E=wk(this,e,FE,l,S,S+1,S);E&&t.push(E)}if(this.isLineLoop){const S=wk(this,e,FE,l,b-1,g,b-1);S&&t.push(S)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function wk(n,e,t,r,i,s,a){const o=n.geometry.attributes.position;if(bO.fromBufferAttribute(o,i),_O.fromBufferAttribute(o,s),t.distanceSqToSegment(bO,_O,XN,pW)>r)return;XN.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(XN);if(!(c<e.near||c>e.far))return{distance:c,point:pW.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const mW=new Se,gW=new Se;class ph extends Z0{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)mW.fromBufferAttribute(t,i),gW.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+mW.distanceTo(gW);e.setAttribute("lineDistance",new Kt(r,1))}else Ut("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Ene extends Z0{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class oU extends Oo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new qt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const yW=new Mn,N8=new Tw,Sk=new Ja,Ek=new Se;class Mne extends Sr{constructor(e=new Nn,t=new oU){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Sk.copy(r.boundingSphere),Sk.applyMatrix4(i),Sk.radius+=s,e.ray.intersectsSphere(Sk)===!1)return;yW.copy(i).invert(),N8.copy(e.ray).applyMatrix4(yW);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,d=r.attributes.position;if(c!==null){const p=Math.max(0,a.start),g=Math.min(c.count,a.start+a.count);for(let b=p,S=g;b<S;b++){const w=c.getX(b);Ek.fromBufferAttribute(d,w),vW(Ek,w,l,i,e,t,this)}}else{const p=Math.max(0,a.start),g=Math.min(d.count,a.start+a.count);for(let b=p,S=g;b<S;b++)Ek.fromBufferAttribute(d,b),vW(Ek,b,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function vW(n,e,t,r,i,s,a){const o=N8.distanceSqToPoint(n);if(o<t){const l=new Se;N8.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class Ane extends Ui{constructor(e,t,r,i,s=Mi,a=Mi,o,l,c){super(e,t,r,i,s,a,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const f=this;function d(){f.needsUpdate=!0,f._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Q_e extends Ane{constructor(e,t,r,i,s,a,o,l){super({},e,t,r,i,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class ewe extends Ui{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Es,this.minFilter=Es,this.generateMipmaps=!1,this.needsUpdate=!0}}class FD extends Ui{constructor(e,t,r,i,s,a,o,l,c,f,d,p){super(null,a,o,l,c,f,i,s,d,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class twe extends FD{constructor(e,t,r,i,s,a){super(e,t,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Vl,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class nwe extends FD{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,rh),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class AT extends Ui{constructor(e=[],t=rh,r,i,s,a,o,l,c,f){super(e,t,r,i,s,a,o,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class rwe extends Ui{constructor(e,t,r,i,s,a,o,l,c){super(e,t,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class q_ extends Ui{constructor(e,t,r=Cu,i,s,a,o=Es,l=Es,c,f=sh,d=1){if(f!==sh&&f!==L0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const p={width:e,height:t,depth:d};super(p,i,s,a,o,l,f,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new B0(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class Tne extends q_{constructor(e,t=Cu,r=rh,i,s,a=Es,o=Es,l,c=sh){const f={width:e,height:e,depth:1},d=[f,f,f,f,f,f];super(e,e,t,r,i,s,a,o,l,c),this.image=d,this.isCubeDepthTexture=!0,this.isCubeTexture=!0}get images(){return this.image}set images(e){this.image=e}}class lU extends Ui{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class dx extends Nn{constructor(e=1,t=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],f=[],d=[];let p=0,g=0;b("z","y","x",-1,-1,r,t,e,a,s,0),b("z","y","x",1,-1,r,t,-e,a,s,1),b("x","z","y",1,1,e,r,t,i,a,2),b("x","z","y",1,-1,e,r,-t,i,a,3),b("x","y","z",1,-1,e,t,r,i,s,4),b("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Kt(c,3)),this.setAttribute("normal",new Kt(f,3)),this.setAttribute("uv",new Kt(d,2));function b(S,w,E,k,R,O,D,I,B,z,V){const Y=O/B,q=D/z,J=O/2,re=D/2,fe=I/2,ne=B+1,te=z+1;let se=0,be=0;const Ee=new Se;for(let oe=0;oe<te;oe++){const ee=oe*q-re;for(let xe=0;xe<ne;xe++){const ae=xe*Y-J;Ee[S]=ae*k,Ee[w]=ee*R,Ee[E]=fe,c.push(Ee.x,Ee.y,Ee.z),Ee[S]=0,Ee[w]=0,Ee[E]=I>0?1:-1,f.push(Ee.x,Ee.y,Ee.z),d.push(xe/B),d.push(1-oe/z),se+=1}}for(let oe=0;oe<z;oe++)for(let ee=0;ee<B;ee++){const xe=p+ee+ne*oe,ae=p+ee+ne*(oe+1),De=p+(ee+1)+ne*(oe+1),dt=p+(ee+1)+ne*oe;l.push(xe,ae,dt),l.push(ae,De,dt),be+=6}o.addGroup(g,be,V),g+=be,p+=se}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dx(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}class zD extends Nn{constructor(e=1,t=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:r,radialSegments:i,heightSegments:s},t=Math.max(0,t),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],c=[],f=t/2,d=Math.PI/2*e,p=t,g=2*d+p,b=r*2+s,S=i+1,w=new Se,E=new Se;for(let k=0;k<=b;k++){let R=0,O=0,D=0,I=0;if(k<=r){const V=k/r,Y=V*Math.PI/2;O=-f-e*Math.cos(Y),D=e*Math.sin(Y),I=-e*Math.cos(Y),R=V*d}else if(k<=r+s){const V=(k-r)/s;O=-f+V*t,D=e,I=0,R=d+V*p}else{const V=(k-r-s)/r,Y=V*Math.PI/2;O=f+e*Math.sin(Y),D=e*Math.cos(Y),I=e*Math.sin(Y),R=d+p+V*d}const B=Math.max(0,Math.min(1,R/g));let z=0;k===0?z=.5/i:k===b&&(z=-.5/i);for(let V=0;V<=i;V++){const Y=V/i,q=Y*Math.PI*2,J=Math.sin(q),re=Math.cos(q);E.x=-D*re,E.y=O,E.z=D*J,o.push(E.x,E.y,E.z),w.set(-D*re,I,D*J),w.normalize(),l.push(w.x,w.y,w.z),c.push(Y+z,B)}if(k>0){const V=(k-1)*S;for(let Y=0;Y<i;Y++){const q=V+Y,J=V+Y+1,re=k*S+Y,fe=k*S+Y+1;a.push(q,J,re),a.push(J,fe,re)}}}this.setIndex(a),this.setAttribute("position",new Kt(o,3)),this.setAttribute("normal",new Kt(l,3)),this.setAttribute("uv",new Kt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zD(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class UD extends Nn{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],a=[],o=[],l=[],c=new Se,f=new St;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,p=3;d<=t;d++,p+=3){const g=r+d/t*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),a.push(c.x,c.y,c.z),o.push(0,0,1),f.x=(a[p]/e+1)/2,f.y=(a[p+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=t;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Kt(a,3)),this.setAttribute("normal",new Kt(o,3)),this.setAttribute("uv",new Kt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new UD(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class TT extends Nn{constructor(e=1,t=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],p=[],g=[];let b=0;const S=[],w=r/2;let E=0;k(),a===!1&&(e>0&&R(!0),t>0&&R(!1)),this.setIndex(f),this.setAttribute("position",new Kt(d,3)),this.setAttribute("normal",new Kt(p,3)),this.setAttribute("uv",new Kt(g,2));function k(){const O=new Se,D=new Se;let I=0;const B=(t-e)/r;for(let z=0;z<=s;z++){const V=[],Y=z/s,q=Y*(t-e)+e;for(let J=0;J<=i;J++){const re=J/i,fe=re*l+o,ne=Math.sin(fe),te=Math.cos(fe);D.x=q*ne,D.y=-Y*r+w,D.z=q*te,d.push(D.x,D.y,D.z),O.set(ne,B,te).normalize(),p.push(O.x,O.y,O.z),g.push(re,1-Y),V.push(b++)}S.push(V)}for(let z=0;z<i;z++)for(let V=0;V<s;V++){const Y=S[V][z],q=S[V+1][z],J=S[V+1][z+1],re=S[V][z+1];(e>0||V!==0)&&(f.push(Y,q,re),I+=3),(t>0||V!==s-1)&&(f.push(q,J,re),I+=3)}c.addGroup(E,I,0),E+=I}function R(O){const D=b,I=new St,B=new Se;let z=0;const V=O===!0?e:t,Y=O===!0?1:-1;for(let J=1;J<=i;J++)d.push(0,w*Y,0),p.push(0,Y,0),g.push(.5,.5),b++;const q=b;for(let J=0;J<=i;J++){const fe=J/i*l+o,ne=Math.cos(fe),te=Math.sin(fe);B.x=V*te,B.y=w*Y,B.z=V*ne,d.push(B.x,B.y,B.z),p.push(0,Y,0),I.x=ne*.5+.5,I.y=te*.5*Y+.5,g.push(I.x,I.y),b++}for(let J=0;J<i;J++){const re=D+J,fe=q+J;O===!0?f.push(fe,fe+1,re):f.push(fe+1,fe,re),z+=3}c.addGroup(E,z,O===!0?1:2),E+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new TT(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class CT extends TT{constructor(e=1,t=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new CT(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class dg extends Nn{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],a=[];o(i),c(r),f(),this.setAttribute("position",new Kt(s,3)),this.setAttribute("normal",new Kt(s.slice(),3)),this.setAttribute("uv",new Kt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(k){const R=new Se,O=new Se,D=new Se;for(let I=0;I<t.length;I+=3)g(t[I+0],R),g(t[I+1],O),g(t[I+2],D),l(R,O,D,k)}function l(k,R,O,D){const I=D+1,B=[];for(let z=0;z<=I;z++){B[z]=[];const V=k.clone().lerp(O,z/I),Y=R.clone().lerp(O,z/I),q=I-z;for(let J=0;J<=q;J++)J===0&&z===I?B[z][J]=V:B[z][J]=V.clone().lerp(Y,J/q)}for(let z=0;z<I;z++)for(let V=0;V<2*(I-z)-1;V++){const Y=Math.floor(V/2);V%2===0?(p(B[z][Y+1]),p(B[z+1][Y]),p(B[z][Y])):(p(B[z][Y+1]),p(B[z+1][Y+1]),p(B[z+1][Y]))}}function c(k){const R=new Se;for(let O=0;O<s.length;O+=3)R.x=s[O+0],R.y=s[O+1],R.z=s[O+2],R.normalize().multiplyScalar(k),s[O+0]=R.x,s[O+1]=R.y,s[O+2]=R.z}function f(){const k=new Se;for(let R=0;R<s.length;R+=3){k.x=s[R+0],k.y=s[R+1],k.z=s[R+2];const O=w(k)/2/Math.PI+.5,D=E(k)/Math.PI+.5;a.push(O,1-D)}b(),d()}function d(){for(let k=0;k<a.length;k+=6){const R=a[k+0],O=a[k+2],D=a[k+4],I=Math.max(R,O,D),B=Math.min(R,O,D);I>.9&&B<.1&&(R<.2&&(a[k+0]+=1),O<.2&&(a[k+2]+=1),D<.2&&(a[k+4]+=1))}}function p(k){s.push(k.x,k.y,k.z)}function g(k,R){const O=k*3;R.x=e[O+0],R.y=e[O+1],R.z=e[O+2]}function b(){const k=new Se,R=new Se,O=new Se,D=new Se,I=new St,B=new St,z=new St;for(let V=0,Y=0;V<s.length;V+=9,Y+=6){k.set(s[V+0],s[V+1],s[V+2]),R.set(s[V+3],s[V+4],s[V+5]),O.set(s[V+6],s[V+7],s[V+8]),I.set(a[Y+0],a[Y+1]),B.set(a[Y+2],a[Y+3]),z.set(a[Y+4],a[Y+5]),D.copy(k).add(R).add(O).divideScalar(3);const q=w(D);S(I,Y+0,k,q),S(B,Y+2,R,q),S(z,Y+4,O,q)}}function S(k,R,O,D){D<0&&k.x===1&&(a[R]=k.x-1),O.x===0&&O.z===0&&(a[R]=D/2/Math.PI+.5)}function w(k){return Math.atan2(k.z,-k.x)}function E(k){return Math.atan2(-k.y,Math.sqrt(k.x*k.x+k.z*k.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dg(e.vertices,e.indices,e.radius,e.detail)}}class jD extends dg{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new jD(e.radius,e.detail)}}const Mk=new Se,Ak=new Se,KN=new Se,Tk=new jl;class Cne extends Nn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(Nv*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],f=["a","b","c"],d=new Array(3),p={},g=[];for(let b=0;b<l;b+=3){a?(c[0]=a.getX(b),c[1]=a.getX(b+1),c[2]=a.getX(b+2)):(c[0]=b,c[1]=b+1,c[2]=b+2);const{a:S,b:w,c:E}=Tk;if(S.fromBufferAttribute(o,c[0]),w.fromBufferAttribute(o,c[1]),E.fromBufferAttribute(o,c[2]),Tk.getNormal(KN),d[0]=`${Math.round(S.x*i)},${Math.round(S.y*i)},${Math.round(S.z*i)}`,d[1]=`${Math.round(w.x*i)},${Math.round(w.y*i)},${Math.round(w.z*i)}`,d[2]=`${Math.round(E.x*i)},${Math.round(E.y*i)},${Math.round(E.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let k=0;k<3;k++){const R=(k+1)%3,O=d[k],D=d[R],I=Tk[f[k]],B=Tk[f[R]],z=`${O}_${D}`,V=`${D}_${O}`;V in p&&p[V]?(KN.dot(p[V].normal)<=s&&(g.push(I.x,I.y,I.z),g.push(B.x,B.y,B.z)),p[V]=null):z in p||(p[z]={index0:c[k],index1:c[R],normal:KN.clone()})}}for(const b in p)if(p[b]){const{index0:S,index1:w}=p[b];Mk.fromBufferAttribute(o,S),Ak.fromBufferAttribute(o,w),g.push(Mk.x,Mk.y,Mk.z),g.push(Ak.x,Ak.y,Ak.z)}this.setAttribute("position",new Kt(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Ff=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Ut("Curve: .getPoint() not implemented.")}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const r=this.getLengths();let i=0;const s=r.length;let a;t?a=t:a=e*r[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const f=r[i],p=r[i+1]-f,g=(a-f)/p;return(i+g)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=t||(a.isVector2?new St:new Se);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t=!1){const r=new Se,i=[],s=[],a=[],o=new Se,l=new Mn;for(let g=0;g<=e;g++){const b=g/e;i[g]=this.getTangentAt(b,new Se)}s[0]=new Se,a[0]=new Se;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),p=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),p<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),a[g]=a[g-1].clone(),o.crossVectors(i[g-1],i[g]),o.length()>Number.EPSILON){o.normalize();const b=Math.acos(wn(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(o,b))}a[g].crossVectors(i[g],s[g])}if(t===!0){let g=Math.acos(wn(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(g=-g);for(let b=1;b<=e;b++)s[b].applyMatrix4(l.makeRotationAxis(i[b],g*b)),a[b].crossVectors(i[b],s[b])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class HD extends Ff{constructor(e=0,t=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new St){const r=t,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),p=l-this.aX,g=c-this.aY;l=p*f-g*d+this.aX,c=p*d+g*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class kne extends HD{constructor(e,t,r,i,s,a){super(e,t,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function cU(){let n=0,e=0,t=0,r=0;function i(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,f,d){let p=(a-s)/c-(o-s)/(c+f)+(o-a)/f,g=(o-a)/f-(l-a)/(f+d)+(l-o)/d;p*=f,g*=f,i(a,o,p,g)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+r*o}}}const Ck=new Se,JN=new cU,ZN=new cU,QN=new cU;class Rne extends Ff{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new Se){const r=t,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,f;this.closed||o>0?c=i[(o-1)%s]:(Ck.subVectors(i[0],i[1]).add(i[0]),c=Ck);const d=i[o%s],p=i[(o+1)%s];if(this.closed||o+2<s?f=i[(o+2)%s]:(Ck.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=Ck),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let b=Math.pow(c.distanceToSquared(d),g),S=Math.pow(d.distanceToSquared(p),g),w=Math.pow(p.distanceToSquared(f),g);S<1e-4&&(S=1),b<1e-4&&(b=S),w<1e-4&&(w=S),JN.initNonuniformCatmullRom(c.x,d.x,p.x,f.x,b,S,w),ZN.initNonuniformCatmullRom(c.y,d.y,p.y,f.y,b,S,w),QN.initNonuniformCatmullRom(c.z,d.z,p.z,f.z,b,S,w)}else this.curveType==="catmullrom"&&(JN.initCatmullRom(c.x,d.x,p.x,f.x,this.tension),ZN.initCatmullRom(c.y,d.y,p.y,f.y,this.tension),QN.initCatmullRom(c.z,d.z,p.z,f.z,this.tension));return r.set(JN.calc(l),ZN.calc(l),QN.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new Se().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function xW(n,e,t,r,i){const s=(r-e)*.5,a=(i-t)*.5,o=n*n,l=n*o;return(2*t-2*r+s+a)*l+(-3*t+3*r-2*s-a)*o+s*n+t}function iwe(n,e){const t=1-n;return t*t*e}function swe(n,e){return 2*(1-n)*n*e}function awe(n,e){return n*n*e}function UM(n,e,t,r){return iwe(n,e)+swe(n,t)+awe(n,r)}function owe(n,e){const t=1-n;return t*t*t*e}function lwe(n,e){const t=1-n;return 3*t*t*n*e}function cwe(n,e){return 3*(1-n)*n*n*e}function uwe(n,e){return n*n*n*e}function jM(n,e,t,r,i){return owe(n,e)+lwe(n,t)+cwe(n,r)+uwe(n,i)}class uU extends Ff{constructor(e=new St,t=new St,r=new St,i=new St){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new St){const r=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(jM(e,i.x,s.x,a.x,o.x),jM(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class One extends Ff{constructor(e=new Se,t=new Se,r=new Se,i=new Se){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new Se){const r=t,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(jM(e,i.x,s.x,a.x,o.x),jM(e,i.y,s.y,a.y,o.y),jM(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class fU extends Ff{constructor(e=new St,t=new St){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new St){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new St){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Pne extends Ff{constructor(e=new Se,t=new Se){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new Se){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Se){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class dU extends Ff{constructor(e=new St,t=new St,r=new St){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new St){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(UM(e,i.x,s.x,a.x),UM(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class hU extends Ff{constructor(e=new Se,t=new Se,r=new Se){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new Se){const r=t,i=this.v0,s=this.v1,a=this.v2;return r.set(UM(e,i.x,s.x,a.x),UM(e,i.y,s.y,a.y),UM(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class pU extends Ff{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new St){const r=t,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],f=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(xW(o,l.x,c.x,f.x,d.x),xW(o,l.y,c.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new St().fromArray(i))}return this}}var wO=Object.freeze({__proto__:null,ArcCurve:kne,CatmullRomCurve3:Rne,CubicBezierCurve:uU,CubicBezierCurve3:One,EllipseCurve:HD,LineCurve:fU,LineCurve3:Pne,QuadraticBezierCurve:dU,QuadraticBezierCurve3:hU,SplineCurve:pU});class Dne extends Ff{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new wO[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(t.push(f),r=f)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new wO[i.type]().fromJSON(i))}return this}}let SO=class extends Dne{constructor(e){super(),this.type="Path",this.currentPoint=new St,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new fU(this.currentPoint.clone(),new St(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new dU(this.currentPoint.clone(),new St(e,t),new St(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,a){const o=new uU(this.currentPoint.clone(),new St(e,t),new St(r,i),new St(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new pU(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,r,i,s,a),this}absarc(e,t,r,i,s,a){return this.absellipse(e,t,r,r,i,s,a),this}ellipse(e,t,r,i,s,a,o,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,t+f,r,i,s,a,o,l),this}absellipse(e,t,r,i,s,a,o,l){const c=new HD(e,t,r,i,s,a,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Lv extends SO{constructor(e){super(e),this.uuid=xc(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new SO().fromJSON(i))}return this}}function fwe(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=Ine(n,0,i,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c;if(r&&(s=gwe(n,e,s,t)),n.length>80*t){o=n[0],l=n[1];let f=o,d=l;for(let p=t;p<i;p+=t){const g=n[p],b=n[p+1];g<o&&(o=g),b<l&&(l=b),g>f&&(f=g),b>d&&(d=b)}c=Math.max(f-o,d-l),c=c!==0?32767/c:0}return mA(s,a,t,o,l,c,0),a}function Ine(n,e,t,r,i){let s;if(i===Twe(n,e,t,r)>0)for(let a=e;a<t;a+=r)s=bW(a/r|0,n[a],n[a+1],s);else for(let a=t-r;a>=e;a-=r)s=bW(a/r|0,n[a],n[a+1],s);return s&&Y_(s,s.next)&&(yA(s),s=s.next),s}function Kv(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Y_(t,t.next)||es(t.prev,t,t.next)===0)){if(yA(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function mA(n,e,t,r,i,s,a){if(!n)return;!a&&s&&_we(n,r,i,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,c=n.next;if(s?hwe(n,r,i,s):dwe(n)){e.push(l.i,n.i,c.i),yA(n),n=c.next,o=c.next;continue}if(n=c,n===o){a?a===1?(n=pwe(Kv(n),e),mA(n,e,t,r,i,s,2)):a===2&&mwe(n,e,t,r,i,s):mA(Kv(n),e,t,r,i,s,1);break}}}function dwe(n){const e=n.prev,t=n,r=n.next;if(es(e,t,r)>=0)return!1;const i=e.x,s=t.x,a=r.x,o=e.y,l=t.y,c=r.y,f=Math.min(i,s,a),d=Math.min(o,l,c),p=Math.max(i,s,a),g=Math.max(o,l,c);let b=r.next;for(;b!==e;){if(b.x>=f&&b.x<=p&&b.y>=d&&b.y<=g&&pM(i,o,s,l,a,c,b.x,b.y)&&es(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function hwe(n,e,t,r){const i=n.prev,s=n,a=n.next;if(es(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,f=i.y,d=s.y,p=a.y,g=Math.min(o,l,c),b=Math.min(f,d,p),S=Math.max(o,l,c),w=Math.max(f,d,p),E=L8(g,b,e,t,r),k=L8(S,w,e,t,r);let R=n.prevZ,O=n.nextZ;for(;R&&R.z>=E&&O&&O.z<=k;){if(R.x>=g&&R.x<=S&&R.y>=b&&R.y<=w&&R!==i&&R!==a&&pM(o,f,l,d,c,p,R.x,R.y)&&es(R.prev,R,R.next)>=0||(R=R.prevZ,O.x>=g&&O.x<=S&&O.y>=b&&O.y<=w&&O!==i&&O!==a&&pM(o,f,l,d,c,p,O.x,O.y)&&es(O.prev,O,O.next)>=0))return!1;O=O.nextZ}for(;R&&R.z>=E;){if(R.x>=g&&R.x<=S&&R.y>=b&&R.y<=w&&R!==i&&R!==a&&pM(o,f,l,d,c,p,R.x,R.y)&&es(R.prev,R,R.next)>=0)return!1;R=R.prevZ}for(;O&&O.z<=k;){if(O.x>=g&&O.x<=S&&O.y>=b&&O.y<=w&&O!==i&&O!==a&&pM(o,f,l,d,c,p,O.x,O.y)&&es(O.prev,O,O.next)>=0)return!1;O=O.nextZ}return!0}function pwe(n,e){let t=n;do{const r=t.prev,i=t.next.next;!Y_(r,i)&&Lne(r,t,t.next,i)&&gA(r,i)&&gA(i,r)&&(e.push(r.i,t.i,i.i),yA(t),yA(t.next),t=n=i),t=t.next}while(t!==n);return Kv(t)}function mwe(n,e,t,r,i,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Ewe(a,o)){let l=Bne(a,o);a=Kv(a,a.next),l=Kv(l,l.next),mA(a,e,t,r,i,s,0),mA(l,e,t,r,i,s,0);return}o=o.next}a=a.next}while(a!==n)}function gwe(n,e,t,r){const i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*r,l=s<a-1?e[s+1]*r:n.length,c=Ine(n,o,l,r,!1);c===c.next&&(c.steiner=!0),i.push(Swe(c))}i.sort(ywe);for(let s=0;s<i.length;s++)t=vwe(i[s],t);return t}function ywe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const r=(n.next.y-n.y)/(n.next.x-n.x),i=(e.next.y-e.y)/(e.next.x-e.x);t=r-i}return t}function vwe(n,e){const t=xwe(n,e);if(!t)return e;const r=Bne(t,n);return Kv(r,r.next),Kv(t,t.next)}function xwe(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,a;if(Y_(n,t))return t;do{if(Y_(n,t.next))return t.next;if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const d=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(d<=r&&d>s&&(s=d,a=t.x<t.next.x?t:t.next,d===r))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,c=a.y;let f=1/0;t=a;do{if(r>=t.x&&t.x>=l&&r!==t.x&&Nne(i<c?r:s,i,l,c,i<c?s:r,i,t.x,t.y)){const d=Math.abs(i-t.y)/(r-t.x);gA(t,n)&&(d<f||d===f&&(t.x>a.x||t.x===a.x&&bwe(a,t)))&&(a=t,f=d)}t=t.next}while(t!==o);return a}function bwe(n,e){return es(n.prev,n,e.prev)<0&&es(e.next,n,n.next)<0}function _we(n,e,t,r){let i=n;do i.z===0&&(i.z=L8(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,wwe(i)}function wwe(n){let e,t=1;do{let r=n,i;n=null;let s=null;for(e=0;r;){e++;let a=r,o=0;for(let c=0;c<t&&(o++,a=a.nextZ,!!a);c++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,o--):(i=a,a=a.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;r=a}s.nextZ=null,t*=2}while(e>1);return n}function L8(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Swe(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Nne(n,e,t,r,i,s,a,o){return(i-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(r-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(i-a)*(r-o)}function pM(n,e,t,r,i,s,a,o){return!(n===a&&e===o)&&Nne(n,e,t,r,i,s,a,o)}function Ewe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Mwe(n,e)&&(gA(n,e)&&gA(e,n)&&Awe(n,e)&&(es(n.prev,n,e.prev)||es(n,e.prev,e))||Y_(n,e)&&es(n.prev,n,n.next)>0&&es(e.prev,e,e.next)>0)}function es(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Y_(n,e){return n.x===e.x&&n.y===e.y}function Lne(n,e,t,r){const i=Rk(es(n,e,t)),s=Rk(es(n,e,r)),a=Rk(es(t,r,n)),o=Rk(es(t,r,e));return!!(i!==s&&a!==o||i===0&&kk(n,t,e)||s===0&&kk(n,r,e)||a===0&&kk(t,n,r)||o===0&&kk(t,e,r))}function kk(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Rk(n){return n>0?1:n<0?-1:0}function Mwe(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&Lne(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function gA(n,e){return es(n.prev,n,n.next)<0?es(n,e,n.next)>=0&&es(n,n.prev,e)>=0:es(n,e,n.prev)<0||es(n,n.next,e)<0}function Awe(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function Bne(n,e){const t=B8(n.i,n.x,n.y),r=B8(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function bW(n,e,t,r){const i=B8(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function yA(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function B8(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Twe(n,e,t,r){let i=0;for(let s=e,a=t-r;s<t;s+=r)i+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return i}class Cwe{static triangulate(e,t,r=2){return fwe(e,t,r)}}class Mf{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Mf.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];_W(e),wW(r,e);let a=e.length;t.forEach(_W);for(let l=0;l<t.length;l++)i.push(a),a+=t[l].length,wW(r,t[l]);const o=Cwe.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function _W(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function wW(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class VD extends Nn{constructor(e=new Lv([new St(.5,.5),new St(-.5,.5),new St(-.5,-.5),new St(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Kt(i,3)),this.setAttribute("uv",new Kt(s,2)),this.computeVertexNormals();function a(o){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,f=t.steps!==void 0?t.steps:1,d=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,g=t.bevelThickness!==void 0?t.bevelThickness:.2,b=t.bevelSize!==void 0?t.bevelSize:g-.1,S=t.bevelOffset!==void 0?t.bevelOffset:0,w=t.bevelSegments!==void 0?t.bevelSegments:3;const E=t.extrudePath,k=t.UVGenerator!==void 0?t.UVGenerator:kwe;let R,O=!1,D,I,B,z;if(E){R=E.getSpacedPoints(f),O=!0,p=!1;const Ve=E.isCatmullRomCurve3?E.closed:!1;D=E.computeFrenetFrames(f,Ve),I=new Se,B=new Se,z=new Se}p||(w=0,g=0,b=0,S=0);const V=o.extractPoints(c);let Y=V.shape;const q=V.holes;if(!Mf.isClockWise(Y)){Y=Y.reverse();for(let Ve=0,ot=q.length;Ve<ot;Ve++){const Qe=q[Ve];Mf.isClockWise(Qe)&&(q[Ve]=Qe.reverse())}}function re(Ve){const Qe=10000000000000001e-36;let mt=Ve[0];for(let _e=1;_e<=Ve.length;_e++){const zt=_e%Ve.length,kt=Ve[zt],Vt=kt.x-mt.x,gt=kt.y-mt.y,ge=Vt*Vt+gt*gt,ie=Math.max(Math.abs(kt.x),Math.abs(kt.y),Math.abs(mt.x),Math.abs(mt.y)),Ie=Qe*ie*ie;if(ge<=Ie){Ve.splice(zt,1),_e--;continue}mt=kt}}re(Y),q.forEach(re);const fe=q.length,ne=Y;for(let Ve=0;Ve<fe;Ve++){const ot=q[Ve];Y=Y.concat(ot)}function te(Ve,ot,Qe){return ot||on("ExtrudeGeometry: vec does not exist"),Ve.clone().addScaledVector(ot,Qe)}const se=Y.length;function be(Ve,ot,Qe){let mt,_e,zt;const kt=Ve.x-ot.x,Vt=Ve.y-ot.y,gt=Qe.x-Ve.x,ge=Qe.y-Ve.y,ie=kt*kt+Vt*Vt,Ie=kt*ge-Vt*gt;if(Math.abs(Ie)>Number.EPSILON){const we=Math.sqrt(ie),K=Math.sqrt(gt*gt+ge*ge),j=ot.x-Vt/we,$=ot.y+kt/we,ce=Qe.x-ge/K,le=Qe.y+gt/K,Re=((ce-j)*ge-(le-$)*gt)/(kt*ge-Vt*gt);mt=j+kt*Re-Ve.x,_e=$+Vt*Re-Ve.y;const Me=mt*mt+_e*_e;if(Me<=2)return new St(mt,_e);zt=Math.sqrt(Me/2)}else{let we=!1;kt>Number.EPSILON?gt>Number.EPSILON&&(we=!0):kt<-Number.EPSILON?gt<-Number.EPSILON&&(we=!0):Math.sign(Vt)===Math.sign(ge)&&(we=!0),we?(mt=-Vt,_e=kt,zt=Math.sqrt(ie)):(mt=kt,_e=Vt,zt=Math.sqrt(ie/2))}return new St(mt/zt,_e/zt)}const Ee=[];for(let Ve=0,ot=ne.length,Qe=ot-1,mt=Ve+1;Ve<ot;Ve++,Qe++,mt++)Qe===ot&&(Qe=0),mt===ot&&(mt=0),Ee[Ve]=be(ne[Ve],ne[Qe],ne[mt]);const oe=[];let ee,xe=Ee.concat();for(let Ve=0,ot=fe;Ve<ot;Ve++){const Qe=q[Ve];ee=[];for(let mt=0,_e=Qe.length,zt=_e-1,kt=mt+1;mt<_e;mt++,zt++,kt++)zt===_e&&(zt=0),kt===_e&&(kt=0),ee[mt]=be(Qe[mt],Qe[zt],Qe[kt]);oe.push(ee),xe=xe.concat(ee)}let ae;if(w===0)ae=Mf.triangulateShape(ne,q);else{const Ve=[],ot=[];for(let Qe=0;Qe<w;Qe++){const mt=Qe/w,_e=g*Math.cos(mt*Math.PI/2),zt=b*Math.sin(mt*Math.PI/2)+S;for(let kt=0,Vt=ne.length;kt<Vt;kt++){const gt=te(ne[kt],Ee[kt],zt);Pe(gt.x,gt.y,-_e),mt===0&&Ve.push(gt)}for(let kt=0,Vt=fe;kt<Vt;kt++){const gt=q[kt];ee=oe[kt];const ge=[];for(let ie=0,Ie=gt.length;ie<Ie;ie++){const we=te(gt[ie],ee[ie],zt);Pe(we.x,we.y,-_e),mt===0&&ge.push(we)}mt===0&&ot.push(ge)}}ae=Mf.triangulateShape(Ve,ot)}const De=ae.length,dt=b+S;for(let Ve=0;Ve<se;Ve++){const ot=p?te(Y[Ve],xe[Ve],dt):Y[Ve];O?(B.copy(D.normals[0]).multiplyScalar(ot.x),I.copy(D.binormals[0]).multiplyScalar(ot.y),z.copy(R[0]).add(B).add(I),Pe(z.x,z.y,z.z)):Pe(ot.x,ot.y,0)}for(let Ve=1;Ve<=f;Ve++)for(let ot=0;ot<se;ot++){const Qe=p?te(Y[ot],xe[ot],dt):Y[ot];O?(B.copy(D.normals[Ve]).multiplyScalar(Qe.x),I.copy(D.binormals[Ve]).multiplyScalar(Qe.y),z.copy(R[Ve]).add(B).add(I),Pe(z.x,z.y,z.z)):Pe(Qe.x,Qe.y,d/f*Ve)}for(let Ve=w-1;Ve>=0;Ve--){const ot=Ve/w,Qe=g*Math.cos(ot*Math.PI/2),mt=b*Math.sin(ot*Math.PI/2)+S;for(let _e=0,zt=ne.length;_e<zt;_e++){const kt=te(ne[_e],Ee[_e],mt);Pe(kt.x,kt.y,d+Qe)}for(let _e=0,zt=q.length;_e<zt;_e++){const kt=q[_e];ee=oe[_e];for(let Vt=0,gt=kt.length;Vt<gt;Vt++){const ge=te(kt[Vt],ee[Vt],mt);O?Pe(ge.x,ge.y+R[f-1].y,R[f-1].x+Qe):Pe(ge.x,ge.y,d+Qe)}}}Ne(),Ue();function Ne(){const Ve=i.length/3;if(p){let ot=0,Qe=se*ot;for(let mt=0;mt<De;mt++){const _e=ae[mt];lt(_e[2]+Qe,_e[1]+Qe,_e[0]+Qe)}ot=f+w*2,Qe=se*ot;for(let mt=0;mt<De;mt++){const _e=ae[mt];lt(_e[0]+Qe,_e[1]+Qe,_e[2]+Qe)}}else{for(let ot=0;ot<De;ot++){const Qe=ae[ot];lt(Qe[2],Qe[1],Qe[0])}for(let ot=0;ot<De;ot++){const Qe=ae[ot];lt(Qe[0]+se*f,Qe[1]+se*f,Qe[2]+se*f)}}r.addGroup(Ve,i.length/3-Ve,0)}function Ue(){const Ve=i.length/3;let ot=0;qe(ne,ot),ot+=ne.length;for(let Qe=0,mt=q.length;Qe<mt;Qe++){const _e=q[Qe];qe(_e,ot),ot+=_e.length}r.addGroup(Ve,i.length/3-Ve,1)}function qe(Ve,ot){let Qe=Ve.length;for(;--Qe>=0;){const mt=Qe;let _e=Qe-1;_e<0&&(_e=Ve.length-1);for(let zt=0,kt=f+w*2;zt<kt;zt++){const Vt=se*zt,gt=se*(zt+1),ge=ot+mt+Vt,ie=ot+_e+Vt,Ie=ot+_e+gt,we=ot+mt+gt;Mt(ge,ie,Ie,we)}}}function Pe(Ve,ot,Qe){l.push(Ve),l.push(ot),l.push(Qe)}function lt(Ve,ot,Qe){Ze(Ve),Ze(ot),Ze(Qe);const mt=i.length/3,_e=k.generateTopUV(r,i,mt-3,mt-2,mt-1);_t(_e[0]),_t(_e[1]),_t(_e[2])}function Mt(Ve,ot,Qe,mt){Ze(Ve),Ze(ot),Ze(mt),Ze(ot),Ze(Qe),Ze(mt);const _e=i.length/3,zt=k.generateSideWallUV(r,i,_e-6,_e-3,_e-2,_e-1);_t(zt[0]),_t(zt[1]),_t(zt[3]),_t(zt[1]),_t(zt[2]),_t(zt[3])}function Ze(Ve){i.push(l[Ve*3+0]),i.push(l[Ve*3+1]),i.push(l[Ve*3+2])}function _t(Ve){s.push(Ve.x),s.push(Ve.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return Rwe(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new wO[i.type]().fromJSON(i)),new VD(r,e.options)}}const kwe={generateTopUV:function(n,e,t,r,i){const s=e[t*3],a=e[t*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new St(s,a),new St(o,l),new St(c,f)]},generateSideWallUV:function(n,e,t,r,i,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],c=e[r*3],f=e[r*3+1],d=e[r*3+2],p=e[i*3],g=e[i*3+1],b=e[i*3+2],S=e[s*3],w=e[s*3+1],E=e[s*3+2];return Math.abs(o-f)<Math.abs(a-c)?[new St(a,1-l),new St(c,1-d),new St(p,1-b),new St(S,1-E)]:[new St(o,1-l),new St(f,1-d),new St(g,1-b),new St(w,1-E)]}};function Rwe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class WD extends dg{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new WD(e.radius,e.detail)}}class $D extends Nn{constructor(e=[new St(0,-.5),new St(.5,0),new St(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=wn(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],f=1/t,d=new Se,p=new St,g=new Se,b=new Se,S=new Se;let w=0,E=0;for(let k=0;k<=e.length-1;k++)switch(k){case 0:w=e[k+1].x-e[k].x,E=e[k+1].y-e[k].y,g.x=E*1,g.y=-w,g.z=E*0,S.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(S.x,S.y,S.z);break;default:w=e[k+1].x-e[k].x,E=e[k+1].y-e[k].y,g.x=E*1,g.y=-w,g.z=E*0,b.copy(g),g.x+=S.x,g.y+=S.y,g.z+=S.z,g.normalize(),l.push(g.x,g.y,g.z),S.copy(b)}for(let k=0;k<=t;k++){const R=r+k*f*i,O=Math.sin(R),D=Math.cos(R);for(let I=0;I<=e.length-1;I++){d.x=e[I].x*O,d.y=e[I].y,d.z=e[I].x*D,a.push(d.x,d.y,d.z),p.x=k/t,p.y=I/(e.length-1),o.push(p.x,p.y);const B=l[3*I+0]*O,z=l[3*I+1],V=l[3*I+0]*D;c.push(B,z,V)}}for(let k=0;k<t;k++)for(let R=0;R<e.length-1;R++){const O=R+k*e.length,D=O,I=O+e.length,B=O+e.length+1,z=O+1;s.push(D,I,z),s.push(B,z,I)}this.setIndex(s),this.setAttribute("position",new Kt(a,3)),this.setAttribute("uv",new Kt(o,2)),this.setAttribute("normal",new Kt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $D(e.points,e.segments,e.phiStart,e.phiLength)}}class kT extends dg{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kT(e.radius,e.detail)}}class kw extends Nn{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,a=t/2,o=Math.floor(r),l=Math.floor(i),c=o+1,f=l+1,d=e/o,p=t/l,g=[],b=[],S=[],w=[];for(let E=0;E<f;E++){const k=E*p-a;for(let R=0;R<c;R++){const O=R*d-s;b.push(O,-k,0),S.push(0,0,1),w.push(R/o),w.push(1-E/l)}}for(let E=0;E<l;E++)for(let k=0;k<o;k++){const R=k+c*E,O=k+c*(E+1),D=k+1+c*(E+1),I=k+1+c*E;g.push(R,O,I),g.push(O,D,I)}this.setIndex(g),this.setAttribute("position",new Kt(b,3)),this.setAttribute("normal",new Kt(S,3)),this.setAttribute("uv",new Kt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kw(e.width,e.height,e.widthSegments,e.heightSegments)}}class GD extends Nn{constructor(e=.5,t=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],f=[];let d=e;const p=(t-e)/i,g=new Se,b=new St;for(let S=0;S<=i;S++){for(let w=0;w<=r;w++){const E=s+w/r*a;g.x=d*Math.cos(E),g.y=d*Math.sin(E),l.push(g.x,g.y,g.z),c.push(0,0,1),b.x=(g.x/t+1)/2,b.y=(g.y/t+1)/2,f.push(b.x,b.y)}d+=p}for(let S=0;S<i;S++){const w=S*(r+1);for(let E=0;E<r;E++){const k=E+w,R=k,O=k+r+1,D=k+r+2,I=k+1;o.push(R,O,I),o.push(O,D,I)}}this.setIndex(o),this.setAttribute("position",new Kt(l,3)),this.setAttribute("normal",new Kt(c,3)),this.setAttribute("uv",new Kt(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GD(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class qD extends Nn{constructor(e=new Lv([new St(0,.5),new St(-.5,-.5),new St(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(o,l,f),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Kt(i,3)),this.setAttribute("normal",new Kt(s,3)),this.setAttribute("uv",new Kt(a,2));function c(f){const d=i.length/3,p=f.extractPoints(t);let g=p.shape;const b=p.holes;Mf.isClockWise(g)===!1&&(g=g.reverse());for(let w=0,E=b.length;w<E;w++){const k=b[w];Mf.isClockWise(k)===!0&&(b[w]=k.reverse())}const S=Mf.triangulateShape(g,b);for(let w=0,E=b.length;w<E;w++){const k=b[w];g=g.concat(k)}for(let w=0,E=g.length;w<E;w++){const k=g[w];i.push(k.x,k.y,0),s.push(0,0,1),a.push(k.x,k.y)}for(let w=0,E=S.length;w<E;w++){const k=S[w],R=k[0]+d,O=k[1]+d,D=k[2]+d;r.push(R,O,D),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Owe(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=t[e.shapes[i]];r.push(a)}return new qD(r,e.curveSegments)}}function Owe(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class RT extends Nn{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const f=[],d=new Se,p=new Se,g=[],b=[],S=[],w=[];for(let E=0;E<=r;E++){const k=[],R=E/r;let O=0;E===0&&a===0?O=.5/t:E===r&&l===Math.PI&&(O=-.5/t);for(let D=0;D<=t;D++){const I=D/t;d.x=-e*Math.cos(i+I*s)*Math.sin(a+R*o),d.y=e*Math.cos(a+R*o),d.z=e*Math.sin(i+I*s)*Math.sin(a+R*o),b.push(d.x,d.y,d.z),p.copy(d).normalize(),S.push(p.x,p.y,p.z),w.push(I+O,1-R),k.push(c++)}f.push(k)}for(let E=0;E<r;E++)for(let k=0;k<t;k++){const R=f[E][k+1],O=f[E][k],D=f[E+1][k],I=f[E+1][k+1];(E!==0||a>0)&&g.push(R,O,I),(E!==r-1||l<Math.PI)&&g.push(O,D,I)}this.setIndex(g),this.setAttribute("position",new Kt(b,3)),this.setAttribute("normal",new Kt(S,3)),this.setAttribute("uv",new Kt(w,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RT(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class YD extends dg{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new YD(e.radius,e.detail)}}class XD extends Nn{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2,a=0,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s,thetaStart:a,thetaLength:o},r=Math.floor(r),i=Math.floor(i);const l=[],c=[],f=[],d=[],p=new Se,g=new Se,b=new Se;for(let S=0;S<=r;S++){const w=a+S/r*o;for(let E=0;E<=i;E++){const k=E/i*s;g.x=(e+t*Math.cos(w))*Math.cos(k),g.y=(e+t*Math.cos(w))*Math.sin(k),g.z=t*Math.sin(w),c.push(g.x,g.y,g.z),p.x=e*Math.cos(k),p.y=e*Math.sin(k),b.subVectors(g,p).normalize(),f.push(b.x,b.y,b.z),d.push(E/i),d.push(S/r)}}for(let S=1;S<=r;S++)for(let w=1;w<=i;w++){const E=(i+1)*S+w-1,k=(i+1)*(S-1)+w-1,R=(i+1)*(S-1)+w,O=(i+1)*S+w;l.push(E,k,O),l.push(k,R,O)}this.setIndex(l),this.setAttribute("position",new Kt(c,3)),this.setAttribute("normal",new Kt(f,3)),this.setAttribute("uv",new Kt(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XD(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class KD extends Nn{constructor(e=1,t=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],f=[],d=new Se,p=new Se,g=new Se,b=new Se,S=new Se,w=new Se,E=new Se;for(let R=0;R<=r;++R){const O=R/r*s*Math.PI*2;k(O,s,a,e,g),k(O+.01,s,a,e,b),w.subVectors(b,g),E.addVectors(b,g),S.crossVectors(w,E),E.crossVectors(S,w),S.normalize(),E.normalize();for(let D=0;D<=i;++D){const I=D/i*Math.PI*2,B=-t*Math.cos(I),z=t*Math.sin(I);d.x=g.x+(B*E.x+z*S.x),d.y=g.y+(B*E.y+z*S.y),d.z=g.z+(B*E.z+z*S.z),l.push(d.x,d.y,d.z),p.subVectors(d,g).normalize(),c.push(p.x,p.y,p.z),f.push(R/r),f.push(D/i)}}for(let R=1;R<=r;R++)for(let O=1;O<=i;O++){const D=(i+1)*(R-1)+(O-1),I=(i+1)*R+(O-1),B=(i+1)*R+O,z=(i+1)*(R-1)+O;o.push(D,I,z),o.push(I,B,z)}this.setIndex(o),this.setAttribute("position",new Kt(l,3)),this.setAttribute("normal",new Kt(c,3)),this.setAttribute("uv",new Kt(f,2));function k(R,O,D,I,B){const z=Math.cos(R),V=Math.sin(R),Y=D/O*R,q=Math.cos(Y);B.x=I*(2+q)*.5*z,B.y=I*(2+q)*V*.5,B.z=I*Math.sin(Y)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new KD(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class JD extends Nn{constructor(e=new hU(new Se(-1,-1,0),new Se(-1,1,0),new Se(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Se,l=new Se,c=new St;let f=new Se;const d=[],p=[],g=[],b=[];S(),this.setIndex(b),this.setAttribute("position",new Kt(d,3)),this.setAttribute("normal",new Kt(p,3)),this.setAttribute("uv",new Kt(g,2));function S(){for(let R=0;R<t;R++)w(R);w(s===!1?t:0),k(),E()}function w(R){f=e.getPointAt(R/t,f);const O=a.normals[R],D=a.binormals[R];for(let I=0;I<=i;I++){const B=I/i*Math.PI*2,z=Math.sin(B),V=-Math.cos(B);l.x=V*O.x+z*D.x,l.y=V*O.y+z*D.y,l.z=V*O.z+z*D.z,l.normalize(),p.push(l.x,l.y,l.z),o.x=f.x+r*l.x,o.y=f.y+r*l.y,o.z=f.z+r*l.z,d.push(o.x,o.y,o.z)}}function E(){for(let R=1;R<=t;R++)for(let O=1;O<=i;O++){const D=(i+1)*(R-1)+(O-1),I=(i+1)*R+(O-1),B=(i+1)*R+O,z=(i+1)*(R-1)+O;b.push(D,I,z),b.push(I,B,z)}}function k(){for(let R=0;R<=t;R++)for(let O=0;O<=i;O++)c.x=R/t,c.y=O/i,g.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new JD(new wO[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Fne extends Nn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new Se,s=new Se;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const d=l[c],p=d.start,g=d.count;for(let b=p,S=p+g;b<S;b+=3)for(let w=0;w<3;w++){const E=o.getX(b+w),k=o.getX(b+(w+1)%3);i.fromBufferAttribute(a,E),s.fromBufferAttribute(a,k),SW(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const f=3*o+c,d=3*o+(c+1)%3;i.fromBufferAttribute(a,f),s.fromBufferAttribute(a,d),SW(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Kt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function SW(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var EW=Object.freeze({__proto__:null,BoxGeometry:dx,CapsuleGeometry:zD,CircleGeometry:UD,ConeGeometry:CT,CylinderGeometry:TT,DodecahedronGeometry:jD,EdgesGeometry:Cne,ExtrudeGeometry:VD,IcosahedronGeometry:WD,LatheGeometry:$D,OctahedronGeometry:kT,PlaneGeometry:kw,PolyhedronGeometry:dg,RingGeometry:GD,ShapeGeometry:qD,SphereGeometry:RT,TetrahedronGeometry:YD,TorusGeometry:XD,TorusKnotGeometry:KD,TubeGeometry:JD,WireframeGeometry:Fne});class zne extends Oo{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new qt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}function X_(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Ut("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function $o(n){const e={};for(let t=0;t<n.length;t++){const r=X_(n[t]);for(const i in r)e[i]=r[i]}return e}function Pwe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function Une(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:dr.workingColorSpace}const jne={clone:X_,merge:$o};var Dwe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Iwe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ku extends Oo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Dwe,this.fragmentShader=Iwe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=X_(e.uniforms),this.uniformsGroups=Pwe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this.defaultAttributeValues=Object.assign({},e.defaultAttributeValues),this.index0AttributeName=e.index0AttributeName,this.uniformsNeedUpdate=e.uniformsNeedUpdate,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?t.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[i]={type:"m4",value:a.toArray()}:t.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class mU extends ku{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class gU extends Oo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new qt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ug,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sc,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Hne extends gU{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new St(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new qt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new qt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new qt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Vne extends Oo{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new qt(16777215),this.specular=new qt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ug,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sc,this.combine=ET,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Wne extends Oo{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new qt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ug,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class $ne extends Oo{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ug,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Gne extends Oo{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new qt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new qt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ug,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sc,this.combine=ET,this.reflectivity=1,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class yU extends Oo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=sne,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class vU extends Oo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class qne extends Oo{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new qt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ug,this.normalScale=new St(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Yne extends cl{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Ky(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function Xne(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function F8(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,a=0;a!==r;++s){const o=t[s]*e;for(let l=0;l!==e;++l)i[a++]=n[o+l]}return i}function xU(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),t.push(a)),s=n[i++];while(s!==void 0)}function Nwe(n,e,t,r,i=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),d=[],p=[];for(let g=0;g<c.times.length;++g){const b=c.times[g]*i;if(!(b<t||b>=r)){d.push(c.times[g]);for(let S=0;S<f;++S)p.push(c.values[g*f+S])}}d.length!==0&&(c.times=Ky(d,c.times.constructor),c.values=Ky(p,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function Lwe(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(E){return E.name===o.name&&E.ValueTypeName===l});if(c===void 0)continue;let f=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let p=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=g/3);const b=o.times.length-1;let S;if(s<=o.times[0]){const E=f,k=d-f;S=o.values.slice(E,k)}else if(s>=o.times[b]){const E=b*d+f,k=E+d-f;S=o.values.slice(E,k)}else{const E=o.createInterpolant(),k=f,R=d-f;E.evaluate(s),S=E.resultBuffer.slice(k,R)}l==="quaternion"&&new ol().fromArray(S).normalize().conjugate().toArray(S);const w=c.times.length;for(let E=0;E<w;++E){const k=E*g+p;if(l==="quaternion")ol.multiplyQuaternionsFlat(c.values,k,S,0,c.values,k);else{const R=g-p*2;for(let O=0;O<R;++O)c.values[k+O]-=S[O]}}}return n.blendMode=Qz,n}class Bwe{static convertArray(e,t){return Ky(e,t)}static isTypedArray(e){return hne(e)}static getKeyframeOrder(e){return Xne(e)}static sortedArray(e,t,r){return F8(e,t,r)}static flattenJSON(e,t,r,i){xU(e,t,r,i)}static subclip(e,t,r,i,s=30){return Nwe(e,t,r,i,s)}static makeClipAdditive(e,t=0,r=e,i=30){return Lwe(e,t,r,i)}}class Rw{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=t[++r],e<i)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<t[o]?a=o:r=o+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)t[a]=r[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Kne extends Rw{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Yy,endingEnd:Yy}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case Xy:s=e,o=2*t-r;break;case cA:s=i.length-2,o=t+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Xy:a=e,l=2*r-t;break;case cA:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=t}const c=(r-t)*.5,f=this.valueSize;this._weightPrev=c/(t-o),this._weightNext=c/(l-r),this._offsetPrev=s*f,this._offsetNext=a*f}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,f=this._offsetPrev,d=this._offsetNext,p=this._weightPrev,g=this._weightNext,b=(r-t)/(i-t),S=b*b,w=S*b,E=-p*w+2*p*S-p*b,k=(1+p)*w+(-1.5-2*p)*S+(-.5+p)*b+1,R=(-1-g)*w+(1.5+g)*S+.5*b,O=g*w-g*S;for(let D=0;D!==o;++D)s[D]=E*a[f+D]+k*a[c+D]+R*a[l+D]+O*a[d+D];return s}}class bU extends Rw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,f=(r-t)/(i-t),d=1-f;for(let p=0;p!==o;++p)s[p]=a[c+p]*d+a[l+p]*f;return s}}class Jne extends Rw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Zne extends Rw{interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,f=this.settings||this.DefaultSettings_,d=f.inTangents,p=f.outTangents;if(!d||!p){const S=(r-t)/(i-t),w=1-S;for(let E=0;E!==o;++E)s[E]=a[c+E]*w+a[l+E]*S;return s}const g=o*2,b=e-1;for(let S=0;S!==o;++S){const w=a[c+S],E=a[l+S],k=b*g+S*2,R=p[k],O=p[k+1],D=e*g+S*2,I=d[D],B=d[D+1];let z=(r-t)/(i-t),V,Y,q,J,re;for(let fe=0;fe<8;fe++){V=z*z,Y=V*z,q=1-z,J=q*q,re=J*q;const te=re*t+3*J*z*R+3*q*V*I+Y*i-r;if(Math.abs(te)<1e-10)break;const se=3*J*(R-t)+6*q*z*(I-R)+3*V*(i-I);if(Math.abs(se)<1e-10)break;z=z-te/se,z=Math.max(0,Math.min(1,z))}s[S]=re*w+3*J*z*O+3*q*V*B+Y*E}return s}}class Nu{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ky(t,this.TimeBufferType),this.values=Ky(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:Ky(e.times,Array),values:Ky(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Jne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new bU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Kne(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodBezier(e){const t=new Zne(this.times,this.values,this.getValueSize(),e);return this.settings&&(t.settings=this.settings),t}setInterpolation(e){let t;switch(e){case lA:t=this.InterpolantFactoryMethodDiscrete;break;case xO:t=this.InterpolantFactoryMethodLinear;break;case GR:t=this.InterpolantFactoryMethodSmooth;break;case P8:t=this.InterpolantFactoryMethodBezier;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Ut("KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return lA;case this.InterpolantFactoryMethodLinear:return xO;case this.InterpolantFactoryMethodSmooth:return GR;case this.InterpolantFactoryMethodBezier:return P8}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>t;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(on("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(on("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){on("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){on("KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&hne(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){on("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===GR,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],f=e[o+1];if(c!==f&&(o!==1||c!==e[0]))if(i)l=!0;else{const d=o*r,p=d-r,g=d+r;for(let b=0;b!==r;++b){const S=t[d+b];if(S!==t[p+b]||S!==t[g+b]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*r,p=a*r;for(let g=0;g!==r;++g)t[p+g]=t[d+g]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,c=0;c!==r;++c)t[l+c]=t[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Nu.prototype.ValueTypeName="";Nu.prototype.TimeBufferType=Float32Array;Nu.prototype.ValueBufferType=Float32Array;Nu.prototype.DefaultInterpolation=xO;class hx extends Nu{constructor(e,t,r){super(e,t,r)}}hx.prototype.ValueTypeName="bool";hx.prototype.ValueBufferType=Array;hx.prototype.DefaultInterpolation=lA;hx.prototype.InterpolantFactoryMethodLinear=void 0;hx.prototype.InterpolantFactoryMethodSmooth=void 0;class _U extends Nu{constructor(e,t,r,i){super(e,t,r,i)}}_U.prototype.ValueTypeName="color";class vA extends Nu{constructor(e,t,r,i){super(e,t,r,i)}}vA.prototype.ValueTypeName="number";class Qne extends Rw{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-t)/(i-t);let c=e*o;for(let f=c+o;c!==f;c+=4)ol.slerpFlat(s,0,a,c-o,a,c,l);return s}}class OT extends Nu{constructor(e,t,r,i){super(e,t,r,i)}InterpolantFactoryMethodLinear(e){return new Qne(this.times,this.values,this.getValueSize(),e)}}OT.prototype.ValueTypeName="quaternion";OT.prototype.InterpolantFactoryMethodSmooth=void 0;class px extends Nu{constructor(e,t,r){super(e,t,r)}}px.prototype.ValueTypeName="string";px.prototype.ValueBufferType=Array;px.prototype.DefaultInterpolation=lA;px.prototype.InterpolantFactoryMethodLinear=void 0;px.prototype.InterpolantFactoryMethodSmooth=void 0;class xA extends Nu{constructor(e,t,r,i){super(e,t,r,i)}}xA.prototype.ValueTypeName="vector";class bA{constructor(e="",t=-1,r=[],i=CD){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=xc(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)t.push(zwe(r[a]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,a=r.length;s!==a;++s)t.push(Nu.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const f=Xne(l);l=F8(l,1,f),c=F8(c,1,f),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new vA(".morphTargetInfluences["+t[o].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],f=c.name.match(s);if(f&&f.length>1){const d=f[1];let p=i[d];p||(i[d]=p=[]),p.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],t,r));return a}static parseAnimation(e,t){if(Ut("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return on("AnimationClip: No animation in JSONLoader data."),null;const r=function(d,p,g,b,S){if(g.length!==0){const w=[],E=[];xU(g,w,E,b),w.length!==0&&S.push(new d(p,w,E))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const p=c[d].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const g={};let b;for(b=0;b<p.length;b++)if(p[b].morphTargets)for(let S=0;S<p[b].morphTargets.length;S++)g[p[b].morphTargets[S]]=-1;for(const S in g){const w=[],E=[];for(let k=0;k!==p[b].morphTargets.length;++k){const R=p[b];w.push(R.time),E.push(R.morphTarget===S?1:0)}i.push(new vA(".morphTargetInfluence["+S+"]",w,E))}l=g.length*a}else{const g=".bones["+t[d].name+"]";r(xA,g+".position",p,"pos",i),r(OT,g+".quaternion",p,"rot",i),r(xA,g+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const t=new this.constructor(this.name,this.duration,e,this.blendMode);return t.userData=JSON.parse(JSON.stringify(this.userData)),t}toJSON(){return this.constructor.toJSON(this)}}function Fwe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return vA;case"vector":case"vector2":case"vector3":case"vector4":return xA;case"color":return _U;case"quaternion":return OT;case"bool":case"boolean":return hx;case"string":return px}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function zwe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Fwe(n.type);if(n.times===void 0){const t=[],r=[];xU(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Wd={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(MW(n)||(this.files[n]=e))},get:function(n){if(this.enabled!==!1&&!MW(n))return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};function MW(n){try{const e=n.slice(n.indexOf(":")+1);return new URL(e).protocol==="blob:"}catch{return!1}}class wU{constructor(e,t,r){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this._abortController=null,this.itemStart=function(f){o++,s===!1&&i.onStart!==void 0&&i.onStart(f,a,o),s=!0},this.itemEnd=function(f){a++,i.onProgress!==void 0&&i.onProgress(f,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return c.push(f,d),this},this.removeHandler=function(f){const d=c.indexOf(f);return d!==-1&&c.splice(d,2),this},this.getHandler=function(f){for(let d=0,p=c.length;d<p;d+=2){const g=c[d],b=c[d+1];if(g.global&&(g.lastIndex=0),g.test(f))return b}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const ere=new wU;class Xl{constructor(e){this.manager=e!==void 0?e:ere,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Xl.DEFAULT_MATERIAL_NAME="__DEFAULT";const Qh={};class Uwe extends Error{constructor(e,t){super(e),this.response=t}}class Fp extends Xl{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Wd.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Qh[e]!==void 0){Qh[e].push({onLoad:t,onProgress:r,onError:i});return}Qh[e]=[],Qh[e].push({onLoad:t,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&Ut("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Qh[e],d=c.body.getReader(),p=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),g=p?parseInt(p):0,b=g!==0;let S=0;const w=new ReadableStream({start(E){k();function k(){d.read().then(({done:R,value:O})=>{if(R)E.close();else{S+=O.byteLength;const D=new ProgressEvent("progress",{lengthComputable:b,loaded:S,total:g});for(let I=0,B=f.length;I<B;I++){const z=f[I];z.onProgress&&z.onProgress(D)}E.enqueue(O),k()}},R=>{E.error(R)})}}});return new Response(w)}else throw new Uwe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,o));case"json":return c.json();default:if(o==="")return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),p=d&&d[1]?d[1].toLowerCase():void 0,g=new TextDecoder(p);return c.arrayBuffer().then(b=>g.decode(b))}}}).then(c=>{Wd.add(`file:${e}`,c);const f=Qh[e];delete Qh[e];for(let d=0,p=f.length;d<p;d++){const g=f[d];g.onLoad&&g.onLoad(c)}}).catch(c=>{const f=Qh[e];if(f===void 0)throw this.manager.itemError(e),c;delete Qh[e];for(let d=0,p=f.length;d<p;d++){const g=f[d];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class jwe extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Fp(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):on(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=bA.parse(e[r]);t.push(i)}return t}}class Hwe extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=this,a=[],o=new FD,l=new Fp(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(d){l.load(e[d],function(p){const g=s.parse(p,!0);a[d]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(o.minFilter=Mi),o.image=a,o.format=g.format,o.needsUpdate=!0,t&&t(o))},r,i)}if(Array.isArray(e))for(let d=0,p=e.length;d<p;++d)f(d);else l.load(e,function(d){const p=s.parse(d,!0);if(p.isCubemap){const g=p.mipmaps.length/p.mipmapCount;for(let b=0;b<g;b++){a[b]={mipmaps:[]};for(let S=0;S<p.mipmapCount;S++)a[b].mipmaps.push(p.mipmaps[b*p.mipmapCount+S]),a[b].format=p.format,a[b].width=p.width,a[b].height=p.height}o.image=a}else o.image.width=p.width,o.image.height=p.height,o.mipmaps=p.mipmaps;p.mipmapCount===1&&(o.minFilter=Mi),o.format=p.format,o.needsUpdate=!0,t&&t(o)},r,i);return o}}const Hb=new WeakMap;class _A extends Xl{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Wd.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0);else{let d=Hb.get(a);d===void 0&&(d=[],Hb.set(a,d)),d.push({onLoad:t,onError:i})}return a}const o=dA("img");function l(){f(),t&&t(this);const d=Hb.get(this)||[];for(let p=0;p<d.length;p++){const g=d[p];g.onLoad&&g.onLoad(this)}Hb.delete(this),s.manager.itemEnd(e)}function c(d){f(),i&&i(d),Wd.remove(`image:${e}`);const p=Hb.get(this)||[];for(let g=0;g<p.length;g++){const b=p[g];b.onError&&b.onError(d)}Hb.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Wd.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class Vwe extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=new AT;s.colorSpace=So;const a=new _A(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(f){s.images[c]=f,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class Wwe extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Cf,o=new Fp(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(f){if(i!==void 0)i(f);else{f(f);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:Vl,a.wrapT=c.wrapT!==void 0?c.wrapT:Vl,a.magFilter=c.magFilter!==void 0?c.magFilter:Mi,a.minFilter=c.minFilter!==void 0?c.minFilter:Mi,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Vd),c.mipmapCount===1&&(a.minFilter=Mi),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,t&&t(a,c)},r,i),a}}class ZD extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=new Ui,a=new _A(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class hg extends Sr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new qt(e),this.intensity=t}dispose(){this.dispatchEvent({type:"dispose"})}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,t}}class tre extends hg{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Sr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new qt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}toJSON(e){const t=super.toJSON(e);return t.object.groundColor=this.groundColor.getHex(),t}}const e6=new Mn,AW=new Se,TW=new Se;class SU{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.biasNode=null,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new St(512,512),this.mapType=Ko,this.map=null,this.mapPass=null,this.matrix=new Mn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Cw,this._frameExtents=new St(1,1),this._viewportCount=1,this._viewports=[new ti(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;AW.setFromMatrixPosition(e.matrixWorld),t.position.copy(AW),TW.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(TW),t.updateMatrixWorld(),e6.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(e6,t.coordinateSystem,t.reversedDepth),t.coordinateSystem===Yv||t.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(e6)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this.biasNode=e.biasNode,this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const Ok=new Se,Pk=new ol,yd=new Se;class QD extends Sr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Mn,this.projectionMatrix=new Mn,this.projectionMatrixInverse=new Mn,this.coordinateSystem=gc,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorld.decompose(Ok,Pk,yd),yd.x===1&&yd.y===1&&yd.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(Ok,Pk,yd.set(1,1,1)).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorld.decompose(Ok,Pk,yd),yd.x===1&&yd.y===1&&yd.z===1?this.matrixWorldInverse.copy(this.matrixWorld).invert():this.matrixWorldInverse.compose(Ok,Pk,yd.set(1,1,1)).invert()}clone(){return new this.constructor().copy(this)}}const e0=new Se,CW=new St,kW=new St;class _a extends QD{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=W_*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Nv*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return W_*2*Math.atan(Math.tan(Nv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,r){e0.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(e0.x,e0.y).multiplyScalar(-e/e0.z),e0.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(e0.x,e0.y).multiplyScalar(-e/e0.z)}getViewSize(e,t){return this.getViewBounds(e,CW,kW),t.subVectors(kW,CW)}setViewOffset(e,t,r,i,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Nv*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,t-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class $we extends SU{constructor(){super(new _a(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,r=W_*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class nre extends hg{constructor(e,t,r=0,i=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Sr.DEFAULT_UP),this.updateMatrix(),this.target=new Sr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new $we}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.map=e.map,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.angle=this.angle,t.object.decay=this.decay,t.object.penumbra=this.penumbra,t.object.target=this.target.uuid,this.map&&this.map.isTexture&&(t.object.map=this.map.toJSON(e).uuid),t.object.shadow=this.shadow.toJSON(),t}}class Gwe extends SU{constructor(){super(new _a(90,1,.5,500)),this.isPointLightShadow=!0}}class rre extends hg{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Gwe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){super.dispose(),this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.distance=this.distance,t.object.decay=this.decay,t.object.shadow=this.shadow.toJSON(),t}}class Ow extends QD{constructor(e=-1,t=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=f*this.view.offsetY,l=o-f*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class qwe extends SU{constructor(){super(new Ow(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ire extends hg{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Sr.DEFAULT_UP),this.updateMatrix(),this.target=new Sr,this.shadow=new qwe}dispose(){super.dispose(),this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}toJSON(e){const t=super.toJSON(e);return t.object.shadow=this.shadow.toJSON(),t.object.target=this.target.uuid,t}}class sre extends hg{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class are extends hg{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class EU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Se)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*i),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*r),t.addScaledVector(a[4],1.092548*(r*i)),t.addScaledVector(a[5],1.092548*(i*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(r*s)),t.addScaledVector(a[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*i),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*r),t.addScaledVector(a[4],2*.429043*r*i),t.addScaledVector(a[5],2*.429043*i*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*r*s),t.addScaledVector(a[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class ore extends hg{constructor(e=new EU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class eI extends Xl{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,a=new Fp(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):on(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&Ut("MaterialLoader: Undefined texture",s),t[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new qt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.allowOverride!==void 0&&(i.allowOverride=e.allowOverride),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new qt().setHex(a.value);break;case"v2":i.uniforms[s].value=new St().fromArray(a.value);break;case"v3":i.uniforms[s].value=new Se().fromArray(a.value);break;case"v4":i.uniforms[s].value=new ti().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Bn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Mn().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new St().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new St().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return eI.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:zne,SpriteMaterial:sU,RawShaderMaterial:mU,ShaderMaterial:ku,PointsMaterial:oU,MeshPhysicalMaterial:Hne,MeshStandardMaterial:gU,MeshPhongMaterial:Vne,MeshToonMaterial:Wne,MeshNormalMaterial:$ne,MeshLambertMaterial:Gne,MeshDepthMaterial:yU,MeshDistanceMaterial:vU,MeshBasicMaterial:fg,MeshMatcapMaterial:qne,LineDashedMaterial:Yne,LineBasicMaterial:cl,Material:Oo};return new t[e]}}class z8{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class lre extends Nn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class cre extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Fp(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){i?i(l):on(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(g,b){if(t[b]!==void 0)return t[b];const w=g.interleavedBuffers[b],E=s(g,w.buffer),k=O1(w.type,E),R=new ND(k,w.stride);return R.uuid=w.uuid,t[b]=R,R}function s(g,b){if(r[b]!==void 0)return r[b];const w=g.arrayBuffers[b],E=new Uint32Array(w).buffer;return r[b]=E,E}const a=e.isInstancedBufferGeometry?new lre:new Nn,o=e.data.index;if(o!==void 0){const g=O1(o.type,o.array);a.setIndex(new Jr(g,1))}const l=e.data.attributes;for(const g in l){const b=l[g];let S;if(b.isInterleavedBufferAttribute){const w=i(e.data,b.data);S=new Xv(w,b.itemSize,b.offset,b.normalized)}else{const w=O1(b.type,b.array),E=b.isInstancedBufferAttribute?G_:Jr;S=new E(w,b.itemSize,b.normalized)}b.name!==void 0&&(S.name=b.name),b.usage!==void 0&&S.setUsage(b.usage),a.setAttribute(g,S)}const c=e.data.morphAttributes;if(c)for(const g in c){const b=c[g],S=[];for(let w=0,E=b.length;w<E;w++){const k=b[w];let R;if(k.isInterleavedBufferAttribute){const O=i(e.data,k.data);R=new Xv(O,k.itemSize,k.offset,k.normalized)}else{const O=O1(k.type,k.array);R=new Jr(O,k.itemSize,k.normalized)}k.name!==void 0&&(R.name=k.name),S.push(R)}a.morphAttributes[g]=S}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let g=0,b=d.length;g!==b;++g){const S=d[g];a.addGroup(S.start,S.count,S.materialIndex)}const p=e.data.boundingSphere;return p!==void 0&&(a.boundingSphere=new Ja().fromJSON(p)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Ywe extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=this,a=this.path===""?z8.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Fp(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),d("ObjectLoader: Can't parse "+e+".",d.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),on("ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?z8.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Fp(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t);let o;try{o=JSON.parse(a)}catch(c){throw new Error("ObjectLoader: Can't parse "+e+". "+c.message)}const l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){t!==void 0&&t(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),this.bindLightTargets(c),t!==void 0){let d=!1;for(const p in a)if(a[p].data instanceof HTMLImageElement){d=!0;break}d===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Lv().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new LD().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new cre;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in EW?o=EW[l.type].fromJSON(l,t):Ut(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new eI;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=bA.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(f)}else return l.data?{data:O1(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new wU(t);s=new _A(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const d=e[c],p=d.url;if(Array.isArray(p)){const g=[];for(let b=0,S=p.length;b<S;b++){const w=p[b],E=o(w);E!==null&&(E instanceof HTMLImageElement?g.push(E):g.push(new Cf(E.data,E.width,E.height)))}i[d.uuid]=new B0(g)}else{const g=o(d.url);i[d.uuid]=new B0(g)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:O1(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new _A(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const f=[];for(let d=0,p=c.length;d<p;d++){const g=c[d],b=await s(g);b!==null&&(b instanceof HTMLImageElement?f.push(b):f.push(new Cf(b.data,b.width,b.height)))}r[l.uuid]=new B0(f)}else{const f=await s(l.url);r[l.uuid]=new B0(f)}}}return r}parseTextures(e,t){function r(s,a){return typeof s=="number"?s:(Ut("ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&Ut('ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&Ut("ObjectLoader: Undefined image",o.image);const l=t[o.image],c=l.data;let f;Array.isArray(c)?(f=new AT,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Cf:f=new Ui,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=o.uuid,o.name!==void 0&&(f.name=o.name),o.mapping!==void 0&&(f.mapping=r(o.mapping,Xwe)),o.channel!==void 0&&(f.channel=o.channel),o.offset!==void 0&&f.offset.fromArray(o.offset),o.repeat!==void 0&&f.repeat.fromArray(o.repeat),o.center!==void 0&&f.center.fromArray(o.center),o.rotation!==void 0&&(f.rotation=o.rotation),o.wrap!==void 0&&(f.wrapS=r(o.wrap[0],RW),f.wrapT=r(o.wrap[1],RW)),o.format!==void 0&&(f.format=o.format),o.internalFormat!==void 0&&(f.internalFormat=o.internalFormat),o.type!==void 0&&(f.type=o.type),o.colorSpace!==void 0&&(f.colorSpace=o.colorSpace),o.minFilter!==void 0&&(f.minFilter=r(o.minFilter,OW)),o.magFilter!==void 0&&(f.magFilter=r(o.magFilter,OW)),o.anisotropy!==void 0&&(f.anisotropy=o.anisotropy),o.flipY!==void 0&&(f.flipY=o.flipY),o.generateMipmaps!==void 0&&(f.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(f.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(f.compareFunction=o.compareFunction),o.userData!==void 0&&(f.userData=o.userData),i[o.uuid]=f}return i}parseObject(e,t,r,i,s){let a;function o(p){return t[p]===void 0&&Ut("ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const g=[];for(let b=0,S=p.length;b<S;b++){const w=p[b];r[w]===void 0&&Ut("ObjectLoader: Undefined material",w),g.push(r[w])}return g}return r[p]===void 0&&Ut("ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&Ut("ObjectLoader: Undefined texture",p),i[p]}let f,d;switch(e.type){case"Scene":a=new nU,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new qt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new ID(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new DD(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new _a(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Ow(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new sre(e.color,e.intensity);break;case"DirectionalLight":a=new ire(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new rre(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new are(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new nre(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new tre(e.color,e.groundColor,e.intensity);break;case"LightProbe":const p=new EU().fromArray(e.sh);a=new ore(p,e.intensity);break;case"SkinnedMesh":f=o(e.geometry),d=l(e.material),a=new _ne(f,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":f=o(e.geometry),d=l(e.material),a=new Vs(f,d);break;case"InstancedMesh":f=o(e.geometry),d=l(e.material);const g=e.count,b=e.instanceMatrix,S=e.instanceColor;a=new wne(f,d,g),a.instanceMatrix=new G_(new Float32Array(b.array),16),S!==void 0&&(a.instanceColor=new G_(new Float32Array(S.array),S.itemSize));break;case"BatchedMesh":f=o(e.geometry),d=l(e.material),a=new Sne(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=f,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(w=>{let E=null,k=null;return w.boundingBox!==void 0&&(E=new Co().fromJSON(w.boundingBox)),w.boundingSphere!==void 0&&(k=new Ja().fromJSON(w.boundingSphere)),{...w,boundingBox:E,boundingSphere:k}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Ja().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Co().fromJSON(e.boundingBox));break;case"LOD":a=new bne;break;case"Line":a=new Z0(o(e.geometry),l(e.material));break;case"LineLoop":a=new Ene(o(e.geometry),l(e.material));break;case"LineSegments":a=new ph(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Mne(o(e.geometry),l(e.material));break;case"Sprite":a=new xne(l(e.material));break;case"Group":a=new P1;break;case"Bone":a=new aU;break;default:a=new Sr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.pivot!==void 0&&(a.pivot=new Se().fromArray(e.pivot)),e.morphTargetDictionary!==void 0&&(a.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),e.morphTargetInfluences!==void 0&&(a.morphTargetInfluences=e.morphTargetInfluences.slice()),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.static!==void 0&&(a.static=e.static),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let g=0;g<p.length;g++)a.add(this.parseObject(p[g],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let g=0;g<p.length;g++){const b=p[g];a.animations.push(s[b])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const p=e.levels;for(let g=0;g<p.length;g++){const b=p[g],S=a.getObjectByProperty("uuid",b.object);S!==void 0&&a.addLevel(S,b.distance,b.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?Ut("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const r=t.target,i=e.getObjectByProperty("uuid",r);i!==void 0?t.target=i:t.target=new Sr}})}}const Xwe={UVMapping:_D,CubeReflectionMapping:rh,CubeRefractionMapping:X0,EquirectangularReflectionMapping:PM,EquirectangularRefractionMapping:DM,CubeUVReflectionMapping:Aw},RW={RepeatWrapping:aA,ClampToEdgeWrapping:Vl,MirroredRepeatWrapping:oA},OW={NearestFilter:Es,NearestMipmapNearestFilter:Gz,NearestMipmapLinearFilter:R1,LinearFilter:Mi,LinearMipmapNearestFilter:IM,LinearMipmapLinearFilter:Vd},t6=new WeakMap;class Kwe extends Xl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Ut("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Ut("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Wd.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{if(t6.has(a)===!0)i&&i(t6.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Wd.add(`image-bitmap:${e}`,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),t6.set(l,c),Wd.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Wd.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let Dk;class MU{static getContext(){return Dk===void 0&&(Dk=new(window.AudioContext||window.webkitAudioContext)),Dk}static setContext(e){Dk=e}}class Jwe extends Xl{constructor(e){super(e)}load(e,t,r,i){const s=this,a=new Fp(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);MU.getContext().decodeAudioData(c,function(d){t(d)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):on(l),s.manager.itemError(e)}}}const PW=new Mn,DW=new Mn,uy=new Mn;class Zwe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new _a,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new _a,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,uy.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,a=t.near*Math.tan(Nv*t.fov*.5)/t.zoom;let o,l;DW.elements[12]=-i,PW.elements[12]=i,o=-a*t.aspect+s,l=a*t.aspect+s,uy.elements[0]=2*t.near/(l-o),uy.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(uy),o=-a*t.aspect-s,l=a*t.aspect-s,uy.elements[0]=2*t.near/(l-o),uy.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(uy)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(DW),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(PW)}}const Vb=-90,Wb=1;class ure extends Sr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new _a(Vb,Wb,e,t);i.layers=this.layers,this.add(i);const s=new _a(Vb,Wb,e,t);s.layers=this.layers,this.add(s);const a=new _a(Vb,Wb,e,t);a.layers=this.layers,this.add(a);const o=new _a(Vb,Wb,e,t);o.layers=this.layers,this.add(o);const l=new _a(Vb,Wb,e,t);l.layers=this.layers,this.add(l);const c=new _a(Vb,Wb,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,a,o,l]=t;for(const c of t)this.remove(c);if(e===gc)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Yv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,f]=this.children,d=e.getRenderTarget(),p=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),b=e.xr.enabled;e.xr.enabled=!1;const S=r.texture.generateMipmaps;r.texture.generateMipmaps=!1;let w=!1;e.isWebGLRenderer===!0?w=e.state.buffers.depth.getReversed():w=e.reversedDepthBuffer,e.setRenderTarget(r,0,i),w&&e.autoClear===!1&&e.clearDepth(),e.render(t,s),e.setRenderTarget(r,1,i),w&&e.autoClear===!1&&e.clearDepth(),e.render(t,a),e.setRenderTarget(r,2,i),w&&e.autoClear===!1&&e.clearDepth(),e.render(t,o),e.setRenderTarget(r,3,i),w&&e.autoClear===!1&&e.clearDepth(),e.render(t,l),e.setRenderTarget(r,4,i),w&&e.autoClear===!1&&e.clearDepth(),e.render(t,c),r.texture.generateMipmaps=S,e.setRenderTarget(r,5,i),w&&e.autoClear===!1&&e.clearDepth(),e.render(t,f),e.setRenderTarget(d,p,g),e.xr.enabled=b,r.texture.needsPMREMUpdate=!0}}class fre extends _a{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}let dre=class{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Qwe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}};function Qwe(){this._document.hidden===!1&&this.reset()}const fy=new Se,n6=new ol,eSe=new Se,dy=new Se,hy=new Se;class tSe extends Sr{constructor(){super(),this.type="AudioListener",this.context=MU.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._timer=new dre}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e),this._timer.update();const t=this.context.listener;if(this.timeDelta=this._timer.getDelta(),this.matrixWorld.decompose(fy,n6,eSe),dy.set(0,0,-1).applyQuaternion(n6),hy.set(0,1,0).applyQuaternion(n6),t.positionX){const r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(fy.x,r),t.positionY.linearRampToValueAtTime(fy.y,r),t.positionZ.linearRampToValueAtTime(fy.z,r),t.forwardX.linearRampToValueAtTime(dy.x,r),t.forwardY.linearRampToValueAtTime(dy.y,r),t.forwardZ.linearRampToValueAtTime(dy.z,r),t.upX.linearRampToValueAtTime(hy.x,r),t.upY.linearRampToValueAtTime(hy.y,r),t.upZ.linearRampToValueAtTime(hy.z,r)}else t.setPosition(fy.x,fy.y,fy.z),t.setOrientation(dy.x,dy.y,dy.z,hy.x,hy.y,hy.z)}}class hre extends Sr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Ut("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Ut("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Ut("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(Ut("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const py=new Se,IW=new ol,nSe=new Se,my=new Se;class rSe extends hre{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(py,IW,nSe),my.set(0,0,1).applyQuaternion(IW);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(py.x,r),t.positionY.linearRampToValueAtTime(py.y,r),t.positionZ.linearRampToValueAtTime(py.z,r),t.orientationX.linearRampToValueAtTime(my.x,r),t.orientationY.linearRampToValueAtTime(my.y,r),t.orientationZ.linearRampToValueAtTime(my.z,r)}else t.setPosition(py.x,py.y,py.z),t.setOrientation(my.x,my.y,my.z)}}class iSe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class pre{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,a;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,a=i;s!==a;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[t+a]=e[r+a]}_slerp(e,t,r,i){ol.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const a=this._workIndex*s;ol.multiplyQuaternionsFlat(e,a,e,t,e,r),ol.slerpFlat(e,t,e,t,e,a,i)}_lerp(e,t,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,t,r,i,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[r+a]*i}}}const AU="\\[\\]\\.:\\/",sSe=new RegExp("["+AU+"]","g"),TU="[^"+AU+"]",aSe="[^"+AU.replace("\\.","")+"]",oSe=/((?:WC+[\/:])*)/.source.replace("WC",TU),lSe=/(WCOD+)?/.source.replace("WCOD",aSe),cSe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",TU),uSe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",TU),fSe=new RegExp("^"+oSe+lSe+cSe+uSe+"$"),dSe=["material","materials","bones","map"];class hSe{constructor(e,t,r){const i=r||br.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class br{constructor(e,t,r){this.path=t,this.parsedPath=r||br.parseTrackName(t),this.node=br.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new br.Composite(e,t,r):new br(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(sSe,"")}static parseTrackName(e){const t=fSe.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);dSe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=br.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Ut("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){on("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){on("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){on("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){on("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){on("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){on("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){on("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=t.nodeName;on("PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){on("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){on("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}br.Composite=hSe;br.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};br.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};br.prototype.GetterByBindingType=[br.prototype._getValue_direct,br.prototype._getValue_array,br.prototype._getValue_arrayElement,br.prototype._getValue_toArray];br.prototype.SetterByBindingTypeAndVersioning=[[br.prototype._setValue_direct,br.prototype._setValue_direct_setNeedsUpdate,br.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[br.prototype._setValue_array,br.prototype._setValue_array_setNeedsUpdate,br.prototype._setValue_array_setMatrixWorldNeedsUpdate],[br.prototype._setValue_arrayElement,br.prototype._setValue_arrayElement_setNeedsUpdate,br.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[br.prototype._setValue_fromArray,br.prototype._setValue_fromArray_setNeedsUpdate,br.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class pSe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=xc(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const p=arguments[f],g=p.uuid;let b=t[g];if(b===void 0){b=l++,t[g]=b,e.push(p);for(let S=0,w=a;S!==w;++S)s[S].push(new br(p,r[S],i[S]))}else if(b<c){o=e[b];const S=--c,w=e[S];t[w.uuid]=b,e[b]=w,t[g]=S,e[S]=p;for(let E=0,k=a;E!==k;++E){const R=s[E],O=R[S];let D=R[b];R[b]=O,D===void 0&&(D=new br(p,r[E],i[E])),R[S]=D}}else e[b]!==o&&on("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,f=t[c];if(f!==void 0&&f>=s){const d=s++,p=e[d];t[p.uuid]=f,e[f]=p,t[c]=d,e[d]=l;for(let g=0,b=i;g!==b;++g){const S=r[g],w=S[d],E=S[f];S[f]=w,S[d]=E}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],f=c.uuid,d=t[f];if(d!==void 0)if(delete t[f],d<s){const p=--s,g=e[p],b=--a,S=e[b];t[g.uuid]=d,e[d]=g,t[S.uuid]=p,e[p]=S,e.pop();for(let w=0,E=i;w!==E;++w){const k=r[w],R=k[p],O=k[b];k[d]=R,k[p]=O,k.pop()}}else{const p=--a,g=e[p];p>0&&(t[g.uuid]=d),e[d]=g,e.pop();for(let b=0,S=i;b!==S;++b){const w=r[b];w[d]=w[p],w.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,a.push(e),o.push(t),s.push(d);for(let p=f,g=l.length;p!==g;++p){const b=l[p];d[p]=new br(b,e,t)}return d}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];t[c]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class mre{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:Yy,endingEnd:Yy};for(let c=0;c!==a;++c){const f=s[c].createInterpolant(null);o[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=rne,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r=!1){if(e.fadeOut(t),this.fadeIn(t),r===!0){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,r=!1){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/a,c[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case Qz:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(a),c[f].accumulateAdditive(o);break;case CD:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(a),c[f].accumulate(i,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===ine;if(e===0)return s===-1?i:a&&(s&1)===1?t-i:i;if(r===nne){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=t||i<0){const o=Math.floor(i/t);i-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=Xy,i.endingEnd=Xy):(e?i.endingStart=this.zeroSlopeAtStart?Xy:Yy:i.endingStart=cA,t?i.endingEnd=this.zeroSlopeAtEnd?Xy:Yy:i.endingEnd=cA)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=r,this}}const mSe=new Float32Array(1);class gSe extends hh{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let d=0;d!==s;++d){const p=i[d],g=p.name;let b=f[g];if(b!==void 0)++b.referenceCount,a[d]=b;else{if(b=a[d],b!==void 0){b._cacheIndex===null&&(++b.referenceCount,this._addInactiveBinding(b,l,g));continue}const S=t&&t._propertyBindings[d].binding.parsedPath;b=new pre(br.create(r,g,S),p.ValueTypeName,p.getValueSize()),++b.referenceCount,this._addInactiveBinding(b,l,g),a[d]=b}o[d].resultBuffer=b.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,p=(e._localRoot||this._root).uuid;delete d[p],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[t];a===void 0&&(a={},i[t]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new bU(new Float32Array(2),new Float32Array(2),1,mSe),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let a=typeof e=="string"?bA.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=CD),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const f=new mre(this,a,t,r);return this._bindAction(f,c),this._addInactiveAction(f,o,s),f}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?bA.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const f=c._cacheIndex,d=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=f,t[f]=d,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class ySe extends tU{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new PD(null,e,t,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class CU{constructor(e){this.value=e}clone(){return new CU(this.value.clone===void 0?this.value:this.value.clone())}}let vSe=0;class xSe extends hh{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:vSe++}),this.name="",this.usage=fA,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class bSe extends ND{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class _Se{constructor(e,t,r,i,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const NW=new Mn;class gre{constructor(e,t,r=0,i=1/0){this.ray=new Tw(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new $_,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):on("Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return NW.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(NW),this}intersectObject(e,t=!0,r=[]){return U8(e,this,r,t),r.sort(LW),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)U8(e[i],this,r,t);return r.sort(LW),r}}function LW(n,e){return n.distance-e.distance}function U8(n,e,t,r){let i=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(i=!1),i===!0&&r===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)U8(s[a],e,t,!0)}}class yre{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1,Ut("THREE.Clock: This module has been deprecated. Please use THREE.Timer instead.")}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}class wSe{constructor(e=1,t=0,r=0){this.radius=e,this.phi=t,this.theta=r}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=wn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(wn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class SSe{constructor(e=1,t=0,r=0){this.radius=e,this.theta=t,this.y=r}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}class kU{constructor(e,t,r,i){kU.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let r=0;r<4;r++)this.elements[r]=e[r+t];return this}set(e,t,r,i){const s=this.elements;return s[0]=e,s[2]=t,s[1]=r,s[3]=i,this}}const BW=new St;class ESe{constructor(e=new St(1/0,1/0),t=new St(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=BW.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,BW).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const FW=new Se,Ik=new Se,$b=new Se,Gb=new Se,r6=new Se,MSe=new Se,ASe=new Se;class TSe{constructor(e=new Se,t=new Se){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){FW.subVectors(e,this.start),Ik.subVectors(this.end,this.start);const r=Ik.dot(Ik);let s=Ik.dot(FW)/r;return t&&(s=wn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,t=MSe,r=ASe){const i=10000000000000001e-32;let s,a;const o=this.start,l=e.start,c=this.end,f=e.end;$b.subVectors(c,o),Gb.subVectors(f,l),r6.subVectors(o,l);const d=$b.dot($b),p=Gb.dot(Gb),g=Gb.dot(r6);if(d<=i&&p<=i)return t.copy(o),r.copy(l),t.sub(r),t.dot(t);if(d<=i)s=0,a=g/p,a=wn(a,0,1);else{const b=$b.dot(r6);if(p<=i)a=0,s=wn(-b/d,0,1);else{const S=$b.dot(Gb),w=d*p-S*S;w!==0?s=wn((S*g-b*p)/w,0,1):s=0,a=(S*s+g)/p,a<0?(a=0,s=wn(-b/d,0,1)):a>1&&(a=1,s=wn((S-b)/d,0,1))}}return t.copy(o).addScaledVector($b,s),r.copy(l).addScaledVector(Gb,a),t.distanceToSquared(r)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const zW=new Se;class CSe extends Sr{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Nn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,f=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Kt(i,3));const s=new cl({fog:!1,toneMapped:!1});this.cone=new ph(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),zW.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zW),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const t0=new Se,Nk=new Mn,i6=new Mn;class kSe extends ph{constructor(e){const t=vre(e),r=new Nn,i=[],s=[];for(let c=0;c<t.length;c++){const f=t[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Kt(i,3)),r.setAttribute("color",new Kt(s,3));const a=new cl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new qt(255),l=new qt(65280);this.setColors(o,l)}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");i6.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(Nk.multiplyMatrices(i6,o.matrixWorld),t0.setFromMatrixPosition(Nk),i.setXYZ(a,t0.x,t0.y,t0.z),Nk.multiplyMatrices(i6,o.parent.matrixWorld),t0.setFromMatrixPosition(Nk),i.setXYZ(a+1,t0.x,t0.y,t0.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,t){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,t.r,t.g,t.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function vre(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...vre(n.children[t]));return e}class RSe extends Vs{constructor(e,t,r){const i=new RT(t,4,2),s=new fg({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const OSe=new Se,UW=new qt,jW=new qt;class PSe extends Sr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new kT(t);i.rotateY(Math.PI*.5),this.material=new fg({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Jr(a,3)),this.add(new Vs(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");UW.copy(this.light.color),jW.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?UW:jW;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(OSe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class DSe extends ph{constructor(e=10,t=10,r=4473924,i=8947848){r=new qt(r),i=new qt(i);const s=t/2,a=e/t,o=e/2,l=[],c=[];for(let p=0,g=0,b=-o;p<=t;p++,b+=a){l.push(-o,0,b,o,0,b),l.push(b,0,-o,b,0,o);const S=p===s?r:i;S.toArray(c,g),g+=3,S.toArray(c,g),g+=3,S.toArray(c,g),g+=3,S.toArray(c,g),g+=3}const f=new Nn;f.setAttribute("position",new Kt(l,3)),f.setAttribute("color",new Kt(c,3));const d=new cl({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class ISe extends ph{constructor(e=10,t=16,r=8,i=64,s=4473924,a=8947848){s=new qt(s),a=new qt(a);const o=[],l=[];if(t>1)for(let d=0;d<t;d++){const p=d/t*(Math.PI*2),g=Math.sin(p)*e,b=Math.cos(p)*e;o.push(0,0,0),o.push(g,0,b);const S=d&1?s:a;l.push(S.r,S.g,S.b),l.push(S.r,S.g,S.b)}for(let d=0;d<r;d++){const p=d&1?s:a,g=e-e/r*d;for(let b=0;b<i;b++){let S=b/i*(Math.PI*2),w=Math.sin(S)*g,E=Math.cos(S)*g;o.push(w,0,E),l.push(p.r,p.g,p.b),S=(b+1)/i*(Math.PI*2),w=Math.sin(S)*g,E=Math.cos(S)*g,o.push(w,0,E),l.push(p.r,p.g,p.b)}}const c=new Nn;c.setAttribute("position",new Kt(o,3)),c.setAttribute("color",new Kt(l,3));const f=new cl({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const HW=new Se,Lk=new Se,VW=new Se;class NSe extends Sr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Nn;i.setAttribute("position",new Kt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new cl({fog:!1,toneMapped:!1});this.lightPlane=new Z0(i,s),this.add(this.lightPlane),i=new Nn,i.setAttribute("position",new Kt([0,0,0,0,0,1],3)),this.targetLine=new Z0(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),HW.setFromMatrixPosition(this.light.matrixWorld),Lk.setFromMatrixPosition(this.light.target.matrixWorld),VW.subVectors(Lk,HW),this.lightPlane.lookAt(Lk),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Lk),this.targetLine.scale.z=VW.length()}}const Bk=new Se,ls=new QD;class LSe extends ph{constructor(e){const t=new Nn,r=new cl({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(b,S){l(b),l(S)}function l(b){i.push(0,0,0),s.push(0,0,0),a[b]===void 0&&(a[b]=[]),a[b].push(i.length/3-1)}t.setAttribute("position",new Kt(i,3)),t.setAttribute("color",new Kt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new qt(16755200),f=new qt(16711680),d=new qt(43775),p=new qt(16777215),g=new qt(3355443);this.setColors(c,f,d,p,g)}setColors(e,t,r,i,s){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0,this}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;let s,a;if(ls.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===gc)s=-1,a=1;else if(this.camera.coordinateSystem===Yv)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);_s("c",t,e,ls,0,0,s),_s("t",t,e,ls,0,0,a),_s("n1",t,e,ls,-r,-i,s),_s("n2",t,e,ls,r,-i,s),_s("n3",t,e,ls,-r,i,s),_s("n4",t,e,ls,r,i,s),_s("f1",t,e,ls,-r,-i,a),_s("f2",t,e,ls,r,-i,a),_s("f3",t,e,ls,-r,i,a),_s("f4",t,e,ls,r,i,a),_s("u1",t,e,ls,r*.7,i*1.1,s),_s("u2",t,e,ls,-r*.7,i*1.1,s),_s("u3",t,e,ls,0,i*2,s),_s("cf1",t,e,ls,-r,0,a),_s("cf2",t,e,ls,r,0,a),_s("cf3",t,e,ls,0,-i,a),_s("cf4",t,e,ls,0,i,a),_s("cn1",t,e,ls,-r,0,s),_s("cn2",t,e,ls,r,0,s),_s("cn3",t,e,ls,0,-i,s),_s("cn4",t,e,ls,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _s(n,e,t,r,i,s,a){Bk.set(i,s,a).unproject(r);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let c=0,f=o.length;c<f;c++)l.setXYZ(o[c],Bk.x,Bk.y,Bk.z)}}const Fk=new Co;class BSe extends ph{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new Nn;s.setIndex(new Jr(r,1)),s.setAttribute("position",new Jr(i,3)),super(s,new cl({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Fk.setFromObject(this.object),Fk.isEmpty())return;const e=Fk.min,t=Fk.max,r=this.geometry.attributes.position,i=r.array;i[0]=t.x,i[1]=t.y,i[2]=t.z,i[3]=e.x,i[4]=t.y,i[5]=t.z,i[6]=e.x,i[7]=e.y,i[8]=t.z,i[9]=t.x,i[10]=e.y,i[11]=t.z,i[12]=t.x,i[13]=t.y,i[14]=e.z,i[15]=e.x,i[16]=t.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=t.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class FSe extends ph{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Nn;s.setIndex(new Jr(r,1)),s.setAttribute("position",new Kt(i,3)),super(s,new cl({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class zSe extends Z0{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Nn;a.setAttribute("position",new Kt(s,3)),a.computeBoundingSphere(),super(a,new cl({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Nn;l.setAttribute("position",new Kt(o,3)),l.computeBoundingSphere(),this.add(new Vs(l,new fg({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const WW=new Se;let zk,s6;class USe extends Sr{constructor(e=new Se(0,0,1),t=new Se(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",zk===void 0&&(zk=new Nn,zk.setAttribute("position",new Kt([0,0,0,0,1,0],3)),s6=new CT(.5,1,5,1),s6.translate(0,-.5,0)),this.position.copy(t),this.line=new Z0(zk,new cl({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Vs(s6,new fg({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{WW.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(WW,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class jSe extends ph{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Nn;i.setAttribute("position",new Kt(t,3)),i.setAttribute("color",new Kt(r,3));const s=new cl({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new qt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class HSe{constructor(){this.type="ShapePath",this.color=new qt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new SO,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,a){return this.currentPath.bezierCurveTo(e,t,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(E){const k=[];for(let R=0,O=E.length;R<O;R++){const D=E[R],I=new Lv;I.curves=D.curves,k.push(I)}return k}function r(E,k){const R=k.length;let O=!1;for(let D=R-1,I=0;I<R;D=I++){let B=k[D],z=k[I],V=z.x-B.x,Y=z.y-B.y;if(Math.abs(Y)>Number.EPSILON){if(Y<0&&(B=k[I],V=-V,z=k[D],Y=-Y),E.y<B.y||E.y>z.y)continue;if(E.y===B.y){if(E.x===B.x)return!0}else{const q=Y*(E.x-B.x)-V*(E.y-B.y);if(q===0)return!0;if(q<0)continue;O=!O}}else{if(E.y!==B.y)continue;if(z.x<=E.x&&E.x<=B.x||B.x<=E.x&&E.x<=z.x)return!0}}return O}const i=Mf.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new Lv,l.curves=o.curves,c.push(l),c;let f=!i(s[0].getPoints());f=e?!f:f;const d=[],p=[];let g=[],b=0,S;p[b]=void 0,g[b]=[];for(let E=0,k=s.length;E<k;E++)o=s[E],S=o.getPoints(),a=i(S),a=e?!a:a,a?(!f&&p[b]&&b++,p[b]={s:new Lv,p:S},p[b].s.curves=o.curves,f&&b++,g[b]=[]):g[b].push({h:o,p:S[0]});if(!p[0])return t(s);if(p.length>1){let E=!1,k=0;for(let R=0,O=p.length;R<O;R++)d[R]=[];for(let R=0,O=p.length;R<O;R++){const D=g[R];for(let I=0;I<D.length;I++){const B=D[I];let z=!0;for(let V=0;V<p.length;V++)r(B.p,p[V].p)&&(R!==V&&k++,z?(z=!1,d[V].push(B)):E=!0);z&&d[R].push(B)}}k>0&&E===!1&&(g=d)}let w;for(let E=0,k=p.length;E<k;E++){l=p[E].s,c.push(l),w=g[E];for(let R=0,O=w.length;R<O;R++)l.holes.push(w[R].h)}return c}}class VSe extends hh{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Ut("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function WSe(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function $Se(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function GSe(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function j8(n,e,t,r){const i=qSe(r);switch(t){case Jz:return n*e;case MD:return n*e/i.components*i.byteLength;case MT:return n*e/i.components*i.byteLength;case qv:return n*e*2/i.components*i.byteLength;case AD:return n*e*2/i.components*i.byteLength;case Zz:return n*e*3/i.components*i.byteLength;case To:return n*e*4/i.components*i.byteLength;case TD:return n*e*4/i.components*i.byteLength;case NM:case LM:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case BM:case FM:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case H2:case W2:return Math.max(n,16)*Math.max(e,8)/4;case j2:case V2:return Math.max(n,8)*Math.max(e,8)/2;case $2:case G2:case Y2:case X2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case q2:case K2:case J2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Z2:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Q2:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case eO:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case tO:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case nO:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case rO:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case iO:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case sO:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case aO:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case oO:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case lO:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case cO:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case uO:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case fO:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case dO:case hO:case pO:return Math.ceil(n/4)*Math.ceil(e/4)*16;case mO:case gO:return Math.ceil(n/4)*Math.ceil(e/4)*8;case yO:case vO:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function qSe(n){switch(n){case Ko:case qz:return{byteLength:1,components:1};case H_:case Yz:case ih:return{byteLength:2,components:1};case SD:case ED:return{byteLength:2,components:4};case Cu:case wD:case el:return{byteLength:4,components:1};case Xz:case Kz:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class YSe{static contain(e,t){return WSe(e,t)}static cover(e,t){return $Se(e,t)}static fill(e){return GSe(e)}static getByteLength(e,t,r,i){return j8(e,t,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:xD}}));typeof window<"u"&&(window.__THREE__?Ut("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=xD);/**
 * @license
 * Copyright 2010-2026 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function xre(){let n=null,e=!1,t=null,r=null;function i(s,a){t(s,a),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function XSe(n){const e=new WeakMap;function t(o,l){const c=o.array,f=o.usage,d=c.byteLength,p=n.createBuffer();n.bindBuffer(l,p),n.bufferData(l,c,f),o.onUploadCallback();let g;if(c instanceof Float32Array)g=n.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)g=n.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?g=n.HALF_FLOAT:g=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)g=n.SHORT;else if(c instanceof Uint32Array)g=n.UNSIGNED_INT;else if(c instanceof Int32Array)g=n.INT;else if(c instanceof Int8Array)g=n.BYTE;else if(c instanceof Uint8Array)g=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)g=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:p,type:g,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,c){const f=l.array,d=l.updateRanges;if(n.bindBuffer(c,o),d.length===0)n.bufferSubData(c,0,f);else{d.sort((g,b)=>g.start-b.start);let p=0;for(let g=1;g<d.length;g++){const b=d[p],S=d[g];S.start<=b.start+b.count+1?b.count=Math.max(b.count,S.start+S.count-b.start):(++p,d[p]=S)}d.length=p+1;for(let g=0,b=d.length;g<b;g++){const S=d[g];n.bufferSubData(c,S.start*f.BYTES_PER_ELEMENT,f,S.start,S.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const f=e.get(o);(!f||f.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,t(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:s,update:a}}var KSe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,JSe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ZSe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,QSe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,eEe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,tEe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,nEe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rEe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,iEe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec4 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 );
	}
#endif`,sEe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,aEe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,oEe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,lEe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,cEe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,uEe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,fEe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,dEe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,hEe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,pEe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,mEe=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#endif`,gEe=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#endif`,yEe=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec4 vColor;
#endif`,vEe=`#if defined( USE_COLOR ) || defined( USE_COLOR_ALPHA ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec4( 1.0 );
#endif
#ifdef USE_COLOR_ALPHA
	vColor *= color;
#elif defined( USE_COLOR )
	vColor.rgb *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.rgb *= instanceColor.rgb;
#endif
#ifdef USE_BATCHING_COLOR
	vColor *= getBatchingColor( getIndirectIndex( gl_DrawID ) );
#endif`,xEe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,bEe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,_Ee=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,wEe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,SEe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,EEe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,MEe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,AEe="gl_FragColor = linearToOutputTexel( gl_FragColor );",TEe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,CEe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
		#ifdef ENVMAP_BLENDING_MULTIPLY
			outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_MIX )
			outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
		#elif defined( ENVMAP_BLENDING_ADD )
			outgoingLight += envColor.xyz * specularStrength * reflectivity;
		#endif
	#endif
#endif`,kEe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,REe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,OEe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,PEe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,DEe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,IEe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,NEe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,LEe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,BEe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,FEe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,zEe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,UEe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,jEe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,HEe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,VEe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,WEe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,$Ee=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,GEe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,qEe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.diffuseContribution = diffuseColor.rgb * ( 1.0 - metalnessFactor );
material.metalness = metalnessFactor;
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor;
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = vec3( 0.04 );
	material.specularColorBlended = mix( material.specularColor, diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.0001, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,YEe=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	vec3 diffuseContribution;
	vec3 specularColor;
	vec3 specularColorBlended;
	float roughness;
	float metalness;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
		vec3 iridescenceFresnelDielectric;
		vec3 iridescenceFresnelMetallic;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return v;
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColorBlended;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float rInv = 1.0 / ( roughness + 0.1 );
	float a = -1.9362 + 1.0678 * roughness + 0.4573 * r2 - 0.8469 * rInv;
	float b = -0.6014 + 0.5538 * roughness - 0.4670 * r2 - 0.1255 * rInv;
	float DG = exp( a * dotNV + b );
	return saturate( DG );
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 fab = texture2D( dfgLUT, vec2( roughness, dotNV ) ).rg;
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = texture2D( dfgLUT, vec2( material.roughness, dotNV ) ).rg;
	vec2 dfgL = texture2D( dfgLUT, vec2( material.roughness, dotNL ) ).rg;
	vec3 FssEss_V = material.specularColorBlended * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColorBlended * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColorBlended + ( 1.0 - material.specularColorBlended ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColorBlended * t2.x + ( material.specularF90 - material.specularColorBlended ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseContribution * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
		#ifdef USE_CLEARCOAT
			vec3 Ncc = geometryClearcoatNormal;
			vec2 uvClearcoat = LTC_Uv( Ncc, viewDir, material.clearcoatRoughness );
			vec4 t1Clearcoat = texture2D( ltc_1, uvClearcoat );
			vec4 t2Clearcoat = texture2D( ltc_2, uvClearcoat );
			mat3 mInvClearcoat = mat3(
				vec3( t1Clearcoat.x, 0, t1Clearcoat.y ),
				vec3(             0, 1,             0 ),
				vec3( t1Clearcoat.z, 0, t1Clearcoat.w )
			);
			vec3 fresnelClearcoat = material.clearcoatF0 * t2Clearcoat.x + ( material.clearcoatF90 - material.clearcoatF0 ) * t2Clearcoat.y;
			clearcoatSpecularDirect += lightColor * fresnelClearcoat * LTC_Evaluate( Ncc, viewDir, position, mInvClearcoat, rectCoords );
		#endif
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
 
 		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
 
 		float sheenAlbedoV = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
 		float sheenAlbedoL = IBLSheenBRDF( geometryNormal, directLight.direction, material.sheenRoughness );
 
 		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * max( sheenAlbedoV, sheenAlbedoL );
 
 		irradiance *= sheenEnergyComp;
 
 	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseContribution );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 diffuse = irradiance * BRDF_Lambert( material.diffuseContribution );
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		diffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectDiffuse += diffuse;
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness ) * RECIPROCAL_PI;
 	#endif
	vec3 singleScatteringDielectric = vec3( 0.0 );
	vec3 multiScatteringDielectric = vec3( 0.0 );
	vec3 singleScatteringMetallic = vec3( 0.0 );
	vec3 multiScatteringMetallic = vec3( 0.0 );
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnelDielectric, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.iridescence, material.iridescenceFresnelMetallic, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScatteringDielectric, multiScatteringDielectric );
		computeMultiscattering( geometryNormal, geometryViewDir, material.diffuseColor, material.specularF90, material.roughness, singleScatteringMetallic, multiScatteringMetallic );
	#endif
	vec3 singleScattering = mix( singleScatteringDielectric, singleScatteringMetallic, material.metalness );
	vec3 multiScattering = mix( multiScatteringDielectric, multiScatteringMetallic, material.metalness );
	vec3 totalScatteringDielectric = singleScatteringDielectric + multiScatteringDielectric;
	vec3 diffuse = material.diffuseContribution * ( 1.0 - totalScatteringDielectric );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	vec3 indirectSpecular = radiance * singleScattering;
	indirectSpecular += multiScattering * cosineWeightedIrradiance;
	vec3 indirectDiffuse = diffuse * cosineWeightedIrradiance;
	#ifdef USE_SHEEN
		float sheenAlbedo = IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
		float sheenEnergyComp = 1.0 - max3( material.sheenColor ) * sheenAlbedo;
		indirectSpecular *= sheenEnergyComp;
		indirectDiffuse *= sheenEnergyComp;
	#endif
	reflectedLight.indirectSpecular += indirectSpecular;
	reflectedLight.indirectDiffuse += indirectDiffuse;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,XEe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnelDielectric = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceFresnelMetallic = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.diffuseColor );
		material.iridescenceFresnel = mix( material.iridescenceFresnelDielectric, material.iridescenceFresnelMetallic, material.metalness );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS ) && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,KEe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( ENVMAP_TYPE_CUBE_UV )
		#if defined( STANDARD ) || defined( LAMBERT ) || defined( PHONG )
			iblIrradiance += getIBLIrradiance( geometryNormal );
		#endif
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,JEe=`#if defined( RE_IndirectDiffuse )
	#if defined( LAMBERT ) || defined( PHONG )
		irradiance += iblIrradiance;
	#endif
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ZEe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,QEe=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,eMe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,tMe=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,nMe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,rMe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,iMe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,sMe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,aMe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,oMe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,lMe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,cMe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,uMe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,fMe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,dMe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,hMe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,pMe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,mMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,gMe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yMe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,vMe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xMe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,bMe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,_Me=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,wMe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,SMe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,EMe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	#ifdef USE_REVERSED_DEPTH_BUFFER
	
		return depth * ( far - near ) - far;
	#else
		return depth * ( near - far ) - near;
	#endif
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	
	#ifdef USE_REVERSED_DEPTH_BUFFER
		return ( near * far ) / ( ( near - far ) * depth - near );
	#else
		return ( near * far ) / ( ( far - near ) * depth - far );
	#endif
}`,MMe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,AMe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,TMe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,CMe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,kMe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,RMe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,OMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#else
			uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		#endif
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform sampler2DShadow spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#else
			uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		#endif
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#if defined( SHADOWMAP_TYPE_PCF )
			uniform samplerCubeShadow pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#elif defined( SHADOWMAP_TYPE_BASIC )
			uniform samplerCube pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		#endif
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float interleavedGradientNoise( vec2 position ) {
			return fract( 52.9829189 * fract( dot( position, vec2( 0.06711056, 0.00583715 ) ) ) );
		}
		vec2 vogelDiskSample( int sampleIndex, int samplesCount, float phi ) {
			const float goldenAngle = 2.399963229728653;
			float r = sqrt( ( float( sampleIndex ) + 0.5 ) / float( samplesCount ) );
			float theta = float( sampleIndex ) * goldenAngle + phi;
			return vec2( cos( theta ), sin( theta ) ) * r;
		}
	#endif
	#if defined( SHADOWMAP_TYPE_PCF )
		float getShadow( sampler2DShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			shadowCoord.z += shadowBias;
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
				float radius = shadowRadius * texelSize.x;
				float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
				shadow = (
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 0, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 1, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 2, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 3, 5, phi ) * radius, shadowCoord.z ) ) +
					texture( shadowMap, vec3( shadowCoord.xy + vogelDiskSample( 4, 5, phi ) * radius, shadowCoord.z ) )
				) * 0.2;
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#elif defined( SHADOWMAP_TYPE_VSM )
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				vec2 distribution = texture2D( shadowMap, shadowCoord.xy ).rg;
				float mean = distribution.x;
				float variance = distribution.y * distribution.y;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					float hard_shadow = step( mean, shadowCoord.z );
				#else
					float hard_shadow = step( shadowCoord.z, mean );
				#endif
				
				if ( hard_shadow == 1.0 ) {
					shadow = 1.0;
				} else {
					variance = max( variance, 0.0000001 );
					float d = shadowCoord.z - mean;
					float p_max = variance / ( variance + d * d );
					p_max = clamp( ( p_max - 0.3 ) / 0.65, 0.0, 1.0 );
					shadow = max( hard_shadow, p_max );
				}
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#else
		float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
			float shadow = 1.0;
			shadowCoord.xyz /= shadowCoord.w;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				shadowCoord.z -= shadowBias;
			#else
				shadowCoord.z += shadowBias;
			#endif
			bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
			bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
			if ( frustumTest ) {
				float depth = texture2D( shadowMap, shadowCoord.xy ).r;
				#ifdef USE_REVERSED_DEPTH_BUFFER
					shadow = step( depth, shadowCoord.z );
				#else
					shadow = step( shadowCoord.z, depth );
				#endif
			}
			return mix( 1.0, shadow, shadowIntensity );
		}
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#if defined( SHADOWMAP_TYPE_PCF )
	float getPointShadow( samplerCubeShadow shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 bd3D = normalize( lightToPosition );
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			#ifdef USE_REVERSED_DEPTH_BUFFER
				float dp = ( shadowCameraNear * ( shadowCameraFar - viewSpaceZ ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp -= shadowBias;
			#else
				float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
				dp += shadowBias;
			#endif
			float texelSize = shadowRadius / shadowMapSize.x;
			vec3 absDir = abs( bd3D );
			vec3 tangent = absDir.x > absDir.z ? vec3( 0.0, 1.0, 0.0 ) : vec3( 1.0, 0.0, 0.0 );
			tangent = normalize( cross( bd3D, tangent ) );
			vec3 bitangent = cross( bd3D, tangent );
			float phi = interleavedGradientNoise( gl_FragCoord.xy ) * PI2;
			vec2 sample0 = vogelDiskSample( 0, 5, phi );
			vec2 sample1 = vogelDiskSample( 1, 5, phi );
			vec2 sample2 = vogelDiskSample( 2, 5, phi );
			vec2 sample3 = vogelDiskSample( 3, 5, phi );
			vec2 sample4 = vogelDiskSample( 4, 5, phi );
			shadow = (
				texture( shadowMap, vec4( bd3D + ( tangent * sample0.x + bitangent * sample0.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample1.x + bitangent * sample1.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample2.x + bitangent * sample2.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample3.x + bitangent * sample3.y ) * texelSize, dp ) ) +
				texture( shadowMap, vec4( bd3D + ( tangent * sample4.x + bitangent * sample4.y ) * texelSize, dp ) )
			) * 0.2;
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#elif defined( SHADOWMAP_TYPE_BASIC )
	float getPointShadow( samplerCube shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		vec3 absVec = abs( lightToPosition );
		float viewSpaceZ = max( max( absVec.x, absVec.y ), absVec.z );
		if ( viewSpaceZ - shadowCameraFar <= 0.0 && viewSpaceZ - shadowCameraNear >= 0.0 ) {
			float dp = ( shadowCameraFar * ( viewSpaceZ - shadowCameraNear ) ) / ( viewSpaceZ * ( shadowCameraFar - shadowCameraNear ) );
			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			float depth = textureCube( shadowMap, bd3D ).r;
			#ifdef USE_REVERSED_DEPTH_BUFFER
				depth = 1.0 - depth;
			#endif
			shadow = step( dp, depth );
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	#endif
	#endif
#endif`,PMe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,DMe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,IMe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0 && ( defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_BASIC ) )
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,NMe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,LMe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,BMe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,FMe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,zMe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,UMe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,jMe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,HMe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,VMe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseContribution, material.specularColorBlended, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,WMe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,$Me=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,GMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,qMe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,YMe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const XMe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,KMe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,JMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ZMe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,QMe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,eAe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,tAe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,nAe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,rAe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,iAe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = vec4( dist, 0.0, 0.0, 1.0 );
}`,sAe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,aAe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oAe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lAe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cAe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,uAe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,fAe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,dAe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hAe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,pAe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mAe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gAe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( normalize( normal ) * 0.5 + 0.5, diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,yAe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vAe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xAe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,bAe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
 
		outgoingLight = outgoingLight + sheenSpecularDirect + sheenSpecularIndirect;
 
 	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_Ae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wAe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,SAe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,EAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,MAe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,AAe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,TAe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,CAe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,$n={alphahash_fragment:KSe,alphahash_pars_fragment:JSe,alphamap_fragment:ZSe,alphamap_pars_fragment:QSe,alphatest_fragment:eEe,alphatest_pars_fragment:tEe,aomap_fragment:nEe,aomap_pars_fragment:rEe,batching_pars_vertex:iEe,batching_vertex:sEe,begin_vertex:aEe,beginnormal_vertex:oEe,bsdfs:lEe,iridescence_fragment:cEe,bumpmap_pars_fragment:uEe,clipping_planes_fragment:fEe,clipping_planes_pars_fragment:dEe,clipping_planes_pars_vertex:hEe,clipping_planes_vertex:pEe,color_fragment:mEe,color_pars_fragment:gEe,color_pars_vertex:yEe,color_vertex:vEe,common:xEe,cube_uv_reflection_fragment:bEe,defaultnormal_vertex:_Ee,displacementmap_pars_vertex:wEe,displacementmap_vertex:SEe,emissivemap_fragment:EEe,emissivemap_pars_fragment:MEe,colorspace_fragment:AEe,colorspace_pars_fragment:TEe,envmap_fragment:CEe,envmap_common_pars_fragment:kEe,envmap_pars_fragment:REe,envmap_pars_vertex:OEe,envmap_physical_pars_fragment:HEe,envmap_vertex:PEe,fog_vertex:DEe,fog_pars_vertex:IEe,fog_fragment:NEe,fog_pars_fragment:LEe,gradientmap_pars_fragment:BEe,lightmap_pars_fragment:FEe,lights_lambert_fragment:zEe,lights_lambert_pars_fragment:UEe,lights_pars_begin:jEe,lights_toon_fragment:VEe,lights_toon_pars_fragment:WEe,lights_phong_fragment:$Ee,lights_phong_pars_fragment:GEe,lights_physical_fragment:qEe,lights_physical_pars_fragment:YEe,lights_fragment_begin:XEe,lights_fragment_maps:KEe,lights_fragment_end:JEe,logdepthbuf_fragment:ZEe,logdepthbuf_pars_fragment:QEe,logdepthbuf_pars_vertex:eMe,logdepthbuf_vertex:tMe,map_fragment:nMe,map_pars_fragment:rMe,map_particle_fragment:iMe,map_particle_pars_fragment:sMe,metalnessmap_fragment:aMe,metalnessmap_pars_fragment:oMe,morphinstance_vertex:lMe,morphcolor_vertex:cMe,morphnormal_vertex:uMe,morphtarget_pars_vertex:fMe,morphtarget_vertex:dMe,normal_fragment_begin:hMe,normal_fragment_maps:pMe,normal_pars_fragment:mMe,normal_pars_vertex:gMe,normal_vertex:yMe,normalmap_pars_fragment:vMe,clearcoat_normal_fragment_begin:xMe,clearcoat_normal_fragment_maps:bMe,clearcoat_pars_fragment:_Me,iridescence_pars_fragment:wMe,opaque_fragment:SMe,packing:EMe,premultiplied_alpha_fragment:MMe,project_vertex:AMe,dithering_fragment:TMe,dithering_pars_fragment:CMe,roughnessmap_fragment:kMe,roughnessmap_pars_fragment:RMe,shadowmap_pars_fragment:OMe,shadowmap_pars_vertex:PMe,shadowmap_vertex:DMe,shadowmask_pars_fragment:IMe,skinbase_vertex:NMe,skinning_pars_vertex:LMe,skinning_vertex:BMe,skinnormal_vertex:FMe,specularmap_fragment:zMe,specularmap_pars_fragment:UMe,tonemapping_fragment:jMe,tonemapping_pars_fragment:HMe,transmission_fragment:VMe,transmission_pars_fragment:WMe,uv_pars_fragment:$Me,uv_pars_vertex:GMe,uv_vertex:qMe,worldpos_vertex:YMe,background_vert:XMe,background_frag:KMe,backgroundCube_vert:JMe,backgroundCube_frag:ZMe,cube_vert:QMe,cube_frag:eAe,depth_vert:tAe,depth_frag:nAe,distance_vert:rAe,distance_frag:iAe,equirect_vert:sAe,equirect_frag:aAe,linedashed_vert:oAe,linedashed_frag:lAe,meshbasic_vert:cAe,meshbasic_frag:uAe,meshlambert_vert:fAe,meshlambert_frag:dAe,meshmatcap_vert:hAe,meshmatcap_frag:pAe,meshnormal_vert:mAe,meshnormal_frag:gAe,meshphong_vert:yAe,meshphong_frag:vAe,meshphysical_vert:xAe,meshphysical_frag:bAe,meshtoon_vert:_Ae,meshtoon_frag:wAe,points_vert:SAe,points_frag:EAe,shadow_vert:MAe,shadow_frag:AAe,sprite_vert:TAe,sprite_frag:CAe},Ht={common:{diffuse:{value:new qt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bn},alphaMap:{value:null},alphaMapTransform:{value:new Bn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bn}},envmap:{envMap:{value:null},envMapRotation:{value:new Bn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bn},normalScale:{value:new St(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new qt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new qt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bn},alphaTest:{value:0},uvTransform:{value:new Bn}},sprite:{diffuse:{value:new qt(16777215)},opacity:{value:1},center:{value:new St(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bn},alphaMap:{value:null},alphaMapTransform:{value:new Bn},alphaTest:{value:0}}},xf={basic:{uniforms:$o([Ht.common,Ht.specularmap,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.fog]),vertexShader:$n.meshbasic_vert,fragmentShader:$n.meshbasic_frag},lambert:{uniforms:$o([Ht.common,Ht.specularmap,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.fog,Ht.lights,{emissive:{value:new qt(0)},envMapIntensity:{value:1}}]),vertexShader:$n.meshlambert_vert,fragmentShader:$n.meshlambert_frag},phong:{uniforms:$o([Ht.common,Ht.specularmap,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.fog,Ht.lights,{emissive:{value:new qt(0)},specular:{value:new qt(1118481)},shininess:{value:30},envMapIntensity:{value:1}}]),vertexShader:$n.meshphong_vert,fragmentShader:$n.meshphong_frag},standard:{uniforms:$o([Ht.common,Ht.envmap,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.roughnessmap,Ht.metalnessmap,Ht.fog,Ht.lights,{emissive:{value:new qt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:$n.meshphysical_vert,fragmentShader:$n.meshphysical_frag},toon:{uniforms:$o([Ht.common,Ht.aomap,Ht.lightmap,Ht.emissivemap,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.gradientmap,Ht.fog,Ht.lights,{emissive:{value:new qt(0)}}]),vertexShader:$n.meshtoon_vert,fragmentShader:$n.meshtoon_frag},matcap:{uniforms:$o([Ht.common,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,Ht.fog,{matcap:{value:null}}]),vertexShader:$n.meshmatcap_vert,fragmentShader:$n.meshmatcap_frag},points:{uniforms:$o([Ht.points,Ht.fog]),vertexShader:$n.points_vert,fragmentShader:$n.points_frag},dashed:{uniforms:$o([Ht.common,Ht.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:$n.linedashed_vert,fragmentShader:$n.linedashed_frag},depth:{uniforms:$o([Ht.common,Ht.displacementmap]),vertexShader:$n.depth_vert,fragmentShader:$n.depth_frag},normal:{uniforms:$o([Ht.common,Ht.bumpmap,Ht.normalmap,Ht.displacementmap,{opacity:{value:1}}]),vertexShader:$n.meshnormal_vert,fragmentShader:$n.meshnormal_frag},sprite:{uniforms:$o([Ht.sprite,Ht.fog]),vertexShader:$n.sprite_vert,fragmentShader:$n.sprite_frag},background:{uniforms:{uvTransform:{value:new Bn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:$n.background_vert,fragmentShader:$n.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Bn}},vertexShader:$n.backgroundCube_vert,fragmentShader:$n.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:$n.cube_vert,fragmentShader:$n.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:$n.equirect_vert,fragmentShader:$n.equirect_frag},distance:{uniforms:$o([Ht.common,Ht.displacementmap,{referencePosition:{value:new Se},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:$n.distance_vert,fragmentShader:$n.distance_frag},shadow:{uniforms:$o([Ht.lights,Ht.fog,{color:{value:new qt(0)},opacity:{value:1}}]),vertexShader:$n.shadow_vert,fragmentShader:$n.shadow_frag}};xf.physical={uniforms:$o([xf.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bn},clearcoatNormalScale:{value:new St(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bn},sheen:{value:0},sheenColor:{value:new qt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bn},transmissionSamplerSize:{value:new St},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bn},attenuationDistance:{value:0},attenuationColor:{value:new qt(0)},specularColor:{value:new qt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bn},anisotropyVector:{value:new St},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bn}}]),vertexShader:$n.meshphysical_vert,fragmentShader:$n.meshphysical_frag};const Uk={r:0,b:0,g:0},gy=new Sc,kAe=new Mn;function RAe(n,e,t,r,i,s){const a=new qt(0);let o=i===!0?0:1,l,c,f=null,d=0,p=null;function g(k){let R=k.isScene===!0?k.background:null;if(R&&R.isTexture){const O=k.backgroundBlurriness>0;R=e.get(R,O)}return R}function b(k){let R=!1;const O=g(k);O===null?w(a,o):O&&O.isColor&&(w(O,1),R=!0);const D=n.xr.getEnvironmentBlendMode();D==="additive"?t.buffers.color.setClear(0,0,0,1,s):D==="alpha-blend"&&t.buffers.color.setClear(0,0,0,0,s),(n.autoClear||R)&&(t.buffers.depth.setTest(!0),t.buffers.depth.setMask(!0),t.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function S(k,R){const O=g(R);O&&(O.isCubeTexture||O.mapping===Aw)?(c===void 0&&(c=new Vs(new dx(1,1,1),new ku({name:"BackgroundCubeMaterial",uniforms:X_(xf.backgroundCube.uniforms),vertexShader:xf.backgroundCube.vertexShader,fragmentShader:xf.backgroundCube.fragmentShader,side:al,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(D,I,B){this.matrixWorld.copyPosition(B.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),gy.copy(R.backgroundRotation),gy.x*=-1,gy.y*=-1,gy.z*=-1,O.isCubeTexture&&O.isRenderTargetTexture===!1&&(gy.y*=-1,gy.z*=-1),c.material.uniforms.envMap.value=O,c.material.uniforms.flipEnvMap.value=O.isCubeTexture&&O.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=R.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(kAe.makeRotationFromEuler(gy)),c.material.toneMapped=dr.getTransfer(O.colorSpace)!==Fr,(f!==O||d!==O.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=O,d=O.version,p=n.toneMapping),c.layers.enableAll(),k.unshift(c,c.geometry,c.material,0,0,null)):O&&O.isTexture&&(l===void 0&&(l=new Vs(new kw(2,2),new ku({name:"BackgroundMaterial",uniforms:X_(xf.background.uniforms),vertexShader:xf.background.vertexShader,fragmentShader:xf.background.fragmentShader,side:Bp,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=O,l.material.uniforms.backgroundIntensity.value=R.backgroundIntensity,l.material.toneMapped=dr.getTransfer(O.colorSpace)!==Fr,O.matrixAutoUpdate===!0&&O.updateMatrix(),l.material.uniforms.uvTransform.value.copy(O.matrix),(f!==O||d!==O.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,f=O,d=O.version,p=n.toneMapping),l.layers.enableAll(),k.unshift(l,l.geometry,l.material,0,0,null))}function w(k,R){k.getRGB(Uk,Une(n)),t.buffers.color.setClear(Uk.r,Uk.g,Uk.b,R,s)}function E(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),l!==void 0&&(l.geometry.dispose(),l.material.dispose(),l=void 0)}return{getClearColor:function(){return a},setClearColor:function(k,R=1){a.set(k),o=R,w(a,o)},getClearAlpha:function(){return o},setClearAlpha:function(k){o=k,w(a,o)},render:b,addToRenderList:S,dispose:E}}function OAe(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),r={},i=p(null);let s=i,a=!1;function o(q,J,re,fe,ne){let te=!1;const se=d(q,fe,re,J);s!==se&&(s=se,c(s.object)),te=g(q,fe,re,ne),te&&b(q,fe,re,ne),ne!==null&&e.update(ne,n.ELEMENT_ARRAY_BUFFER),(te||a)&&(a=!1,O(q,J,re,fe),ne!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ne).buffer))}function l(){return n.createVertexArray()}function c(q){return n.bindVertexArray(q)}function f(q){return n.deleteVertexArray(q)}function d(q,J,re,fe){const ne=fe.wireframe===!0;let te=r[J.id];te===void 0&&(te={},r[J.id]=te);const se=q.isInstancedMesh===!0?q.id:0;let be=te[se];be===void 0&&(be={},te[se]=be);let Ee=be[re.id];Ee===void 0&&(Ee={},be[re.id]=Ee);let oe=Ee[ne];return oe===void 0&&(oe=p(l()),Ee[ne]=oe),oe}function p(q){const J=[],re=[],fe=[];for(let ne=0;ne<t;ne++)J[ne]=0,re[ne]=0,fe[ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:J,enabledAttributes:re,attributeDivisors:fe,object:q,attributes:{},index:null}}function g(q,J,re,fe){const ne=s.attributes,te=J.attributes;let se=0;const be=re.getAttributes();for(const Ee in be)if(be[Ee].location>=0){const ee=ne[Ee];let xe=te[Ee];if(xe===void 0&&(Ee==="instanceMatrix"&&q.instanceMatrix&&(xe=q.instanceMatrix),Ee==="instanceColor"&&q.instanceColor&&(xe=q.instanceColor)),ee===void 0||ee.attribute!==xe||xe&&ee.data!==xe.data)return!0;se++}return s.attributesNum!==se||s.index!==fe}function b(q,J,re,fe){const ne={},te=J.attributes;let se=0;const be=re.getAttributes();for(const Ee in be)if(be[Ee].location>=0){let ee=te[Ee];ee===void 0&&(Ee==="instanceMatrix"&&q.instanceMatrix&&(ee=q.instanceMatrix),Ee==="instanceColor"&&q.instanceColor&&(ee=q.instanceColor));const xe={};xe.attribute=ee,ee&&ee.data&&(xe.data=ee.data),ne[Ee]=xe,se++}s.attributes=ne,s.attributesNum=se,s.index=fe}function S(){const q=s.newAttributes;for(let J=0,re=q.length;J<re;J++)q[J]=0}function w(q){E(q,0)}function E(q,J){const re=s.newAttributes,fe=s.enabledAttributes,ne=s.attributeDivisors;re[q]=1,fe[q]===0&&(n.enableVertexAttribArray(q),fe[q]=1),ne[q]!==J&&(n.vertexAttribDivisor(q,J),ne[q]=J)}function k(){const q=s.newAttributes,J=s.enabledAttributes;for(let re=0,fe=J.length;re<fe;re++)J[re]!==q[re]&&(n.disableVertexAttribArray(re),J[re]=0)}function R(q,J,re,fe,ne,te,se){se===!0?n.vertexAttribIPointer(q,J,re,ne,te):n.vertexAttribPointer(q,J,re,fe,ne,te)}function O(q,J,re,fe){S();const ne=fe.attributes,te=re.getAttributes(),se=J.defaultAttributeValues;for(const be in te){const Ee=te[be];if(Ee.location>=0){let oe=ne[be];if(oe===void 0&&(be==="instanceMatrix"&&q.instanceMatrix&&(oe=q.instanceMatrix),be==="instanceColor"&&q.instanceColor&&(oe=q.instanceColor)),oe!==void 0){const ee=oe.normalized,xe=oe.itemSize,ae=e.get(oe);if(ae===void 0)continue;const De=ae.buffer,dt=ae.type,Ne=ae.bytesPerElement,Ue=dt===n.INT||dt===n.UNSIGNED_INT||oe.gpuType===wD;if(oe.isInterleavedBufferAttribute){const qe=oe.data,Pe=qe.stride,lt=oe.offset;if(qe.isInstancedInterleavedBuffer){for(let Mt=0;Mt<Ee.locationSize;Mt++)E(Ee.location+Mt,qe.meshPerAttribute);q.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=qe.meshPerAttribute*qe.count)}else for(let Mt=0;Mt<Ee.locationSize;Mt++)w(Ee.location+Mt);n.bindBuffer(n.ARRAY_BUFFER,De);for(let Mt=0;Mt<Ee.locationSize;Mt++)R(Ee.location+Mt,xe/Ee.locationSize,dt,ee,Pe*Ne,(lt+xe/Ee.locationSize*Mt)*Ne,Ue)}else{if(oe.isInstancedBufferAttribute){for(let qe=0;qe<Ee.locationSize;qe++)E(Ee.location+qe,oe.meshPerAttribute);q.isInstancedMesh!==!0&&fe._maxInstanceCount===void 0&&(fe._maxInstanceCount=oe.meshPerAttribute*oe.count)}else for(let qe=0;qe<Ee.locationSize;qe++)w(Ee.location+qe);n.bindBuffer(n.ARRAY_BUFFER,De);for(let qe=0;qe<Ee.locationSize;qe++)R(Ee.location+qe,xe/Ee.locationSize,dt,ee,xe*Ne,xe/Ee.locationSize*qe*Ne,Ue)}}else if(se!==void 0){const ee=se[be];if(ee!==void 0)switch(ee.length){case 2:n.vertexAttrib2fv(Ee.location,ee);break;case 3:n.vertexAttrib3fv(Ee.location,ee);break;case 4:n.vertexAttrib4fv(Ee.location,ee);break;default:n.vertexAttrib1fv(Ee.location,ee)}}}}k()}function D(){V();for(const q in r){const J=r[q];for(const re in J){const fe=J[re];for(const ne in fe){const te=fe[ne];for(const se in te)f(te[se].object),delete te[se];delete fe[ne]}}delete r[q]}}function I(q){if(r[q.id]===void 0)return;const J=r[q.id];for(const re in J){const fe=J[re];for(const ne in fe){const te=fe[ne];for(const se in te)f(te[se].object),delete te[se];delete fe[ne]}}delete r[q.id]}function B(q){for(const J in r){const re=r[J];for(const fe in re){const ne=re[fe];if(ne[q.id]===void 0)continue;const te=ne[q.id];for(const se in te)f(te[se].object),delete te[se];delete ne[q.id]}}}function z(q){for(const J in r){const re=r[J],fe=q.isInstancedMesh===!0?q.id:0,ne=re[fe];if(ne!==void 0){for(const te in ne){const se=ne[te];for(const be in se)f(se[be].object),delete se[be];delete ne[te]}delete re[fe],Object.keys(re).length===0&&delete r[J]}}}function V(){Y(),a=!0,s!==i&&(s=i,c(s.object))}function Y(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:V,resetDefaultState:Y,dispose:D,releaseStatesOfGeometry:I,releaseStatesOfObject:z,releaseStatesOfProgram:B,initAttributes:S,enableAttribute:w,disableUnusedAttributes:k}}function PAe(n,e,t){let r;function i(c){r=c}function s(c,f){n.drawArrays(r,c,f),t.update(f,r,1)}function a(c,f,d){d!==0&&(n.drawArraysInstanced(r,c,f,d),t.update(f,r,d))}function o(c,f,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,f,0,d);let g=0;for(let b=0;b<d;b++)g+=f[b];t.update(g,r,1)}function l(c,f,d,p){if(d===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let b=0;b<c.length;b++)a(c[b],f[b],p[b]);else{g.multiDrawArraysInstancedWEBGL(r,c,0,f,0,p,0,d);let b=0;for(let S=0;S<d;S++)b+=f[S]*p[S];t.update(b,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function DAe(n,e,t,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const B=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(B.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(B){return!(B!==To&&r.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(B){const z=B===ih&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(B!==Ko&&r.convert(B)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&B!==el&&!z)}function l(B){if(B==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";B="mediump"}return B==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const f=l(c);f!==c&&(Ut("WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const d=t.logarithmicDepthBuffer===!0,p=t.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),g=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),b=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),E=n.getParameter(n.MAX_VERTEX_ATTRIBS),k=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),R=n.getParameter(n.MAX_VARYING_VECTORS),O=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),D=n.getParameter(n.MAX_SAMPLES),I=n.getParameter(n.SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:p,maxTextures:g,maxVertexTextures:b,maxTextureSize:S,maxCubemapSize:w,maxAttributes:E,maxVertexUniforms:k,maxVaryings:R,maxFragmentUniforms:O,maxSamples:D,samples:I}}function IAe(n){const e=this;let t=null,r=0,i=!1,s=!1;const a=new f0,o=new Bn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,p){const g=d.length!==0||p||r!==0||i;return i=p,r=d.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,p){t=f(d,p,0)},this.setState=function(d,p,g){const b=d.clippingPlanes,S=d.clipIntersection,w=d.clipShadows,E=n.get(d);if(!i||b===null||b.length===0||s&&!w)s?f(null):c();else{const k=s?0:r,R=k*4;let O=E.clippingState||null;l.value=O,O=f(b,p,R,g);for(let D=0;D!==R;++D)O[D]=t[D];E.clippingState=O,this.numIntersection=S?this.numPlanes:0,this.numPlanes+=k}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,p,g,b){const S=d!==null?d.length:0;let w=null;if(S!==0){if(w=l.value,b!==!0||w===null){const E=g+S*4,k=p.matrixWorldInverse;o.getNormalMatrix(k),(w===null||w.length<E)&&(w=new Float32Array(E));for(let R=0,O=g;R!==S;++R,O+=4)a.copy(d[R]).applyMatrix4(k,o),a.normal.toArray(w,O),w[O+3]=a.constant}l.value=w,l.needsUpdate=!0}return e.numPlanes=S,e.numIntersection=0,w}}const F0=4,$W=[.125,.215,.35,.446,.526,.582],By=20,NAe=256,zE=new Ow,GW=new qt;let a6=null,o6=0,l6=0,c6=!1;const LAe=new Se;class H8{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,t=0,r=.1,i=100,s={}){const{size:a=256,position:o=LAe}=s;a6=this._renderer.getRenderTarget(),o6=this._renderer.getActiveCubeFace(),l6=this._renderer.getActiveMipmapLevel(),c6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XW(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=YW(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(a6,o6,l6),this._renderer.xr.enabled=c6,e.scissorTest=!1,qb(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===rh||e.mapping===X0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),a6=this._renderer.getRenderTarget(),o6=this._renderer.getActiveCubeFace(),l6=this._renderer.getActiveMipmapLevel(),c6=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Mi,minFilter:Mi,generateMipmaps:!1,type:ih,format:To,colorSpace:K0,depthBuffer:!1},i=qW(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=qW(e,t,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=BAe(s)),this._blurMaterial=zAe(s,e,t),this._ggxMaterial=FAe(s,e,t)}return i}_compileMaterial(e){const t=new Vs(new Nn,e);this._renderer.compile(t,zE)}_sceneToCubeUV(e,t,r,i,s){const l=new _a(90,1,t,r),c=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,p=d.autoClear,g=d.toneMapping;d.getClearColor(GW),d.toneMapping=Mu,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Vs(new dx,new fg({name:"PMREM.Background",side:al,depthWrite:!1,depthTest:!1})));const S=this._backgroundBox,w=S.material;let E=!1;const k=e.background;k?k.isColor&&(w.color.copy(k),e.background=null,E=!0):(w.color.copy(GW),E=!0);for(let R=0;R<6;R++){const O=R%3;O===0?(l.up.set(0,c[R],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[R],s.y,s.z)):O===1?(l.up.set(0,0,c[R]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[R],s.z)):(l.up.set(0,c[R],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[R]));const D=this._cubeSize;qb(i,O*D,R>2?D:0,D,D),d.setRenderTarget(i),E&&d.render(S,l),d.render(e,l)}d.toneMapping=g,d.autoClear=p,e.background=k}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===rh||e.mapping===X0;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=XW()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=YW());const s=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=s;const o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;qb(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(a,zE)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);t.autoClear=r}_applyGGXFilter(e,t,r){const i=this._renderer,s=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[r];o.material=a;const l=a.uniforms,c=r/(this._lodMeshes.length-1),f=t/(this._lodMeshes.length-1),d=Math.sqrt(c*c-f*f),p=0+c*1.25,g=d*p,{_lodMax:b}=this,S=this._sizeLods[r],w=3*S*(r>b-F0?r-b+F0:0),E=4*(this._cubeSize-S);l.envMap.value=e.texture,l.roughness.value=g,l.mipInt.value=b-t,qb(s,w,E,3*S,2*S),i.setRenderTarget(s),i.render(o,zE),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=b-r,qb(e,w,E,3*S,2*S),i.setRenderTarget(e),i.render(o,zE)}_blur(e,t,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&on("blur direction must be either latitudinal or longitudinal!");const f=3,d=this._lodMeshes[i];d.material=c;const p=c.uniforms,g=this._sizeLods[r]-1,b=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*By-1),S=s/b,w=isFinite(s)?1+Math.floor(f*S):By;w>By&&Ut(`sigmaRadians, ${s}, is too large and will clip, as it requested ${w} samples when the maximum is set to ${By}`);const E=[];let k=0;for(let B=0;B<By;++B){const z=B/S,V=Math.exp(-z*z/2);E.push(V),B===0?k+=V:B<w&&(k+=2*V)}for(let B=0;B<E.length;B++)E[B]=E[B]/k;p.envMap.value=e.texture,p.samples.value=w,p.weights.value=E,p.latitudinal.value=a==="latitudinal",o&&(p.poleAxis.value=o);const{_lodMax:R}=this;p.dTheta.value=b,p.mipInt.value=R-r;const O=this._sizeLods[i],D=3*O*(i>R-F0?i-R+F0:0),I=4*(this._cubeSize-O);qb(t,D,I,3*O,2*O),l.setRenderTarget(t),l.render(d,zE)}}function BAe(n){const e=[],t=[],r=[];let i=n;const s=n-F0+1+$W.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);e.push(o);let l=1/o;a>n-F0?l=$W[a-n+F0-1]:a===0&&(l=0),t.push(l);const c=1/(o-2),f=-c,d=1+c,p=[f,f,d,f,d,d,f,f,d,d,f,d],g=6,b=6,S=3,w=2,E=1,k=new Float32Array(S*b*g),R=new Float32Array(w*b*g),O=new Float32Array(E*b*g);for(let I=0;I<g;I++){const B=I%3*2/3-1,z=I>2?0:-1,V=[B,z,0,B+2/3,z,0,B+2/3,z+1,0,B,z,0,B+2/3,z+1,0,B,z+1,0];k.set(V,S*b*I),R.set(p,w*b*I);const Y=[I,I,I,I,I,I];O.set(Y,E*b*I)}const D=new Nn;D.setAttribute("position",new Jr(k,S)),D.setAttribute("uv",new Jr(R,w)),D.setAttribute("faceIndex",new Jr(O,E)),r.push(new Vs(D,null)),i>F0&&i--}return{lodMeshes:r,sizeLods:e,sigmas:t}}function qW(n,e,t){const r=new bc(n,e,t);return r.texture.mapping=Aw,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function qb(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function FAe(n,e,t){return new ku({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:NAe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:tI(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 4.1: Orthonormal basis
				vec3 T1 = vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(V, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + V.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * V;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:Jd,depthTest:!1,depthWrite:!1})}function zAe(n,e,t){const r=new Float32Array(By),i=new Se(0,1,0);return new ku({name:"SphericalGaussianBlur",defines:{n:By,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:tI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Jd,depthTest:!1,depthWrite:!1})}function YW(){return new ku({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:tI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Jd,depthTest:!1,depthWrite:!1})}function XW(){return new ku({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:tI(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Jd,depthTest:!1,depthWrite:!1})}function tI(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}class RU extends bc{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new AT(i),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new dx(5,5,5),s=new ku({name:"CubemapFromEquirect",uniforms:X_(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:al,blending:Jd});s.uniforms.tEquirect.value=t;const a=new Vs(i,s),o=t.minFilter;return t.minFilter===Vd&&(t.minFilter=Mi),new ure(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,r,i);e.setRenderTarget(s)}}function UAe(n){let e=new WeakMap,t=new WeakMap,r=null;function i(p,g=!1){return p==null?null:g?a(p):s(p)}function s(p){if(p&&p.isTexture){const g=p.mapping;if(g===PM||g===DM)if(e.has(p)){const b=e.get(p).texture;return o(b,p.mapping)}else{const b=p.image;if(b&&b.height>0){const S=new RU(b.height);return S.fromEquirectangularTexture(n,p),e.set(p,S),p.addEventListener("dispose",c),o(S.texture,p.mapping)}else return null}}return p}function a(p){if(p&&p.isTexture){const g=p.mapping,b=g===PM||g===DM,S=g===rh||g===X0;if(b||S){let w=t.get(p);const E=w!==void 0?w.texture.pmremVersion:0;if(p.isRenderTargetTexture&&p.pmremVersion!==E)return r===null&&(r=new H8(n)),w=b?r.fromEquirectangular(p,w):r.fromCubemap(p,w),w.texture.pmremVersion=p.pmremVersion,t.set(p,w),w.texture;if(w!==void 0)return w.texture;{const k=p.image;return b&&k&&k.height>0||S&&k&&l(k)?(r===null&&(r=new H8(n)),w=b?r.fromEquirectangular(p):r.fromCubemap(p),w.texture.pmremVersion=p.pmremVersion,t.set(p,w),p.addEventListener("dispose",f),w.texture):null}}}return p}function o(p,g){return g===PM?p.mapping=rh:g===DM&&(p.mapping=X0),p}function l(p){let g=0;const b=6;for(let S=0;S<b;S++)p[S]!==void 0&&g++;return g===b}function c(p){const g=p.target;g.removeEventListener("dispose",c);const b=e.get(g);b!==void 0&&(e.delete(g),b.dispose())}function f(p){const g=p.target;g.removeEventListener("dispose",f);const b=t.get(g);b!==void 0&&(t.delete(g),b.dispose())}function d(){e=new WeakMap,t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:i,dispose:d}}function jAe(n){const e={};function t(r){if(e[r]!==void 0)return e[r];const i=n.getExtension(r);return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(r){const i=t(r);return i===null&&pA("WebGLRenderer: "+r+" extension not supported."),i}}}function HAe(n,e,t,r){const i={},s=new WeakMap;function a(d){const p=d.target;p.index!==null&&e.remove(p.index);for(const b in p.attributes)e.remove(p.attributes[b]);p.removeEventListener("dispose",a),delete i[p.id];const g=s.get(p);g&&(e.remove(g),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function o(d,p){return i[p.id]===!0||(p.addEventListener("dispose",a),i[p.id]=!0,t.memory.geometries++),p}function l(d){const p=d.attributes;for(const g in p)e.update(p[g],n.ARRAY_BUFFER)}function c(d){const p=[],g=d.index,b=d.attributes.position;let S=0;if(b===void 0)return;if(g!==null){const k=g.array;S=g.version;for(let R=0,O=k.length;R<O;R+=3){const D=k[R+0],I=k[R+1],B=k[R+2];p.push(D,I,I,B,B,D)}}else{const k=b.array;S=b.version;for(let R=0,O=k.length/3-1;R<O;R+=3){const D=R+0,I=R+1,B=R+2;p.push(D,I,I,B,B,D)}}const w=new(b.count>=65535?iU:rU)(p,1);w.version=S;const E=s.get(d);E&&e.remove(E),s.set(d,w)}function f(d){const p=s.get(d);if(p){const g=d.index;g!==null&&p.version<g.version&&c(d)}else c(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:f}}function VAe(n,e,t){let r;function i(p){r=p}let s,a;function o(p){s=p.type,a=p.bytesPerElement}function l(p,g){n.drawElements(r,g,s,p*a),t.update(g,r,1)}function c(p,g,b){b!==0&&(n.drawElementsInstanced(r,g,s,p*a,b),t.update(g,r,b))}function f(p,g,b){if(b===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,p,0,b);let w=0;for(let E=0;E<b;E++)w+=g[E];t.update(w,r,1)}function d(p,g,b,S){if(b===0)return;const w=e.get("WEBGL_multi_draw");if(w===null)for(let E=0;E<p.length;E++)c(p[E]/a,g[E],S[E]);else{w.multiDrawElementsInstancedWEBGL(r,g,0,s,p,0,S,0,b);let E=0;for(let k=0;k<b;k++)E+=g[k]*S[k];t.update(E,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function WAe(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:on("WebGLInfo: Unknown draw mode:",a);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function $Ae(n,e,t){const r=new WeakMap,i=new ti;function s(a,o,l){const c=a.morphTargetInfluences,f=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=f!==void 0?f.length:0;let p=r.get(o);if(p===void 0||p.count!==d){let Y=function(){z.dispose(),r.delete(o),o.removeEventListener("dispose",Y)};var g=Y;p!==void 0&&p.texture.dispose();const b=o.morphAttributes.position!==void 0,S=o.morphAttributes.normal!==void 0,w=o.morphAttributes.color!==void 0,E=o.morphAttributes.position||[],k=o.morphAttributes.normal||[],R=o.morphAttributes.color||[];let O=0;b===!0&&(O=1),S===!0&&(O=2),w===!0&&(O=3);let D=o.attributes.position.count*O,I=1;D>e.maxTextureSize&&(I=Math.ceil(D/e.maxTextureSize),D=e.maxTextureSize);const B=new Float32Array(D*I*4*d),z=new OD(B,D,I,d);z.type=el,z.needsUpdate=!0;const V=O*4;for(let q=0;q<d;q++){const J=E[q],re=k[q],fe=R[q],ne=D*I*4*q;for(let te=0;te<J.count;te++){const se=te*V;b===!0&&(i.fromBufferAttribute(J,te),B[ne+se+0]=i.x,B[ne+se+1]=i.y,B[ne+se+2]=i.z,B[ne+se+3]=0),S===!0&&(i.fromBufferAttribute(re,te),B[ne+se+4]=i.x,B[ne+se+5]=i.y,B[ne+se+6]=i.z,B[ne+se+7]=0),w===!0&&(i.fromBufferAttribute(fe,te),B[ne+se+8]=i.x,B[ne+se+9]=i.y,B[ne+se+10]=i.z,B[ne+se+11]=fe.itemSize===4?i.w:1)}}p={count:d,texture:z,size:new St(D,I)},r.set(o,p),o.addEventListener("dispose",Y)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let b=0;for(let w=0;w<c.length;w++)b+=c[w];const S=o.morphTargetsRelative?1:1-b;l.getUniforms().setValue(n,"morphTargetBaseInfluence",S),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",p.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",p.size)}return{update:s}}function GAe(n,e,t,r,i){let s=new WeakMap;function a(c){const f=i.render.frame,d=c.geometry,p=e.get(c,d);if(s.get(p)!==f&&(e.update(p),s.set(p,f)),c.isInstancedMesh&&(c.hasEventListener("dispose",l)===!1&&c.addEventListener("dispose",l),s.get(c)!==f&&(t.update(c.instanceMatrix,n.ARRAY_BUFFER),c.instanceColor!==null&&t.update(c.instanceColor,n.ARRAY_BUFFER),s.set(c,f))),c.isSkinnedMesh){const g=c.skeleton;s.get(g)!==f&&(g.update(),s.set(g,f))}return p}function o(){s=new WeakMap}function l(c){const f=c.target;f.removeEventListener("dispose",l),r.releaseStatesOfObject(f),t.remove(f.instanceMatrix),f.instanceColor!==null&&t.remove(f.instanceColor)}return{update:a,dispose:o}}const qAe={[Uz]:"LINEAR_TONE_MAPPING",[jz]:"REINHARD_TONE_MAPPING",[Hz]:"CINEON_TONE_MAPPING",[bD]:"ACES_FILMIC_TONE_MAPPING",[Wz]:"AGX_TONE_MAPPING",[$z]:"NEUTRAL_TONE_MAPPING",[Vz]:"CUSTOM_TONE_MAPPING"};function YAe(n,e,t,r,i){const s=new bc(e,t,{type:n,depthBuffer:r,stencilBuffer:i}),a=new bc(e,t,{type:ih,depthBuffer:!1,stencilBuffer:!1}),o=new Nn;o.setAttribute("position",new Kt([-1,3,0,-1,-1,0,3,-1,0],3)),o.setAttribute("uv",new Kt([0,2,0,0,2,0],2));const l=new mU({uniforms:{tDiffuse:{value:null}},vertexShader:`
			precision highp float;

			uniform mat4 modelViewMatrix;
			uniform mat4 projectionMatrix;

			attribute vec3 position;
			attribute vec2 uv;

			varying vec2 vUv;

			void main() {
				vUv = uv;
				gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			}`,fragmentShader:`
			precision highp float;

			uniform sampler2D tDiffuse;

			varying vec2 vUv;

			#include <tonemapping_pars_fragment>
			#include <colorspace_pars_fragment>

			void main() {
				gl_FragColor = texture2D( tDiffuse, vUv );

				#ifdef LINEAR_TONE_MAPPING
					gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );
				#elif defined( REINHARD_TONE_MAPPING )
					gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );
				#elif defined( CINEON_TONE_MAPPING )
					gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );
				#elif defined( ACES_FILMIC_TONE_MAPPING )
					gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );
				#elif defined( AGX_TONE_MAPPING )
					gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );
				#elif defined( NEUTRAL_TONE_MAPPING )
					gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );
				#elif defined( CUSTOM_TONE_MAPPING )
					gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );
				#endif

				#ifdef SRGB_TRANSFER
					gl_FragColor = sRGBTransferOETF( gl_FragColor );
				#endif
			}`,depthTest:!1,depthWrite:!1}),c=new Vs(o,l),f=new Ow(-1,1,1,-1,0,1);let d=null,p=null,g=!1,b,S=null,w=[],E=!1;this.setSize=function(k,R){s.setSize(k,R),a.setSize(k,R);for(let O=0;O<w.length;O++){const D=w[O];D.setSize&&D.setSize(k,R)}},this.setEffects=function(k){w=k,E=w.length>0&&w[0].isRenderPass===!0;const R=s.width,O=s.height;for(let D=0;D<w.length;D++){const I=w[D];I.setSize&&I.setSize(R,O)}},this.begin=function(k,R){if(g||k.toneMapping===Mu&&w.length===0)return!1;if(S=R,R!==null){const O=R.width,D=R.height;(s.width!==O||s.height!==D)&&this.setSize(O,D)}return E===!1&&k.setRenderTarget(s),b=k.toneMapping,k.toneMapping=Mu,!0},this.hasRenderPass=function(){return E},this.end=function(k,R){k.toneMapping=b,g=!0;let O=s,D=a;for(let I=0;I<w.length;I++){const B=w[I];if(B.enabled!==!1&&(B.render(k,D,O,R),B.needsSwap!==!1)){const z=O;O=D,D=z}}if(d!==k.outputColorSpace||p!==k.toneMapping){d=k.outputColorSpace,p=k.toneMapping,l.defines={},dr.getTransfer(d)===Fr&&(l.defines.SRGB_TRANSFER="");const I=qAe[p];I&&(l.defines[I]=""),l.needsUpdate=!0}l.uniforms.tDiffuse.value=O.texture,k.setRenderTarget(S),k.render(c,f),S=null,g=!1},this.isCompositing=function(){return g},this.dispose=function(){s.dispose(),a.dispose(),o.dispose(),l.dispose()}}const bre=new Ui,V8=new q_(1,1),_re=new OD,wre=new PD,Sre=new AT,KW=[],JW=[],ZW=new Float32Array(16),QW=new Float32Array(9),e$=new Float32Array(4);function Pw(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=KW[i];if(s===void 0&&(s=new Float32Array(i),KW[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function ia(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function sa(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function nI(n,e){let t=JW[e];t===void 0&&(t=new Int32Array(e),JW[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function XAe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function KAe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ia(t,e))return;n.uniform2fv(this.addr,e),sa(t,e)}}function JAe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ia(t,e))return;n.uniform3fv(this.addr,e),sa(t,e)}}function ZAe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ia(t,e))return;n.uniform4fv(this.addr,e),sa(t,e)}}function QAe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ia(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),sa(t,e)}else{if(ia(t,r))return;e$.set(r),n.uniformMatrix2fv(this.addr,!1,e$),sa(t,r)}}function eTe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ia(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),sa(t,e)}else{if(ia(t,r))return;QW.set(r),n.uniformMatrix3fv(this.addr,!1,QW),sa(t,r)}}function tTe(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(ia(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),sa(t,e)}else{if(ia(t,r))return;ZW.set(r),n.uniformMatrix4fv(this.addr,!1,ZW),sa(t,r)}}function nTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function rTe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ia(t,e))return;n.uniform2iv(this.addr,e),sa(t,e)}}function iTe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ia(t,e))return;n.uniform3iv(this.addr,e),sa(t,e)}}function sTe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ia(t,e))return;n.uniform4iv(this.addr,e),sa(t,e)}}function aTe(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function oTe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ia(t,e))return;n.uniform2uiv(this.addr,e),sa(t,e)}}function lTe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ia(t,e))return;n.uniform3uiv(this.addr,e),sa(t,e)}}function cTe(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ia(t,e))return;n.uniform4uiv(this.addr,e),sa(t,e)}}function uTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);let s;this.type===n.SAMPLER_2D_SHADOW?(V8.compareFunction=t.isReversedDepthBuffer()?RD:kD,s=V8):s=bre,t.setTexture2D(e||s,i)}function fTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||wre,i)}function dTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||Sre,i)}function hTe(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||_re,i)}function pTe(n){switch(n){case 5126:return XAe;case 35664:return KAe;case 35665:return JAe;case 35666:return ZAe;case 35674:return QAe;case 35675:return eTe;case 35676:return tTe;case 5124:case 35670:return nTe;case 35667:case 35671:return rTe;case 35668:case 35672:return iTe;case 35669:case 35673:return sTe;case 5125:return aTe;case 36294:return oTe;case 36295:return lTe;case 36296:return cTe;case 35678:case 36198:case 36298:case 36306:case 35682:return uTe;case 35679:case 36299:case 36307:return fTe;case 35680:case 36300:case 36308:case 36293:return dTe;case 36289:case 36303:case 36311:case 36292:return hTe}}function mTe(n,e){n.uniform1fv(this.addr,e)}function gTe(n,e){const t=Pw(e,this.size,2);n.uniform2fv(this.addr,t)}function yTe(n,e){const t=Pw(e,this.size,3);n.uniform3fv(this.addr,t)}function vTe(n,e){const t=Pw(e,this.size,4);n.uniform4fv(this.addr,t)}function xTe(n,e){const t=Pw(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function bTe(n,e){const t=Pw(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function _Te(n,e){const t=Pw(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function wTe(n,e){n.uniform1iv(this.addr,e)}function STe(n,e){n.uniform2iv(this.addr,e)}function ETe(n,e){n.uniform3iv(this.addr,e)}function MTe(n,e){n.uniform4iv(this.addr,e)}function ATe(n,e){n.uniform1uiv(this.addr,e)}function TTe(n,e){n.uniform2uiv(this.addr,e)}function CTe(n,e){n.uniform3uiv(this.addr,e)}function kTe(n,e){n.uniform4uiv(this.addr,e)}function RTe(n,e,t){const r=this.cache,i=e.length,s=nI(t,i);ia(r,s)||(n.uniform1iv(this.addr,s),sa(r,s));let a;this.type===n.SAMPLER_2D_SHADOW?a=V8:a=bre;for(let o=0;o!==i;++o)t.setTexture2D(e[o]||a,s[o])}function OTe(n,e,t){const r=this.cache,i=e.length,s=nI(t,i);ia(r,s)||(n.uniform1iv(this.addr,s),sa(r,s));for(let a=0;a!==i;++a)t.setTexture3D(e[a]||wre,s[a])}function PTe(n,e,t){const r=this.cache,i=e.length,s=nI(t,i);ia(r,s)||(n.uniform1iv(this.addr,s),sa(r,s));for(let a=0;a!==i;++a)t.setTextureCube(e[a]||Sre,s[a])}function DTe(n,e,t){const r=this.cache,i=e.length,s=nI(t,i);ia(r,s)||(n.uniform1iv(this.addr,s),sa(r,s));for(let a=0;a!==i;++a)t.setTexture2DArray(e[a]||_re,s[a])}function ITe(n){switch(n){case 5126:return mTe;case 35664:return gTe;case 35665:return yTe;case 35666:return vTe;case 35674:return xTe;case 35675:return bTe;case 35676:return _Te;case 5124:case 35670:return wTe;case 35667:case 35671:return STe;case 35668:case 35672:return ETe;case 35669:case 35673:return MTe;case 5125:return ATe;case 36294:return TTe;case 36295:return CTe;case 36296:return kTe;case 35678:case 36198:case 36298:case 36306:case 35682:return RTe;case 35679:case 36299:case 36307:return OTe;case 35680:case 36300:case 36308:case 36293:return PTe;case 36289:case 36303:case 36311:case 36292:return DTe}}class NTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=pTe(t.type)}}class LTe{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=ITe(t.type)}}class BTe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,t[o.id],r)}}}const u6=/(\w+)(\])?(\[|\.)?/g;function t$(n,e){n.seq.push(e),n.map[e.id]=e}function FTe(n,e,t){const r=n.name,i=r.length;for(u6.lastIndex=0;;){const s=u6.exec(r),a=u6.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){t$(t,c===void 0?new NTe(o,n,e):new LTe(o,n,e));break}else{let d=t.map[o];d===void 0&&(d=new BTe(o),t$(t,d)),t=d}}}class YR{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let a=0;a<r;++a){const o=e.getActiveUniform(t,a),l=e.getUniformLocation(t,o.name);FTe(o,l,this)}const i=[],s=[];for(const a of this.seq)a.type===e.SAMPLER_2D_SHADOW||a.type===e.SAMPLER_CUBE_SHADOW||a.type===e.SAMPLER_2D_ARRAY_SHADOW?i.push(a):s.push(a);i.length>0&&(this.seq=i.concat(s))}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in t&&r.push(a)}return r}}function n$(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const zTe=37297;let UTe=0;function jTe(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return r.join(`
`)}const r$=new Bn;function HTe(n){dr._getMatrix(r$,dr.workingColorSpace,n);const e=`mat3( ${r$.elements.map(t=>t.toFixed(4))} )`;switch(dr.getTransfer(n)){case uA:return[e,"LinearTransferOETF"];case Fr:return[e,"sRGBTransferOETF"];default:return Ut("WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function i$(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),s=(n.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return t.toUpperCase()+`

`+s+`

`+jTe(n.getShaderSource(e),o)}else return s}function VTe(n,e){const t=HTe(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}const WTe={[Uz]:"Linear",[jz]:"Reinhard",[Hz]:"Cineon",[bD]:"ACESFilmic",[Wz]:"AgX",[$z]:"Neutral",[Vz]:"Custom"};function $Te(n,e){const t=WTe[e];return t===void 0?(Ut("WebGLProgram: Unsupported toneMapping:",e),"vec3 "+n+"( vec3 color ) { return LinearToneMapping( color ); }"):"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const jk=new Se;function GTe(){dr.getLuminanceCoefficients(jk);const n=jk.x.toFixed(4),e=jk.y.toFixed(4),t=jk.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function qTe(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(mM).join(`
`)}function YTe(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function XTe(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function mM(n){return n!==""}function s$(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function a$(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const KTe=/^[ \t]*#include +<([\w\d./]+)>/gm;function W8(n){return n.replace(KTe,ZTe)}const JTe=new Map;function ZTe(n,e){let t=$n[e];if(t===void 0){const r=JTe.get(e);if(r!==void 0)t=$n[r],Ut('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return W8(t)}const QTe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function o$(n){return n.replace(QTe,eCe)}function eCe(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function l$(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}const tCe={[G1]:"SHADOWMAP_TYPE_PCF",[qy]:"SHADOWMAP_TYPE_VSM"};function nCe(n){return tCe[n.shadowMapType]||"SHADOWMAP_TYPE_BASIC"}const rCe={[rh]:"ENVMAP_TYPE_CUBE",[X0]:"ENVMAP_TYPE_CUBE",[Aw]:"ENVMAP_TYPE_CUBE_UV"};function iCe(n){return n.envMap===!1?"ENVMAP_TYPE_CUBE":rCe[n.envMapMode]||"ENVMAP_TYPE_CUBE"}const sCe={[X0]:"ENVMAP_MODE_REFRACTION"};function aCe(n){return n.envMap===!1?"ENVMAP_MODE_REFLECTION":sCe[n.envMapMode]||"ENVMAP_MODE_REFLECTION"}const oCe={[ET]:"ENVMAP_BLENDING_MULTIPLY",[Qte]:"ENVMAP_BLENDING_MIX",[ene]:"ENVMAP_BLENDING_ADD"};function lCe(n){return n.envMap===!1?"ENVMAP_BLENDING_NONE":oCe[n.combine]||"ENVMAP_BLENDING_NONE"}function cCe(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:r,maxMip:t}}function uCe(n,e,t,r){const i=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=nCe(t),c=iCe(t),f=aCe(t),d=lCe(t),p=cCe(t),g=qTe(t),b=YTe(s),S=i.createProgram();let w,E,k=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(w=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(mM).join(`
`),w.length>0&&(w+=`
`),E=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b].filter(mM).join(`
`),E.length>0&&(E+=`
`)):(w=[l$(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+f:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(mM).join(`
`),E=[l$(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,b,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",t.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas||t.batchingColor?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",t.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Mu?"#define TONE_MAPPING":"",t.toneMapping!==Mu?$n.tonemapping_pars_fragment:"",t.toneMapping!==Mu?$Te("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",$n.colorspace_pars_fragment,VTe("linearToOutputTexel",t.outputColorSpace),GTe(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(mM).join(`
`)),a=W8(a),a=s$(a,t),a=a$(a,t),o=W8(o),o=s$(o,t),o=a$(o,t),a=o$(a),o=o$(o),t.isRawShaderMaterial!==!0&&(k=`#version 300 es
`,w=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+w,E=["#define varying in",t.glslVersion===I8?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===I8?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+E);const R=k+w+a,O=k+E+o,D=n$(i,i.VERTEX_SHADER,R),I=n$(i,i.FRAGMENT_SHADER,O);i.attachShader(S,D),i.attachShader(S,I),t.index0AttributeName!==void 0?i.bindAttribLocation(S,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(S,0,"position"),i.linkProgram(S);function B(q){if(n.debug.checkShaderErrors){const J=i.getProgramInfoLog(S)||"",re=i.getShaderInfoLog(D)||"",fe=i.getShaderInfoLog(I)||"",ne=J.trim(),te=re.trim(),se=fe.trim();let be=!0,Ee=!0;if(i.getProgramParameter(S,i.LINK_STATUS)===!1)if(be=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,S,D,I);else{const oe=i$(i,D,"vertex"),ee=i$(i,I,"fragment");on("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(S,i.VALIDATE_STATUS)+`

Material Name: `+q.name+`
Material Type: `+q.type+`

Program Info Log: `+ne+`
`+oe+`
`+ee)}else ne!==""?Ut("WebGLProgram: Program Info Log:",ne):(te===""||se==="")&&(Ee=!1);Ee&&(q.diagnostics={runnable:be,programLog:ne,vertexShader:{log:te,prefix:w},fragmentShader:{log:se,prefix:E}})}i.deleteShader(D),i.deleteShader(I),z=new YR(i,S),V=XTe(i,S)}let z;this.getUniforms=function(){return z===void 0&&B(this),z};let V;this.getAttributes=function(){return V===void 0&&B(this),V};let Y=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return Y===!1&&(Y=i.getProgramParameter(S,zTe)),Y},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(S),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=UTe++,this.cacheKey=e,this.usedTimes=1,this.program=S,this.vertexShader=D,this.fragmentShader=I,this}let fCe=0;class dCe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new hCe(e),t.set(e,r)),r}}class hCe{constructor(e){this.id=fCe++,this.code=e,this.usedTimes=0}}function pCe(n,e,t,r,i,s){const a=new $_,o=new dCe,l=new Set,c=[],f=new Map,d=r.logarithmicDepthBuffer;let p=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distance",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(z){return l.add(z),z===0?"uv":`uv${z}`}function S(z,V,Y,q,J){const re=q.fog,fe=J.geometry,ne=z.isMeshStandardMaterial||z.isMeshLambertMaterial||z.isMeshPhongMaterial?q.environment:null,te=z.isMeshStandardMaterial||z.isMeshLambertMaterial&&!z.envMap||z.isMeshPhongMaterial&&!z.envMap,se=e.get(z.envMap||ne,te),be=se&&se.mapping===Aw?se.image.height:null,Ee=g[z.type];z.precision!==null&&(p=r.getMaxPrecision(z.precision),p!==z.precision&&Ut("WebGLProgram.getParameters:",z.precision,"not supported, using",p,"instead."));const oe=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,ee=oe!==void 0?oe.length:0;let xe=0;fe.morphAttributes.position!==void 0&&(xe=1),fe.morphAttributes.normal!==void 0&&(xe=2),fe.morphAttributes.color!==void 0&&(xe=3);let ae,De,dt,Ne;if(Ee){const kn=xf[Ee];ae=kn.vertexShader,De=kn.fragmentShader}else ae=z.vertexShader,De=z.fragmentShader,o.update(z),dt=o.getVertexShaderID(z),Ne=o.getFragmentShaderID(z);const Ue=n.getRenderTarget(),qe=n.state.buffers.depth.getReversed(),Pe=J.isInstancedMesh===!0,lt=J.isBatchedMesh===!0,Mt=!!z.map,Ze=!!z.matcap,_t=!!se,Ve=!!z.aoMap,ot=!!z.lightMap,Qe=!!z.bumpMap,mt=!!z.normalMap,_e=!!z.displacementMap,zt=!!z.emissiveMap,kt=!!z.metalnessMap,Vt=!!z.roughnessMap,gt=z.anisotropy>0,ge=z.clearcoat>0,ie=z.dispersion>0,Ie=z.iridescence>0,we=z.sheen>0,K=z.transmission>0,j=gt&&!!z.anisotropyMap,$=ge&&!!z.clearcoatMap,ce=ge&&!!z.clearcoatNormalMap,le=ge&&!!z.clearcoatRoughnessMap,Re=Ie&&!!z.iridescenceMap,Me=Ie&&!!z.iridescenceThicknessMap,ue=we&&!!z.sheenColorMap,vt=we&&!!z.sheenRoughnessMap,ft=!!z.specularMap,ct=!!z.specularColorMap,Rt=!!z.specularIntensityMap,Le=K&&!!z.transmissionMap,$e=K&&!!z.thicknessMap,At=!!z.gradientMap,Lt=!!z.alphaMap,bt=z.alphaTest>0,tt=!!z.alphaHash,Dt=!!z.extensions;let an=Mu;z.toneMapped&&(Ue===null||Ue.isXRRenderTarget===!0)&&(an=n.toneMapping);const An={shaderID:Ee,shaderType:z.type,shaderName:z.name,vertexShader:ae,fragmentShader:De,defines:z.defines,customVertexShaderID:dt,customFragmentShaderID:Ne,isRawShaderMaterial:z.isRawShaderMaterial===!0,glslVersion:z.glslVersion,precision:p,batching:lt,batchingColor:lt&&J._colorsTexture!==null,instancing:Pe,instancingColor:Pe&&J.instanceColor!==null,instancingMorph:Pe&&J.morphTexture!==null,outputColorSpace:Ue===null?n.outputColorSpace:Ue.isXRRenderTarget===!0?Ue.texture.colorSpace:K0,alphaToCoverage:!!z.alphaToCoverage,map:Mt,matcap:Ze,envMap:_t,envMapMode:_t&&se.mapping,envMapCubeUVHeight:be,aoMap:Ve,lightMap:ot,bumpMap:Qe,normalMap:mt,displacementMap:_e,emissiveMap:zt,normalMapObjectSpace:mt&&z.normalMapType===ane,normalMapTangentSpace:mt&&z.normalMapType===ug,metalnessMap:kt,roughnessMap:Vt,anisotropy:gt,anisotropyMap:j,clearcoat:ge,clearcoatMap:$,clearcoatNormalMap:ce,clearcoatRoughnessMap:le,dispersion:ie,iridescence:Ie,iridescenceMap:Re,iridescenceThicknessMap:Me,sheen:we,sheenColorMap:ue,sheenRoughnessMap:vt,specularMap:ft,specularColorMap:ct,specularIntensityMap:Rt,transmission:K,transmissionMap:Le,thicknessMap:$e,gradientMap:At,opaque:z.transparent===!1&&z.blending===Iv&&z.alphaToCoverage===!1,alphaMap:Lt,alphaTest:bt,alphaHash:tt,combine:z.combine,mapUv:Mt&&b(z.map.channel),aoMapUv:Ve&&b(z.aoMap.channel),lightMapUv:ot&&b(z.lightMap.channel),bumpMapUv:Qe&&b(z.bumpMap.channel),normalMapUv:mt&&b(z.normalMap.channel),displacementMapUv:_e&&b(z.displacementMap.channel),emissiveMapUv:zt&&b(z.emissiveMap.channel),metalnessMapUv:kt&&b(z.metalnessMap.channel),roughnessMapUv:Vt&&b(z.roughnessMap.channel),anisotropyMapUv:j&&b(z.anisotropyMap.channel),clearcoatMapUv:$&&b(z.clearcoatMap.channel),clearcoatNormalMapUv:ce&&b(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:le&&b(z.clearcoatRoughnessMap.channel),iridescenceMapUv:Re&&b(z.iridescenceMap.channel),iridescenceThicknessMapUv:Me&&b(z.iridescenceThicknessMap.channel),sheenColorMapUv:ue&&b(z.sheenColorMap.channel),sheenRoughnessMapUv:vt&&b(z.sheenRoughnessMap.channel),specularMapUv:ft&&b(z.specularMap.channel),specularColorMapUv:ct&&b(z.specularColorMap.channel),specularIntensityMapUv:Rt&&b(z.specularIntensityMap.channel),transmissionMapUv:Le&&b(z.transmissionMap.channel),thicknessMapUv:$e&&b(z.thicknessMap.channel),alphaMapUv:Lt&&b(z.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(mt||gt),vertexColors:z.vertexColors,vertexAlphas:z.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,pointsUvs:J.isPoints===!0&&!!fe.attributes.uv&&(Mt||Lt),fog:!!re,useFog:z.fog===!0,fogExp2:!!re&&re.isFogExp2,flatShading:z.wireframe===!1&&(z.flatShading===!0||fe.attributes.normal===void 0&&mt===!1&&(z.isMeshLambertMaterial||z.isMeshPhongMaterial||z.isMeshStandardMaterial||z.isMeshPhysicalMaterial)),sizeAttenuation:z.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:qe,skinning:J.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:ee,morphTextureStride:xe,numDirLights:V.directional.length,numPointLights:V.point.length,numSpotLights:V.spot.length,numSpotLightMaps:V.spotLightMap.length,numRectAreaLights:V.rectArea.length,numHemiLights:V.hemi.length,numDirLightShadows:V.directionalShadowMap.length,numPointLightShadows:V.pointShadowMap.length,numSpotLightShadows:V.spotShadowMap.length,numSpotLightShadowsWithMaps:V.numSpotLightShadowsWithMaps,numLightProbes:V.numLightProbes,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:z.dithering,shadowMapEnabled:n.shadowMap.enabled&&Y.length>0,shadowMapType:n.shadowMap.type,toneMapping:an,decodeVideoTexture:Mt&&z.map.isVideoTexture===!0&&dr.getTransfer(z.map.colorSpace)===Fr,decodeVideoTextureEmissive:zt&&z.emissiveMap.isVideoTexture===!0&&dr.getTransfer(z.emissiveMap.colorSpace)===Fr,premultipliedAlpha:z.premultipliedAlpha,doubleSided:z.side===Ld,flipSided:z.side===al,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionClipCullDistance:Dt&&z.extensions.clipCullDistance===!0&&t.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Dt&&z.extensions.multiDraw===!0||lt)&&t.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:t.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()};return An.vertexUv1s=l.has(1),An.vertexUv2s=l.has(2),An.vertexUv3s=l.has(3),l.clear(),An}function w(z){const V=[];if(z.shaderID?V.push(z.shaderID):(V.push(z.customVertexShaderID),V.push(z.customFragmentShaderID)),z.defines!==void 0)for(const Y in z.defines)V.push(Y),V.push(z.defines[Y]);return z.isRawShaderMaterial===!1&&(E(V,z),k(V,z),V.push(n.outputColorSpace)),V.push(z.customProgramCacheKey),V.join()}function E(z,V){z.push(V.precision),z.push(V.outputColorSpace),z.push(V.envMapMode),z.push(V.envMapCubeUVHeight),z.push(V.mapUv),z.push(V.alphaMapUv),z.push(V.lightMapUv),z.push(V.aoMapUv),z.push(V.bumpMapUv),z.push(V.normalMapUv),z.push(V.displacementMapUv),z.push(V.emissiveMapUv),z.push(V.metalnessMapUv),z.push(V.roughnessMapUv),z.push(V.anisotropyMapUv),z.push(V.clearcoatMapUv),z.push(V.clearcoatNormalMapUv),z.push(V.clearcoatRoughnessMapUv),z.push(V.iridescenceMapUv),z.push(V.iridescenceThicknessMapUv),z.push(V.sheenColorMapUv),z.push(V.sheenRoughnessMapUv),z.push(V.specularMapUv),z.push(V.specularColorMapUv),z.push(V.specularIntensityMapUv),z.push(V.transmissionMapUv),z.push(V.thicknessMapUv),z.push(V.combine),z.push(V.fogExp2),z.push(V.sizeAttenuation),z.push(V.morphTargetsCount),z.push(V.morphAttributeCount),z.push(V.numDirLights),z.push(V.numPointLights),z.push(V.numSpotLights),z.push(V.numSpotLightMaps),z.push(V.numHemiLights),z.push(V.numRectAreaLights),z.push(V.numDirLightShadows),z.push(V.numPointLightShadows),z.push(V.numSpotLightShadows),z.push(V.numSpotLightShadowsWithMaps),z.push(V.numLightProbes),z.push(V.shadowMapType),z.push(V.toneMapping),z.push(V.numClippingPlanes),z.push(V.numClipIntersection),z.push(V.depthPacking)}function k(z,V){a.disableAll(),V.instancing&&a.enable(0),V.instancingColor&&a.enable(1),V.instancingMorph&&a.enable(2),V.matcap&&a.enable(3),V.envMap&&a.enable(4),V.normalMapObjectSpace&&a.enable(5),V.normalMapTangentSpace&&a.enable(6),V.clearcoat&&a.enable(7),V.iridescence&&a.enable(8),V.alphaTest&&a.enable(9),V.vertexColors&&a.enable(10),V.vertexAlphas&&a.enable(11),V.vertexUv1s&&a.enable(12),V.vertexUv2s&&a.enable(13),V.vertexUv3s&&a.enable(14),V.vertexTangents&&a.enable(15),V.anisotropy&&a.enable(16),V.alphaHash&&a.enable(17),V.batching&&a.enable(18),V.dispersion&&a.enable(19),V.batchingColor&&a.enable(20),V.gradientMap&&a.enable(21),z.push(a.mask),a.disableAll(),V.fog&&a.enable(0),V.useFog&&a.enable(1),V.flatShading&&a.enable(2),V.logarithmicDepthBuffer&&a.enable(3),V.reversedDepthBuffer&&a.enable(4),V.skinning&&a.enable(5),V.morphTargets&&a.enable(6),V.morphNormals&&a.enable(7),V.morphColors&&a.enable(8),V.premultipliedAlpha&&a.enable(9),V.shadowMapEnabled&&a.enable(10),V.doubleSided&&a.enable(11),V.flipSided&&a.enable(12),V.useDepthPacking&&a.enable(13),V.dithering&&a.enable(14),V.transmission&&a.enable(15),V.sheen&&a.enable(16),V.opaque&&a.enable(17),V.pointsUvs&&a.enable(18),V.decodeVideoTexture&&a.enable(19),V.decodeVideoTextureEmissive&&a.enable(20),V.alphaToCoverage&&a.enable(21),z.push(a.mask)}function R(z){const V=g[z.type];let Y;if(V){const q=xf[V];Y=jne.clone(q.uniforms)}else Y=z.uniforms;return Y}function O(z,V){let Y=f.get(V);return Y!==void 0?++Y.usedTimes:(Y=new uCe(n,V,z,i),c.push(Y),f.set(V,Y)),Y}function D(z){if(--z.usedTimes===0){const V=c.indexOf(z);c[V]=c[c.length-1],c.pop(),f.delete(z.cacheKey),z.destroy()}}function I(z){o.remove(z)}function B(){o.dispose()}return{getParameters:S,getProgramCacheKey:w,getUniforms:R,acquireProgram:O,releaseProgram:D,releaseShaderCache:I,programs:c,dispose:B}}function mCe(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function r(a){n.delete(a)}function i(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:r,update:i,dispose:s}}function gCe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.materialVariant!==e.materialVariant?n.materialVariant-e.materialVariant:n.z!==e.z?n.z-e.z:n.id-e.id}function c$(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function u$(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function a(p){let g=0;return p.isInstancedMesh&&(g+=2),p.isSkinnedMesh&&(g+=1),g}function o(p,g,b,S,w,E){let k=n[e];return k===void 0?(k={id:p.id,object:p,geometry:g,material:b,materialVariant:a(p),groupOrder:S,renderOrder:p.renderOrder,z:w,group:E},n[e]=k):(k.id=p.id,k.object=p,k.geometry=g,k.material=b,k.materialVariant=a(p),k.groupOrder=S,k.renderOrder=p.renderOrder,k.z=w,k.group=E),e++,k}function l(p,g,b,S,w,E){const k=o(p,g,b,S,w,E);b.transmission>0?r.push(k):b.transparent===!0?i.push(k):t.push(k)}function c(p,g,b,S,w,E){const k=o(p,g,b,S,w,E);b.transmission>0?r.unshift(k):b.transparent===!0?i.unshift(k):t.unshift(k)}function f(p,g){t.length>1&&t.sort(p||gCe),r.length>1&&r.sort(g||c$),i.length>1&&i.sort(g||c$)}function d(){for(let p=e,g=n.length;p<g;p++){const b=n[p];if(b.id===null)break;b.id=null,b.object=null,b.geometry=null,b.material=null,b.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:l,unshift:c,finish:d,sort:f}}function yCe(){let n=new WeakMap;function e(r,i){const s=n.get(r);let a;return s===void 0?(a=new u$,n.set(r,[a])):i>=s.length?(a=new u$,s.push(a)):a=s[i],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function vCe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Se,color:new qt};break;case"SpotLight":t={position:new Se,direction:new Se,color:new qt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Se,color:new qt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Se,skyColor:new qt,groundColor:new qt};break;case"RectAreaLight":t={color:new qt,position:new Se,halfWidth:new Se,halfHeight:new Se};break}return n[e.id]=t,t}}}function xCe(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new St,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let bCe=0;function _Ce(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function wCe(n){const e=new vCe,t=xCe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new Se);const i=new Se,s=new Mn,a=new Mn;function o(c){let f=0,d=0,p=0;for(let V=0;V<9;V++)r.probe[V].set(0,0,0);let g=0,b=0,S=0,w=0,E=0,k=0,R=0,O=0,D=0,I=0,B=0;c.sort(_Ce);for(let V=0,Y=c.length;V<Y;V++){const q=c[V],J=q.color,re=q.intensity,fe=q.distance;let ne=null;if(q.shadow&&q.shadow.map&&(q.shadow.map.texture.format===qv?ne=q.shadow.map.texture:ne=q.shadow.map.depthTexture||q.shadow.map.texture),q.isAmbientLight)f+=J.r*re,d+=J.g*re,p+=J.b*re;else if(q.isLightProbe){for(let te=0;te<9;te++)r.probe[te].addScaledVector(q.sh.coefficients[te],re);B++}else if(q.isDirectionalLight){const te=e.get(q);if(te.color.copy(q.color).multiplyScalar(q.intensity),q.castShadow){const se=q.shadow,be=t.get(q);be.shadowIntensity=se.intensity,be.shadowBias=se.bias,be.shadowNormalBias=se.normalBias,be.shadowRadius=se.radius,be.shadowMapSize=se.mapSize,r.directionalShadow[g]=be,r.directionalShadowMap[g]=ne,r.directionalShadowMatrix[g]=q.shadow.matrix,k++}r.directional[g]=te,g++}else if(q.isSpotLight){const te=e.get(q);te.position.setFromMatrixPosition(q.matrixWorld),te.color.copy(J).multiplyScalar(re),te.distance=fe,te.coneCos=Math.cos(q.angle),te.penumbraCos=Math.cos(q.angle*(1-q.penumbra)),te.decay=q.decay,r.spot[S]=te;const se=q.shadow;if(q.map&&(r.spotLightMap[D]=q.map,D++,se.updateMatrices(q),q.castShadow&&I++),r.spotLightMatrix[S]=se.matrix,q.castShadow){const be=t.get(q);be.shadowIntensity=se.intensity,be.shadowBias=se.bias,be.shadowNormalBias=se.normalBias,be.shadowRadius=se.radius,be.shadowMapSize=se.mapSize,r.spotShadow[S]=be,r.spotShadowMap[S]=ne,O++}S++}else if(q.isRectAreaLight){const te=e.get(q);te.color.copy(J).multiplyScalar(re),te.halfWidth.set(q.width*.5,0,0),te.halfHeight.set(0,q.height*.5,0),r.rectArea[w]=te,w++}else if(q.isPointLight){const te=e.get(q);if(te.color.copy(q.color).multiplyScalar(q.intensity),te.distance=q.distance,te.decay=q.decay,q.castShadow){const se=q.shadow,be=t.get(q);be.shadowIntensity=se.intensity,be.shadowBias=se.bias,be.shadowNormalBias=se.normalBias,be.shadowRadius=se.radius,be.shadowMapSize=se.mapSize,be.shadowCameraNear=se.camera.near,be.shadowCameraFar=se.camera.far,r.pointShadow[b]=be,r.pointShadowMap[b]=ne,r.pointShadowMatrix[b]=q.shadow.matrix,R++}r.point[b]=te,b++}else if(q.isHemisphereLight){const te=e.get(q);te.skyColor.copy(q.color).multiplyScalar(re),te.groundColor.copy(q.groundColor).multiplyScalar(re),r.hemi[E]=te,E++}}w>0&&(n.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=Ht.LTC_FLOAT_1,r.rectAreaLTC2=Ht.LTC_FLOAT_2):(r.rectAreaLTC1=Ht.LTC_HALF_1,r.rectAreaLTC2=Ht.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=d,r.ambient[2]=p;const z=r.hash;(z.directionalLength!==g||z.pointLength!==b||z.spotLength!==S||z.rectAreaLength!==w||z.hemiLength!==E||z.numDirectionalShadows!==k||z.numPointShadows!==R||z.numSpotShadows!==O||z.numSpotMaps!==D||z.numLightProbes!==B)&&(r.directional.length=g,r.spot.length=S,r.rectArea.length=w,r.point.length=b,r.hemi.length=E,r.directionalShadow.length=k,r.directionalShadowMap.length=k,r.pointShadow.length=R,r.pointShadowMap.length=R,r.spotShadow.length=O,r.spotShadowMap.length=O,r.directionalShadowMatrix.length=k,r.pointShadowMatrix.length=R,r.spotLightMatrix.length=O+D-I,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=I,r.numLightProbes=B,z.directionalLength=g,z.pointLength=b,z.spotLength=S,z.rectAreaLength=w,z.hemiLength=E,z.numDirectionalShadows=k,z.numPointShadows=R,z.numSpotShadows=O,z.numSpotMaps=D,z.numLightProbes=B,r.version=bCe++)}function l(c,f){let d=0,p=0,g=0,b=0,S=0;const w=f.matrixWorldInverse;for(let E=0,k=c.length;E<k;E++){const R=c[E];if(R.isDirectionalLight){const O=r.directional[d];O.direction.setFromMatrixPosition(R.matrixWorld),i.setFromMatrixPosition(R.target.matrixWorld),O.direction.sub(i),O.direction.transformDirection(w),d++}else if(R.isSpotLight){const O=r.spot[g];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(w),O.direction.setFromMatrixPosition(R.matrixWorld),i.setFromMatrixPosition(R.target.matrixWorld),O.direction.sub(i),O.direction.transformDirection(w),g++}else if(R.isRectAreaLight){const O=r.rectArea[b];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(w),a.identity(),s.copy(R.matrixWorld),s.premultiply(w),a.extractRotation(s),O.halfWidth.set(R.width*.5,0,0),O.halfHeight.set(0,R.height*.5,0),O.halfWidth.applyMatrix4(a),O.halfHeight.applyMatrix4(a),b++}else if(R.isPointLight){const O=r.point[p];O.position.setFromMatrixPosition(R.matrixWorld),O.position.applyMatrix4(w),p++}else if(R.isHemisphereLight){const O=r.hemi[S];O.direction.setFromMatrixPosition(R.matrixWorld),O.direction.transformDirection(w),S++}}}return{setup:o,setupView:l,state:r}}function f$(n){const e=new wCe(n),t=[],r=[];function i(f){c.camera=f,t.length=0,r.length=0}function s(f){t.push(f)}function a(f){r.push(f)}function o(){e.setup(t)}function l(f){e.setupView(t,f)}const c={lightsArray:t,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function SCe(n){let e=new WeakMap;function t(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new f$(n),e.set(i,[o])):s>=a.length?(o=new f$(n),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:t,dispose:r}}const ECe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,MCe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ).rg;
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ).r;
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( max( 0.0, squared_mean - mean * mean ) );
	gl_FragColor = vec4( mean, std_dev, 0.0, 1.0 );
}`,ACe=[new Se(1,0,0),new Se(-1,0,0),new Se(0,1,0),new Se(0,-1,0),new Se(0,0,1),new Se(0,0,-1)],TCe=[new Se(0,-1,0),new Se(0,-1,0),new Se(0,0,1),new Se(0,0,-1),new Se(0,-1,0),new Se(0,-1,0)],d$=new Mn,UE=new Se,f6=new Se;function CCe(n,e,t){let r=new Cw;const i=new St,s=new St,a=new ti,o=new yU,l=new vU,c={},f=t.maxTextureSize,d={[Bp]:al,[al]:Bp,[Ld]:Ld},p=new ku({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new St},radius:{value:4}},vertexShader:ECe,fragmentShader:MCe}),g=p.clone();g.defines.HORIZONTAL_PASS=1;const b=new Nn;b.setAttribute("position",new Jr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const S=new Vs(b,p),w=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=G1;let E=this.type;this.render=function(I,B,z){if(w.enabled===!1||w.autoUpdate===!1&&w.needsUpdate===!1||I.length===0)return;this.type===OM&&(Ut("WebGLShadowMap: PCFSoftShadowMap has been deprecated. Using PCFShadowMap instead."),this.type=G1);const V=n.getRenderTarget(),Y=n.getActiveCubeFace(),q=n.getActiveMipmapLevel(),J=n.state;J.setBlending(Jd),J.buffers.depth.getReversed()===!0?J.buffers.color.setClear(0,0,0,0):J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const re=E!==this.type;re&&B.traverse(function(fe){fe.material&&(Array.isArray(fe.material)?fe.material.forEach(ne=>ne.needsUpdate=!0):fe.material.needsUpdate=!0)});for(let fe=0,ne=I.length;fe<ne;fe++){const te=I[fe],se=te.shadow;if(se===void 0){Ut("WebGLShadowMap:",te,"has no shadow.");continue}if(se.autoUpdate===!1&&se.needsUpdate===!1)continue;i.copy(se.mapSize);const be=se.getFrameExtents();i.multiply(be),s.copy(se.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/be.x),i.x=s.x*be.x,se.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/be.y),i.y=s.y*be.y,se.mapSize.y=s.y));const Ee=n.state.buffers.depth.getReversed();if(se.camera._reversedDepth=Ee,se.map===null||re===!0){if(se.map!==null&&(se.map.depthTexture!==null&&(se.map.depthTexture.dispose(),se.map.depthTexture=null),se.map.dispose()),this.type===qy){if(te.isPointLight){Ut("WebGLShadowMap: VSM shadow maps are not supported for PointLights. Use PCF or BasicShadowMap instead.");continue}se.map=new bc(i.x,i.y,{format:qv,type:ih,minFilter:Mi,magFilter:Mi,generateMipmaps:!1}),se.map.texture.name=te.name+".shadowMap",se.map.depthTexture=new q_(i.x,i.y,el),se.map.depthTexture.name=te.name+".shadowMapDepth",se.map.depthTexture.format=sh,se.map.depthTexture.compareFunction=null,se.map.depthTexture.minFilter=Es,se.map.depthTexture.magFilter=Es}else te.isPointLight?(se.map=new RU(i.x),se.map.depthTexture=new Tne(i.x,Cu)):(se.map=new bc(i.x,i.y),se.map.depthTexture=new q_(i.x,i.y,Cu)),se.map.depthTexture.name=te.name+".shadowMap",se.map.depthTexture.format=sh,this.type===G1?(se.map.depthTexture.compareFunction=Ee?RD:kD,se.map.depthTexture.minFilter=Mi,se.map.depthTexture.magFilter=Mi):(se.map.depthTexture.compareFunction=null,se.map.depthTexture.minFilter=Es,se.map.depthTexture.magFilter=Es);se.camera.updateProjectionMatrix()}const oe=se.map.isWebGLCubeRenderTarget?6:1;for(let ee=0;ee<oe;ee++){if(se.map.isWebGLCubeRenderTarget)n.setRenderTarget(se.map,ee),n.clear();else{ee===0&&(n.setRenderTarget(se.map),n.clear());const xe=se.getViewport(ee);a.set(s.x*xe.x,s.y*xe.y,s.x*xe.z,s.y*xe.w),J.viewport(a)}if(te.isPointLight){const xe=se.camera,ae=se.matrix,De=te.distance||xe.far;De!==xe.far&&(xe.far=De,xe.updateProjectionMatrix()),UE.setFromMatrixPosition(te.matrixWorld),xe.position.copy(UE),f6.copy(xe.position),f6.add(ACe[ee]),xe.up.copy(TCe[ee]),xe.lookAt(f6),xe.updateMatrixWorld(),ae.makeTranslation(-UE.x,-UE.y,-UE.z),d$.multiplyMatrices(xe.projectionMatrix,xe.matrixWorldInverse),se._frustum.setFromProjectionMatrix(d$,xe.coordinateSystem,xe.reversedDepth)}else se.updateMatrices(te);r=se.getFrustum(),O(B,z,se.camera,te,this.type)}se.isPointLightShadow!==!0&&this.type===qy&&k(se,z),se.needsUpdate=!1}E=this.type,w.needsUpdate=!1,n.setRenderTarget(V,Y,q)};function k(I,B){const z=e.update(S);p.defines.VSM_SAMPLES!==I.blurSamples&&(p.defines.VSM_SAMPLES=I.blurSamples,g.defines.VSM_SAMPLES=I.blurSamples,p.needsUpdate=!0,g.needsUpdate=!0),I.mapPass===null&&(I.mapPass=new bc(i.x,i.y,{format:qv,type:ih})),p.uniforms.shadow_pass.value=I.map.depthTexture,p.uniforms.resolution.value=I.mapSize,p.uniforms.radius.value=I.radius,n.setRenderTarget(I.mapPass),n.clear(),n.renderBufferDirect(B,null,z,p,S,null),g.uniforms.shadow_pass.value=I.mapPass.texture,g.uniforms.resolution.value=I.mapSize,g.uniforms.radius.value=I.radius,n.setRenderTarget(I.map),n.clear(),n.renderBufferDirect(B,null,z,g,S,null)}function R(I,B,z,V){let Y=null;const q=z.isPointLight===!0?I.customDistanceMaterial:I.customDepthMaterial;if(q!==void 0)Y=q;else if(Y=z.isPointLight===!0?l:o,n.localClippingEnabled&&B.clipShadows===!0&&Array.isArray(B.clippingPlanes)&&B.clippingPlanes.length!==0||B.displacementMap&&B.displacementScale!==0||B.alphaMap&&B.alphaTest>0||B.map&&B.alphaTest>0||B.alphaToCoverage===!0){const J=Y.uuid,re=B.uuid;let fe=c[J];fe===void 0&&(fe={},c[J]=fe);let ne=fe[re];ne===void 0&&(ne=Y.clone(),fe[re]=ne,B.addEventListener("dispose",D)),Y=ne}if(Y.visible=B.visible,Y.wireframe=B.wireframe,V===qy?Y.side=B.shadowSide!==null?B.shadowSide:B.side:Y.side=B.shadowSide!==null?B.shadowSide:d[B.side],Y.alphaMap=B.alphaMap,Y.alphaTest=B.alphaToCoverage===!0?.5:B.alphaTest,Y.map=B.map,Y.clipShadows=B.clipShadows,Y.clippingPlanes=B.clippingPlanes,Y.clipIntersection=B.clipIntersection,Y.displacementMap=B.displacementMap,Y.displacementScale=B.displacementScale,Y.displacementBias=B.displacementBias,Y.wireframeLinewidth=B.wireframeLinewidth,Y.linewidth=B.linewidth,z.isPointLight===!0&&Y.isMeshDistanceMaterial===!0){const J=n.properties.get(Y);J.light=z}return Y}function O(I,B,z,V,Y){if(I.visible===!1)return;if(I.layers.test(B.layers)&&(I.isMesh||I.isLine||I.isPoints)&&(I.castShadow||I.receiveShadow&&Y===qy)&&(!I.frustumCulled||r.intersectsObject(I))){I.modelViewMatrix.multiplyMatrices(z.matrixWorldInverse,I.matrixWorld);const re=e.update(I),fe=I.material;if(Array.isArray(fe)){const ne=re.groups;for(let te=0,se=ne.length;te<se;te++){const be=ne[te],Ee=fe[be.materialIndex];if(Ee&&Ee.visible){const oe=R(I,Ee,V,Y);I.onBeforeShadow(n,I,B,z,re,oe,be),n.renderBufferDirect(z,null,re,oe,I,be),I.onAfterShadow(n,I,B,z,re,oe,be)}}}else if(fe.visible){const ne=R(I,fe,V,Y);I.onBeforeShadow(n,I,B,z,re,ne,null),n.renderBufferDirect(z,null,re,ne,I,null),I.onAfterShadow(n,I,B,z,re,ne,null)}}const J=I.children;for(let re=0,fe=J.length;re<fe;re++)O(J[re],B,z,V,Y)}function D(I){I.target.removeEventListener("dispose",D);for(const z in c){const V=c[z],Y=I.target.uuid;Y in V&&(V[Y].dispose(),delete V[Y])}}}function kCe(n,e){function t(){let Le=!1;const $e=new ti;let At=null;const Lt=new ti(0,0,0,0);return{setMask:function(bt){At!==bt&&!Le&&(n.colorMask(bt,bt,bt,bt),At=bt)},setLocked:function(bt){Le=bt},setClear:function(bt,tt,Dt,an,An){An===!0&&(bt*=an,tt*=an,Dt*=an),$e.set(bt,tt,Dt,an),Lt.equals($e)===!1&&(n.clearColor(bt,tt,Dt,an),Lt.copy($e))},reset:function(){Le=!1,At=null,Lt.set(-1,0,0,0)}}}function r(){let Le=!1,$e=!1,At=null,Lt=null,bt=null;return{setReversed:function(tt){if($e!==tt){const Dt=e.get("EXT_clip_control");tt?Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.ZERO_TO_ONE_EXT):Dt.clipControlEXT(Dt.LOWER_LEFT_EXT,Dt.NEGATIVE_ONE_TO_ONE_EXT),$e=tt;const an=bt;bt=null,this.setClear(an)}},getReversed:function(){return $e},setTest:function(tt){tt?Ue(n.DEPTH_TEST):qe(n.DEPTH_TEST)},setMask:function(tt){At!==tt&&!Le&&(n.depthMask(tt),At=tt)},setFunc:function(tt){if($e&&(tt=J1e[tt]),Lt!==tt){switch(tt){case I2:n.depthFunc(n.NEVER);break;case N2:n.depthFunc(n.ALWAYS);break;case L2:n.depthFunc(n.LESS);break;case Gv:n.depthFunc(n.LEQUAL);break;case B2:n.depthFunc(n.EQUAL);break;case F2:n.depthFunc(n.GEQUAL);break;case z2:n.depthFunc(n.GREATER);break;case U2:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Lt=tt}},setLocked:function(tt){Le=tt},setClear:function(tt){bt!==tt&&(bt=tt,$e&&(tt=1-tt),n.clearDepth(tt))},reset:function(){Le=!1,At=null,Lt=null,bt=null,$e=!1}}}function i(){let Le=!1,$e=null,At=null,Lt=null,bt=null,tt=null,Dt=null,an=null,An=null;return{setTest:function(kn){Le||(kn?Ue(n.STENCIL_TEST):qe(n.STENCIL_TEST))},setMask:function(kn){$e!==kn&&!Le&&(n.stencilMask(kn),$e=kn)},setFunc:function(kn,Wr,pi){(At!==kn||Lt!==Wr||bt!==pi)&&(n.stencilFunc(kn,Wr,pi),At=kn,Lt=Wr,bt=pi)},setOp:function(kn,Wr,pi){(tt!==kn||Dt!==Wr||an!==pi)&&(n.stencilOp(kn,Wr,pi),tt=kn,Dt=Wr,an=pi)},setLocked:function(kn){Le=kn},setClear:function(kn){An!==kn&&(n.clearStencil(kn),An=kn)},reset:function(){Le=!1,$e=null,At=null,Lt=null,bt=null,tt=null,Dt=null,an=null,An=null}}}const s=new t,a=new r,o=new i,l=new WeakMap,c=new WeakMap;let f={},d={},p=new WeakMap,g=[],b=null,S=!1,w=null,E=null,k=null,R=null,O=null,D=null,I=null,B=new qt(0,0,0),z=0,V=!1,Y=null,q=null,J=null,re=null,fe=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let te=!1,se=0;const be=n.getParameter(n.VERSION);be.indexOf("WebGL")!==-1?(se=parseFloat(/^WebGL (\d)/.exec(be)[1]),te=se>=1):be.indexOf("OpenGL ES")!==-1&&(se=parseFloat(/^OpenGL ES (\d)/.exec(be)[1]),te=se>=2);let Ee=null,oe={};const ee=n.getParameter(n.SCISSOR_BOX),xe=n.getParameter(n.VIEWPORT),ae=new ti().fromArray(ee),De=new ti().fromArray(xe);function dt(Le,$e,At,Lt){const bt=new Uint8Array(4),tt=n.createTexture();n.bindTexture(Le,tt),n.texParameteri(Le,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Le,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Dt=0;Dt<At;Dt++)Le===n.TEXTURE_3D||Le===n.TEXTURE_2D_ARRAY?n.texImage3D($e,0,n.RGBA,1,1,Lt,0,n.RGBA,n.UNSIGNED_BYTE,bt):n.texImage2D($e+Dt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,bt);return tt}const Ne={};Ne[n.TEXTURE_2D]=dt(n.TEXTURE_2D,n.TEXTURE_2D,1),Ne[n.TEXTURE_CUBE_MAP]=dt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Ne[n.TEXTURE_2D_ARRAY]=dt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ne[n.TEXTURE_3D]=dt(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),Ue(n.DEPTH_TEST),a.setFunc(Gv),Qe(!1),mt(T8),Ue(n.CULL_FACE),Ve(Jd);function Ue(Le){f[Le]!==!0&&(n.enable(Le),f[Le]=!0)}function qe(Le){f[Le]!==!1&&(n.disable(Le),f[Le]=!1)}function Pe(Le,$e){return d[Le]!==$e?(n.bindFramebuffer(Le,$e),d[Le]=$e,Le===n.DRAW_FRAMEBUFFER&&(d[n.FRAMEBUFFER]=$e),Le===n.FRAMEBUFFER&&(d[n.DRAW_FRAMEBUFFER]=$e),!0):!1}function lt(Le,$e){let At=g,Lt=!1;if(Le){At=p.get($e),At===void 0&&(At=[],p.set($e,At));const bt=Le.textures;if(At.length!==bt.length||At[0]!==n.COLOR_ATTACHMENT0){for(let tt=0,Dt=bt.length;tt<Dt;tt++)At[tt]=n.COLOR_ATTACHMENT0+tt;At.length=bt.length,Lt=!0}}else At[0]!==n.BACK&&(At[0]=n.BACK,Lt=!0);Lt&&n.drawBuffers(At)}function Mt(Le){return b!==Le?(n.useProgram(Le),b=Le,!0):!1}const Ze={[y0]:n.FUNC_ADD,[Lte]:n.FUNC_SUBTRACT,[Bte]:n.FUNC_REVERSE_SUBTRACT};Ze[Fte]=n.MIN,Ze[zte]=n.MAX;const _t={[Ute]:n.ZERO,[jte]:n.ONE,[Hte]:n.SRC_COLOR,[P2]:n.SRC_ALPHA,[Yte]:n.SRC_ALPHA_SATURATE,[Gte]:n.DST_COLOR,[Wte]:n.DST_ALPHA,[Vte]:n.ONE_MINUS_SRC_COLOR,[D2]:n.ONE_MINUS_SRC_ALPHA,[qte]:n.ONE_MINUS_DST_COLOR,[$te]:n.ONE_MINUS_DST_ALPHA,[Xte]:n.CONSTANT_COLOR,[Kte]:n.ONE_MINUS_CONSTANT_COLOR,[Jte]:n.CONSTANT_ALPHA,[Zte]:n.ONE_MINUS_CONSTANT_ALPHA};function Ve(Le,$e,At,Lt,bt,tt,Dt,an,An,kn){if(Le===Jd){S===!0&&(qe(n.BLEND),S=!1);return}if(S===!1&&(Ue(n.BLEND),S=!0),Le!==Nte){if(Le!==w||kn!==V){if((E!==y0||O!==y0)&&(n.blendEquation(n.FUNC_ADD),E=y0,O=y0),kn)switch(Le){case Iv:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case C8:n.blendFunc(n.ONE,n.ONE);break;case k8:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case R8:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:on("WebGLState: Invalid blending: ",Le);break}else switch(Le){case Iv:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case C8:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case k8:on("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case R8:on("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:on("WebGLState: Invalid blending: ",Le);break}k=null,R=null,D=null,I=null,B.set(0,0,0),z=0,w=Le,V=kn}return}bt=bt||$e,tt=tt||At,Dt=Dt||Lt,($e!==E||bt!==O)&&(n.blendEquationSeparate(Ze[$e],Ze[bt]),E=$e,O=bt),(At!==k||Lt!==R||tt!==D||Dt!==I)&&(n.blendFuncSeparate(_t[At],_t[Lt],_t[tt],_t[Dt]),k=At,R=Lt,D=tt,I=Dt),(an.equals(B)===!1||An!==z)&&(n.blendColor(an.r,an.g,an.b,An),B.copy(an),z=An),w=Le,V=!1}function ot(Le,$e){Le.side===Ld?qe(n.CULL_FACE):Ue(n.CULL_FACE);let At=Le.side===al;$e&&(At=!At),Qe(At),Le.blending===Iv&&Le.transparent===!1?Ve(Jd):Ve(Le.blending,Le.blendEquation,Le.blendSrc,Le.blendDst,Le.blendEquationAlpha,Le.blendSrcAlpha,Le.blendDstAlpha,Le.blendColor,Le.blendAlpha,Le.premultipliedAlpha),a.setFunc(Le.depthFunc),a.setTest(Le.depthTest),a.setMask(Le.depthWrite),s.setMask(Le.colorWrite);const Lt=Le.stencilWrite;o.setTest(Lt),Lt&&(o.setMask(Le.stencilWriteMask),o.setFunc(Le.stencilFunc,Le.stencilRef,Le.stencilFuncMask),o.setOp(Le.stencilFail,Le.stencilZFail,Le.stencilZPass)),zt(Le.polygonOffset,Le.polygonOffsetFactor,Le.polygonOffsetUnits),Le.alphaToCoverage===!0?Ue(n.SAMPLE_ALPHA_TO_COVERAGE):qe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Qe(Le){Y!==Le&&(Le?n.frontFace(n.CW):n.frontFace(n.CCW),Y=Le)}function mt(Le){Le!==Pte?(Ue(n.CULL_FACE),Le!==q&&(Le===T8?n.cullFace(n.BACK):Le===Dte?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):qe(n.CULL_FACE),q=Le}function _e(Le){Le!==J&&(te&&n.lineWidth(Le),J=Le)}function zt(Le,$e,At){Le?(Ue(n.POLYGON_OFFSET_FILL),(re!==$e||fe!==At)&&(re=$e,fe=At,a.getReversed()&&($e=-$e),n.polygonOffset($e,At))):qe(n.POLYGON_OFFSET_FILL)}function kt(Le){Le?Ue(n.SCISSOR_TEST):qe(n.SCISSOR_TEST)}function Vt(Le){Le===void 0&&(Le=n.TEXTURE0+ne-1),Ee!==Le&&(n.activeTexture(Le),Ee=Le)}function gt(Le,$e,At){At===void 0&&(Ee===null?At=n.TEXTURE0+ne-1:At=Ee);let Lt=oe[At];Lt===void 0&&(Lt={type:void 0,texture:void 0},oe[At]=Lt),(Lt.type!==Le||Lt.texture!==$e)&&(Ee!==At&&(n.activeTexture(At),Ee=At),n.bindTexture(Le,$e||Ne[Le]),Lt.type=Le,Lt.texture=$e)}function ge(){const Le=oe[Ee];Le!==void 0&&Le.type!==void 0&&(n.bindTexture(Le.type,null),Le.type=void 0,Le.texture=void 0)}function ie(){try{n.compressedTexImage2D(...arguments)}catch(Le){on("WebGLState:",Le)}}function Ie(){try{n.compressedTexImage3D(...arguments)}catch(Le){on("WebGLState:",Le)}}function we(){try{n.texSubImage2D(...arguments)}catch(Le){on("WebGLState:",Le)}}function K(){try{n.texSubImage3D(...arguments)}catch(Le){on("WebGLState:",Le)}}function j(){try{n.compressedTexSubImage2D(...arguments)}catch(Le){on("WebGLState:",Le)}}function $(){try{n.compressedTexSubImage3D(...arguments)}catch(Le){on("WebGLState:",Le)}}function ce(){try{n.texStorage2D(...arguments)}catch(Le){on("WebGLState:",Le)}}function le(){try{n.texStorage3D(...arguments)}catch(Le){on("WebGLState:",Le)}}function Re(){try{n.texImage2D(...arguments)}catch(Le){on("WebGLState:",Le)}}function Me(){try{n.texImage3D(...arguments)}catch(Le){on("WebGLState:",Le)}}function ue(Le){ae.equals(Le)===!1&&(n.scissor(Le.x,Le.y,Le.z,Le.w),ae.copy(Le))}function vt(Le){De.equals(Le)===!1&&(n.viewport(Le.x,Le.y,Le.z,Le.w),De.copy(Le))}function ft(Le,$e){let At=c.get($e);At===void 0&&(At=new WeakMap,c.set($e,At));let Lt=At.get(Le);Lt===void 0&&(Lt=n.getUniformBlockIndex($e,Le.name),At.set(Le,Lt))}function ct(Le,$e){const Lt=c.get($e).get(Le);l.get($e)!==Lt&&(n.uniformBlockBinding($e,Lt,Le.__bindingPointIndex),l.set($e,Lt))}function Rt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),f={},Ee=null,oe={},d={},p=new WeakMap,g=[],b=null,S=!1,w=null,E=null,k=null,R=null,O=null,D=null,I=null,B=new qt(0,0,0),z=0,V=!1,Y=null,q=null,J=null,re=null,fe=null,ae.set(0,0,n.canvas.width,n.canvas.height),De.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:Ue,disable:qe,bindFramebuffer:Pe,drawBuffers:lt,useProgram:Mt,setBlending:Ve,setMaterial:ot,setFlipSided:Qe,setCullFace:mt,setLineWidth:_e,setPolygonOffset:zt,setScissorTest:kt,activeTexture:Vt,bindTexture:gt,unbindTexture:ge,compressedTexImage2D:ie,compressedTexImage3D:Ie,texImage2D:Re,texImage3D:Me,updateUBOMapping:ft,uniformBlockBinding:ct,texStorage2D:ce,texStorage3D:le,texSubImage2D:we,texSubImage3D:K,compressedTexSubImage2D:j,compressedTexSubImage3D:$,scissor:ue,viewport:vt,reset:Rt}}function RCe(n,e,t,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new St,f=new WeakMap;let d;const p=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(ge,ie){return g?new OffscreenCanvas(ge,ie):dA("canvas")}function S(ge,ie,Ie){let we=1;const K=gt(ge);if((K.width>Ie||K.height>Ie)&&(we=Ie/Math.max(K.width,K.height)),we<1)if(typeof HTMLImageElement<"u"&&ge instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ge instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ge instanceof ImageBitmap||typeof VideoFrame<"u"&&ge instanceof VideoFrame){const j=Math.floor(we*K.width),$=Math.floor(we*K.height);d===void 0&&(d=b(j,$));const ce=ie?b(j,$):d;return ce.width=j,ce.height=$,ce.getContext("2d").drawImage(ge,0,0,j,$),Ut("WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+j+"x"+$+")."),ce}else return"data"in ge&&Ut("WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),ge;return ge}function w(ge){return ge.generateMipmaps}function E(ge){n.generateMipmap(ge)}function k(ge){return ge.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:ge.isWebGL3DRenderTarget?n.TEXTURE_3D:ge.isWebGLArrayRenderTarget||ge.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function R(ge,ie,Ie,we,K=!1){if(ge!==null){if(n[ge]!==void 0)return n[ge];Ut("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ge+"'")}let j=ie;if(ie===n.RED&&(Ie===n.FLOAT&&(j=n.R32F),Ie===n.HALF_FLOAT&&(j=n.R16F),Ie===n.UNSIGNED_BYTE&&(j=n.R8)),ie===n.RED_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(j=n.R8UI),Ie===n.UNSIGNED_SHORT&&(j=n.R16UI),Ie===n.UNSIGNED_INT&&(j=n.R32UI),Ie===n.BYTE&&(j=n.R8I),Ie===n.SHORT&&(j=n.R16I),Ie===n.INT&&(j=n.R32I)),ie===n.RG&&(Ie===n.FLOAT&&(j=n.RG32F),Ie===n.HALF_FLOAT&&(j=n.RG16F),Ie===n.UNSIGNED_BYTE&&(j=n.RG8)),ie===n.RG_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(j=n.RG8UI),Ie===n.UNSIGNED_SHORT&&(j=n.RG16UI),Ie===n.UNSIGNED_INT&&(j=n.RG32UI),Ie===n.BYTE&&(j=n.RG8I),Ie===n.SHORT&&(j=n.RG16I),Ie===n.INT&&(j=n.RG32I)),ie===n.RGB_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(j=n.RGB8UI),Ie===n.UNSIGNED_SHORT&&(j=n.RGB16UI),Ie===n.UNSIGNED_INT&&(j=n.RGB32UI),Ie===n.BYTE&&(j=n.RGB8I),Ie===n.SHORT&&(j=n.RGB16I),Ie===n.INT&&(j=n.RGB32I)),ie===n.RGBA_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(j=n.RGBA8UI),Ie===n.UNSIGNED_SHORT&&(j=n.RGBA16UI),Ie===n.UNSIGNED_INT&&(j=n.RGBA32UI),Ie===n.BYTE&&(j=n.RGBA8I),Ie===n.SHORT&&(j=n.RGBA16I),Ie===n.INT&&(j=n.RGBA32I)),ie===n.RGB&&(Ie===n.UNSIGNED_INT_5_9_9_9_REV&&(j=n.RGB9_E5),Ie===n.UNSIGNED_INT_10F_11F_11F_REV&&(j=n.R11F_G11F_B10F)),ie===n.RGBA){const $=K?uA:dr.getTransfer(we);Ie===n.FLOAT&&(j=n.RGBA32F),Ie===n.HALF_FLOAT&&(j=n.RGBA16F),Ie===n.UNSIGNED_BYTE&&(j=$===Fr?n.SRGB8_ALPHA8:n.RGBA8),Ie===n.UNSIGNED_SHORT_4_4_4_4&&(j=n.RGBA4),Ie===n.UNSIGNED_SHORT_5_5_5_1&&(j=n.RGB5_A1)}return(j===n.R16F||j===n.R32F||j===n.RG16F||j===n.RG32F||j===n.RGBA16F||j===n.RGBA32F)&&e.get("EXT_color_buffer_float"),j}function O(ge,ie){let Ie;return ge?ie===null||ie===Cu||ie===V_?Ie=n.DEPTH24_STENCIL8:ie===el?Ie=n.DEPTH32F_STENCIL8:ie===H_&&(Ie=n.DEPTH24_STENCIL8,Ut("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ie===null||ie===Cu||ie===V_?Ie=n.DEPTH_COMPONENT24:ie===el?Ie=n.DEPTH_COMPONENT32F:ie===H_&&(Ie=n.DEPTH_COMPONENT16),Ie}function D(ge,ie){return w(ge)===!0||ge.isFramebufferTexture&&ge.minFilter!==Es&&ge.minFilter!==Mi?Math.log2(Math.max(ie.width,ie.height))+1:ge.mipmaps!==void 0&&ge.mipmaps.length>0?ge.mipmaps.length:ge.isCompressedTexture&&Array.isArray(ge.image)?ie.mipmaps.length:1}function I(ge){const ie=ge.target;ie.removeEventListener("dispose",I),z(ie),ie.isVideoTexture&&f.delete(ie)}function B(ge){const ie=ge.target;ie.removeEventListener("dispose",B),Y(ie)}function z(ge){const ie=r.get(ge);if(ie.__webglInit===void 0)return;const Ie=ge.source,we=p.get(Ie);if(we){const K=we[ie.__cacheKey];K.usedTimes--,K.usedTimes===0&&V(ge),Object.keys(we).length===0&&p.delete(Ie)}r.remove(ge)}function V(ge){const ie=r.get(ge);n.deleteTexture(ie.__webglTexture);const Ie=ge.source,we=p.get(Ie);delete we[ie.__cacheKey],a.memory.textures--}function Y(ge){const ie=r.get(ge);if(ge.depthTexture&&(ge.depthTexture.dispose(),r.remove(ge.depthTexture)),ge.isWebGLCubeRenderTarget)for(let we=0;we<6;we++){if(Array.isArray(ie.__webglFramebuffer[we]))for(let K=0;K<ie.__webglFramebuffer[we].length;K++)n.deleteFramebuffer(ie.__webglFramebuffer[we][K]);else n.deleteFramebuffer(ie.__webglFramebuffer[we]);ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer[we])}else{if(Array.isArray(ie.__webglFramebuffer))for(let we=0;we<ie.__webglFramebuffer.length;we++)n.deleteFramebuffer(ie.__webglFramebuffer[we]);else n.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let we=0;we<ie.__webglColorRenderbuffer.length;we++)ie.__webglColorRenderbuffer[we]&&n.deleteRenderbuffer(ie.__webglColorRenderbuffer[we]);ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}const Ie=ge.textures;for(let we=0,K=Ie.length;we<K;we++){const j=r.get(Ie[we]);j.__webglTexture&&(n.deleteTexture(j.__webglTexture),a.memory.textures--),r.remove(Ie[we])}r.remove(ge)}let q=0;function J(){q=0}function re(){const ge=q;return ge>=i.maxTextures&&Ut("WebGLTextures: Trying to use "+ge+" texture units while this GPU supports only "+i.maxTextures),q+=1,ge}function fe(ge){const ie=[];return ie.push(ge.wrapS),ie.push(ge.wrapT),ie.push(ge.wrapR||0),ie.push(ge.magFilter),ie.push(ge.minFilter),ie.push(ge.anisotropy),ie.push(ge.internalFormat),ie.push(ge.format),ie.push(ge.type),ie.push(ge.generateMipmaps),ie.push(ge.premultiplyAlpha),ie.push(ge.flipY),ie.push(ge.unpackAlignment),ie.push(ge.colorSpace),ie.join()}function ne(ge,ie){const Ie=r.get(ge);if(ge.isVideoTexture&&kt(ge),ge.isRenderTargetTexture===!1&&ge.isExternalTexture!==!0&&ge.version>0&&Ie.__version!==ge.version){const we=ge.image;if(we===null)Ut("WebGLRenderer: Texture marked for update but no image data found.");else if(we.complete===!1)Ut("WebGLRenderer: Texture marked for update but image is incomplete");else{Ne(Ie,ge,ie);return}}else ge.isExternalTexture&&(Ie.__webglTexture=ge.sourceTexture?ge.sourceTexture:null);t.bindTexture(n.TEXTURE_2D,Ie.__webglTexture,n.TEXTURE0+ie)}function te(ge,ie){const Ie=r.get(ge);if(ge.isRenderTargetTexture===!1&&ge.version>0&&Ie.__version!==ge.version){Ne(Ie,ge,ie);return}else ge.isExternalTexture&&(Ie.__webglTexture=ge.sourceTexture?ge.sourceTexture:null);t.bindTexture(n.TEXTURE_2D_ARRAY,Ie.__webglTexture,n.TEXTURE0+ie)}function se(ge,ie){const Ie=r.get(ge);if(ge.isRenderTargetTexture===!1&&ge.version>0&&Ie.__version!==ge.version){Ne(Ie,ge,ie);return}t.bindTexture(n.TEXTURE_3D,Ie.__webglTexture,n.TEXTURE0+ie)}function be(ge,ie){const Ie=r.get(ge);if(ge.isCubeDepthTexture!==!0&&ge.version>0&&Ie.__version!==ge.version){Ue(Ie,ge,ie);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ie.__webglTexture,n.TEXTURE0+ie)}const Ee={[aA]:n.REPEAT,[Vl]:n.CLAMP_TO_EDGE,[oA]:n.MIRRORED_REPEAT},oe={[Es]:n.NEAREST,[Gz]:n.NEAREST_MIPMAP_NEAREST,[R1]:n.NEAREST_MIPMAP_LINEAR,[Mi]:n.LINEAR,[IM]:n.LINEAR_MIPMAP_NEAREST,[Vd]:n.LINEAR_MIPMAP_LINEAR},ee={[one]:n.NEVER,[dne]:n.ALWAYS,[lne]:n.LESS,[kD]:n.LEQUAL,[cne]:n.EQUAL,[RD]:n.GEQUAL,[une]:n.GREATER,[fne]:n.NOTEQUAL};function xe(ge,ie){if(ie.type===el&&e.has("OES_texture_float_linear")===!1&&(ie.magFilter===Mi||ie.magFilter===IM||ie.magFilter===R1||ie.magFilter===Vd||ie.minFilter===Mi||ie.minFilter===IM||ie.minFilter===R1||ie.minFilter===Vd)&&Ut("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(ge,n.TEXTURE_WRAP_S,Ee[ie.wrapS]),n.texParameteri(ge,n.TEXTURE_WRAP_T,Ee[ie.wrapT]),(ge===n.TEXTURE_3D||ge===n.TEXTURE_2D_ARRAY)&&n.texParameteri(ge,n.TEXTURE_WRAP_R,Ee[ie.wrapR]),n.texParameteri(ge,n.TEXTURE_MAG_FILTER,oe[ie.magFilter]),n.texParameteri(ge,n.TEXTURE_MIN_FILTER,oe[ie.minFilter]),ie.compareFunction&&(n.texParameteri(ge,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(ge,n.TEXTURE_COMPARE_FUNC,ee[ie.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ie.magFilter===Es||ie.minFilter!==R1&&ie.minFilter!==Vd||ie.type===el&&e.has("OES_texture_float_linear")===!1)return;if(ie.anisotropy>1||r.get(ie).__currentAnisotropy){const Ie=e.get("EXT_texture_filter_anisotropic");n.texParameterf(ge,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ie.anisotropy,i.getMaxAnisotropy())),r.get(ie).__currentAnisotropy=ie.anisotropy}}}function ae(ge,ie){let Ie=!1;ge.__webglInit===void 0&&(ge.__webglInit=!0,ie.addEventListener("dispose",I));const we=ie.source;let K=p.get(we);K===void 0&&(K={},p.set(we,K));const j=fe(ie);if(j!==ge.__cacheKey){K[j]===void 0&&(K[j]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Ie=!0),K[j].usedTimes++;const $=K[ge.__cacheKey];$!==void 0&&(K[ge.__cacheKey].usedTimes--,$.usedTimes===0&&V(ie)),ge.__cacheKey=j,ge.__webglTexture=K[j].texture}return Ie}function De(ge,ie,Ie){return Math.floor(Math.floor(ge/Ie)/ie)}function dt(ge,ie,Ie,we){const j=ge.updateRanges;if(j.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,ie.width,ie.height,Ie,we,ie.data);else{j.sort((Me,ue)=>Me.start-ue.start);let $=0;for(let Me=1;Me<j.length;Me++){const ue=j[$],vt=j[Me],ft=ue.start+ue.count,ct=De(vt.start,ie.width,4),Rt=De(ue.start,ie.width,4);vt.start<=ft+1&&ct===Rt&&De(vt.start+vt.count-1,ie.width,4)===ct?ue.count=Math.max(ue.count,vt.start+vt.count-ue.start):(++$,j[$]=vt)}j.length=$+1;const ce=n.getParameter(n.UNPACK_ROW_LENGTH),le=n.getParameter(n.UNPACK_SKIP_PIXELS),Re=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,ie.width);for(let Me=0,ue=j.length;Me<ue;Me++){const vt=j[Me],ft=Math.floor(vt.start/4),ct=Math.ceil(vt.count/4),Rt=ft%ie.width,Le=Math.floor(ft/ie.width),$e=ct,At=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Rt),n.pixelStorei(n.UNPACK_SKIP_ROWS,Le),t.texSubImage2D(n.TEXTURE_2D,0,Rt,Le,$e,At,Ie,we,ie.data)}ge.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,ce),n.pixelStorei(n.UNPACK_SKIP_PIXELS,le),n.pixelStorei(n.UNPACK_SKIP_ROWS,Re)}}function Ne(ge,ie,Ie){let we=n.TEXTURE_2D;(ie.isDataArrayTexture||ie.isCompressedArrayTexture)&&(we=n.TEXTURE_2D_ARRAY),ie.isData3DTexture&&(we=n.TEXTURE_3D);const K=ae(ge,ie),j=ie.source;t.bindTexture(we,ge.__webglTexture,n.TEXTURE0+Ie);const $=r.get(j);if(j.version!==$.__version||K===!0){t.activeTexture(n.TEXTURE0+Ie);const ce=dr.getPrimaries(dr.workingColorSpace),le=ie.colorSpace===xp?null:dr.getPrimaries(ie.colorSpace),Re=ie.colorSpace===xp||ce===le?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ie.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ie.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Re);let Me=S(ie.image,!1,i.maxTextureSize);Me=Vt(ie,Me);const ue=s.convert(ie.format,ie.colorSpace),vt=s.convert(ie.type);let ft=R(ie.internalFormat,ue,vt,ie.colorSpace,ie.isVideoTexture);xe(we,ie);let ct;const Rt=ie.mipmaps,Le=ie.isVideoTexture!==!0,$e=$.__version===void 0||K===!0,At=j.dataReady,Lt=D(ie,Me);if(ie.isDepthTexture)ft=O(ie.format===L0,ie.type),$e&&(Le?t.texStorage2D(n.TEXTURE_2D,1,ft,Me.width,Me.height):t.texImage2D(n.TEXTURE_2D,0,ft,Me.width,Me.height,0,ue,vt,null));else if(ie.isDataTexture)if(Rt.length>0){Le&&$e&&t.texStorage2D(n.TEXTURE_2D,Lt,ft,Rt[0].width,Rt[0].height);for(let bt=0,tt=Rt.length;bt<tt;bt++)ct=Rt[bt],Le?At&&t.texSubImage2D(n.TEXTURE_2D,bt,0,0,ct.width,ct.height,ue,vt,ct.data):t.texImage2D(n.TEXTURE_2D,bt,ft,ct.width,ct.height,0,ue,vt,ct.data);ie.generateMipmaps=!1}else Le?($e&&t.texStorage2D(n.TEXTURE_2D,Lt,ft,Me.width,Me.height),At&&dt(ie,Me,ue,vt)):t.texImage2D(n.TEXTURE_2D,0,ft,Me.width,Me.height,0,ue,vt,Me.data);else if(ie.isCompressedTexture)if(ie.isCompressedArrayTexture){Le&&$e&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Lt,ft,Rt[0].width,Rt[0].height,Me.depth);for(let bt=0,tt=Rt.length;bt<tt;bt++)if(ct=Rt[bt],ie.format!==To)if(ue!==null)if(Le){if(At)if(ie.layerUpdates.size>0){const Dt=j8(ct.width,ct.height,ie.format,ie.type);for(const an of ie.layerUpdates){const An=ct.data.subarray(an*Dt/ct.data.BYTES_PER_ELEMENT,(an+1)*Dt/ct.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,bt,0,0,an,ct.width,ct.height,1,ue,An)}ie.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,bt,0,0,0,ct.width,ct.height,Me.depth,ue,ct.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,bt,ft,ct.width,ct.height,Me.depth,0,ct.data,0,0);else Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Le?At&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,bt,0,0,0,ct.width,ct.height,Me.depth,ue,vt,ct.data):t.texImage3D(n.TEXTURE_2D_ARRAY,bt,ft,ct.width,ct.height,Me.depth,0,ue,vt,ct.data)}else{Le&&$e&&t.texStorage2D(n.TEXTURE_2D,Lt,ft,Rt[0].width,Rt[0].height);for(let bt=0,tt=Rt.length;bt<tt;bt++)ct=Rt[bt],ie.format!==To?ue!==null?Le?At&&t.compressedTexSubImage2D(n.TEXTURE_2D,bt,0,0,ct.width,ct.height,ue,ct.data):t.compressedTexImage2D(n.TEXTURE_2D,bt,ft,ct.width,ct.height,0,ct.data):Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Le?At&&t.texSubImage2D(n.TEXTURE_2D,bt,0,0,ct.width,ct.height,ue,vt,ct.data):t.texImage2D(n.TEXTURE_2D,bt,ft,ct.width,ct.height,0,ue,vt,ct.data)}else if(ie.isDataArrayTexture)if(Le){if($e&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Lt,ft,Me.width,Me.height,Me.depth),At)if(ie.layerUpdates.size>0){const bt=j8(Me.width,Me.height,ie.format,ie.type);for(const tt of ie.layerUpdates){const Dt=Me.data.subarray(tt*bt/Me.data.BYTES_PER_ELEMENT,(tt+1)*bt/Me.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,tt,Me.width,Me.height,1,ue,vt,Dt)}ie.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,ue,vt,Me.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ft,Me.width,Me.height,Me.depth,0,ue,vt,Me.data);else if(ie.isData3DTexture)Le?($e&&t.texStorage3D(n.TEXTURE_3D,Lt,ft,Me.width,Me.height,Me.depth),At&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,ue,vt,Me.data)):t.texImage3D(n.TEXTURE_3D,0,ft,Me.width,Me.height,Me.depth,0,ue,vt,Me.data);else if(ie.isFramebufferTexture){if($e)if(Le)t.texStorage2D(n.TEXTURE_2D,Lt,ft,Me.width,Me.height);else{let bt=Me.width,tt=Me.height;for(let Dt=0;Dt<Lt;Dt++)t.texImage2D(n.TEXTURE_2D,Dt,ft,bt,tt,0,ue,vt,null),bt>>=1,tt>>=1}}else if(Rt.length>0){if(Le&&$e){const bt=gt(Rt[0]);t.texStorage2D(n.TEXTURE_2D,Lt,ft,bt.width,bt.height)}for(let bt=0,tt=Rt.length;bt<tt;bt++)ct=Rt[bt],Le?At&&t.texSubImage2D(n.TEXTURE_2D,bt,0,0,ue,vt,ct):t.texImage2D(n.TEXTURE_2D,bt,ft,ue,vt,ct);ie.generateMipmaps=!1}else if(Le){if($e){const bt=gt(Me);t.texStorage2D(n.TEXTURE_2D,Lt,ft,bt.width,bt.height)}At&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ue,vt,Me)}else t.texImage2D(n.TEXTURE_2D,0,ft,ue,vt,Me);w(ie)&&E(we),$.__version=j.version,ie.onUpdate&&ie.onUpdate(ie)}ge.__version=ie.version}function Ue(ge,ie,Ie){if(ie.image.length!==6)return;const we=ae(ge,ie),K=ie.source;t.bindTexture(n.TEXTURE_CUBE_MAP,ge.__webglTexture,n.TEXTURE0+Ie);const j=r.get(K);if(K.version!==j.__version||we===!0){t.activeTexture(n.TEXTURE0+Ie);const $=dr.getPrimaries(dr.workingColorSpace),ce=ie.colorSpace===xp?null:dr.getPrimaries(ie.colorSpace),le=ie.colorSpace===xp||$===ce?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ie.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ie.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,le);const Re=ie.isCompressedTexture||ie.image[0].isCompressedTexture,Me=ie.image[0]&&ie.image[0].isDataTexture,ue=[];for(let tt=0;tt<6;tt++)!Re&&!Me?ue[tt]=S(ie.image[tt],!0,i.maxCubemapSize):ue[tt]=Me?ie.image[tt].image:ie.image[tt],ue[tt]=Vt(ie,ue[tt]);const vt=ue[0],ft=s.convert(ie.format,ie.colorSpace),ct=s.convert(ie.type),Rt=R(ie.internalFormat,ft,ct,ie.colorSpace),Le=ie.isVideoTexture!==!0,$e=j.__version===void 0||we===!0,At=K.dataReady;let Lt=D(ie,vt);xe(n.TEXTURE_CUBE_MAP,ie);let bt;if(Re){Le&&$e&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Lt,Rt,vt.width,vt.height);for(let tt=0;tt<6;tt++){bt=ue[tt].mipmaps;for(let Dt=0;Dt<bt.length;Dt++){const an=bt[Dt];ie.format!==To?ft!==null?Le?At&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt,0,0,an.width,an.height,ft,an.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt,Rt,an.width,an.height,0,an.data):Ut("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Le?At&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt,0,0,an.width,an.height,ft,ct,an.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt,Rt,an.width,an.height,0,ft,ct,an.data)}}}else{if(bt=ie.mipmaps,Le&&$e){bt.length>0&&Lt++;const tt=gt(ue[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Lt,Rt,tt.width,tt.height)}for(let tt=0;tt<6;tt++)if(Me){Le?At&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,ue[tt].width,ue[tt].height,ft,ct,ue[tt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,Rt,ue[tt].width,ue[tt].height,0,ft,ct,ue[tt].data);for(let Dt=0;Dt<bt.length;Dt++){const An=bt[Dt].image[tt].image;Le?At&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt+1,0,0,An.width,An.height,ft,ct,An.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt+1,Rt,An.width,An.height,0,ft,ct,An.data)}}else{Le?At&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,0,0,ft,ct,ue[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,0,Rt,ft,ct,ue[tt]);for(let Dt=0;Dt<bt.length;Dt++){const an=bt[Dt];Le?At&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt+1,0,0,ft,ct,an.image[tt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+tt,Dt+1,Rt,ft,ct,an.image[tt])}}}w(ie)&&E(n.TEXTURE_CUBE_MAP),j.__version=K.version,ie.onUpdate&&ie.onUpdate(ie)}ge.__version=ie.version}function qe(ge,ie,Ie,we,K,j){const $=s.convert(Ie.format,Ie.colorSpace),ce=s.convert(Ie.type),le=R(Ie.internalFormat,$,ce,Ie.colorSpace),Re=r.get(ie),Me=r.get(Ie);if(Me.__renderTarget=ie,!Re.__hasExternalTextures){const ue=Math.max(1,ie.width>>j),vt=Math.max(1,ie.height>>j);K===n.TEXTURE_3D||K===n.TEXTURE_2D_ARRAY?t.texImage3D(K,j,le,ue,vt,ie.depth,0,$,ce,null):t.texImage2D(K,j,le,ue,vt,0,$,ce,null)}t.bindFramebuffer(n.FRAMEBUFFER,ge),zt(ie)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,we,K,Me.__webglTexture,0,_e(ie)):(K===n.TEXTURE_2D||K>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&K<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,we,K,Me.__webglTexture,j),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Pe(ge,ie,Ie){if(n.bindRenderbuffer(n.RENDERBUFFER,ge),ie.depthBuffer){const we=ie.depthTexture,K=we&&we.isDepthTexture?we.type:null,j=O(ie.stencilBuffer,K),$=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;zt(ie)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,_e(ie),j,ie.width,ie.height):Ie?n.renderbufferStorageMultisample(n.RENDERBUFFER,_e(ie),j,ie.width,ie.height):n.renderbufferStorage(n.RENDERBUFFER,j,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,$,n.RENDERBUFFER,ge)}else{const we=ie.textures;for(let K=0;K<we.length;K++){const j=we[K],$=s.convert(j.format,j.colorSpace),ce=s.convert(j.type),le=R(j.internalFormat,$,ce,j.colorSpace);zt(ie)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,_e(ie),le,ie.width,ie.height):Ie?n.renderbufferStorageMultisample(n.RENDERBUFFER,_e(ie),le,ie.width,ie.height):n.renderbufferStorage(n.RENDERBUFFER,le,ie.width,ie.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function lt(ge,ie,Ie){const we=ie.isWebGLCubeRenderTarget===!0;if(t.bindFramebuffer(n.FRAMEBUFFER,ge),!(ie.depthTexture&&ie.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const K=r.get(ie.depthTexture);if(K.__renderTarget=ie,(!K.__webglTexture||ie.depthTexture.image.width!==ie.width||ie.depthTexture.image.height!==ie.height)&&(ie.depthTexture.image.width=ie.width,ie.depthTexture.image.height=ie.height,ie.depthTexture.needsUpdate=!0),we){if(K.__webglInit===void 0&&(K.__webglInit=!0,ie.depthTexture.addEventListener("dispose",I)),K.__webglTexture===void 0){K.__webglTexture=n.createTexture(),t.bindTexture(n.TEXTURE_CUBE_MAP,K.__webglTexture),xe(n.TEXTURE_CUBE_MAP,ie.depthTexture);const Re=s.convert(ie.depthTexture.format),Me=s.convert(ie.depthTexture.type);let ue;ie.depthTexture.format===sh?ue=n.DEPTH_COMPONENT24:ie.depthTexture.format===L0&&(ue=n.DEPTH24_STENCIL8);for(let vt=0;vt<6;vt++)n.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+vt,0,ue,ie.width,ie.height,0,Re,Me,null)}}else ne(ie.depthTexture,0);const j=K.__webglTexture,$=_e(ie),ce=we?n.TEXTURE_CUBE_MAP_POSITIVE_X+Ie:n.TEXTURE_2D,le=ie.depthTexture.format===L0?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;if(ie.depthTexture.format===sh)zt(ie)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,le,ce,j,0,$):n.framebufferTexture2D(n.FRAMEBUFFER,le,ce,j,0);else if(ie.depthTexture.format===L0)zt(ie)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,le,ce,j,0,$):n.framebufferTexture2D(n.FRAMEBUFFER,le,ce,j,0);else throw new Error("Unknown depthTexture format")}function Mt(ge){const ie=r.get(ge),Ie=ge.isWebGLCubeRenderTarget===!0;if(ie.__boundDepthTexture!==ge.depthTexture){const we=ge.depthTexture;if(ie.__depthDisposeCallback&&ie.__depthDisposeCallback(),we){const K=()=>{delete ie.__boundDepthTexture,delete ie.__depthDisposeCallback,we.removeEventListener("dispose",K)};we.addEventListener("dispose",K),ie.__depthDisposeCallback=K}ie.__boundDepthTexture=we}if(ge.depthTexture&&!ie.__autoAllocateDepthBuffer)if(Ie)for(let we=0;we<6;we++)lt(ie.__webglFramebuffer[we],ge,we);else{const we=ge.texture.mipmaps;we&&we.length>0?lt(ie.__webglFramebuffer[0],ge,0):lt(ie.__webglFramebuffer,ge,0)}else if(Ie){ie.__webglDepthbuffer=[];for(let we=0;we<6;we++)if(t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer[we]),ie.__webglDepthbuffer[we]===void 0)ie.__webglDepthbuffer[we]=n.createRenderbuffer(),Pe(ie.__webglDepthbuffer[we],ge,!1);else{const K=ge.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,j=ie.__webglDepthbuffer[we];n.bindRenderbuffer(n.RENDERBUFFER,j),n.framebufferRenderbuffer(n.FRAMEBUFFER,K,n.RENDERBUFFER,j)}}else{const we=ge.texture.mipmaps;if(we&&we.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer),ie.__webglDepthbuffer===void 0)ie.__webglDepthbuffer=n.createRenderbuffer(),Pe(ie.__webglDepthbuffer,ge,!1);else{const K=ge.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,j=ie.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,j),n.framebufferRenderbuffer(n.FRAMEBUFFER,K,n.RENDERBUFFER,j)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ze(ge,ie,Ie){const we=r.get(ge);ie!==void 0&&qe(we.__webglFramebuffer,ge,ge.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ie!==void 0&&Mt(ge)}function _t(ge){const ie=ge.texture,Ie=r.get(ge),we=r.get(ie);ge.addEventListener("dispose",B);const K=ge.textures,j=ge.isWebGLCubeRenderTarget===!0,$=K.length>1;if($||(we.__webglTexture===void 0&&(we.__webglTexture=n.createTexture()),we.__version=ie.version,a.memory.textures++),j){Ie.__webglFramebuffer=[];for(let ce=0;ce<6;ce++)if(ie.mipmaps&&ie.mipmaps.length>0){Ie.__webglFramebuffer[ce]=[];for(let le=0;le<ie.mipmaps.length;le++)Ie.__webglFramebuffer[ce][le]=n.createFramebuffer()}else Ie.__webglFramebuffer[ce]=n.createFramebuffer()}else{if(ie.mipmaps&&ie.mipmaps.length>0){Ie.__webglFramebuffer=[];for(let ce=0;ce<ie.mipmaps.length;ce++)Ie.__webglFramebuffer[ce]=n.createFramebuffer()}else Ie.__webglFramebuffer=n.createFramebuffer();if($)for(let ce=0,le=K.length;ce<le;ce++){const Re=r.get(K[ce]);Re.__webglTexture===void 0&&(Re.__webglTexture=n.createTexture(),a.memory.textures++)}if(ge.samples>0&&zt(ge)===!1){Ie.__webglMultisampledFramebuffer=n.createFramebuffer(),Ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer);for(let ce=0;ce<K.length;ce++){const le=K[ce];Ie.__webglColorRenderbuffer[ce]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ce]);const Re=s.convert(le.format,le.colorSpace),Me=s.convert(le.type),ue=R(le.internalFormat,Re,Me,le.colorSpace,ge.isXRRenderTarget===!0),vt=_e(ge);n.renderbufferStorageMultisample(n.RENDERBUFFER,vt,ue,ge.width,ge.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ce,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[ce])}n.bindRenderbuffer(n.RENDERBUFFER,null),ge.depthBuffer&&(Ie.__webglDepthRenderbuffer=n.createRenderbuffer(),Pe(Ie.__webglDepthRenderbuffer,ge,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(j){t.bindTexture(n.TEXTURE_CUBE_MAP,we.__webglTexture),xe(n.TEXTURE_CUBE_MAP,ie);for(let ce=0;ce<6;ce++)if(ie.mipmaps&&ie.mipmaps.length>0)for(let le=0;le<ie.mipmaps.length;le++)qe(Ie.__webglFramebuffer[ce][le],ge,ie,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,le);else qe(Ie.__webglFramebuffer[ce],ge,ie,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+ce,0);w(ie)&&E(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if($){for(let ce=0,le=K.length;ce<le;ce++){const Re=K[ce],Me=r.get(Re);let ue=n.TEXTURE_2D;(ge.isWebGL3DRenderTarget||ge.isWebGLArrayRenderTarget)&&(ue=ge.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ue,Me.__webglTexture),xe(ue,Re),qe(Ie.__webglFramebuffer,ge,Re,n.COLOR_ATTACHMENT0+ce,ue,0),w(Re)&&E(ue)}t.unbindTexture()}else{let ce=n.TEXTURE_2D;if((ge.isWebGL3DRenderTarget||ge.isWebGLArrayRenderTarget)&&(ce=ge.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(ce,we.__webglTexture),xe(ce,ie),ie.mipmaps&&ie.mipmaps.length>0)for(let le=0;le<ie.mipmaps.length;le++)qe(Ie.__webglFramebuffer[le],ge,ie,n.COLOR_ATTACHMENT0,ce,le);else qe(Ie.__webglFramebuffer,ge,ie,n.COLOR_ATTACHMENT0,ce,0);w(ie)&&E(ce),t.unbindTexture()}ge.depthBuffer&&Mt(ge)}function Ve(ge){const ie=ge.textures;for(let Ie=0,we=ie.length;Ie<we;Ie++){const K=ie[Ie];if(w(K)){const j=k(ge),$=r.get(K).__webglTexture;t.bindTexture(j,$),E(j),t.unbindTexture()}}}const ot=[],Qe=[];function mt(ge){if(ge.samples>0){if(zt(ge)===!1){const ie=ge.textures,Ie=ge.width,we=ge.height;let K=n.COLOR_BUFFER_BIT;const j=ge.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,$=r.get(ge),ce=ie.length>1;if(ce)for(let Re=0;Re<ie.length;Re++)t.bindFramebuffer(n.FRAMEBUFFER,$.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Re,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Re,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,$.__webglMultisampledFramebuffer);const le=ge.texture.mipmaps;le&&le.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$.__webglFramebuffer);for(let Re=0;Re<ie.length;Re++){if(ge.resolveDepthBuffer&&(ge.depthBuffer&&(K|=n.DEPTH_BUFFER_BIT),ge.stencilBuffer&&ge.resolveStencilBuffer&&(K|=n.STENCIL_BUFFER_BIT)),ce){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,$.__webglColorRenderbuffer[Re]);const Me=r.get(ie[Re]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Me,0)}n.blitFramebuffer(0,0,Ie,we,0,0,Ie,we,K,n.NEAREST),l===!0&&(ot.length=0,Qe.length=0,ot.push(n.COLOR_ATTACHMENT0+Re),ge.depthBuffer&&ge.resolveDepthBuffer===!1&&(ot.push(j),Qe.push(j),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,Qe)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ot))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),ce)for(let Re=0;Re<ie.length;Re++){t.bindFramebuffer(n.FRAMEBUFFER,$.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Re,n.RENDERBUFFER,$.__webglColorRenderbuffer[Re]);const Me=r.get(ie[Re]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,$.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Re,n.TEXTURE_2D,Me,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,$.__webglMultisampledFramebuffer)}else if(ge.depthBuffer&&ge.resolveDepthBuffer===!1&&l){const ie=ge.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ie])}}}function _e(ge){return Math.min(i.maxSamples,ge.samples)}function zt(ge){const ie=r.get(ge);return ge.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ie.__useRenderToTexture!==!1}function kt(ge){const ie=a.render.frame;f.get(ge)!==ie&&(f.set(ge,ie),ge.update())}function Vt(ge,ie){const Ie=ge.colorSpace,we=ge.format,K=ge.type;return ge.isCompressedTexture===!0||ge.isVideoTexture===!0||Ie!==K0&&Ie!==xp&&(dr.getTransfer(Ie)===Fr?(we!==To||K!==Ko)&&Ut("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):on("WebGLTextures: Unsupported texture color space:",Ie)),ie}function gt(ge){return typeof HTMLImageElement<"u"&&ge instanceof HTMLImageElement?(c.width=ge.naturalWidth||ge.width,c.height=ge.naturalHeight||ge.height):typeof VideoFrame<"u"&&ge instanceof VideoFrame?(c.width=ge.displayWidth,c.height=ge.displayHeight):(c.width=ge.width,c.height=ge.height),c}this.allocateTextureUnit=re,this.resetTextureUnits=J,this.setTexture2D=ne,this.setTexture2DArray=te,this.setTexture3D=se,this.setTextureCube=be,this.rebindTextures=Ze,this.setupRenderTarget=_t,this.updateRenderTargetMipmap=Ve,this.updateMultisampleRenderTarget=mt,this.setupDepthRenderbuffer=Mt,this.setupFrameBufferTexture=qe,this.useMultisampledRTT=zt,this.isReversedDepthBuffer=function(){return t.buffers.depth.getReversed()}}function Ere(n,e){function t(r,i=xp){let s;const a=dr.getTransfer(i);if(r===Ko)return n.UNSIGNED_BYTE;if(r===SD)return n.UNSIGNED_SHORT_4_4_4_4;if(r===ED)return n.UNSIGNED_SHORT_5_5_5_1;if(r===Xz)return n.UNSIGNED_INT_5_9_9_9_REV;if(r===Kz)return n.UNSIGNED_INT_10F_11F_11F_REV;if(r===qz)return n.BYTE;if(r===Yz)return n.SHORT;if(r===H_)return n.UNSIGNED_SHORT;if(r===wD)return n.INT;if(r===Cu)return n.UNSIGNED_INT;if(r===el)return n.FLOAT;if(r===ih)return n.HALF_FLOAT;if(r===Jz)return n.ALPHA;if(r===Zz)return n.RGB;if(r===To)return n.RGBA;if(r===sh)return n.DEPTH_COMPONENT;if(r===L0)return n.DEPTH_STENCIL;if(r===MD)return n.RED;if(r===MT)return n.RED_INTEGER;if(r===qv)return n.RG;if(r===AD)return n.RG_INTEGER;if(r===TD)return n.RGBA_INTEGER;if(r===NM||r===LM||r===BM||r===FM)if(a===Fr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===NM)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===LM)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===BM)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===FM)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===NM)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===LM)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===BM)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===FM)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===j2||r===H2||r===V2||r===W2)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===j2)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===H2)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===V2)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===W2)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===$2||r===G2||r===q2||r===Y2||r===X2||r===K2||r===J2)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===$2||r===G2)return a===Fr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===q2)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC;if(r===Y2)return s.COMPRESSED_R11_EAC;if(r===X2)return s.COMPRESSED_SIGNED_R11_EAC;if(r===K2)return s.COMPRESSED_RG11_EAC;if(r===J2)return s.COMPRESSED_SIGNED_RG11_EAC}else return null;if(r===Z2||r===Q2||r===eO||r===tO||r===nO||r===rO||r===iO||r===sO||r===aO||r===oO||r===lO||r===cO||r===uO||r===fO)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===Z2)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Q2)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===eO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===tO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===nO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===rO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===iO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===sO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===aO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===oO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===lO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===cO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===uO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===fO)return a===Fr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===dO||r===hO||r===pO)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===dO)return a===Fr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===hO)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===pO)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===mO||r===gO||r===yO||r===vO)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===mO)return s.COMPRESSED_RED_RGTC1_EXT;if(r===gO)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===yO)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===vO)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===V_?n.UNSIGNED_INT_24_8:n[r]!==void 0?n[r]:null}return{convert:t}}const OCe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,PCe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class DCe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t){if(this.texture===null){const r=new lU(e.texture);(e.depthNear!==t.depthNear||e.depthFar!==t.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,r=new ku({vertexShader:OCe,fragmentShader:PCe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Vs(new kw(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class ICe extends hh{constructor(e,t){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,f=null,d=null,p=null,g=null,b=null;const S=typeof XRWebGLBinding<"u",w=new DCe,E={},k=t.getContextAttributes();let R=null,O=null;const D=[],I=[],B=new St;let z=null;const V=new _a;V.viewport=new ti;const Y=new _a;Y.viewport=new ti;const q=[V,Y],J=new fre;let re=null,fe=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Ne){let Ue=D[Ne];return Ue===void 0&&(Ue=new qR,D[Ne]=Ue),Ue.getTargetRaySpace()},this.getControllerGrip=function(Ne){let Ue=D[Ne];return Ue===void 0&&(Ue=new qR,D[Ne]=Ue),Ue.getGripSpace()},this.getHand=function(Ne){let Ue=D[Ne];return Ue===void 0&&(Ue=new qR,D[Ne]=Ue),Ue.getHandSpace()};function ne(Ne){const Ue=I.indexOf(Ne.inputSource);if(Ue===-1)return;const qe=D[Ue];qe!==void 0&&(qe.update(Ne.inputSource,Ne.frame,c||a),qe.dispatchEvent({type:Ne.type,data:Ne.inputSource}))}function te(){i.removeEventListener("select",ne),i.removeEventListener("selectstart",ne),i.removeEventListener("selectend",ne),i.removeEventListener("squeeze",ne),i.removeEventListener("squeezestart",ne),i.removeEventListener("squeezeend",ne),i.removeEventListener("end",te),i.removeEventListener("inputsourceschange",se);for(let Ne=0;Ne<D.length;Ne++){const Ue=I[Ne];Ue!==null&&(I[Ne]=null,D[Ne].disconnect(Ue))}re=null,fe=null,w.reset();for(const Ne in E)delete E[Ne];e.setRenderTarget(R),g=null,p=null,d=null,i=null,O=null,dt.stop(),r.isPresenting=!1,e.setPixelRatio(z),e.setSize(B.width,B.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Ne){s=Ne,r.isPresenting===!0&&Ut("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Ne){o=Ne,r.isPresenting===!0&&Ut("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(Ne){c=Ne},this.getBaseLayer=function(){return p!==null?p:g},this.getBinding=function(){return d===null&&S&&(d=new XRWebGLBinding(i,t)),d},this.getFrame=function(){return b},this.getSession=function(){return i},this.setSession=async function(Ne){if(i=Ne,i!==null){if(R=e.getRenderTarget(),i.addEventListener("select",ne),i.addEventListener("selectstart",ne),i.addEventListener("selectend",ne),i.addEventListener("squeeze",ne),i.addEventListener("squeezestart",ne),i.addEventListener("squeezeend",ne),i.addEventListener("end",te),i.addEventListener("inputsourceschange",se),k.xrCompatible!==!0&&await t.makeXRCompatible(),z=e.getPixelRatio(),e.getSize(B),S&&"createProjectionLayer"in XRWebGLBinding.prototype){let qe=null,Pe=null,lt=null;k.depth&&(lt=k.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,qe=k.stencil?L0:sh,Pe=k.stencil?V_:Cu);const Mt={colorFormat:t.RGBA8,depthFormat:lt,scaleFactor:s};d=this.getBinding(),p=d.createProjectionLayer(Mt),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),O=new bc(p.textureWidth,p.textureHeight,{format:To,type:Ko,depthTexture:new q_(p.textureWidth,p.textureHeight,Pe,void 0,void 0,void 0,void 0,void 0,void 0,qe),stencilBuffer:k.stencil,colorSpace:e.outputColorSpace,samples:k.antialias?4:0,resolveDepthBuffer:p.ignoreDepthValues===!1,resolveStencilBuffer:p.ignoreDepthValues===!1})}else{const qe={antialias:k.antialias,alpha:!0,depth:k.depth,stencil:k.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,t,qe),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),O=new bc(g.framebufferWidth,g.framebufferHeight,{format:To,type:Ko,colorSpace:e.outputColorSpace,stencilBuffer:k.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}O.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),dt.setContext(i),dt.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return w.getDepthTexture()};function se(Ne){for(let Ue=0;Ue<Ne.removed.length;Ue++){const qe=Ne.removed[Ue],Pe=I.indexOf(qe);Pe>=0&&(I[Pe]=null,D[Pe].disconnect(qe))}for(let Ue=0;Ue<Ne.added.length;Ue++){const qe=Ne.added[Ue];let Pe=I.indexOf(qe);if(Pe===-1){for(let Mt=0;Mt<D.length;Mt++)if(Mt>=I.length){I.push(qe),Pe=Mt;break}else if(I[Mt]===null){I[Mt]=qe,Pe=Mt;break}if(Pe===-1)break}const lt=D[Pe];lt&&lt.connect(qe)}}const be=new Se,Ee=new Se;function oe(Ne,Ue,qe){be.setFromMatrixPosition(Ue.matrixWorld),Ee.setFromMatrixPosition(qe.matrixWorld);const Pe=be.distanceTo(Ee),lt=Ue.projectionMatrix.elements,Mt=qe.projectionMatrix.elements,Ze=lt[14]/(lt[10]-1),_t=lt[14]/(lt[10]+1),Ve=(lt[9]+1)/lt[5],ot=(lt[9]-1)/lt[5],Qe=(lt[8]-1)/lt[0],mt=(Mt[8]+1)/Mt[0],_e=Ze*Qe,zt=Ze*mt,kt=Pe/(-Qe+mt),Vt=kt*-Qe;if(Ue.matrixWorld.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.translateX(Vt),Ne.translateZ(kt),Ne.matrixWorld.compose(Ne.position,Ne.quaternion,Ne.scale),Ne.matrixWorldInverse.copy(Ne.matrixWorld).invert(),lt[10]===-1)Ne.projectionMatrix.copy(Ue.projectionMatrix),Ne.projectionMatrixInverse.copy(Ue.projectionMatrixInverse);else{const gt=Ze+kt,ge=_t+kt,ie=_e-Vt,Ie=zt+(Pe-Vt),we=Ve*_t/ge*gt,K=ot*_t/ge*gt;Ne.projectionMatrix.makePerspective(ie,Ie,we,K,gt,ge),Ne.projectionMatrixInverse.copy(Ne.projectionMatrix).invert()}}function ee(Ne,Ue){Ue===null?Ne.matrixWorld.copy(Ne.matrix):Ne.matrixWorld.multiplyMatrices(Ue.matrixWorld,Ne.matrix),Ne.matrixWorldInverse.copy(Ne.matrixWorld).invert()}this.updateCamera=function(Ne){if(i===null)return;let Ue=Ne.near,qe=Ne.far;w.texture!==null&&(w.depthNear>0&&(Ue=w.depthNear),w.depthFar>0&&(qe=w.depthFar)),J.near=Y.near=V.near=Ue,J.far=Y.far=V.far=qe,(re!==J.near||fe!==J.far)&&(i.updateRenderState({depthNear:J.near,depthFar:J.far}),re=J.near,fe=J.far),J.layers.mask=Ne.layers.mask|6,V.layers.mask=J.layers.mask&-5,Y.layers.mask=J.layers.mask&-3;const Pe=Ne.parent,lt=J.cameras;ee(J,Pe);for(let Mt=0;Mt<lt.length;Mt++)ee(lt[Mt],Pe);lt.length===2?oe(J,V,Y):J.projectionMatrix.copy(V.projectionMatrix),xe(Ne,J,Pe)};function xe(Ne,Ue,qe){qe===null?Ne.matrix.copy(Ue.matrixWorld):(Ne.matrix.copy(qe.matrixWorld),Ne.matrix.invert(),Ne.matrix.multiply(Ue.matrixWorld)),Ne.matrix.decompose(Ne.position,Ne.quaternion,Ne.scale),Ne.updateMatrixWorld(!0),Ne.projectionMatrix.copy(Ue.projectionMatrix),Ne.projectionMatrixInverse.copy(Ue.projectionMatrixInverse),Ne.isPerspectiveCamera&&(Ne.fov=W_*2*Math.atan(1/Ne.projectionMatrix.elements[5]),Ne.zoom=1)}this.getCamera=function(){return J},this.getFoveation=function(){if(!(p===null&&g===null))return l},this.setFoveation=function(Ne){l=Ne,p!==null&&(p.fixedFoveation=Ne),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=Ne)},this.hasDepthSensing=function(){return w.texture!==null},this.getDepthSensingMesh=function(){return w.getMesh(J)},this.getCameraTexture=function(Ne){return E[Ne]};let ae=null;function De(Ne,Ue){if(f=Ue.getViewerPose(c||a),b=Ue,f!==null){const qe=f.views;g!==null&&(e.setRenderTargetFramebuffer(O,g.framebuffer),e.setRenderTarget(O));let Pe=!1;qe.length!==J.cameras.length&&(J.cameras.length=0,Pe=!0);for(let _t=0;_t<qe.length;_t++){const Ve=qe[_t];let ot=null;if(g!==null)ot=g.getViewport(Ve);else{const mt=d.getViewSubImage(p,Ve);ot=mt.viewport,_t===0&&(e.setRenderTargetTextures(O,mt.colorTexture,mt.depthStencilTexture),e.setRenderTarget(O))}let Qe=q[_t];Qe===void 0&&(Qe=new _a,Qe.layers.enable(_t),Qe.viewport=new ti,q[_t]=Qe),Qe.matrix.fromArray(Ve.transform.matrix),Qe.matrix.decompose(Qe.position,Qe.quaternion,Qe.scale),Qe.projectionMatrix.fromArray(Ve.projectionMatrix),Qe.projectionMatrixInverse.copy(Qe.projectionMatrix).invert(),Qe.viewport.set(ot.x,ot.y,ot.width,ot.height),_t===0&&(J.matrix.copy(Qe.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale)),Pe===!0&&J.cameras.push(Qe)}const lt=i.enabledFeatures;if(lt&&lt.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&S){d=r.getBinding();const _t=d.getDepthInformation(qe[0]);_t&&_t.isValid&&_t.texture&&w.init(_t,i.renderState)}if(lt&&lt.includes("camera-access")&&S){e.state.unbindTexture(),d=r.getBinding();for(let _t=0;_t<qe.length;_t++){const Ve=qe[_t].camera;if(Ve){let ot=E[Ve];ot||(ot=new lU,E[Ve]=ot);const Qe=d.getCameraImage(Ve);ot.sourceTexture=Qe}}}}for(let qe=0;qe<D.length;qe++){const Pe=I[qe],lt=D[qe];Pe!==null&&lt!==void 0&&lt.update(Pe,Ue,c||a)}ae&&ae(Ne,Ue),Ue.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:Ue}),b=null}const dt=new xre;dt.setAnimationLoop(De),this.setAnimationLoop=function(Ne){ae=Ne},this.dispose=function(){}}}const yy=new Sc,NCe=new Mn;function LCe(n,e){function t(w,E){w.matrixAutoUpdate===!0&&w.updateMatrix(),E.value.copy(w.matrix)}function r(w,E){E.color.getRGB(w.fogColor.value,Une(n)),E.isFog?(w.fogNear.value=E.near,w.fogFar.value=E.far):E.isFogExp2&&(w.fogDensity.value=E.density)}function i(w,E,k,R,O){E.isMeshBasicMaterial?s(w,E):E.isMeshLambertMaterial?(s(w,E),E.envMap&&(w.envMapIntensity.value=E.envMapIntensity)):E.isMeshToonMaterial?(s(w,E),d(w,E)):E.isMeshPhongMaterial?(s(w,E),f(w,E),E.envMap&&(w.envMapIntensity.value=E.envMapIntensity)):E.isMeshStandardMaterial?(s(w,E),p(w,E),E.isMeshPhysicalMaterial&&g(w,E,O)):E.isMeshMatcapMaterial?(s(w,E),b(w,E)):E.isMeshDepthMaterial?s(w,E):E.isMeshDistanceMaterial?(s(w,E),S(w,E)):E.isMeshNormalMaterial?s(w,E):E.isLineBasicMaterial?(a(w,E),E.isLineDashedMaterial&&o(w,E)):E.isPointsMaterial?l(w,E,k,R):E.isSpriteMaterial?c(w,E):E.isShadowMaterial?(w.color.value.copy(E.color),w.opacity.value=E.opacity):E.isShaderMaterial&&(E.uniformsNeedUpdate=!1)}function s(w,E){w.opacity.value=E.opacity,E.color&&w.diffuse.value.copy(E.color),E.emissive&&w.emissive.value.copy(E.emissive).multiplyScalar(E.emissiveIntensity),E.map&&(w.map.value=E.map,t(E.map,w.mapTransform)),E.alphaMap&&(w.alphaMap.value=E.alphaMap,t(E.alphaMap,w.alphaMapTransform)),E.bumpMap&&(w.bumpMap.value=E.bumpMap,t(E.bumpMap,w.bumpMapTransform),w.bumpScale.value=E.bumpScale,E.side===al&&(w.bumpScale.value*=-1)),E.normalMap&&(w.normalMap.value=E.normalMap,t(E.normalMap,w.normalMapTransform),w.normalScale.value.copy(E.normalScale),E.side===al&&w.normalScale.value.negate()),E.displacementMap&&(w.displacementMap.value=E.displacementMap,t(E.displacementMap,w.displacementMapTransform),w.displacementScale.value=E.displacementScale,w.displacementBias.value=E.displacementBias),E.emissiveMap&&(w.emissiveMap.value=E.emissiveMap,t(E.emissiveMap,w.emissiveMapTransform)),E.specularMap&&(w.specularMap.value=E.specularMap,t(E.specularMap,w.specularMapTransform)),E.alphaTest>0&&(w.alphaTest.value=E.alphaTest);const k=e.get(E),R=k.envMap,O=k.envMapRotation;R&&(w.envMap.value=R,yy.copy(O),yy.x*=-1,yy.y*=-1,yy.z*=-1,R.isCubeTexture&&R.isRenderTargetTexture===!1&&(yy.y*=-1,yy.z*=-1),w.envMapRotation.value.setFromMatrix4(NCe.makeRotationFromEuler(yy)),w.flipEnvMap.value=R.isCubeTexture&&R.isRenderTargetTexture===!1?-1:1,w.reflectivity.value=E.reflectivity,w.ior.value=E.ior,w.refractionRatio.value=E.refractionRatio),E.lightMap&&(w.lightMap.value=E.lightMap,w.lightMapIntensity.value=E.lightMapIntensity,t(E.lightMap,w.lightMapTransform)),E.aoMap&&(w.aoMap.value=E.aoMap,w.aoMapIntensity.value=E.aoMapIntensity,t(E.aoMap,w.aoMapTransform))}function a(w,E){w.diffuse.value.copy(E.color),w.opacity.value=E.opacity,E.map&&(w.map.value=E.map,t(E.map,w.mapTransform))}function o(w,E){w.dashSize.value=E.dashSize,w.totalSize.value=E.dashSize+E.gapSize,w.scale.value=E.scale}function l(w,E,k,R){w.diffuse.value.copy(E.color),w.opacity.value=E.opacity,w.size.value=E.size*k,w.scale.value=R*.5,E.map&&(w.map.value=E.map,t(E.map,w.uvTransform)),E.alphaMap&&(w.alphaMap.value=E.alphaMap,t(E.alphaMap,w.alphaMapTransform)),E.alphaTest>0&&(w.alphaTest.value=E.alphaTest)}function c(w,E){w.diffuse.value.copy(E.color),w.opacity.value=E.opacity,w.rotation.value=E.rotation,E.map&&(w.map.value=E.map,t(E.map,w.mapTransform)),E.alphaMap&&(w.alphaMap.value=E.alphaMap,t(E.alphaMap,w.alphaMapTransform)),E.alphaTest>0&&(w.alphaTest.value=E.alphaTest)}function f(w,E){w.specular.value.copy(E.specular),w.shininess.value=Math.max(E.shininess,1e-4)}function d(w,E){E.gradientMap&&(w.gradientMap.value=E.gradientMap)}function p(w,E){w.metalness.value=E.metalness,E.metalnessMap&&(w.metalnessMap.value=E.metalnessMap,t(E.metalnessMap,w.metalnessMapTransform)),w.roughness.value=E.roughness,E.roughnessMap&&(w.roughnessMap.value=E.roughnessMap,t(E.roughnessMap,w.roughnessMapTransform)),E.envMap&&(w.envMapIntensity.value=E.envMapIntensity)}function g(w,E,k){w.ior.value=E.ior,E.sheen>0&&(w.sheenColor.value.copy(E.sheenColor).multiplyScalar(E.sheen),w.sheenRoughness.value=E.sheenRoughness,E.sheenColorMap&&(w.sheenColorMap.value=E.sheenColorMap,t(E.sheenColorMap,w.sheenColorMapTransform)),E.sheenRoughnessMap&&(w.sheenRoughnessMap.value=E.sheenRoughnessMap,t(E.sheenRoughnessMap,w.sheenRoughnessMapTransform))),E.clearcoat>0&&(w.clearcoat.value=E.clearcoat,w.clearcoatRoughness.value=E.clearcoatRoughness,E.clearcoatMap&&(w.clearcoatMap.value=E.clearcoatMap,t(E.clearcoatMap,w.clearcoatMapTransform)),E.clearcoatRoughnessMap&&(w.clearcoatRoughnessMap.value=E.clearcoatRoughnessMap,t(E.clearcoatRoughnessMap,w.clearcoatRoughnessMapTransform)),E.clearcoatNormalMap&&(w.clearcoatNormalMap.value=E.clearcoatNormalMap,t(E.clearcoatNormalMap,w.clearcoatNormalMapTransform),w.clearcoatNormalScale.value.copy(E.clearcoatNormalScale),E.side===al&&w.clearcoatNormalScale.value.negate())),E.dispersion>0&&(w.dispersion.value=E.dispersion),E.iridescence>0&&(w.iridescence.value=E.iridescence,w.iridescenceIOR.value=E.iridescenceIOR,w.iridescenceThicknessMinimum.value=E.iridescenceThicknessRange[0],w.iridescenceThicknessMaximum.value=E.iridescenceThicknessRange[1],E.iridescenceMap&&(w.iridescenceMap.value=E.iridescenceMap,t(E.iridescenceMap,w.iridescenceMapTransform)),E.iridescenceThicknessMap&&(w.iridescenceThicknessMap.value=E.iridescenceThicknessMap,t(E.iridescenceThicknessMap,w.iridescenceThicknessMapTransform))),E.transmission>0&&(w.transmission.value=E.transmission,w.transmissionSamplerMap.value=k.texture,w.transmissionSamplerSize.value.set(k.width,k.height),E.transmissionMap&&(w.transmissionMap.value=E.transmissionMap,t(E.transmissionMap,w.transmissionMapTransform)),w.thickness.value=E.thickness,E.thicknessMap&&(w.thicknessMap.value=E.thicknessMap,t(E.thicknessMap,w.thicknessMapTransform)),w.attenuationDistance.value=E.attenuationDistance,w.attenuationColor.value.copy(E.attenuationColor)),E.anisotropy>0&&(w.anisotropyVector.value.set(E.anisotropy*Math.cos(E.anisotropyRotation),E.anisotropy*Math.sin(E.anisotropyRotation)),E.anisotropyMap&&(w.anisotropyMap.value=E.anisotropyMap,t(E.anisotropyMap,w.anisotropyMapTransform))),w.specularIntensity.value=E.specularIntensity,w.specularColor.value.copy(E.specularColor),E.specularColorMap&&(w.specularColorMap.value=E.specularColorMap,t(E.specularColorMap,w.specularColorMapTransform)),E.specularIntensityMap&&(w.specularIntensityMap.value=E.specularIntensityMap,t(E.specularIntensityMap,w.specularIntensityMapTransform))}function b(w,E){E.matcap&&(w.matcap.value=E.matcap)}function S(w,E){const k=e.get(E).light;w.referencePosition.value.setFromMatrixPosition(k.matrixWorld),w.nearDistance.value=k.shadow.camera.near,w.farDistance.value=k.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function BCe(n,e,t,r){let i={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(k,R){const O=R.program;r.uniformBlockBinding(k,O)}function c(k,R){let O=i[k.id];O===void 0&&(b(k),O=f(k),i[k.id]=O,k.addEventListener("dispose",w));const D=R.program;r.updateUBOMapping(k,D);const I=e.render.frame;s[k.id]!==I&&(p(k),s[k.id]=I)}function f(k){const R=d();k.__bindingPointIndex=R;const O=n.createBuffer(),D=k.__size,I=k.usage;return n.bindBuffer(n.UNIFORM_BUFFER,O),n.bufferData(n.UNIFORM_BUFFER,D,I),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,R,O),O}function d(){for(let k=0;k<o;k++)if(a.indexOf(k)===-1)return a.push(k),k;return on("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(k){const R=i[k.id],O=k.uniforms,D=k.__cache;n.bindBuffer(n.UNIFORM_BUFFER,R);for(let I=0,B=O.length;I<B;I++){const z=Array.isArray(O[I])?O[I]:[O[I]];for(let V=0,Y=z.length;V<Y;V++){const q=z[V];if(g(q,I,V,D)===!0){const J=q.__offset,re=Array.isArray(q.value)?q.value:[q.value];let fe=0;for(let ne=0;ne<re.length;ne++){const te=re[ne],se=S(te);typeof te=="number"||typeof te=="boolean"?(q.__data[0]=te,n.bufferSubData(n.UNIFORM_BUFFER,J+fe,q.__data)):te.isMatrix3?(q.__data[0]=te.elements[0],q.__data[1]=te.elements[1],q.__data[2]=te.elements[2],q.__data[3]=0,q.__data[4]=te.elements[3],q.__data[5]=te.elements[4],q.__data[6]=te.elements[5],q.__data[7]=0,q.__data[8]=te.elements[6],q.__data[9]=te.elements[7],q.__data[10]=te.elements[8],q.__data[11]=0):(te.toArray(q.__data,fe),fe+=se.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,J,q.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function g(k,R,O,D){const I=k.value,B=R+"_"+O;if(D[B]===void 0)return typeof I=="number"||typeof I=="boolean"?D[B]=I:D[B]=I.clone(),!0;{const z=D[B];if(typeof I=="number"||typeof I=="boolean"){if(z!==I)return D[B]=I,!0}else if(z.equals(I)===!1)return z.copy(I),!0}return!1}function b(k){const R=k.uniforms;let O=0;const D=16;for(let B=0,z=R.length;B<z;B++){const V=Array.isArray(R[B])?R[B]:[R[B]];for(let Y=0,q=V.length;Y<q;Y++){const J=V[Y],re=Array.isArray(J.value)?J.value:[J.value];for(let fe=0,ne=re.length;fe<ne;fe++){const te=re[fe],se=S(te),be=O%D,Ee=be%se.boundary,oe=be+Ee;O+=Ee,oe!==0&&D-oe<se.storage&&(O+=D-oe),J.__data=new Float32Array(se.storage/Float32Array.BYTES_PER_ELEMENT),J.__offset=O,O+=se.storage}}}const I=O%D;return I>0&&(O+=D-I),k.__size=O,k.__cache={},this}function S(k){const R={boundary:0,storage:0};return typeof k=="number"||typeof k=="boolean"?(R.boundary=4,R.storage=4):k.isVector2?(R.boundary=8,R.storage=8):k.isVector3||k.isColor?(R.boundary=16,R.storage=12):k.isVector4?(R.boundary=16,R.storage=16):k.isMatrix3?(R.boundary=48,R.storage=48):k.isMatrix4?(R.boundary=64,R.storage=64):k.isTexture?Ut("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Ut("WebGLRenderer: Unsupported uniform value type.",k),R}function w(k){const R=k.target;R.removeEventListener("dispose",w);const O=a.indexOf(R.__bindingPointIndex);a.splice(O,1),n.deleteBuffer(i[R.id]),delete i[R.id],delete s[R.id]}function E(){for(const k in i)n.deleteBuffer(i[k]);a=[],i={},s={}}return{bind:l,update:c,dispose:E}}const FCe=new Uint16Array([12469,15057,12620,14925,13266,14620,13807,14376,14323,13990,14545,13625,14713,13328,14840,12882,14931,12528,14996,12233,15039,11829,15066,11525,15080,11295,15085,10976,15082,10705,15073,10495,13880,14564,13898,14542,13977,14430,14158,14124,14393,13732,14556,13410,14702,12996,14814,12596,14891,12291,14937,11834,14957,11489,14958,11194,14943,10803,14921,10506,14893,10278,14858,9960,14484,14039,14487,14025,14499,13941,14524,13740,14574,13468,14654,13106,14743,12678,14818,12344,14867,11893,14889,11509,14893,11180,14881,10751,14852,10428,14812,10128,14765,9754,14712,9466,14764,13480,14764,13475,14766,13440,14766,13347,14769,13070,14786,12713,14816,12387,14844,11957,14860,11549,14868,11215,14855,10751,14825,10403,14782,10044,14729,9651,14666,9352,14599,9029,14967,12835,14966,12831,14963,12804,14954,12723,14936,12564,14917,12347,14900,11958,14886,11569,14878,11247,14859,10765,14828,10401,14784,10011,14727,9600,14660,9289,14586,8893,14508,8533,15111,12234,15110,12234,15104,12216,15092,12156,15067,12010,15028,11776,14981,11500,14942,11205,14902,10752,14861,10393,14812,9991,14752,9570,14682,9252,14603,8808,14519,8445,14431,8145,15209,11449,15208,11451,15202,11451,15190,11438,15163,11384,15117,11274,15055,10979,14994,10648,14932,10343,14871,9936,14803,9532,14729,9218,14645,8742,14556,8381,14461,8020,14365,7603,15273,10603,15272,10607,15267,10619,15256,10631,15231,10614,15182,10535,15118,10389,15042,10167,14963,9787,14883,9447,14800,9115,14710,8665,14615,8318,14514,7911,14411,7507,14279,7198,15314,9675,15313,9683,15309,9712,15298,9759,15277,9797,15229,9773,15166,9668,15084,9487,14995,9274,14898,8910,14800,8539,14697,8234,14590,7790,14479,7409,14367,7067,14178,6621,15337,8619,15337,8631,15333,8677,15325,8769,15305,8871,15264,8940,15202,8909,15119,8775,15022,8565,14916,8328,14804,8009,14688,7614,14569,7287,14448,6888,14321,6483,14088,6171,15350,7402,15350,7419,15347,7480,15340,7613,15322,7804,15287,7973,15229,8057,15148,8012,15046,7846,14933,7611,14810,7357,14682,7069,14552,6656,14421,6316,14251,5948,14007,5528,15356,5942,15356,5977,15353,6119,15348,6294,15332,6551,15302,6824,15249,7044,15171,7122,15070,7050,14949,6861,14818,6611,14679,6349,14538,6067,14398,5651,14189,5311,13935,4958,15359,4123,15359,4153,15356,4296,15353,4646,15338,5160,15311,5508,15263,5829,15188,6042,15088,6094,14966,6001,14826,5796,14678,5543,14527,5287,14377,4985,14133,4586,13869,4257,15360,1563,15360,1642,15358,2076,15354,2636,15341,3350,15317,4019,15273,4429,15203,4732,15105,4911,14981,4932,14836,4818,14679,4621,14517,4386,14359,4156,14083,3795,13808,3437,15360,122,15360,137,15358,285,15355,636,15344,1274,15322,2177,15281,2765,15215,3223,15120,3451,14995,3569,14846,3567,14681,3466,14511,3305,14344,3121,14037,2800,13753,2467,15360,0,15360,1,15359,21,15355,89,15346,253,15325,479,15287,796,15225,1148,15133,1492,15008,1749,14856,1882,14685,1886,14506,1783,14324,1608,13996,1398,13702,1183]);let vd=null;function zCe(){return vd===null&&(vd=new Cf(FCe,16,16,qv,ih),vd.name="DFG_LUT",vd.minFilter=Mi,vd.magFilter=Mi,vd.wrapS=Vl,vd.wrapT=Vl,vd.generateMipmaps=!1,vd.needsUpdate=!0),vd}class Mre{constructor(e={}){const{canvas:t=pne(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:p=!1,outputBufferType:g=Ko}=e;this.isWebGLRenderer=!0;let b;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");b=r.getContextAttributes().alpha}else b=a;const S=g,w=new Set([TD,AD,MT]),E=new Set([Ko,Cu,H_,V_,SD,ED]),k=new Uint32Array(4),R=new Int32Array(4);let O=null,D=null;const I=[],B=[];let z=null;this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Mu,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const V=this;let Y=!1;this._outputColorSpace=So;let q=0,J=0,re=null,fe=-1,ne=null;const te=new ti,se=new ti;let be=null;const Ee=new qt(0);let oe=0,ee=t.width,xe=t.height,ae=1,De=null,dt=null;const Ne=new ti(0,0,ee,xe),Ue=new ti(0,0,ee,xe);let qe=!1;const Pe=new Cw;let lt=!1,Mt=!1;const Ze=new Mn,_t=new Se,Ve=new ti,ot={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Qe=!1;function mt(){return re===null?ae:1}let _e=r;function zt(de,Ae){return t.getContext(de,Ae)}try{const de={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${xD}`),t.addEventListener("webglcontextlost",Dt,!1),t.addEventListener("webglcontextrestored",an,!1),t.addEventListener("webglcontextcreationerror",An,!1),_e===null){const Ae="webgl2";if(_e=zt(Ae,de),_e===null)throw zt(Ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(de){throw on("WebGLRenderer: "+de.message),de}let kt,Vt,gt,ge,ie,Ie,we,K,j,$,ce,le,Re,Me,ue,vt,ft,ct,Rt,Le,$e,At,Lt;function bt(){kt=new jAe(_e),kt.init(),$e=new Ere(_e,kt),Vt=new DAe(_e,kt,e,$e),gt=new kCe(_e,kt),Vt.reversedDepthBuffer&&p&&gt.buffers.depth.setReversed(!0),ge=new WAe(_e),ie=new mCe,Ie=new RCe(_e,kt,gt,ie,Vt,$e,ge),we=new UAe(V),K=new XSe(_e),At=new OAe(_e,K),j=new HAe(_e,K,ge,At),$=new GAe(_e,j,K,At,ge),ct=new $Ae(_e,Vt,Ie),ue=new IAe(ie),ce=new pCe(V,we,kt,Vt,At,ue),le=new LCe(V,ie),Re=new yCe,Me=new SCe(kt),ft=new RAe(V,we,gt,$,b,l),vt=new CCe(V,$,Vt),Lt=new BCe(_e,ge,Vt,gt),Rt=new PAe(_e,kt,ge),Le=new VAe(_e,kt,ge),ge.programs=ce.programs,V.capabilities=Vt,V.extensions=kt,V.properties=ie,V.renderLists=Re,V.shadowMap=vt,V.state=gt,V.info=ge}bt(),S!==Ko&&(z=new YAe(S,t.width,t.height,i,s));const tt=new ICe(V,_e);this.xr=tt,this.getContext=function(){return _e},this.getContextAttributes=function(){return _e.getContextAttributes()},this.forceContextLoss=function(){const de=kt.get("WEBGL_lose_context");de&&de.loseContext()},this.forceContextRestore=function(){const de=kt.get("WEBGL_lose_context");de&&de.restoreContext()},this.getPixelRatio=function(){return ae},this.setPixelRatio=function(de){de!==void 0&&(ae=de,this.setSize(ee,xe,!1))},this.getSize=function(de){return de.set(ee,xe)},this.setSize=function(de,Ae,Be=!0){if(tt.isPresenting){Ut("WebGLRenderer: Can't change size while VR device is presenting.");return}ee=de,xe=Ae,t.width=Math.floor(de*ae),t.height=Math.floor(Ae*ae),Be===!0&&(t.style.width=de+"px",t.style.height=Ae+"px"),z!==null&&z.setSize(t.width,t.height),this.setViewport(0,0,de,Ae)},this.getDrawingBufferSize=function(de){return de.set(ee*ae,xe*ae).floor()},this.setDrawingBufferSize=function(de,Ae,Be){ee=de,xe=Ae,ae=Be,t.width=Math.floor(de*Be),t.height=Math.floor(Ae*Be),this.setViewport(0,0,de,Ae)},this.setEffects=function(de){if(S===Ko){console.error("THREE.WebGLRenderer: setEffects() requires outputBufferType set to HalfFloatType or FloatType.");return}if(de){for(let Ae=0;Ae<de.length;Ae++)if(de[Ae].isOutputPass===!0){console.warn("THREE.WebGLRenderer: OutputPass is not needed in setEffects(). Tone mapping and color space conversion are applied automatically.");break}}z.setEffects(de||[])},this.getCurrentViewport=function(de){return de.copy(te)},this.getViewport=function(de){return de.copy(Ne)},this.setViewport=function(de,Ae,Be,ze){de.isVector4?Ne.set(de.x,de.y,de.z,de.w):Ne.set(de,Ae,Be,ze),gt.viewport(te.copy(Ne).multiplyScalar(ae).round())},this.getScissor=function(de){return de.copy(Ue)},this.setScissor=function(de,Ae,Be,ze){de.isVector4?Ue.set(de.x,de.y,de.z,de.w):Ue.set(de,Ae,Be,ze),gt.scissor(se.copy(Ue).multiplyScalar(ae).round())},this.getScissorTest=function(){return qe},this.setScissorTest=function(de){gt.setScissorTest(qe=de)},this.setOpaqueSort=function(de){De=de},this.setTransparentSort=function(de){dt=de},this.getClearColor=function(de){return de.copy(ft.getClearColor())},this.setClearColor=function(){ft.setClearColor(...arguments)},this.getClearAlpha=function(){return ft.getClearAlpha()},this.setClearAlpha=function(){ft.setClearAlpha(...arguments)},this.clear=function(de=!0,Ae=!0,Be=!0){let ze=0;if(de){let _=!1;if(re!==null){const y=re.texture.format;_=w.has(y)}if(_){const y=re.texture.type,M=E.has(y),U=ft.getClearColor(),Q=ft.getClearAlpha(),ye=U.r,Oe=U.g,et=U.b;M?(k[0]=ye,k[1]=Oe,k[2]=et,k[3]=Q,_e.clearBufferuiv(_e.COLOR,0,k)):(R[0]=ye,R[1]=Oe,R[2]=et,R[3]=Q,_e.clearBufferiv(_e.COLOR,0,R))}else ze|=_e.COLOR_BUFFER_BIT}Ae&&(ze|=_e.DEPTH_BUFFER_BIT),Be&&(ze|=_e.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ze!==0&&_e.clear(ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Dt,!1),t.removeEventListener("webglcontextrestored",an,!1),t.removeEventListener("webglcontextcreationerror",An,!1),ft.dispose(),Re.dispose(),Me.dispose(),ie.dispose(),we.dispose(),$.dispose(),At.dispose(),Lt.dispose(),ce.dispose(),tt.dispose(),tt.removeEventListener("sessionstart",Cs),tt.removeEventListener("sessionend",ns),Hi.stop()};function Dt(de){de.preventDefault(),hA("WebGLRenderer: Context Lost."),Y=!0}function an(){hA("WebGLRenderer: Context Restored."),Y=!1;const de=ge.autoReset,Ae=vt.enabled,Be=vt.autoUpdate,ze=vt.needsUpdate,_=vt.type;bt(),ge.autoReset=de,vt.enabled=Ae,vt.autoUpdate=Be,vt.needsUpdate=ze,vt.type=_}function An(de){on("WebGLRenderer: A WebGL context could not be created. Reason: ",de.statusMessage)}function kn(de){const Ae=de.target;Ae.removeEventListener("dispose",kn),Wr(Ae)}function Wr(de){pi(de),ie.remove(de)}function pi(de){const Ae=ie.get(de).programs;Ae!==void 0&&(Ae.forEach(function(Be){ce.releaseProgram(Be)}),de.isShaderMaterial&&ce.releaseShaderCache(de))}this.renderBufferDirect=function(de,Ae,Be,ze,_,y){Ae===null&&(Ae=ot);const M=_.isMesh&&_.matrixWorld.determinant()<0,U=Ca(de,Ae,Be,ze,_);gt.setMaterial(ze,M);let Q=Be.index,ye=1;if(ze.wireframe===!0){if(Q=j.getWireframeAttribute(Be),Q===void 0)return;ye=2}const Oe=Be.drawRange,et=Be.attributes.position;let ht=Oe.start*ye,Jt=(Oe.start+Oe.count)*ye;y!==null&&(ht=Math.max(ht,y.start*ye),Jt=Math.min(Jt,(y.start+y.count)*ye)),Q!==null?(ht=Math.max(ht,0),Jt=Math.min(Jt,Q.count)):et!=null&&(ht=Math.max(ht,0),Jt=Math.min(Jt,et.count));const or=Jt-ht;if(or<0||or===1/0)return;At.setup(_,ze,U,Be,Q);let kr,lr=Rt;if(Q!==null&&(kr=K.get(Q),lr=Le,lr.setIndex(kr)),_.isMesh)ze.wireframe===!0?(gt.setLineWidth(ze.wireframeLinewidth*mt()),lr.setMode(_e.LINES)):lr.setMode(_e.TRIANGLES);else if(_.isLine){let mr=ze.linewidth;mr===void 0&&(mr=1),gt.setLineWidth(mr*mt()),_.isLineSegments?lr.setMode(_e.LINES):_.isLineLoop?lr.setMode(_e.LINE_LOOP):lr.setMode(_e.LINE_STRIP)}else _.isPoints?lr.setMode(_e.POINTS):_.isSprite&&lr.setMode(_e.TRIANGLES);if(_.isBatchedMesh)if(_._multiDrawInstances!==null)pA("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),lr.renderMultiDrawInstances(_._multiDrawStarts,_._multiDrawCounts,_._multiDrawCount,_._multiDrawInstances);else if(kt.get("WEBGL_multi_draw"))lr.renderMultiDraw(_._multiDrawStarts,_._multiDrawCounts,_._multiDrawCount);else{const mr=_._multiDrawStarts,Bt=_._multiDrawCounts,ks=_._multiDrawCount,gn=Q?K.get(Q).bytesPerElement:1,Rs=ie.get(ze).currentProgram.getUniforms();for(let ka=0;ka<ks;ka++)Rs.setValue(_e,"_gl_DrawID",ka),lr.render(mr[ka]/gn,Bt[ka])}else if(_.isInstancedMesh)lr.renderInstances(ht,or,_.count);else if(Be.isInstancedBufferGeometry){const mr=Be._maxInstanceCount!==void 0?Be._maxInstanceCount:1/0,Bt=Math.min(Be.instanceCount,mr);lr.renderInstances(ht,or,Bt)}else lr.render(ht,or)};function Ws(de,Ae,Be){de.transparent===!0&&de.side===Ld&&de.forceSinglePass===!1?(de.side=al,de.needsUpdate=!0,pr(de,Ae,Be),de.side=Bp,de.needsUpdate=!0,pr(de,Ae,Be),de.side=Ld):pr(de,Ae,Be)}this.compile=function(de,Ae,Be=null){Be===null&&(Be=de),D=Me.get(Be),D.init(Ae),B.push(D),Be.traverseVisible(function(_){_.isLight&&_.layers.test(Ae.layers)&&(D.pushLight(_),_.castShadow&&D.pushShadow(_))}),de!==Be&&de.traverseVisible(function(_){_.isLight&&_.layers.test(Ae.layers)&&(D.pushLight(_),_.castShadow&&D.pushShadow(_))}),D.setupLights();const ze=new Set;return de.traverse(function(_){if(!(_.isMesh||_.isPoints||_.isLine||_.isSprite))return;const y=_.material;if(y)if(Array.isArray(y))for(let M=0;M<y.length;M++){const U=y[M];Ws(U,Be,_),ze.add(U)}else Ws(y,Be,_),ze.add(y)}),D=B.pop(),ze},this.compileAsync=function(de,Ae,Be=null){const ze=this.compile(de,Ae,Be);return new Promise(_=>{function y(){if(ze.forEach(function(M){ie.get(M).currentProgram.isReady()&&ze.delete(M)}),ze.size===0){_(de);return}setTimeout(y,10)}kt.get("KHR_parallel_shader_compile")!==null?y():setTimeout(y,10)})};let Zr=null;function Ts(de){Zr&&Zr(de)}function Cs(){Hi.stop()}function ns(){Hi.start()}const Hi=new xre;Hi.setAnimationLoop(Ts),typeof self<"u"&&Hi.setContext(self),this.setAnimationLoop=function(de){Zr=de,tt.setAnimationLoop(de),de===null?Hi.stop():Hi.start()},tt.addEventListener("sessionstart",Cs),tt.addEventListener("sessionend",ns),this.render=function(de,Ae){if(Ae!==void 0&&Ae.isCamera!==!0){on("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Y===!0)return;const Be=tt.enabled===!0&&tt.isPresenting===!0,ze=z!==null&&(re===null||Be)&&z.begin(V,re);if(de.matrixWorldAutoUpdate===!0&&de.updateMatrixWorld(),Ae.parent===null&&Ae.matrixWorldAutoUpdate===!0&&Ae.updateMatrixWorld(),tt.enabled===!0&&tt.isPresenting===!0&&(z===null||z.isCompositing()===!1)&&(tt.cameraAutoUpdate===!0&&tt.updateCamera(Ae),Ae=tt.getCamera()),de.isScene===!0&&de.onBeforeRender(V,de,Ae,re),D=Me.get(de,B.length),D.init(Ae),B.push(D),Ze.multiplyMatrices(Ae.projectionMatrix,Ae.matrixWorldInverse),Pe.setFromProjectionMatrix(Ze,gc,Ae.reversedDepth),Mt=this.localClippingEnabled,lt=ue.init(this.clippingPlanes,Mt),O=Re.get(de,I.length),O.init(),I.push(O),tt.enabled===!0&&tt.isPresenting===!0){const M=V.xr.getDepthSensingMesh();M!==null&&Ti(M,Ae,-1/0,V.sortObjects)}Ti(de,Ae,0,V.sortObjects),O.finish(),V.sortObjects===!0&&O.sort(De,dt),Qe=tt.enabled===!1||tt.isPresenting===!1||tt.hasDepthSensing()===!1,Qe&&ft.addToRenderList(O,de),this.info.render.frame++,lt===!0&&ue.beginShadows();const _=D.state.shadowsArray;if(vt.render(_,de,Ae),lt===!0&&ue.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ze&&z.hasRenderPass())===!1){const M=O.opaque,U=O.transmissive;if(D.setupLights(),Ae.isArrayCamera){const Q=Ae.cameras;if(U.length>0)for(let ye=0,Oe=Q.length;ye<Oe;ye++){const et=Q[ye];Xn(M,U,de,et)}Qe&&ft.render(de);for(let ye=0,Oe=Q.length;ye<Oe;ye++){const et=Q[ye];Ci(O,de,et,et.viewport)}}else U.length>0&&Xn(M,U,de,Ae),Qe&&ft.render(de),Ci(O,de,Ae)}re!==null&&J===0&&(Ie.updateMultisampleRenderTarget(re),Ie.updateRenderTargetMipmap(re)),ze&&z.end(V),de.isScene===!0&&de.onAfterRender(V,de,Ae),At.resetDefaultState(),fe=-1,ne=null,B.pop(),B.length>0?(D=B[B.length-1],lt===!0&&ue.setGlobalState(V.clippingPlanes,D.state.camera)):D=null,I.pop(),I.length>0?O=I[I.length-1]:O=null};function Ti(de,Ae,Be,ze){if(de.visible===!1)return;if(de.layers.test(Ae.layers)){if(de.isGroup)Be=de.renderOrder;else if(de.isLOD)de.autoUpdate===!0&&de.update(Ae);else if(de.isLight)D.pushLight(de),de.castShadow&&D.pushShadow(de);else if(de.isSprite){if(!de.frustumCulled||Pe.intersectsSprite(de)){ze&&Ve.setFromMatrixPosition(de.matrixWorld).applyMatrix4(Ze);const M=$.update(de),U=de.material;U.visible&&O.push(de,M,U,Be,Ve.z,null)}}else if((de.isMesh||de.isLine||de.isPoints)&&(!de.frustumCulled||Pe.intersectsObject(de))){const M=$.update(de),U=de.material;if(ze&&(de.boundingSphere!==void 0?(de.boundingSphere===null&&de.computeBoundingSphere(),Ve.copy(de.boundingSphere.center)):(M.boundingSphere===null&&M.computeBoundingSphere(),Ve.copy(M.boundingSphere.center)),Ve.applyMatrix4(de.matrixWorld).applyMatrix4(Ze)),Array.isArray(U)){const Q=M.groups;for(let ye=0,Oe=Q.length;ye<Oe;ye++){const et=Q[ye],ht=U[et.materialIndex];ht&&ht.visible&&O.push(de,M,ht,Be,Ve.z,et)}}else U.visible&&O.push(de,M,U,Be,Ve.z,null)}}const y=de.children;for(let M=0,U=y.length;M<U;M++)Ti(y[M],Ae,Be,ze)}function Ci(de,Ae,Be,ze){const{opaque:_,transmissive:y,transparent:M}=de;D.setupLightsView(Be),lt===!0&&ue.setGlobalState(V.clippingPlanes,Be),ze&&gt.viewport(te.copy(ze)),_.length>0&&yr(_,Ae,Be),y.length>0&&yr(y,Ae,Be),M.length>0&&yr(M,Ae,Be),gt.buffers.depth.setTest(!0),gt.buffers.depth.setMask(!0),gt.buffers.color.setMask(!0),gt.setPolygonOffset(!1)}function Xn(de,Ae,Be,ze){if((Be.isScene===!0?Be.overrideMaterial:null)!==null)return;if(D.state.transmissionRenderTarget[ze.id]===void 0){const ht=kt.has("EXT_color_buffer_half_float")||kt.has("EXT_color_buffer_float");D.state.transmissionRenderTarget[ze.id]=new bc(1,1,{generateMipmaps:!0,type:ht?ih:Ko,minFilter:Vd,samples:Vt.samples,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:dr.workingColorSpace})}const y=D.state.transmissionRenderTarget[ze.id],M=ze.viewport||te;y.setSize(M.z*V.transmissionResolutionScale,M.w*V.transmissionResolutionScale);const U=V.getRenderTarget(),Q=V.getActiveCubeFace(),ye=V.getActiveMipmapLevel();V.setRenderTarget(y),V.getClearColor(Ee),oe=V.getClearAlpha(),oe<1&&V.setClearColor(16777215,.5),V.clear(),Qe&&ft.render(Be);const Oe=V.toneMapping;V.toneMapping=Mu;const et=ze.viewport;if(ze.viewport!==void 0&&(ze.viewport=void 0),D.setupLightsView(ze),lt===!0&&ue.setGlobalState(V.clippingPlanes,ze),yr(de,Be,ze),Ie.updateMultisampleRenderTarget(y),Ie.updateRenderTargetMipmap(y),kt.has("WEBGL_multisampled_render_to_texture")===!1){let ht=!1;for(let Jt=0,or=Ae.length;Jt<or;Jt++){const kr=Ae[Jt],{object:lr,geometry:mr,material:Bt,group:ks}=kr;if(Bt.side===Ld&&lr.layers.test(ze.layers)){const gn=Bt.side;Bt.side=al,Bt.needsUpdate=!0,mi(lr,Be,ze,mr,Bt,ks),Bt.side=gn,Bt.needsUpdate=!0,ht=!0}}ht===!0&&(Ie.updateMultisampleRenderTarget(y),Ie.updateRenderTargetMipmap(y))}V.setRenderTarget(U,Q,ye),V.setClearColor(Ee,oe),et!==void 0&&(ze.viewport=et),V.toneMapping=Oe}function yr(de,Ae,Be){const ze=Ae.isScene===!0?Ae.overrideMaterial:null;for(let _=0,y=de.length;_<y;_++){const M=de[_],{object:U,geometry:Q,group:ye}=M;let Oe=M.material;Oe.allowOverride===!0&&ze!==null&&(Oe=ze),U.layers.test(Be.layers)&&mi(U,Ae,Be,Q,Oe,ye)}}function mi(de,Ae,Be,ze,_,y){de.onBeforeRender(V,Ae,Be,ze,_,y),de.modelViewMatrix.multiplyMatrices(Be.matrixWorldInverse,de.matrixWorld),de.normalMatrix.getNormalMatrix(de.modelViewMatrix),_.onBeforeRender(V,Ae,Be,ze,de,y),_.transparent===!0&&_.side===Ld&&_.forceSinglePass===!1?(_.side=al,_.needsUpdate=!0,V.renderBufferDirect(Be,Ae,ze,_,de,y),_.side=Bp,_.needsUpdate=!0,V.renderBufferDirect(Be,Ae,ze,_,de,y),_.side=Ld):V.renderBufferDirect(Be,Ae,ze,_,de,y),de.onAfterRender(V,Ae,Be,ze,_,y)}function pr(de,Ae,Be){Ae.isScene!==!0&&(Ae=ot);const ze=ie.get(de),_=D.state.lights,y=D.state.shadowsArray,M=_.state.version,U=ce.getParameters(de,_.state,y,Ae,Be),Q=ce.getProgramCacheKey(U);let ye=ze.programs;ze.environment=de.isMeshStandardMaterial||de.isMeshLambertMaterial||de.isMeshPhongMaterial?Ae.environment:null,ze.fog=Ae.fog;const Oe=de.isMeshStandardMaterial||de.isMeshLambertMaterial&&!de.envMap||de.isMeshPhongMaterial&&!de.envMap;ze.envMap=we.get(de.envMap||ze.environment,Oe),ze.envMapRotation=ze.environment!==null&&de.envMap===null?Ae.environmentRotation:de.envMapRotation,ye===void 0&&(de.addEventListener("dispose",kn),ye=new Map,ze.programs=ye);let et=ye.get(Q);if(et!==void 0){if(ze.currentProgram===et&&ze.lightsStateVersion===M)return Gt(de,U),et}else U.uniforms=ce.getUniforms(de),de.onBeforeCompile(U,V),et=ce.acquireProgram(U,Q),ye.set(Q,et),ze.uniforms=U.uniforms;const ht=ze.uniforms;return(!de.isShaderMaterial&&!de.isRawShaderMaterial||de.clipping===!0)&&(ht.clippingPlanes=ue.uniform),Gt(de,U),ze.needsLights=rr(de),ze.lightsStateVersion=M,ze.needsLights&&(ht.ambientLightColor.value=_.state.ambient,ht.lightProbe.value=_.state.probe,ht.directionalLights.value=_.state.directional,ht.directionalLightShadows.value=_.state.directionalShadow,ht.spotLights.value=_.state.spot,ht.spotLightShadows.value=_.state.spotShadow,ht.rectAreaLights.value=_.state.rectArea,ht.ltc_1.value=_.state.rectAreaLTC1,ht.ltc_2.value=_.state.rectAreaLTC2,ht.pointLights.value=_.state.point,ht.pointLightShadows.value=_.state.pointShadow,ht.hemisphereLights.value=_.state.hemi,ht.directionalShadowMatrix.value=_.state.directionalShadowMatrix,ht.spotLightMatrix.value=_.state.spotLightMatrix,ht.spotLightMap.value=_.state.spotLightMap,ht.pointShadowMatrix.value=_.state.pointShadowMatrix),ze.currentProgram=et,ze.uniformsList=null,et}function wt(de){if(de.uniformsList===null){const Ae=de.currentProgram.getUniforms();de.uniformsList=YR.seqWithValue(Ae.seq,de.uniforms)}return de.uniformsList}function Gt(de,Ae){const Be=ie.get(de);Be.outputColorSpace=Ae.outputColorSpace,Be.batching=Ae.batching,Be.batchingColor=Ae.batchingColor,Be.instancing=Ae.instancing,Be.instancingColor=Ae.instancingColor,Be.instancingMorph=Ae.instancingMorph,Be.skinning=Ae.skinning,Be.morphTargets=Ae.morphTargets,Be.morphNormals=Ae.morphNormals,Be.morphColors=Ae.morphColors,Be.morphTargetsCount=Ae.morphTargetsCount,Be.numClippingPlanes=Ae.numClippingPlanes,Be.numIntersection=Ae.numClipIntersection,Be.vertexAlphas=Ae.vertexAlphas,Be.vertexTangents=Ae.vertexTangents,Be.toneMapping=Ae.toneMapping}function Ca(de,Ae,Be,ze,_){Ae.isScene!==!0&&(Ae=ot),Ie.resetTextureUnits();const y=Ae.fog,M=ze.isMeshStandardMaterial||ze.isMeshLambertMaterial||ze.isMeshPhongMaterial?Ae.environment:null,U=re===null?V.outputColorSpace:re.isXRRenderTarget===!0?re.texture.colorSpace:K0,Q=ze.isMeshStandardMaterial||ze.isMeshLambertMaterial&&!ze.envMap||ze.isMeshPhongMaterial&&!ze.envMap,ye=we.get(ze.envMap||M,Q),Oe=ze.vertexColors===!0&&!!Be.attributes.color&&Be.attributes.color.itemSize===4,et=!!Be.attributes.tangent&&(!!ze.normalMap||ze.anisotropy>0),ht=!!Be.morphAttributes.position,Jt=!!Be.morphAttributes.normal,or=!!Be.morphAttributes.color;let kr=Mu;ze.toneMapped&&(re===null||re.isXRRenderTarget===!0)&&(kr=V.toneMapping);const lr=Be.morphAttributes.position||Be.morphAttributes.normal||Be.morphAttributes.color,mr=lr!==void 0?lr.length:0,Bt=ie.get(ze),ks=D.state.lights;if(lt===!0&&(Mt===!0||de!==ne)){const Vi=de===ne&&ze.id===fe;ue.setState(ze,de,Vi)}let gn=!1;ze.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==ks.state.version||Bt.outputColorSpace!==U||_.isBatchedMesh&&Bt.batching===!1||!_.isBatchedMesh&&Bt.batching===!0||_.isBatchedMesh&&Bt.batchingColor===!0&&_.colorTexture===null||_.isBatchedMesh&&Bt.batchingColor===!1&&_.colorTexture!==null||_.isInstancedMesh&&Bt.instancing===!1||!_.isInstancedMesh&&Bt.instancing===!0||_.isSkinnedMesh&&Bt.skinning===!1||!_.isSkinnedMesh&&Bt.skinning===!0||_.isInstancedMesh&&Bt.instancingColor===!0&&_.instanceColor===null||_.isInstancedMesh&&Bt.instancingColor===!1&&_.instanceColor!==null||_.isInstancedMesh&&Bt.instancingMorph===!0&&_.morphTexture===null||_.isInstancedMesh&&Bt.instancingMorph===!1&&_.morphTexture!==null||Bt.envMap!==ye||ze.fog===!0&&Bt.fog!==y||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==ue.numPlanes||Bt.numIntersection!==ue.numIntersection)||Bt.vertexAlphas!==Oe||Bt.vertexTangents!==et||Bt.morphTargets!==ht||Bt.morphNormals!==Jt||Bt.morphColors!==or||Bt.toneMapping!==kr||Bt.morphTargetsCount!==mr)&&(gn=!0):(gn=!0,Bt.__version=ze.version);let Rs=Bt.currentProgram;gn===!0&&(Rs=pr(ze,Ae,_));let ka=!1,ms=!1,la=!1;const vr=Rs.getUniforms(),ki=Bt.uniforms;if(gt.useProgram(Rs.program)&&(ka=!0,ms=!0,la=!0),ze.id!==fe&&(fe=ze.id,ms=!0),ka||ne!==de){gt.buffers.depth.getReversed()&&de.reversedDepth!==!0&&(de._reversedDepth=!0,de.updateProjectionMatrix()),vr.setValue(_e,"projectionMatrix",de.projectionMatrix),vr.setValue(_e,"viewMatrix",de.matrixWorldInverse);const fl=vr.map.cameraPosition;fl!==void 0&&fl.setValue(_e,_t.setFromMatrixPosition(de.matrixWorld)),Vt.logarithmicDepthBuffer&&vr.setValue(_e,"logDepthBufFC",2/(Math.log(de.far+1)/Math.LN2)),(ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshLambertMaterial||ze.isMeshBasicMaterial||ze.isMeshStandardMaterial||ze.isShaderMaterial)&&vr.setValue(_e,"isOrthographic",de.isOrthographicCamera===!0),ne!==de&&(ne=de,ms=!0,la=!0)}if(Bt.needsLights&&(ks.state.directionalShadowMap.length>0&&vr.setValue(_e,"directionalShadowMap",ks.state.directionalShadowMap,Ie),ks.state.spotShadowMap.length>0&&vr.setValue(_e,"spotShadowMap",ks.state.spotShadowMap,Ie),ks.state.pointShadowMap.length>0&&vr.setValue(_e,"pointShadowMap",ks.state.pointShadowMap,Ie)),_.isSkinnedMesh){vr.setOptional(_e,_,"bindMatrix"),vr.setOptional(_e,_,"bindMatrixInverse");const Vi=_.skeleton;Vi&&(Vi.boneTexture===null&&Vi.computeBoneTexture(),vr.setValue(_e,"boneTexture",Vi.boneTexture,Ie))}_.isBatchedMesh&&(vr.setOptional(_e,_,"batchingTexture"),vr.setValue(_e,"batchingTexture",_._matricesTexture,Ie),vr.setOptional(_e,_,"batchingIdTexture"),vr.setValue(_e,"batchingIdTexture",_._indirectTexture,Ie),vr.setOptional(_e,_,"batchingColorTexture"),_._colorsTexture!==null&&vr.setValue(_e,"batchingColorTexture",_._colorsTexture,Ie));const ca=Be.morphAttributes;if((ca.position!==void 0||ca.normal!==void 0||ca.color!==void 0)&&ct.update(_,Be,Rs),(ms||Bt.receiveShadow!==_.receiveShadow)&&(Bt.receiveShadow=_.receiveShadow,vr.setValue(_e,"receiveShadow",_.receiveShadow)),(ze.isMeshStandardMaterial||ze.isMeshLambertMaterial||ze.isMeshPhongMaterial)&&ze.envMap===null&&Ae.environment!==null&&(ki.envMapIntensity.value=Ae.environmentIntensity),ki.dfgLUT!==void 0&&(ki.dfgLUT.value=zCe()),ms&&(vr.setValue(_e,"toneMappingExposure",V.toneMappingExposure),Bt.needsLights&&ri(ki,la),y&&ze.fog===!0&&le.refreshFogUniforms(ki,y),le.refreshMaterialUniforms(ki,ze,ae,xe,D.state.transmissionRenderTarget[de.id]),YR.upload(_e,wt(Bt),ki,Ie)),ze.isShaderMaterial&&ze.uniformsNeedUpdate===!0&&(YR.upload(_e,wt(Bt),ki,Ie),ze.uniformsNeedUpdate=!1),ze.isSpriteMaterial&&vr.setValue(_e,"center",_.center),vr.setValue(_e,"modelViewMatrix",_.modelViewMatrix),vr.setValue(_e,"normalMatrix",_.normalMatrix),vr.setValue(_e,"modelMatrix",_.matrixWorld),ze.isShaderMaterial||ze.isRawShaderMaterial){const Vi=ze.uniformsGroups;for(let fl=0,kc=Vi.length;fl<kc;fl++){const yh=Vi[fl];Lt.update(yh,Rs),Lt.bind(yh,Rs)}}return Rs}function ri(de,Ae){de.ambientLightColor.needsUpdate=Ae,de.lightProbe.needsUpdate=Ae,de.directionalLights.needsUpdate=Ae,de.directionalLightShadows.needsUpdate=Ae,de.pointLights.needsUpdate=Ae,de.pointLightShadows.needsUpdate=Ae,de.spotLights.needsUpdate=Ae,de.spotLightShadows.needsUpdate=Ae,de.rectAreaLights.needsUpdate=Ae,de.hemisphereLights.needsUpdate=Ae}function rr(de){return de.isMeshLambertMaterial||de.isMeshToonMaterial||de.isMeshPhongMaterial||de.isMeshStandardMaterial||de.isShadowMaterial||de.isShaderMaterial&&de.lights===!0}this.getActiveCubeFace=function(){return q},this.getActiveMipmapLevel=function(){return J},this.getRenderTarget=function(){return re},this.setRenderTargetTextures=function(de,Ae,Be){const ze=ie.get(de);ze.__autoAllocateDepthBuffer=de.resolveDepthBuffer===!1,ze.__autoAllocateDepthBuffer===!1&&(ze.__useRenderToTexture=!1),ie.get(de.texture).__webglTexture=Ae,ie.get(de.depthTexture).__webglTexture=ze.__autoAllocateDepthBuffer?void 0:Be,ze.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(de,Ae){const Be=ie.get(de);Be.__webglFramebuffer=Ae,Be.__useDefaultFramebuffer=Ae===void 0};const rs=_e.createFramebuffer();this.setRenderTarget=function(de,Ae=0,Be=0){re=de,q=Ae,J=Be;let ze=null,_=!1,y=!1;if(de){const U=ie.get(de);if(U.__useDefaultFramebuffer!==void 0){gt.bindFramebuffer(_e.FRAMEBUFFER,U.__webglFramebuffer),te.copy(de.viewport),se.copy(de.scissor),be=de.scissorTest,gt.viewport(te),gt.scissor(se),gt.setScissorTest(be),fe=-1;return}else if(U.__webglFramebuffer===void 0)Ie.setupRenderTarget(de);else if(U.__hasExternalTextures)Ie.rebindTextures(de,ie.get(de.texture).__webglTexture,ie.get(de.depthTexture).__webglTexture);else if(de.depthBuffer){const Oe=de.depthTexture;if(U.__boundDepthTexture!==Oe){if(Oe!==null&&ie.has(Oe)&&(de.width!==Oe.image.width||de.height!==Oe.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ie.setupDepthRenderbuffer(de)}}const Q=de.texture;(Q.isData3DTexture||Q.isDataArrayTexture||Q.isCompressedArrayTexture)&&(y=!0);const ye=ie.get(de).__webglFramebuffer;de.isWebGLCubeRenderTarget?(Array.isArray(ye[Ae])?ze=ye[Ae][Be]:ze=ye[Ae],_=!0):de.samples>0&&Ie.useMultisampledRTT(de)===!1?ze=ie.get(de).__webglMultisampledFramebuffer:Array.isArray(ye)?ze=ye[Be]:ze=ye,te.copy(de.viewport),se.copy(de.scissor),be=de.scissorTest}else te.copy(Ne).multiplyScalar(ae).floor(),se.copy(Ue).multiplyScalar(ae).floor(),be=qe;if(Be!==0&&(ze=rs),gt.bindFramebuffer(_e.FRAMEBUFFER,ze)&&gt.drawBuffers(de,ze),gt.viewport(te),gt.scissor(se),gt.setScissorTest(be),_){const U=ie.get(de.texture);_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_CUBE_MAP_POSITIVE_X+Ae,U.__webglTexture,Be)}else if(y){const U=Ae;for(let Q=0;Q<de.textures.length;Q++){const ye=ie.get(de.textures[Q]);_e.framebufferTextureLayer(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0+Q,ye.__webglTexture,Be,U)}}else if(de!==null&&Be!==0){const U=ie.get(de.texture);_e.framebufferTexture2D(_e.FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,U.__webglTexture,Be)}fe=-1},this.readRenderTargetPixels=function(de,Ae,Be,ze,_,y,M,U=0){if(!(de&&de.isWebGLRenderTarget)){on("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Q=ie.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&M!==void 0&&(Q=Q[M]),Q){gt.bindFramebuffer(_e.FRAMEBUFFER,Q);try{const ye=de.textures[U],Oe=ye.format,et=ye.type;if(de.textures.length>1&&_e.readBuffer(_e.COLOR_ATTACHMENT0+U),!Vt.textureFormatReadable(Oe)){on("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Vt.textureTypeReadable(et)){on("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ae>=0&&Ae<=de.width-ze&&Be>=0&&Be<=de.height-_&&_e.readPixels(Ae,Be,ze,_,$e.convert(Oe),$e.convert(et),y)}finally{const ye=re!==null?ie.get(re).__webglFramebuffer:null;gt.bindFramebuffer(_e.FRAMEBUFFER,ye)}}},this.readRenderTargetPixelsAsync=async function(de,Ae,Be,ze,_,y,M,U=0){if(!(de&&de.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Q=ie.get(de).__webglFramebuffer;if(de.isWebGLCubeRenderTarget&&M!==void 0&&(Q=Q[M]),Q)if(Ae>=0&&Ae<=de.width-ze&&Be>=0&&Be<=de.height-_){gt.bindFramebuffer(_e.FRAMEBUFFER,Q);const ye=de.textures[U],Oe=ye.format,et=ye.type;if(de.textures.length>1&&_e.readBuffer(_e.COLOR_ATTACHMENT0+U),!Vt.textureFormatReadable(Oe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Vt.textureTypeReadable(et))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ht=_e.createBuffer();_e.bindBuffer(_e.PIXEL_PACK_BUFFER,ht),_e.bufferData(_e.PIXEL_PACK_BUFFER,y.byteLength,_e.STREAM_READ),_e.readPixels(Ae,Be,ze,_,$e.convert(Oe),$e.convert(et),0);const Jt=re!==null?ie.get(re).__webglFramebuffer:null;gt.bindFramebuffer(_e.FRAMEBUFFER,Jt);const or=_e.fenceSync(_e.SYNC_GPU_COMMANDS_COMPLETE,0);return _e.flush(),await K1e(_e,or,4),_e.bindBuffer(_e.PIXEL_PACK_BUFFER,ht),_e.getBufferSubData(_e.PIXEL_PACK_BUFFER,0,y),_e.deleteBuffer(ht),_e.deleteSync(or),y}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(de,Ae=null,Be=0){const ze=Math.pow(2,-Be),_=Math.floor(de.image.width*ze),y=Math.floor(de.image.height*ze),M=Ae!==null?Ae.x:0,U=Ae!==null?Ae.y:0;Ie.setTexture2D(de,0),_e.copyTexSubImage2D(_e.TEXTURE_2D,Be,0,0,M,U,_,y),gt.unbindTexture()};const ve=_e.createFramebuffer(),$s=_e.createFramebuffer();this.copyTextureToTexture=function(de,Ae,Be=null,ze=null,_=0,y=0){let M,U,Q,ye,Oe,et,ht,Jt,or;const kr=de.isCompressedTexture?de.mipmaps[y]:de.image;if(Be!==null)M=Be.max.x-Be.min.x,U=Be.max.y-Be.min.y,Q=Be.isBox3?Be.max.z-Be.min.z:1,ye=Be.min.x,Oe=Be.min.y,et=Be.isBox3?Be.min.z:0;else{const ki=Math.pow(2,-_);M=Math.floor(kr.width*ki),U=Math.floor(kr.height*ki),de.isDataArrayTexture?Q=kr.depth:de.isData3DTexture?Q=Math.floor(kr.depth*ki):Q=1,ye=0,Oe=0,et=0}ze!==null?(ht=ze.x,Jt=ze.y,or=ze.z):(ht=0,Jt=0,or=0);const lr=$e.convert(Ae.format),mr=$e.convert(Ae.type);let Bt;Ae.isData3DTexture?(Ie.setTexture3D(Ae,0),Bt=_e.TEXTURE_3D):Ae.isDataArrayTexture||Ae.isCompressedArrayTexture?(Ie.setTexture2DArray(Ae,0),Bt=_e.TEXTURE_2D_ARRAY):(Ie.setTexture2D(Ae,0),Bt=_e.TEXTURE_2D),_e.pixelStorei(_e.UNPACK_FLIP_Y_WEBGL,Ae.flipY),_e.pixelStorei(_e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ae.premultiplyAlpha),_e.pixelStorei(_e.UNPACK_ALIGNMENT,Ae.unpackAlignment);const ks=_e.getParameter(_e.UNPACK_ROW_LENGTH),gn=_e.getParameter(_e.UNPACK_IMAGE_HEIGHT),Rs=_e.getParameter(_e.UNPACK_SKIP_PIXELS),ka=_e.getParameter(_e.UNPACK_SKIP_ROWS),ms=_e.getParameter(_e.UNPACK_SKIP_IMAGES);_e.pixelStorei(_e.UNPACK_ROW_LENGTH,kr.width),_e.pixelStorei(_e.UNPACK_IMAGE_HEIGHT,kr.height),_e.pixelStorei(_e.UNPACK_SKIP_PIXELS,ye),_e.pixelStorei(_e.UNPACK_SKIP_ROWS,Oe),_e.pixelStorei(_e.UNPACK_SKIP_IMAGES,et);const la=de.isDataArrayTexture||de.isData3DTexture,vr=Ae.isDataArrayTexture||Ae.isData3DTexture;if(de.isDepthTexture){const ki=ie.get(de),ca=ie.get(Ae),Vi=ie.get(ki.__renderTarget),fl=ie.get(ca.__renderTarget);gt.bindFramebuffer(_e.READ_FRAMEBUFFER,Vi.__webglFramebuffer),gt.bindFramebuffer(_e.DRAW_FRAMEBUFFER,fl.__webglFramebuffer);for(let kc=0;kc<Q;kc++)la&&(_e.framebufferTextureLayer(_e.READ_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,ie.get(de).__webglTexture,_,et+kc),_e.framebufferTextureLayer(_e.DRAW_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,ie.get(Ae).__webglTexture,y,or+kc)),_e.blitFramebuffer(ye,Oe,M,U,ht,Jt,M,U,_e.DEPTH_BUFFER_BIT,_e.NEAREST);gt.bindFramebuffer(_e.READ_FRAMEBUFFER,null),gt.bindFramebuffer(_e.DRAW_FRAMEBUFFER,null)}else if(_!==0||de.isRenderTargetTexture||ie.has(de)){const ki=ie.get(de),ca=ie.get(Ae);gt.bindFramebuffer(_e.READ_FRAMEBUFFER,ve),gt.bindFramebuffer(_e.DRAW_FRAMEBUFFER,$s);for(let Vi=0;Vi<Q;Vi++)la?_e.framebufferTextureLayer(_e.READ_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,ki.__webglTexture,_,et+Vi):_e.framebufferTexture2D(_e.READ_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,ki.__webglTexture,_),vr?_e.framebufferTextureLayer(_e.DRAW_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,ca.__webglTexture,y,or+Vi):_e.framebufferTexture2D(_e.DRAW_FRAMEBUFFER,_e.COLOR_ATTACHMENT0,_e.TEXTURE_2D,ca.__webglTexture,y),_!==0?_e.blitFramebuffer(ye,Oe,M,U,ht,Jt,M,U,_e.COLOR_BUFFER_BIT,_e.NEAREST):vr?_e.copyTexSubImage3D(Bt,y,ht,Jt,or+Vi,ye,Oe,M,U):_e.copyTexSubImage2D(Bt,y,ht,Jt,ye,Oe,M,U);gt.bindFramebuffer(_e.READ_FRAMEBUFFER,null),gt.bindFramebuffer(_e.DRAW_FRAMEBUFFER,null)}else vr?de.isDataTexture||de.isData3DTexture?_e.texSubImage3D(Bt,y,ht,Jt,or,M,U,Q,lr,mr,kr.data):Ae.isCompressedArrayTexture?_e.compressedTexSubImage3D(Bt,y,ht,Jt,or,M,U,Q,lr,kr.data):_e.texSubImage3D(Bt,y,ht,Jt,or,M,U,Q,lr,mr,kr):de.isDataTexture?_e.texSubImage2D(_e.TEXTURE_2D,y,ht,Jt,M,U,lr,mr,kr.data):de.isCompressedTexture?_e.compressedTexSubImage2D(_e.TEXTURE_2D,y,ht,Jt,kr.width,kr.height,lr,kr.data):_e.texSubImage2D(_e.TEXTURE_2D,y,ht,Jt,M,U,lr,mr,kr);_e.pixelStorei(_e.UNPACK_ROW_LENGTH,ks),_e.pixelStorei(_e.UNPACK_IMAGE_HEIGHT,gn),_e.pixelStorei(_e.UNPACK_SKIP_PIXELS,Rs),_e.pixelStorei(_e.UNPACK_SKIP_ROWS,ka),_e.pixelStorei(_e.UNPACK_SKIP_IMAGES,ms),y===0&&Ae.generateMipmaps&&_e.generateMipmap(Bt),gt.unbindTexture()},this.initRenderTarget=function(de){ie.get(de).__webglFramebuffer===void 0&&Ie.setupRenderTarget(de)},this.initTexture=function(de){de.isCubeTexture?Ie.setTextureCube(de,0):de.isData3DTexture?Ie.setTexture3D(de,0):de.isDataArrayTexture||de.isCompressedArrayTexture?Ie.setTexture2DArray(de,0):Ie.setTexture2D(de,0),gt.unbindTexture()},this.resetState=function(){q=0,J=0,re=null,gt.reset(),At.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return gc}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=dr._getDrawingBufferColorSpace(e),t.unpackColorSpace=dr._getUnpackColorSpace()}}const UCe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:bD,AddEquation:y0,AddOperation:ene,AdditiveAnimationBlendMode:Qz,AdditiveBlending:C8,AgXToneMapping:Wz,AlphaFormat:Jz,AlwaysCompare:dne,AlwaysDepth:N2,AlwaysStencilFunc:D8,AmbientLight:sre,AnimationAction:mre,AnimationClip:bA,AnimationLoader:jwe,AnimationMixer:gSe,AnimationObjectGroup:pSe,AnimationUtils:Bwe,ArcCurve:kne,ArrayCamera:fre,ArrowHelper:USe,AttachedBindMode:O8,Audio:hre,AudioAnalyser:iSe,AudioContext:MU,AudioListener:tSe,AudioLoader:Jwe,AxesHelper:jSe,BackSide:al,BasicDepthPacking:sne,BasicShadowMap:Ite,BatchedMesh:Sne,BezierInterpolant:Zne,Bone:aU,BooleanKeyframeTrack:hx,Box2:ESe,Box3:Co,Box3Helper:FSe,BoxGeometry:dx,BoxHelper:BSe,BufferAttribute:Jr,BufferGeometry:Nn,BufferGeometryLoader:cre,ByteType:qz,Cache:Wd,Camera:QD,CameraHelper:LSe,CanvasTexture:rwe,CapsuleGeometry:zD,CatmullRomCurve3:Rne,CineonToneMapping:Hz,CircleGeometry:UD,ClampToEdgeWrapping:Vl,Clock:yre,Color:qt,ColorKeyframeTrack:_U,ColorManagement:dr,Compatibility:$1e,CompressedArrayTexture:twe,CompressedCubeTexture:nwe,CompressedTexture:FD,CompressedTextureLoader:Hwe,ConeGeometry:CT,ConstantAlphaFactor:Jte,ConstantColorFactor:Xte,Controls:VSe,CubeCamera:ure,CubeDepthTexture:Tne,CubeReflectionMapping:rh,CubeRefractionMapping:X0,CubeTexture:AT,CubeTextureLoader:Vwe,CubeUVReflectionMapping:Aw,CubicBezierCurve:uU,CubicBezierCurve3:One,CubicInterpolant:Kne,CullFaceBack:T8,CullFaceFront:Dte,CullFaceFrontBack:r1e,CullFaceNone:Pte,Curve:Ff,CurvePath:Dne,CustomBlending:Nte,CustomToneMapping:Vz,CylinderGeometry:TT,Cylindrical:SSe,Data3DTexture:PD,DataArrayTexture:OD,DataTexture:Cf,DataTextureLoader:Wwe,DataUtils:C_e,DecrementStencilOp:w1e,DecrementWrapStencilOp:E1e,DefaultLoadingManager:ere,DepthFormat:sh,DepthStencilFormat:L0,DepthTexture:q_,DetachedBindMode:tne,DirectionalLight:ire,DirectionalLightHelper:NSe,DiscreteInterpolant:Jne,DodecahedronGeometry:jD,DoubleSide:Ld,DstAlphaFactor:Wte,DstColorFactor:Gte,DynamicCopyUsage:z1e,DynamicDrawUsage:D1e,DynamicReadUsage:L1e,EdgesGeometry:Cne,EllipseCurve:HD,EqualCompare:cne,EqualDepth:B2,EqualStencilFunc:C1e,EquirectangularReflectionMapping:PM,EquirectangularRefractionMapping:DM,Euler:Sc,EventDispatcher:hh,ExternalTexture:lU,ExtrudeGeometry:VD,FileLoader:Fp,Float16BufferAttribute:N_e,Float32BufferAttribute:Kt,FloatType:el,Fog:ID,FogExp2:DD,FramebufferTexture:ewe,FrontSide:Bp,Frustum:Cw,FrustumArray:BD,GLBufferAttribute:_Se,GLSL1:j1e,GLSL3:I8,GreaterCompare:une,GreaterDepth:z2,GreaterEqualCompare:RD,GreaterEqualDepth:F2,GreaterEqualStencilFunc:P1e,GreaterStencilFunc:R1e,GridHelper:DSe,Group:P1,HalfFloatType:ih,HemisphereLight:tre,HemisphereLightHelper:PSe,IcosahedronGeometry:WD,ImageBitmapLoader:Kwe,ImageLoader:_A,ImageUtils:gne,IncrementStencilOp:_1e,IncrementWrapStencilOp:S1e,InstancedBufferAttribute:G_,InstancedBufferGeometry:lre,InstancedInterleavedBuffer:bSe,InstancedMesh:wne,Int16BufferAttribute:D_e,Int32BufferAttribute:I_e,Int8BufferAttribute:R_e,IntType:wD,InterleavedBuffer:ND,InterleavedBufferAttribute:Xv,Interpolant:Rw,InterpolateBezier:P8,InterpolateDiscrete:lA,InterpolateLinear:xO,InterpolateSmooth:GR,InterpolationSamplingMode:W1e,InterpolationSamplingType:V1e,InvertStencilOp:M1e,KeepStencilOp:Ay,KeyframeTrack:Nu,LOD:bne,LatheGeometry:$D,Layers:$_,LessCompare:lne,LessDepth:L2,LessEqualCompare:kD,LessEqualDepth:Gv,LessEqualStencilFunc:k1e,LessStencilFunc:T1e,Light:hg,LightProbe:ore,Line:Z0,Line3:TSe,LineBasicMaterial:cl,LineCurve:fU,LineCurve3:Pne,LineDashedMaterial:Yne,LineLoop:Ene,LineSegments:ph,LinearFilter:Mi,LinearInterpolant:bU,LinearMipMapLinearFilter:l1e,LinearMipMapNearestFilter:o1e,LinearMipmapLinearFilter:Vd,LinearMipmapNearestFilter:IM,LinearSRGBColorSpace:K0,LinearToneMapping:Uz,LinearTransfer:uA,Loader:Xl,LoaderUtils:z8,LoadingManager:wU,LoopOnce:nne,LoopPingPong:ine,LoopRepeat:rne,MOUSE:t1e,Material:Oo,MaterialBlending:i1e,MaterialLoader:eI,MathUtils:p_e,Matrix2:kU,Matrix3:Bn,Matrix4:Mn,MaxEquation:zte,Mesh:Vs,MeshBasicMaterial:fg,MeshDepthMaterial:yU,MeshDistanceMaterial:vU,MeshLambertMaterial:Gne,MeshMatcapMaterial:qne,MeshNormalMaterial:$ne,MeshPhongMaterial:Vne,MeshPhysicalMaterial:Hne,MeshStandardMaterial:gU,MeshToonMaterial:Wne,MinEquation:Fte,MirroredRepeatWrapping:oA,MixOperation:Qte,MultiplyBlending:R8,MultiplyOperation:ET,NearestFilter:Es,NearestMipMapLinearFilter:a1e,NearestMipMapNearestFilter:s1e,NearestMipmapLinearFilter:R1,NearestMipmapNearestFilter:Gz,NeutralToneMapping:$z,NeverCompare:one,NeverDepth:I2,NeverStencilFunc:A1e,NoBlending:Jd,NoColorSpace:xp,NoNormalPacking:g1e,NoToneMapping:Mu,NormalAnimationBlendMode:CD,NormalBlending:Iv,NormalGAPacking:v1e,NormalRGPacking:y1e,NotEqualCompare:fne,NotEqualDepth:U2,NotEqualStencilFunc:O1e,NumberKeyframeTrack:vA,Object3D:Sr,ObjectLoader:Ywe,ObjectSpaceNormalMap:ane,OctahedronGeometry:kT,OneFactor:jte,OneMinusConstantAlphaFactor:Zte,OneMinusConstantColorFactor:Kte,OneMinusDstAlphaFactor:$te,OneMinusDstColorFactor:qte,OneMinusSrcAlphaFactor:D2,OneMinusSrcColorFactor:Vte,OrthographicCamera:Ow,PCFShadowMap:G1,PCFSoftShadowMap:OM,PMREMGenerator:H8,Path:SO,PerspectiveCamera:_a,Plane:f0,PlaneGeometry:kw,PlaneHelper:zSe,PointLight:rre,PointLightHelper:RSe,Points:Mne,PointsMaterial:oU,PolarGridHelper:ISe,PolyhedronGeometry:dg,PositionalAudio:rSe,PropertyBinding:br,PropertyMixer:pre,QuadraticBezierCurve:dU,QuadraticBezierCurve3:hU,Quaternion:ol,QuaternionKeyframeTrack:OT,QuaternionLinearInterpolant:Qne,R11_EAC_Format:Y2,RED_GREEN_RGTC2_Format:yO,RED_RGTC1_Format:mO,REVISION:xD,RG11_EAC_Format:K2,RGBADepthPacking:h1e,RGBAFormat:To,RGBAIntegerFormat:TD,RGBA_ASTC_10x10_Format:cO,RGBA_ASTC_10x5_Format:aO,RGBA_ASTC_10x6_Format:oO,RGBA_ASTC_10x8_Format:lO,RGBA_ASTC_12x10_Format:uO,RGBA_ASTC_12x12_Format:fO,RGBA_ASTC_4x4_Format:Z2,RGBA_ASTC_5x4_Format:Q2,RGBA_ASTC_5x5_Format:eO,RGBA_ASTC_6x5_Format:tO,RGBA_ASTC_6x6_Format:nO,RGBA_ASTC_8x5_Format:rO,RGBA_ASTC_8x6_Format:iO,RGBA_ASTC_8x8_Format:sO,RGBA_BPTC_Format:dO,RGBA_ETC2_EAC_Format:q2,RGBA_PVRTC_2BPPV1_Format:W2,RGBA_PVRTC_4BPPV1_Format:V2,RGBA_S3TC_DXT1_Format:LM,RGBA_S3TC_DXT3_Format:BM,RGBA_S3TC_DXT5_Format:FM,RGBDepthPacking:p1e,RGBFormat:Zz,RGBIntegerFormat:c1e,RGB_BPTC_SIGNED_Format:hO,RGB_BPTC_UNSIGNED_Format:pO,RGB_ETC1_Format:$2,RGB_ETC2_Format:G2,RGB_PVRTC_2BPPV1_Format:H2,RGB_PVRTC_4BPPV1_Format:j2,RGB_S3TC_DXT1_Format:NM,RGDepthPacking:m1e,RGFormat:qv,RGIntegerFormat:AD,RawShaderMaterial:mU,Ray:Tw,Raycaster:gre,RectAreaLight:are,RedFormat:MD,RedIntegerFormat:MT,ReinhardToneMapping:jz,RenderTarget:tU,RenderTarget3D:ySe,RepeatWrapping:aA,ReplaceStencilOp:b1e,ReverseSubtractEquation:Bte,RingGeometry:GD,SIGNED_R11_EAC_Format:X2,SIGNED_RED_GREEN_RGTC2_Format:vO,SIGNED_RED_RGTC1_Format:gO,SIGNED_RG11_EAC_Format:J2,SRGBColorSpace:So,SRGBTransfer:Fr,Scene:nU,ShaderChunk:$n,ShaderLib:xf,ShaderMaterial:ku,ShadowMaterial:zne,Shape:Lv,ShapeGeometry:qD,ShapePath:HSe,ShapeUtils:Mf,ShortType:Yz,Skeleton:LD,SkeletonHelper:kSe,SkinnedMesh:_ne,Source:B0,Sphere:Ja,SphereGeometry:RT,Spherical:wSe,SphericalHarmonics3:EU,SplineCurve:pU,SpotLight:nre,SpotLightHelper:CSe,Sprite:xne,SpriteMaterial:sU,SrcAlphaFactor:P2,SrcAlphaSaturateFactor:Yte,SrcColorFactor:Hte,StaticCopyUsage:F1e,StaticDrawUsage:fA,StaticReadUsage:N1e,StereoCamera:Zwe,StreamCopyUsage:U1e,StreamDrawUsage:I1e,StreamReadUsage:B1e,StringKeyframeTrack:px,SubtractEquation:Lte,SubtractiveBlending:k8,TOUCH:n1e,TangentSpaceNormalMap:ug,TetrahedronGeometry:YD,Texture:Ui,TextureLoader:ZD,TextureUtils:YSe,Timer:dre,TimestampQuery:H1e,TorusGeometry:XD,TorusKnotGeometry:KD,Triangle:jl,TriangleFanDrawMode:d1e,TriangleStripDrawMode:f1e,TrianglesDrawMode:u1e,TubeGeometry:JD,UVMapping:_D,Uint16BufferAttribute:rU,Uint32BufferAttribute:iU,Uint8BufferAttribute:O_e,Uint8ClampedBufferAttribute:P_e,Uniform:CU,UniformsGroup:xSe,UniformsLib:Ht,UniformsUtils:jne,UnsignedByteType:Ko,UnsignedInt101111Type:Kz,UnsignedInt248Type:V_,UnsignedInt5999Type:Xz,UnsignedIntType:Cu,UnsignedShort4444Type:SD,UnsignedShort5551Type:ED,UnsignedShortType:H_,VSMShadowMap:qy,Vector2:St,Vector3:Se,Vector4:ti,VectorKeyframeTrack:xA,VideoFrameTexture:Q_e,VideoTexture:Ane,WebGL3DRenderTarget:x_e,WebGLArrayRenderTarget:v_e,WebGLCoordinateSystem:gc,WebGLCubeRenderTarget:RU,WebGLRenderTarget:bc,WebGLRenderer:Mre,WebGLUtils:Ere,WebGPUCoordinateSystem:Yv,WebXRController:qR,WireframeGeometry:Fne,WrapAroundEnding:cA,ZeroCurvatureEnding:Yy,ZeroFactor:Ute,ZeroSlopeEnding:Xy,ZeroStencilOp:x1e,createCanvasElement:pne,error:on,getConsoleFunction:X1e,log:hA,setConsoleFunction:Y1e,warn:Ut,warnOnce:pA},Symbol.toStringTag,{value:"Module"}));var d6={exports:{}},h6={},p6={exports:{}},m6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$;function jCe(){if(h$)return m6;h$=1;var n=vw();function e(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function o(d,p){var g=p(),b=r({inst:{value:g,getSnapshot:p}}),S=b[0].inst,w=b[1];return s(function(){S.value=g,S.getSnapshot=p,l(S)&&w({inst:S})},[d,g,p]),i(function(){return l(S)&&w({inst:S}),d(function(){l(S)&&w({inst:S})})},[d]),a(g),g}function l(d){var p=d.getSnapshot;d=d.value;try{var g=p();return!t(d,g)}catch{return!0}}function c(d,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return m6.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,m6}var p$;function HCe(){return p$||(p$=1,p6.exports=jCe()),p6.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m$;function VCe(){if(m$)return h6;m$=1;var n=vw(),e=HCe();function t(c,f){return c===f&&(c!==0||1/c===1/f)||c!==c&&f!==f}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,o=n.useMemo,l=n.useDebugValue;return h6.useSyncExternalStoreWithSelector=function(c,f,d,p,g){var b=s(null);if(b.current===null){var S={hasValue:!1,value:null};b.current=S}else S=b.current;b=o(function(){function E(I){if(!k){if(k=!0,R=I,I=p(I),g!==void 0&&S.hasValue){var B=S.value;if(g(B,I))return O=B}return O=I}if(B=O,r(R,I))return B;var z=p(I);return g!==void 0&&g(B,z)?(R=I,B):(R=I,O=z)}var k=!1,R,O,D=d===void 0?null:d;return[function(){return E(f())},D===null?void 0:function(){return E(D())}]},[f,d,p,g]);var w=i(c,b[0],b[1]);return a(function(){S.hasValue=!0,S.value=w},[w]),l(w),w},h6}var g$;function WCe(){return g$||(g$=1,d6.exports=VCe()),d6.exports}var Are=WCe();const $Ce=Mc(Are),y$=n=>{let e;const t=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const p=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),t.forEach(g=>g(e,p))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(t.add(c),()=>t.delete(c))},l=e=n(r,i,o);return o},GCe=(n=>n?y$(n):y$),{useSyncExternalStoreWithSelector:qCe}=$Ce,YCe=n=>n;function XCe(n,e=YCe,t){const r=qCe(n.subscribe,n.getState,n.getInitialState,e,t);return st.useDebugValue(r),r}const v$=(n,e)=>{const t=GCe(n),r=(i,s=e)=>XCe(t,i,s);return Object.assign(r,t),r},KCe=((n,e)=>n?v$(n,e):v$),JCe=n=>typeof n=="object"&&typeof n.then=="function",Jy=[];function Tre(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function Cre(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of Jy)if(Tre(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Jy.indexOf(i);s!==-1&&Jy.splice(s,1)},promise:(JCe(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Jy.push(i),!t)throw i.promise}const ZCe=(n,e,t)=>Cre(n,e,!1,t),QCe=(n,e,t)=>void Cre(n,e,!0,t),e3e=n=>{if(n===void 0||n.length===0)Jy.splice(0,Jy.length);else{const e=Jy.find(t=>Tre(n,t.keys,t.equal));e&&e.remove()}};var $8=uQ();const t3e=Mc($8);function OU(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=OU(r,e,t);if(i)return i;r=e?null:r.sibling}}function kre(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const PU=kre(L.createContext(null));class Rre extends L.Component{render(){return L.createElement(PU.Provider,{value:this._reactInternals},this.props.children)}}function Ore(){const n=L.useContext(PU);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=L.useId();return L.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const r=OU(t,!1,i=>{let s=i.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(r)return r}},[n,e])}const n3e=Symbol.for("react.context"),r3e=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===n3e;function i3e(){const n=Ore(),[e]=L.useState(()=>new Map);e.clear();let t=n;for(;t;){const r=t.type;r3e(r)&&r!==PU&&!e.has(r)&&e.set(r,L.use(kre(r))),t=t.return}return e}function s3e(){const n=i3e();return L.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>L.createElement(e,null,L.createElement(t.Provider,{...r,value:n.get(t)})),e=>L.createElement(Rre,{...e})),[n])}function Pre(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Dre=n=>n&&n.isOrthographicCamera,a3e=n=>n&&n.hasOwnProperty("current"),o3e=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),PT=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?L.useLayoutEffect:L.useEffect;function Ire(n){const e=L.useRef(n);return PT(()=>void(e.current=n),[n]),e}function l3e(){const n=Ore(),e=s3e();return L.useMemo(()=>({children:t})=>{const i=!!OU(n,!0,s=>s.type===L.StrictMode)?L.StrictMode:L.Fragment;return T.jsx(i,{children:T.jsx(e,{children:t})})},[n,e])}function c3e({set:n}){return PT(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const u3e=(n=>(n=class extends L.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Nre(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function Yb(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Ni={obj:n=>n===Object(n)&&!Ni.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Ni.str(n)||Ni.num(n)||Ni.boo(n))return n===e;const s=Ni.obj(n);if(s&&r==="reference")return n===e;const a=Ni.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(o in i?e:n)if(!Ni.equ(n[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:n)if(n[o]!==e[o])return!1;if(Ni.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function f3e(n){const e={nodes:{},materials:{},meshes:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material),t.isMesh&&!e.meshes[t.name]&&(e.meshes[t.name]=t)}),e}function d3e(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const Lre=["children","key","ref"];function h3e(n){const e={};for(const t in n)Lre.includes(t)||(e[t]=n[t]);return e}function EO(n,e,t,r){const i=n;let s=i==null?void 0:i.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:h3e(r),object:i,eventCount:0,handlers:{},isHidden:!1},i&&(i.__r3f=s)),s}function wA(n,e){if(!e.includes("-"))return{root:n,key:e,target:n[e]};if(e in n)return{root:n,key:e,target:n[e]};let t=n;const r=e.split("-");for(const i of r){if(typeof t!="object"||t===null){if(t!==void 0){const s=r.slice(r.indexOf(i)).join("-");return{root:t,key:s,target:void 0}}return{root:n,key:e,target:void 0}}e=i,n=t,t=t[e]}return{root:n,key:e,target:t}}const x$=/-\d+$/;function MO(n,e){if(Ni.str(e.props.attach)){if(x$.test(e.props.attach)){const i=e.props.attach.replace(x$,""),{root:s,key:a}=wA(n.object,i);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:r}=wA(n.object,e.props.attach);e.previousAttach=t[r],t[r]=e.object}else Ni.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function AO(n,e){if(Ni.str(e.props.attach)){const{root:t,key:r}=wA(n.object,e.props.attach),i=e.previousAttach;i===void 0?delete t[r]:t[r]=i}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const G8=[...Lre,"args","dispose","attach","object","onUpdate","dispose"],b$=new Map;function p3e(n){let e=b$.get(n.constructor);try{e||(e=new n.constructor,b$.set(n.constructor,e))}catch{}return e}function m3e(n,e){const t={};for(const r in e)if(!G8.includes(r)&&!Ni.equ(e[r],n.props[r])){t[r]=e[r];for(const i in e)i.startsWith(`${r}-`)&&(t[i]=e[i])}for(const r in n.props){if(G8.includes(r)||e.hasOwnProperty(r))continue;const{root:i,key:s}=wA(n.object,r);if(i.constructor&&i.constructor.length===0){const a=p3e(i);Ni.und(a)||(t[s]=a[s])}else t[s]=0}return t}const g3e=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],y3e=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function v0(n,e){var t;const r=n.__r3f,i=r&&Pre(r).getState(),s=r==null?void 0:r.eventCount;for(const o in e){let l=e[o];if(G8.includes(o))continue;if(r&&y3e.test(o)){typeof l=="function"?r.handlers[o]=l:delete r.handlers[o],r.eventCount=Object.keys(r.handlers).length;continue}if(l===void 0)continue;let{root:c,key:f,target:d}=wA(n,o);if(d===void 0&&(typeof c!="object"||c===null))throw Error(`R3F: Cannot set "${o}". Ensure it is an object before setting "${f}".`);if(d instanceof $_&&l instanceof $_)d.mask=l.mask;else if(d instanceof qt&&o3e(l))d.set(l);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof d.copy=="function"&&l!=null&&l.constructor&&d.constructor===l.constructor)d.copy(l);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&Array.isArray(l))typeof d.fromArray=="function"?d.fromArray(l):d.set(...l);else if(d!==null&&typeof d=="object"&&typeof d.set=="function"&&typeof l=="number")typeof d.setScalar=="function"?d.setScalar(l):d.set(l);else{var a;c[f]=l,i&&!i.linear&&g3e.includes(f)&&(a=c[f])!=null&&a.isTexture&&c[f].format===To&&c[f].type===Ko&&(c[f].colorSpace=So)}}if(r!=null&&r.parent&&i!=null&&i.internal&&(t=r.object)!=null&&t.isObject3D&&s!==r.eventCount){const o=r.object,l=i.internal.interaction.indexOf(o);l>-1&&i.internal.interaction.splice(l,1),r.eventCount&&o.raycast!==null&&i.internal.interaction.push(o)}return r&&r.props.attach===void 0&&(r.object.isBufferGeometry?r.props.attach="geometry":r.object.isMaterial&&(r.props.attach="material")),r&&Dw(r),n}function Dw(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function v3e(n,e){n.manual||(Dre(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const qo=n=>n==null?void 0:n.isObject3D;function Hk(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Bre(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function x3e(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Bre(t.capturedMap,e,r,i)})}function b3e(n){function e(l){const{internal:c}=n.getState(),f=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,c){const f=n.getState(),d=new Set,p=[],g=c?c(f.internal.interaction):f.internal.interaction;for(let E=0;E<g.length;E++){const k=Yb(g[E]);k&&(k.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function b(E){const k=Yb(E);if(!k||!k.events.enabled||k.raycaster.camera===null)return[];if(k.raycaster.camera===void 0){var R;k.events.compute==null||k.events.compute(l,k,(R=k.previousRoot)==null?void 0:R.getState()),k.raycaster.camera===void 0&&(k.raycaster.camera=null)}return k.raycaster.camera?k.raycaster.intersectObject(E,!0):[]}let S=g.flatMap(b).sort((E,k)=>{const R=Yb(E.object),O=Yb(k.object);return!R||!O?E.distance-k.distance:O.events.priority-R.events.priority||E.distance-k.distance}).filter(E=>{const k=Hk(E);return d.has(k)?!1:(d.add(k),!0)});f.events.filter&&(S=f.events.filter(S,f));for(const E of S){let k=E.object;for(;k;){var w;(w=k.__r3f)!=null&&w.eventCount&&p.push({...E,eventObject:k}),k=k.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let E of f.internal.capturedMap.get(l.pointerId).values())d.has(Hk(E.intersection))||p.push(E.intersection);return p}function i(l,c,f,d){if(l.length){const p={stopped:!1};for(const g of l){let b=Yb(g.object);if(b||g.object.traverseAncestors(S=>{const w=Yb(S);if(w)return b=w,!1}),b){const{raycaster:S,pointer:w,camera:E,internal:k}=b,R=new Se(w.x,w.y,0).unproject(E),O=V=>{var Y,q;return(Y=(q=k.capturedMap.get(V))==null?void 0:q.has(g.eventObject))!=null?Y:!1},D=V=>{const Y={intersection:g,target:c.target};k.capturedMap.has(V)?k.capturedMap.get(V).set(g.eventObject,Y):k.capturedMap.set(V,new Map([[g.eventObject,Y]])),c.target.setPointerCapture(V)},I=V=>{const Y=k.capturedMap.get(V);Y&&Bre(k.capturedMap,g.eventObject,Y,V)};let B={};for(let V in c){let Y=c[V];typeof Y!="function"&&(B[V]=Y)}let z={...g,...B,pointer:w,intersections:l,stopped:p.stopped,delta:f,unprojectedPoint:R,ray:S.ray,camera:E,stopPropagation(){const V="pointerId"in c&&k.capturedMap.get(c.pointerId);if((!V||V.has(g.eventObject))&&(z.stopped=p.stopped=!0,k.hovered.size&&Array.from(k.hovered.values()).find(Y=>Y.eventObject===g.eventObject))){const Y=l.slice(0,l.indexOf(g));s([...Y,g])}},target:{hasPointerCapture:O,setPointerCapture:D,releasePointerCapture:I},currentTarget:{hasPointerCapture:O,setPointerCapture:D,releasePointerCapture:I},nativeEvent:c};if(d(z),p.stopped===!0)break}}}return l}function s(l){const{internal:c}=n.getState();for(const f of c.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const p=f.eventObject.__r3f;if(c.hovered.delete(Hk(f)),p!=null&&p.eventCount){const g=p.handlers,b={...f,intersections:l};g.onPointerOut==null||g.onPointerOut(b),g.onPointerLeave==null||g.onPointerLeave(b)}}}function a(l,c){for(let f=0;f<c.length;f++){const d=c[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=n.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:p}=n.getState();p.lastEvent.current=f;const g=l==="onPointerMove",b=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",w=r(f,g?t:void 0),E=b?e(f):0;l==="onPointerDown"&&(p.initialClick=[f.offsetX,f.offsetY],p.initialHits=w.map(R=>R.eventObject)),b&&!w.length&&E<=2&&(a(f,p.interaction),d&&d(f)),g&&s(w);function k(R){const O=R.eventObject,D=O.__r3f;if(!(D!=null&&D.eventCount))return;const I=D.handlers;if(g){if(I.onPointerOver||I.onPointerEnter||I.onPointerOut||I.onPointerLeave){const B=Hk(R),z=p.hovered.get(B);z?z.stopped&&R.stopPropagation():(p.hovered.set(B,R),I.onPointerOver==null||I.onPointerOver(R),I.onPointerEnter==null||I.onPointerEnter(R))}I.onPointerMove==null||I.onPointerMove(R)}else{const B=I[l];B?(!b||p.initialHits.includes(O))&&(a(f,p.interaction.filter(z=>!p.initialHits.includes(z))),B(R)):b&&p.initialHits.includes(O)&&a(f,p.interaction.filter(z=>!p.initialHits.includes(z)))}}i(w,f,E,k)}}return{handlePointer:o}}const _$=n=>!!(n!=null&&n.render),Fre=L.createContext(null),_3e=(n,e)=>{const t=KCe((o,l)=>{const c=new Se,f=new Se,d=new Se;function p(E=l().camera,k=f,R=l().size){const{width:O,height:D,top:I,left:B}=R,z=O/D;k.isVector3?d.copy(k):d.set(...k);const V=E.getWorldPosition(c).distanceTo(d);if(Dre(E))return{width:O/E.zoom,height:D/E.zoom,top:I,left:B,factor:1,distance:V,aspect:z};{const Y=E.fov*Math.PI/180,q=2*Math.tan(Y/2)*V,J=q*(O/D);return{width:J,height:q,top:I,left:B,factor:O/J,distance:V,aspect:z}}}let g;const b=E=>o(k=>({performance:{...k.performance,current:E}})),S=new St;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(E=1)=>n(l(),E),advance:(E,k)=>e(E,k,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new yre,pointer:S,mouse:S,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const E=l();g&&clearTimeout(g),E.performance.current!==E.performance.min&&b(E.performance.min),g=setTimeout(()=>b(l().performance.max),E.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:E=>o(k=>({...k,events:{...k.events,...E}})),setSize:(E,k,R=0,O=0)=>{const D=l().camera,I={width:E,height:k,top:R,left:O};o(B=>({size:I,viewport:{...B.viewport,...p(D,f,I)}}))},setDpr:E=>o(k=>{const R=Nre(E);return{viewport:{...k.viewport,dpr:R,initialDpr:k.viewport.initialDpr||R}}}),setFrameloop:(E="always")=>{const k=l().clock;k.stop(),k.elapsedTime=0,E!=="never"&&(k.start(),k.elapsedTime=0),o(()=>({frameloop:E}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:L.createRef(),active:!1,frames:0,priority:0,subscribe:(E,k,R)=>{const O=l().internal;return O.priority=O.priority+(k>0?1:0),O.subscribers.push({ref:E,priority:k,store:R}),O.subscribers=O.subscribers.sort((D,I)=>D.priority-I.priority),()=>{const D=l().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(k>0?1:0),D.subscribers=D.subscribers.filter(I=>I.ref!==E))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:f,set:d}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){i=l,s=c.dpr,v3e(o,l),c.dpr>0&&f.setPixelRatio(c.dpr);const p=typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,p)}o!==a&&(a=o,d(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function zre(){const n=L.useContext(Fre);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Ure(n=t=>t,e){return zre()(n,e)}function w3e(n,e=0){const t=zre(),r=t.getState().internal.subscribe,i=Ire(n);return PT(()=>r(i,e,t),[e,r,t]),null}const w$=new WeakMap,S3e=n=>{var e;return typeof n=="function"&&(n==null||(e=n.prototype)==null?void 0:e.constructor)===n};function jre(n,e){return function(t,...r){let i;return S3e(t)?(i=w$.get(t),i||(i=new t,w$.set(t,i))):i=t,n&&n(i),Promise.all(r.map(s=>new Promise((a,o)=>i.load(s,l=>{qo(l==null?void 0:l.scene)&&Object.assign(l,f3e(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function DT(n,e,t,r){const i=Array.isArray(e)?e:[e],s=ZCe(jre(t,r),[n,...i],{equal:Ni.equ});return Array.isArray(e)?s:s[0]}DT.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return QCe(jre(t),[n,...r])};DT.clear=function(n,e){const t=Array.isArray(e)?e:[e];return e3e([n,...t])};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const E3e=1,M3e=8,A3e=32,T3e=2;var C3e={version:"9.5.0"};function k3e(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var S$={exports:{}},E$={exports:{}},M$;function R3e(){return M$||(M$=1,(function(n){n.exports=function(e){function t(m,v,C,P){return new SS(m,v,C,P)}function r(){}function i(m){var v="https://react.dev/errors/"+m;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)v+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+m+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(m){var v=m,C=m;if(m.alternate)for(;v.return;)v=v.return;else{m=v;do v=m,(v.flags&4098)!==0&&(C=v.return),m=v.return;while(m)}return v.tag===3?C:null}function a(m){if(s(m)!==m)throw Error(i(188))}function o(m){var v=m.alternate;if(!v){if(v=s(m),v===null)throw Error(i(188));return v!==m?null:m}for(var C=m,P=v;;){var H=C.return;if(H===null)break;var G=H.alternate;if(G===null){if(P=H.return,P!==null){C=P;continue}break}if(H.child===G.child){for(G=H.child;G;){if(G===C)return a(H),m;if(G===P)return a(H),v;G=G.sibling}throw Error(i(188))}if(C.return!==P.return)C=H,P=G;else{for(var he=!1,Ce=H.child;Ce;){if(Ce===C){he=!0,C=H,P=G;break}if(Ce===P){he=!0,P=H,C=G;break}Ce=Ce.sibling}if(!he){for(Ce=G.child;Ce;){if(Ce===C){he=!0,C=G,P=H;break}if(Ce===P){he=!0,P=G,C=H;break}Ce=Ce.sibling}if(!he)throw Error(i(189))}}if(C.alternate!==P)throw Error(i(190))}if(C.tag!==3)throw Error(i(188));return C.stateNode.current===C?m:v}function l(m){var v=m.tag;if(v===5||v===26||v===27||v===6)return m;for(m=m.child;m!==null;){if(v=l(m),v!==null)return v;m=m.sibling}return null}function c(m){var v=m.tag;if(v===5||v===26||v===27||v===6)return m;for(m=m.child;m!==null;){if(m.tag!==4&&(v=c(m),v!==null))return v;m=m.sibling}return null}function f(m){return m===null||typeof m!="object"?null:(m=$u&&m[$u]||m["@@iterator"],typeof m=="function"?m:null)}function d(m){if(m==null)return null;if(typeof m=="function")return m.$$typeof===Qf?null:m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case kh:return"Fragment";case Oh:return"Profiler";case Rh:return"StrictMode";case Xx:return"Suspense";case Wu:return"SuspenseList";case Fg:return"Activity"}if(typeof m=="object")switch(m.$$typeof){case Ch:return"Portal";case vl:return m.displayName||"Context";case Bg:return(m._context.displayName||"Context")+".Consumer";case Am:var v=m.render;return m=m.displayName,m||(m=v.displayName||v.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case Kx:return v=m.displayName||null,v!==null?v:d(m.type)||"Memo";case Da:v=m._payload,m=m._init;try{return d(m(v))}catch{}}return null}function p(m){return{current:m}}function g(m){0>Lh||(m.current=cb[Lh],cb[Lh]=null,Lh--)}function b(m,v){Lh++,cb[Lh]=m.current,m.current=v}function S(m){return m>>>=0,m===0?32:31-(ub(m)/S3|0)|0}function w(m){var v=m&42;if(v!==0)return v;switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return m&261888;case 262144:case 524288:case 1048576:case 2097152:return m&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return m&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return m}}function E(m,v,C){var P=m.pendingLanes;if(P===0)return 0;var H=0,G=m.suspendedLanes,he=m.pingedLanes;m=m.warmLanes;var Ce=P&134217727;return Ce!==0?(P=Ce&~G,P!==0?H=w(P):(he&=Ce,he!==0?H=w(he):C||(C=Ce&~m,C!==0&&(H=w(C))))):(Ce=P&~G,Ce!==0?H=w(Ce):he!==0?H=w(he):C||(C=P&~m,C!==0&&(H=w(C)))),H===0?0:v!==0&&v!==H&&(v&G)===0&&(G=H&-H,C=v&-v,G>=C||G===32&&(C&4194048)!==0)?v:H}function k(m,v){return(m.pendingLanes&~(m.suspendedLanes&~m.pingedLanes)&v)===0}function R(m,v){switch(m){case 1:case 2:case 4:case 8:case 64:return v+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return v+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function O(){var m=Dm;return Dm<<=1,(Dm&62914560)===0&&(Dm=4194304),m}function D(m){for(var v=[],C=0;31>C;C++)v.push(m);return v}function I(m,v){m.pendingLanes|=v,v!==268435456&&(m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0)}function B(m,v,C,P,H,G){var he=m.pendingLanes;m.pendingLanes=C,m.suspendedLanes=0,m.pingedLanes=0,m.warmLanes=0,m.expiredLanes&=C,m.entangledLanes&=C,m.errorRecoveryDisabledLanes&=C,m.shellSuspendCounter=0;var Ce=m.entanglements,rt=m.expirationTimes,Et=m.hiddenUpdates;for(C=he&~C;0<C;){var It=31-oo(C),Ct=1<<It;Ce[It]=0,rt[It]=-1;var Wt=Et[It];if(Wt!==null)for(Et[It]=null,It=0;It<Wt.length;It++){var Rn=Wt[It];Rn!==null&&(Rn.lane&=-536870913)}C&=~Ct}P!==0&&z(m,P,0),G!==0&&H===0&&m.tag!==0&&(m.suspendedLanes|=G&~(he&~v))}function z(m,v,C){m.pendingLanes|=v,m.suspendedLanes&=~v;var P=31-oo(v);m.entangledLanes|=v,m.entanglements[P]=m.entanglements[P]|1073741824|C&261930}function V(m,v){var C=m.entangledLanes|=v;for(m=m.entanglements;C;){var P=31-oo(C),H=1<<P;H&v|m[P]&v&&(m[P]|=v),C&=~H}}function Y(m,v){var C=v&-v;return C=(C&42)!==0?1:q(C),(C&(m.suspendedLanes|v))!==0?0:C}function q(m){switch(m){case 2:m=1;break;case 8:m=4;break;case 32:m=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:m=128;break;case 268435456:m=134217728;break;default:m=0}return m}function J(m){return m&=-m,2<m?8<m?(m&134217727)!==0?32:268435456:8:2}function re(m){if(typeof lE=="function"&&A3(m),lo&&typeof lo.setStrictMode=="function")try{lo.setStrictMode(Fh,m)}catch{}}function fe(m,v){return m===v&&(m!==0||1/m===1/v)||m!==m&&v!==v}function ne(m){if(gb===void 0)try{throw Error()}catch(C){var v=C.stack.trim().match(/\n( *(at )?)/);gb=v&&v[1]||"",Wc=-1<C.stack.indexOf(`
    at`)?" (<anonymous>)":-1<C.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gb+m+Wc}function te(m,v){if(!m||qg)return"";qg=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var P={DetermineComponentFrameRoot:function(){try{if(v){var Ct=function(){throw Error()};if(Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(Rn){var Wt=Rn}Reflect.construct(m,[],Ct)}else{try{Ct.call()}catch(Rn){Wt=Rn}m.call(Ct.prototype)}}else{try{throw Error()}catch(Rn){Wt=Rn}(Ct=m())&&typeof Ct.catch=="function"&&Ct.catch(function(){})}}catch(Rn){if(Rn&&Wt&&typeof Rn.stack=="string")return[Rn.stack,Wt.stack]}return[null,null]}};P.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var H=Object.getOwnPropertyDescriptor(P.DetermineComponentFrameRoot,"name");H&&H.configurable&&Object.defineProperty(P.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var G=P.DetermineComponentFrameRoot(),he=G[0],Ce=G[1];if(he&&Ce){var rt=he.split(`
`),Et=Ce.split(`
`);for(H=P=0;P<rt.length&&!rt[P].includes("DetermineComponentFrameRoot");)P++;for(;H<Et.length&&!Et[H].includes("DetermineComponentFrameRoot");)H++;if(P===rt.length||H===Et.length)for(P=rt.length-1,H=Et.length-1;1<=P&&0<=H&&rt[P]!==Et[H];)H--;for(;1<=P&&0<=H;P--,H--)if(rt[P]!==Et[H]){if(P!==1||H!==1)do if(P--,H--,0>H||rt[P]!==Et[H]){var It=`
`+rt[P].replace(" at new "," at ");return m.displayName&&It.includes("<anonymous>")&&(It=It.replace("<anonymous>",m.displayName)),It}while(1<=P&&0<=H);break}}}finally{qg=!1,Error.prepareStackTrace=C}return(C=m?m.displayName||m.name:"")?ne(C):""}function se(m,v){switch(m.tag){case 26:case 27:case 5:return ne(m.type);case 16:return ne("Lazy");case 13:return m.child!==v&&v!==null?ne("Suspense Fallback"):ne("Suspense");case 19:return ne("SuspenseList");case 0:case 15:return te(m.type,!1);case 11:return te(m.type.render,!1);case 1:return te(m.type,!0);case 31:return ne("Activity");default:return""}}function be(m){try{var v="",C=null;do v+=se(m,C),C=m,m=m.return;while(m);return v}catch(P){return`
Error generating stack: `+P.message+`
`+P.stack}}function Ee(m,v){if(typeof m=="object"&&m!==null){var C=cE.get(m);return C!==void 0?C:(v={value:m,source:v,stack:be(v)},cE.set(m,v),v)}return{value:m,source:v,stack:be(v)}}function oe(m,v){Yu[$c++]=Yg,Yu[$c++]=Br,Br=m,Yg=v}function ee(m,v,C){_l[zo++]=qs,_l[zo++]=ec,_l[zo++]=wl,wl=m;var P=qs;m=ec;var H=32-oo(P)-1;P&=~(1<<H),C+=1;var G=32-oo(v)+H;if(30<G){var he=H-H%5;G=(P&(1<<he)-1).toString(32),P>>=he,H-=he,qs=1<<32-oo(v)+H|C<<H|P,ec=G+m}else qs=1<<G|C<<H|P,ec=m}function xe(m){m.return!==null&&(oe(m,1),ee(m,1,0))}function ae(m){for(;m===Br;)Br=Yu[--$c],Yu[$c]=null,Yg=Yu[--$c],Yu[$c]=null;for(;m===wl;)wl=_l[--zo],_l[zo]=null,ec=_l[--zo],_l[zo]=null,qs=_l[--zo],_l[zo]=null}function De(m,v){_l[zo++]=qs,_l[zo++]=ec,_l[zo++]=wl,qs=v.id,ec=v.overflow,wl=m}function dt(m,v){b(Ys,v),b(Xu,m),b(Is,null),m=zC(v),g(Is),b(Is,m)}function Ne(){g(Is),g(Xu),g(Ys)}function Ue(m){m.memoizedState!==null&&b(Xg,m);var v=Is.current,C=km(v,m.type);v!==C&&(b(Xu,m),b(Is,C))}function qe(m){Xu.current===m&&(g(Is),g(Xu)),Xg.current===m&&(g(Xg),Wi?Ih._currentValue=Dh:Ih._currentValue2=Dh)}function Pe(m){var v=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ot(Ee(v,m)),yb}function lt(m,v){if(!si)throw Error(i(175));f3(m.stateNode,m.type,m.memoizedProps,v,m)||Pe(m,!0)}function Mt(m){for(vs=m.return;vs;)switch(vs.tag){case 5:case 31:case 13:Na=!1;return;case 27:case 3:Na=!0;return;default:vs=vs.return}}function Ze(m){if(!si||m!==vs)return!1;if(!Jn)return Mt(m),Jn=!0,!1;var v=m.tag;if(ys?v!==3&&v!==27&&(v!==5||Pm(m.type)&&!Ia(m.type,m.memoizedProps))&&ai&&Pe(m):v!==3&&(v!==5||Pm(m.type)&&!Ia(m.type,m.memoizedProps))&&ai&&Pe(m),Mt(m),v===13){if(!si)throw Error(i(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));ai=JS(m)}else if(v===31){if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));ai=h3(m)}else ai=ys&&v===27?r3(m.type,ai):vs?n3(m.stateNode):null;return!0}function _t(){si&&(ai=vs=null,Jn=!1)}function Ve(){var m=Gc;return m!==null&&(fo===null?fo=m:fo.push.apply(fo,m),Gc=null),m}function ot(m){Gc===null?Gc=[m]:Gc.push(m)}function Qe(m,v,C){Wi?(b(Sl,v._currentValue),v._currentValue=C):(b(Sl,v._currentValue2),v._currentValue2=C)}function mt(m){var v=Sl.current;Wi?m._currentValue=v:m._currentValue2=v,g(Sl)}function _e(m,v,C){for(;m!==null;){var P=m.alternate;if((m.childLanes&v)!==v?(m.childLanes|=v,P!==null&&(P.childLanes|=v)):P!==null&&(P.childLanes&v)!==v&&(P.childLanes|=v),m===C)break;m=m.return}}function zt(m,v,C,P){var H=m.child;for(H!==null&&(H.return=m);H!==null;){var G=H.dependencies;if(G!==null){var he=H.child;G=G.firstContext;e:for(;G!==null;){var Ce=G;G=H;for(var rt=0;rt<v.length;rt++)if(Ce.context===v[rt]){G.lanes|=C,Ce=G.alternate,Ce!==null&&(Ce.lanes|=C),_e(G.return,C,m),P||(he=null);break e}G=Ce.next}}else if(H.tag===18){if(he=H.return,he===null)throw Error(i(341));he.lanes|=C,G=he.alternate,G!==null&&(G.lanes|=C),_e(he,C,m),he=null}else he=H.child;if(he!==null)he.return=H;else for(he=H;he!==null;){if(he===m){he=null;break}if(H=he.sibling,H!==null){H.return=he.return,he=H;break}he=he.return}H=he}}function kt(m,v,C,P){m=null;for(var H=v,G=!1;H!==null;){if(!G){if((H.flags&524288)!==0)G=!0;else if((H.flags&262144)!==0)break}if(H.tag===10){var he=H.alternate;if(he===null)throw Error(i(387));if(he=he.memoizedProps,he!==null){var Ce=H.type;Gi(H.pendingProps.value,he.value)||(m!==null?m.push(Ce):m=[Ce])}}else if(H===Xg.current){if(he=H.alternate,he===null)throw Error(i(387));he.memoizedState.memoizedState!==H.memoizedState.memoizedState&&(m!==null?m.push(Ih):m=[Ih])}H=H.return}m!==null&&zt(v,m,C,P),v.flags|=262144}function Vt(m){for(m=m.firstContext;m!==null;){var v=m.context;if(!Gi(Wi?v._currentValue:v._currentValue2,m.memoizedValue))return!0;m=m.next}return!1}function gt(m){qr=m,tc=null,m=m.dependencies,m!==null&&(m.firstContext=null)}function ge(m){return Ie(qr,m)}function ie(m,v){return qr===null&&gt(m),Ie(m,v)}function Ie(m,v){var C=Wi?v._currentValue:v._currentValue2;if(v={context:v,memoizedValue:C,next:null},tc===null){if(m===null)throw Error(i(308));tc=v,m.dependencies={lanes:0,firstContext:v},m.flags|=524288}else tc=tc.next=v;return C}function we(){return{controller:new T3,data:new Map,refCount:0}}function K(m){m.refCount--,m.refCount===0&&Ns(S4,function(){m.controller.abort()})}function j(){}function $(m){m!==Rr&&m.next===null&&(Rr===null?Kg=Rr=m:Rr=Rr.next=m),El=!0,da||(da=!0,ft())}function ce(m,v){if(!vb&&El){vb=!0;do for(var C=!1,P=Kg;P!==null;){if(m!==0){var H=P.pendingLanes;if(H===0)var G=0;else{var he=P.suspendedLanes,Ce=P.pingedLanes;G=(1<<31-oo(42|m)+1)-1,G&=H&~(he&~Ce),G=G&201326741?G&201326741|1:G?G|2:0}G!==0&&(C=!0,vt(P,G))}else G=Zn,G=E(P,P===Un?G:0,P.cancelPendingCommit!==null||P.timeoutHandle!==ao),(G&3)===0||k(P,G)||(C=!0,vt(P,G));P=P.next}while(C);vb=!1}}function le(){Re()}function Re(){El=da=!1;var m=0;id!==0&&Ph()&&(m=id);for(var v=fa(),C=null,P=Kg;P!==null;){var H=P.next,G=Me(P,v);G===0?(P.next=null,C===null?Kg=H:C.next=H,H===null&&(Rr=C)):(C=P,(m!==0||(G&3)!==0)&&(El=!0)),P=H}os!==0&&os!==5||ce(m),id!==0&&(id=0)}function Me(m,v){for(var C=m.suspendedLanes,P=m.pingedLanes,H=m.expirationTimes,G=m.pendingLanes&-62914561;0<G;){var he=31-oo(G),Ce=1<<he,rt=H[he];rt===-1?((Ce&C)===0||(Ce&P)!==0)&&(H[he]=R(Ce,v)):rt<=v&&(m.expiredLanes|=Ce),G&=~Ce}if(v=Un,C=Zn,C=E(m,m===v?C:0,m.cancelPendingCommit!==null||m.timeoutHandle!==ao),P=m.callbackNode,C===0||m===v&&(Pr===2||Pr===9)||m.cancelPendingCommit!==null)return P!==null&&P!==null&&db(P),m.callbackNode=null,m.callbackPriority=0;if((C&3)===0||k(m,C)){if(v=C&-C,v===m.callbackPriority)return v;switch(P!==null&&db(P),J(C)){case 2:case 8:C=M3;break;case 32:C=Gg;break;case 268435456:C=pb;break;default:C=Gg}return P=ue.bind(null,m),C=$g(C,P),m.callbackPriority=v,m.callbackNode=C,v}return P!==null&&P!==null&&db(P),m.callbackPriority=2,m.callbackNode=null,2}function ue(m,v){if(os!==0&&os!==5)return m.callbackNode=null,m.callbackPriority=0,null;var C=m.callbackNode;if(jc()&&m.callbackNode!==C)return null;var P=Zn;return P=E(m,m===Un?P:0,m.cancelPendingCommit!==null||m.timeoutHandle!==ao),P===0?null:(Ql(m,P,v),Me(m,fa()),m.callbackNode!=null&&m.callbackNode===C?ue.bind(null,m):null)}function vt(m,v){if(jc())return null;Ql(m,v,!0)}function ft(){NS?LS(function(){(Gn&6)!==0?$g(hb,le):Re()}):$g(hb,le)}function ct(){if(id===0){var m=Ku;m===0&&(m=fb,fb<<=1,(fb&261888)===0&&(fb=256)),id=m}return id}function Rt(m,v){if(Im===null){var C=Im=[];uE=0,Ku=ct(),xs={status:"pending",value:void 0,then:function(P){C.push(P)}}}return uE++,v.then(Le,Le),v}function Le(){if(--uE===0&&Im!==null){xs!==null&&(xs.status="fulfilled");var m=Im;Im=null,Ku=0,xs=null;for(var v=0;v<m.length;v++)(0,m[v])()}}function $e(m,v){var C=[],P={status:"pending",value:null,reason:null,then:function(H){C.push(H)}};return m.then(function(){P.status="fulfilled",P.value=v;for(var H=0;H<C.length;H++)(0,C[H])(v)},function(H){for(P.status="rejected",P.reason=H,H=0;H<C.length;H++)(0,C[H])(void 0)}),P}function At(){var m=sd.current;return m!==null?m:Un.pooledCache}function Lt(m,v){v===null?b(sd,sd.current):b(sd,v.pool)}function bt(){var m=At();return m===null?null:{parent:Wi?oi._currentValue:oi._currentValue2,pool:m}}function tt(m,v){if(Gi(m,v))return!0;if(typeof m!="object"||m===null||typeof v!="object"||v===null)return!1;var C=Object.keys(m),P=Object.keys(v);if(C.length!==P.length)return!1;for(P=0;P<C.length;P++){var H=C[P];if(!w4.call(v,H)||!Gi(m[H],v[H]))return!1}return!0}function Dt(m){return m=m.status,m==="fulfilled"||m==="rejected"}function an(m,v,C){switch(C=m[C],C===void 0?m.push(v):C!==v&&(v.then(j,j),v=C),v.status){case"fulfilled":return v.value;case"rejected":throw m=v.reason,Wr(m),m;default:if(typeof v.status=="string")v.then(j,j);else{if(m=Un,m!==null&&100<m.shellSuspendCounter)throw Error(i(482));m=v,m.status="pending",m.then(function(P){if(v.status==="pending"){var H=v;H.status="fulfilled",H.value=P}},function(P){if(v.status==="pending"){var H=v;H.status="rejected",H.reason=P}})}switch(v.status){case"fulfilled":return v.value;case"rejected":throw m=v.reason,Wr(m),m}throw La=v,bs}}function An(m){try{var v=m._init;return v(m._payload)}catch(C){throw C!==null&&typeof C=="object"&&typeof C.then=="function"?(La=C,bs):C}}function kn(){if(La===null)throw Error(i(459));var m=La;return La=null,m}function Wr(m){if(m===bs||m===Al)throw Error(i(483))}function pi(m){var v=zh;return zh+=1,ad===null&&(ad=[]),an(ad,m,v)}function Ws(m,v){v=v.props.ref,m.ref=v!==void 0?v:null}function Zr(m,v){throw v.$$typeof===Th?Error(i(525)):(m=Object.prototype.toString.call(v),Error(i(31,m==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":m)))}function Ts(m){function v(Ke,We){if(m){var nt=Ke.deletions;nt===null?(Ke.deletions=[We],Ke.flags|=16):nt.push(We)}}function C(Ke,We){if(!m)return null;for(;We!==null;)v(Ke,We),We=We.sibling;return null}function P(Ke){for(var We=new Map;Ke!==null;)Ke.key!==null?We.set(Ke.key,Ke):We.set(Ke.index,Ke),Ke=Ke.sibling;return We}function H(Ke,We){return Ke=Bo(Ke,We),Ke.index=0,Ke.sibling=null,Ke}function G(Ke,We,nt){return Ke.index=nt,m?(nt=Ke.alternate,nt!==null?(nt=nt.index,nt<We?(Ke.flags|=67108866,We):nt):(Ke.flags|=67108866,We)):(Ke.flags|=1048576,We)}function he(Ke){return m&&Ke.alternate===null&&(Ke.flags|=67108866),Ke}function Ce(Ke,We,nt,Ot){return We===null||We.tag!==6?(We=ES(nt,Ke.mode,Ot),We.return=Ke,We):(We=H(We,nt),We.return=Ke,We)}function rt(Ke,We,nt,Ot){var dn=nt.type;return dn===kh?It(Ke,We,nt.props.children,Ot,nt.key):We!==null&&(We.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===Da&&An(dn)===We.type)?(We=H(We,nt.props),Ws(We,nt),We.return=Ke,We):(We=Vu(nt.type,nt.key,nt.props,null,Ke.mode,Ot),Ws(We,nt),We.return=Ke,We)}function Et(Ke,We,nt,Ot){return We===null||We.tag!==4||We.stateNode.containerInfo!==nt.containerInfo||We.stateNode.implementation!==nt.implementation?(We=AS(nt,Ke.mode,Ot),We.return=Ke,We):(We=H(We,nt.children||[]),We.return=Ke,We)}function It(Ke,We,nt,Ot,dn){return We===null||We.tag!==7?(We=yl(nt,Ke.mode,Ot,dn),We.return=Ke,We):(We=H(We,nt),We.return=Ke,We)}function Ct(Ke,We,nt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return We=ES(""+We,Ke.mode,nt),We.return=Ke,We;if(typeof We=="object"&&We!==null){switch(We.$$typeof){case Hc:return nt=Vu(We.type,We.key,We.props,null,Ke.mode,nt),Ws(nt,We),nt.return=Ke,nt;case Ch:return We=AS(We,Ke.mode,nt),We.return=Ke,We;case Da:return We=An(We),Ct(Ke,We,nt)}if(ed(We)||f(We))return We=yl(We,Ke.mode,nt,null),We.return=Ke,We;if(typeof We.then=="function")return Ct(Ke,pi(We),nt);if(We.$$typeof===vl)return Ct(Ke,ie(Ke,We),nt);Zr(Ke,We)}return null}function Wt(Ke,We,nt,Ot){var dn=We!==null?We.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return dn!==null?null:Ce(Ke,We,""+nt,Ot);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case Hc:return nt.key===dn?rt(Ke,We,nt,Ot):null;case Ch:return nt.key===dn?Et(Ke,We,nt,Ot):null;case Da:return nt=An(nt),Wt(Ke,We,nt,Ot)}if(ed(nt)||f(nt))return dn!==null?null:It(Ke,We,nt,Ot,null);if(typeof nt.then=="function")return Wt(Ke,We,pi(nt),Ot);if(nt.$$typeof===vl)return Wt(Ke,We,ie(Ke,nt),Ot);Zr(Ke,nt)}return null}function Rn(Ke,We,nt,Ot,dn){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number"||typeof Ot=="bigint")return Ke=Ke.get(nt)||null,Ce(We,Ke,""+Ot,dn);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case Hc:return Ke=Ke.get(Ot.key===null?nt:Ot.key)||null,rt(We,Ke,Ot,dn);case Ch:return Ke=Ke.get(Ot.key===null?nt:Ot.key)||null,Et(We,Ke,Ot,dn);case Da:return Ot=An(Ot),Rn(Ke,We,nt,Ot,dn)}if(ed(Ot)||f(Ot))return Ke=Ke.get(nt)||null,It(We,Ke,Ot,dn,null);if(typeof Ot.then=="function")return Rn(Ke,We,nt,pi(Ot),dn);if(Ot.$$typeof===vl)return Rn(Ke,We,nt,ie(We,Ot),dn);Zr(We,Ot)}return null}function Xi(Ke,We,nt,Ot){for(var dn=null,wi=null,pn=We,cr=We=0,Ls=null;pn!==null&&cr<nt.length;cr++){pn.index>cr?(Ls=pn,pn=null):Ls=pn.sibling;var xr=Wt(Ke,pn,nt[cr],Ot);if(xr===null){pn===null&&(pn=Ls);break}m&&pn&&xr.alternate===null&&v(Ke,pn),We=G(xr,We,cr),wi===null?dn=xr:wi.sibling=xr,wi=xr,pn=Ls}if(cr===nt.length)return C(Ke,pn),Jn&&oe(Ke,cr),dn;if(pn===null){for(;cr<nt.length;cr++)pn=Ct(Ke,nt[cr],Ot),pn!==null&&(We=G(pn,We,cr),wi===null?dn=pn:wi.sibling=pn,wi=pn);return Jn&&oe(Ke,cr),dn}for(pn=P(pn);cr<nt.length;cr++)Ls=Rn(pn,Ke,cr,nt[cr],Ot),Ls!==null&&(m&&Ls.alternate!==null&&pn.delete(Ls.key===null?cr:Ls.key),We=G(Ls,We,cr),wi===null?dn=Ls:wi.sibling=Ls,wi=Ls);return m&&pn.forEach(function(kl){return v(Ke,kl)}),Jn&&oe(Ke,cr),dn}function Hm(Ke,We,nt,Ot){if(nt==null)throw Error(i(151));for(var dn=null,wi=null,pn=We,cr=We=0,Ls=null,xr=nt.next();pn!==null&&!xr.done;cr++,xr=nt.next()){pn.index>cr?(Ls=pn,pn=null):Ls=pn.sibling;var kl=Wt(Ke,pn,xr.value,Ot);if(kl===null){pn===null&&(pn=Ls);break}m&&pn&&kl.alternate===null&&v(Ke,pn),We=G(kl,We,cr),wi===null?dn=kl:wi.sibling=kl,wi=kl,pn=Ls}if(xr.done)return C(Ke,pn),Jn&&oe(Ke,cr),dn;if(pn===null){for(;!xr.done;cr++,xr=nt.next())xr=Ct(Ke,xr.value,Ot),xr!==null&&(We=G(xr,We,cr),wi===null?dn=xr:wi.sibling=xr,wi=xr);return Jn&&oe(Ke,cr),dn}for(pn=P(pn);!xr.done;cr++,xr=nt.next())xr=Rn(pn,Ke,cr,xr.value,Ot),xr!==null&&(m&&xr.alternate!==null&&pn.delete(xr.key===null?cr:xr.key),We=G(xr,We,cr),wi===null?dn=xr:wi.sibling=xr,wi=xr);return m&&pn.forEach(function(E4){return v(Ke,E4)}),Jn&&oe(Ke,cr),dn}function pd(Ke,We,nt,Ot){if(typeof nt=="object"&&nt!==null&&nt.type===kh&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case Hc:e:{for(var dn=nt.key;We!==null;){if(We.key===dn){if(dn=nt.type,dn===kh){if(We.tag===7){C(Ke,We.sibling),Ot=H(We,nt.props.children),Ot.return=Ke,Ke=Ot;break e}}else if(We.elementType===dn||typeof dn=="object"&&dn!==null&&dn.$$typeof===Da&&An(dn)===We.type){C(Ke,We.sibling),Ot=H(We,nt.props),Ws(Ot,nt),Ot.return=Ke,Ke=Ot;break e}C(Ke,We);break}else v(Ke,We);We=We.sibling}nt.type===kh?(Ot=yl(nt.props.children,Ke.mode,Ot,nt.key),Ot.return=Ke,Ke=Ot):(Ot=Vu(nt.type,nt.key,nt.props,null,Ke.mode,Ot),Ws(Ot,nt),Ot.return=Ke,Ke=Ot)}return he(Ke);case Ch:e:{for(dn=nt.key;We!==null;){if(We.key===dn)if(We.tag===4&&We.stateNode.containerInfo===nt.containerInfo&&We.stateNode.implementation===nt.implementation){C(Ke,We.sibling),Ot=H(We,nt.children||[]),Ot.return=Ke,Ke=Ot;break e}else{C(Ke,We);break}else v(Ke,We);We=We.sibling}Ot=AS(nt,Ke.mode,Ot),Ot.return=Ke,Ke=Ot}return he(Ke);case Da:return nt=An(nt),pd(Ke,We,nt,Ot)}if(ed(nt))return Xi(Ke,We,nt,Ot);if(f(nt)){if(dn=f(nt),typeof dn!="function")throw Error(i(150));return nt=dn.call(nt),Hm(Ke,We,nt,Ot)}if(typeof nt.then=="function")return pd(Ke,We,pi(nt),Ot);if(nt.$$typeof===vl)return pd(Ke,We,ie(Ke,nt),Ot);Zr(Ke,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,We!==null&&We.tag===6?(C(Ke,We.sibling),Ot=H(We,nt),Ot.return=Ke,Ke=Ot):(C(Ke,We),Ot=ES(nt,Ke.mode,Ot),Ot.return=Ke,Ke=Ot),he(Ke)):C(Ke,We)}return function(Ke,We,nt,Ot){try{zh=0;var dn=pd(Ke,We,nt,Ot);return ad=null,dn}catch(pn){if(pn===bs||pn===Al)throw pn;var wi=t(29,pn,null,Ke.mode);return wi.lanes=Ot,wi.return=Ke,wi}finally{}}}function Cs(){for(var m=Yc,v=Uh=Yc=0;v<m;){var C=Ks[v];Ks[v++]=null;var P=Ks[v];Ks[v++]=null;var H=Ks[v];Ks[v++]=null;var G=Ks[v];if(Ks[v++]=null,P!==null&&H!==null){var he=P.pending;he===null?H.next=H:(H.next=he.next,he.next=H),P.pending=H}G!==0&&Ci(C,H,G)}}function ns(m,v,C,P){Ks[Yc++]=m,Ks[Yc++]=v,Ks[Yc++]=C,Ks[Yc++]=P,Uh|=P,m.lanes|=P,m=m.alternate,m!==null&&(m.lanes|=P)}function Hi(m,v,C,P){return ns(m,v,C,P),Xn(m)}function Ti(m,v){return ns(m,null,null,v),Xn(m)}function Ci(m,v,C){m.lanes|=C;var P=m.alternate;P!==null&&(P.lanes|=C);for(var H=!1,G=m.return;G!==null;)G.childLanes|=C,P=G.alternate,P!==null&&(P.childLanes|=C),G.tag===22&&(m=G.stateNode,m===null||m._visibility&1||(H=!0)),m=G,G=G.return;return m.tag===3?(G=m.stateNode,H&&v!==null&&(H=31-oo(C),m=G.hiddenUpdates,P=m[H],P===null?m[H]=[v]:P.push(v),v.lane=C|536870912),G):null}function Xn(m){if(50<gr)throw gr=0,ny=null,Error(i(185));for(var v=m.return;v!==null;)m=v,v=m.return;return m.tag===3?m.stateNode:null}function yr(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mi(m,v){m=m.updateQueue,v.updateQueue===m&&(v.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,callbacks:null})}function pr(m){return{lane:m,tag:0,payload:null,callback:null,next:null}}function wt(m,v,C){var P=m.updateQueue;if(P===null)return null;if(P=P.shared,(Gn&2)!==0){var H=P.pending;return H===null?v.next=v:(v.next=H.next,H.next=v),P.pending=v,v=Xn(m),Ci(m,null,C),v}return ns(m,P,v,C),Xn(m)}function Gt(m,v,C){if(v=v.updateQueue,v!==null&&(v=v.shared,(C&4194048)!==0)){var P=v.lanes;P&=m.pendingLanes,C|=P,v.lanes=C,V(m,C)}}function Ca(m,v){var C=m.updateQueue,P=m.alternate;if(P!==null&&(P=P.updateQueue,C===P)){var H=null,G=null;if(C=C.firstBaseUpdate,C!==null){do{var he={lane:C.lane,tag:C.tag,payload:C.payload,callback:null,next:null};G===null?H=G=he:G=G.next=he,C=C.next}while(C!==null);G===null?H=G=v:G=G.next=v}else H=G=v;C={baseState:P.baseState,firstBaseUpdate:H,lastBaseUpdate:G,shared:P.shared,callbacks:P.callbacks},m.updateQueue=C;return}m=C.lastBaseUpdate,m===null?C.firstBaseUpdate=v:m.next=v,C.lastBaseUpdate=v}function ri(){if(bb){var m=xs;if(m!==null)throw m}}function rr(m,v,C,P){bb=!1;var H=m.updateQueue;Uo=!1;var G=H.firstBaseUpdate,he=H.lastBaseUpdate,Ce=H.shared.pending;if(Ce!==null){H.shared.pending=null;var rt=Ce,Et=rt.next;rt.next=null,he===null?G=Et:he.next=Et,he=rt;var It=m.alternate;It!==null&&(It=It.updateQueue,Ce=It.lastBaseUpdate,Ce!==he&&(Ce===null?It.firstBaseUpdate=Et:Ce.next=Et,It.lastBaseUpdate=rt))}if(G!==null){var Ct=H.baseState;he=0,It=Et=rt=null,Ce=G;do{var Wt=Ce.lane&-536870913,Rn=Wt!==Ce.lane;if(Rn?(Zn&Wt)===Wt:(P&Wt)===Wt){Wt!==0&&Wt===Ku&&(bb=!0),It!==null&&(It=It.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var Xi=m,Hm=Ce;Wt=v;var pd=C;switch(Hm.tag){case 1:if(Xi=Hm.payload,typeof Xi=="function"){Ct=Xi.call(pd,Ct,Wt);break e}Ct=Xi;break e;case 3:Xi.flags=Xi.flags&-65537|128;case 0:if(Xi=Hm.payload,Wt=typeof Xi=="function"?Xi.call(pd,Ct,Wt):Xi,Wt==null)break e;Ct=Yx({},Ct,Wt);break e;case 2:Uo=!0}}Wt=Ce.callback,Wt!==null&&(m.flags|=64,Rn&&(m.flags|=8192),Rn=H.callbacks,Rn===null?H.callbacks=[Wt]:Rn.push(Wt))}else Rn={lane:Wt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},It===null?(Et=It=Rn,rt=Ct):It=It.next=Rn,he|=Wt;if(Ce=Ce.next,Ce===null){if(Ce=H.shared.pending,Ce===null)break;Rn=Ce,Ce=Rn.next,Rn.next=null,H.lastBaseUpdate=Rn,H.shared.pending=null}}while(!0);It===null&&(rt=Ct),H.baseState=rt,H.firstBaseUpdate=Et,H.lastBaseUpdate=It,G===null&&(H.shared.lanes=0),Zu|=he,m.lanes=he,m.memoizedState=Ct}}function rs(m,v){if(typeof m!="function")throw Error(i(191,m));m.call(v)}function ve(m,v){var C=m.callbacks;if(C!==null)for(m.callbacks=null,m=0;m<C.length;m++)rs(C[m],v)}function $s(m,v){m=Kc,b(od,m),b(jh,v),Kc=m|v.baseLanes}function de(){b(od,Kc),b(jh,jh.current)}function Ae(){Kc=od.current,g(jh),g(od)}function Be(m){var v=m.alternate;b(Oi,Oi.current&1),b(co,m),uo===null&&(v===null||jh.current!==null||v.memoizedState!==null)&&(uo=m)}function ze(m){b(Oi,Oi.current),b(co,m),uo===null&&(uo=m)}function _(m){m.tag===22?(b(Oi,Oi.current),b(co,m),uo===null&&(uo=m)):y()}function y(){b(Oi,Oi.current),b(co,co.current)}function M(m){g(co),uo===m&&(uo=null),g(Oi)}function U(m){for(var v=m;v!==null;){if(v.tag===13){var C=v.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||nd(C)||nb(C)))return v}else if(v.tag===19&&(v.memoizedProps.revealOrder==="forwards"||v.memoizedProps.revealOrder==="backwards"||v.memoizedProps.revealOrder==="unstable_legacy-backwards"||v.memoizedProps.revealOrder==="together")){if((v.flags&128)!==0)return v}else if(v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return null;v=v.return}v.sibling.return=v.return,v=v.sibling}return null}function Q(){throw Error(i(321))}function ye(m,v){if(v===null)return!1;for(var C=0;C<v.length&&C<m.length;C++)if(!Gi(m[C],v[C]))return!1;return!0}function Oe(m,v,C,P,H,G){return Ju=G,Pn=v,v.memoizedState=null,v.updateQueue=null,v.lanes=0,un.H=m===null||m.memoizedState===null?xi:Xc,ir=!1,G=C(P,H),ir=!1,Ln&&(G=ht(v,C,P,H)),et(m),G}function et(m){un.H=jo;var v=tn!==null&&tn.next!==null;if(Ju=0,En=tn=Pn=null,zn=!1,Tl=0,nc=null,v)throw Error(i(300));m===null||Qr||(m=m.dependencies,m!==null&&Vt(m)&&(Qr=!0))}function ht(m,v,C,P){Pn=m;var H=0;do{if(Ln&&(nc=null),Tl=0,Ln=!1,25<=H)throw Error(i(301));if(H+=1,En=tn=null,m.updateQueue!=null){var G=m.updateQueue;G.lastEffect=null,G.events=null,G.stores=null,G.memoCache!=null&&(G.memoCache.index=0)}un.H=ld,G=v(C,P)}while(Ln);return G}function Jt(){var m=un.H,v=m.useState()[0];return v=typeof v.then=="function"?gn(v):v,m=m.useState()[0],(tn!==null?tn.memoizedState:null)!==m&&(Pn.flags|=1024),v}function or(){var m=ha!==0;return ha=0,m}function kr(m,v,C){v.updateQueue=m.updateQueue,v.flags&=-2053,m.lanes&=~C}function lr(m){if(zn){for(m=m.memoizedState;m!==null;){var v=m.queue;v!==null&&(v.pending=null),m=m.next}zn=!1}Ju=0,En=tn=Pn=null,Ln=!1,Tl=ha=0,nc=null}function mr(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return En===null?Pn.memoizedState=En=m:En=En.next=m,En}function Bt(){if(tn===null){var m=Pn.alternate;m=m!==null?m.memoizedState:null}else m=tn.next;var v=En===null?Pn.memoizedState:En.next;if(v!==null)En=v,tn=m;else{if(m===null)throw Pn.alternate===null?Error(i(467)):Error(i(310));tn=m,m={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},En===null?Pn.memoizedState=En=m:En=En.next=m}return En}function ks(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gn(m){var v=Tl;return Tl+=1,nc===null&&(nc=[]),m=an(nc,m,v),v=Pn,(En===null?v.memoizedState:En.next)===null&&(v=v.alternate,un.H=v===null||v.memoizedState===null?xi:Xc),m}function Rs(m){if(m!==null&&typeof m=="object"){if(typeof m.then=="function")return gn(m);if(m.$$typeof===vl)return ge(m)}throw Error(i(438,String(m)))}function ka(m){var v=null,C=Pn.updateQueue;if(C!==null&&(v=C.memoCache),v==null){var P=Pn.alternate;P!==null&&(P=P.updateQueue,P!==null&&(P=P.memoCache,P!=null&&(v={data:P.data.map(function(H){return H.slice()}),index:0})))}if(v==null&&(v={data:[],index:0}),C===null&&(C=ks(),Pn.updateQueue=C),C.memoCache=v,C=v.data[v.index],C===void 0)for(C=v.data[v.index]=Array(m),P=0;P<m;P++)C[P]=CS;return v.index++,C}function ms(m,v){return typeof v=="function"?v(m):v}function la(m){var v=Bt();return vr(v,tn,m)}function vr(m,v,C){var P=m.queue;if(P===null)throw Error(i(311));P.lastRenderedReducer=C;var H=m.baseQueue,G=P.pending;if(G!==null){if(H!==null){var he=H.next;H.next=G.next,G.next=he}v.baseQueue=H=G,P.pending=null}if(G=m.baseState,H===null)m.memoizedState=G;else{v=H.next;var Ce=he=null,rt=null,Et=v,It=!1;do{var Ct=Et.lane&-536870913;if(Ct!==Et.lane?(Zn&Ct)===Ct:(Ju&Ct)===Ct){var Wt=Et.revertLane;if(Wt===0)rt!==null&&(rt=rt.next={lane:0,revertLane:0,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null}),Ct===Ku&&(It=!0);else if((Ju&Wt)===Wt){Et=Et.next,Wt===Ku&&(It=!0);continue}else Ct={lane:0,revertLane:Et.revertLane,gesture:null,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},rt===null?(Ce=rt=Ct,he=G):rt=rt.next=Ct,Pn.lanes|=Wt,Zu|=Wt;Ct=Et.action,ir&&C(G,Ct),G=Et.hasEagerState?Et.eagerState:C(G,Ct)}else Wt={lane:Ct,revertLane:Et.revertLane,gesture:Et.gesture,action:Et.action,hasEagerState:Et.hasEagerState,eagerState:Et.eagerState,next:null},rt===null?(Ce=rt=Wt,he=G):rt=rt.next=Wt,Pn.lanes|=Ct,Zu|=Ct;Et=Et.next}while(Et!==null&&Et!==v);if(rt===null?he=G:rt.next=Ce,!Gi(G,m.memoizedState)&&(Qr=!0,It&&(C=xs,C!==null)))throw C;m.memoizedState=G,m.baseState=he,m.baseQueue=rt,P.lastRenderedState=G}return H===null&&(P.lanes=0),[m.memoizedState,P.dispatch]}function ki(m){var v=Bt(),C=v.queue;if(C===null)throw Error(i(311));C.lastRenderedReducer=m;var P=C.dispatch,H=C.pending,G=v.memoizedState;if(H!==null){C.pending=null;var he=H=H.next;do G=m(G,he.action),he=he.next;while(he!==H);Gi(G,v.memoizedState)||(Qr=!0),v.memoizedState=G,v.baseQueue===null&&(v.baseState=G),C.lastRenderedState=G}return[G,P]}function ca(m,v,C){var P=Pn,H=Bt(),G=Jn;if(G){if(C===void 0)throw Error(i(407));C=C()}else C=v();var he=!Gi((tn||H).memoizedState,C);if(he&&(H.memoizedState=C,Qr=!0),H=H.queue,lm(kc.bind(null,P,H,m),[m]),H.getSnapshot!==v||he||En!==null&&En.memoizedState.tag&1){if(P.flags|=2048,Io(9,{destroy:void 0},fl.bind(null,P,H,C,v),null),Un===null)throw Error(i(349));G||(Ju&127)!==0||Vi(P,v,C)}return C}function Vi(m,v,C){m.flags|=16384,m={getSnapshot:v,value:C},v=Pn.updateQueue,v===null?(v=ks(),Pn.updateQueue=v,v.stores=[m]):(C=v.stores,C===null?v.stores=[m]:C.push(m))}function fl(m,v,C,P){v.value=C,v.getSnapshot=P,yh(v)&&oC(m)}function kc(m,v,C){return C(function(){yh(v)&&oC(m)})}function yh(m){var v=m.getSnapshot;m=m.value;try{var C=v();return!Gi(m,C)}catch{return!0}}function oC(m){var v=Ti(m,2);v!==null&&yi(v,m,2)}function Qw(m){var v=mr();if(typeof m=="function"){var C=m;if(m=C(),ir){re(!0);try{C()}finally{re(!1)}}}return v.memoizedState=v.baseState=m,v.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:m},v}function vg(m,v,C,P){return m.baseState=C,vr(m,tn,typeof P=="function"?P:ms)}function Bu(m,v,C,P,H){if(Cx(m))throw Error(i(485));if(m=v.action,m!==null){var G={payload:H,action:m,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(he){G.listeners.push(he)}};un.T!==null?C(!0):G.isTransition=!1,P(G),C=v.pending,C===null?(G.next=v.pending=G,_x(v,G)):(G.next=C.next,v.pending=C.next=G)}}function _x(m,v){var C=v.action,P=v.payload,H=m.state;if(v.isTransition){var G=un.T,he={};un.T=he;try{var Ce=C(H,P),rt=un.S;rt!==null&&rt(he,Ce),wx(m,v,Ce)}catch(Et){jf(m,v,Et)}finally{G!==null&&he.types!==null&&(G.types=he.types),un.T=G}}else try{G=C(H,P),wx(m,v,G)}catch(Et){jf(m,v,Et)}}function wx(m,v,C){C!==null&&typeof C=="object"&&typeof C.then=="function"?C.then(function(P){vh(m,v,P)},function(P){return jf(m,v,P)}):vh(m,v,C)}function vh(m,v,C){v.status="fulfilled",v.value=C,eS(v),m.state=C,v=m.pending,v!==null&&(C=v.next,C===v?m.pending=null:(C=C.next,v.next=C,_x(m,C)))}function jf(m,v,C){var P=m.pending;if(m.pending=null,P!==null){P=P.next;do v.status="rejected",v.reason=C,eS(v),v=v.next;while(v!==P)}m.action=null}function eS(m){m=m.listeners;for(var v=0;v<m.length;v++)(0,m[v])()}function Sx(m,v){return v}function tS(m,v){if(Jn){var C=Un.formState;if(C!==null){e:{var P=Pn;if(Jn){if(ai){var H=t3(ai,Na);if(H){ai=n3(H),P=qS(H);break e}}Pe(P)}P=!1}P&&(v=C[0])}}C=mr(),C.memoizedState=C.baseState=v,P={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sx,lastRenderedState:v},C.queue=P,C=hC.bind(null,Pn,P),P.dispatch=C,P=Qw(!1);var G=Tx.bind(null,Pn,!1,P.queue);return P=mr(),H={state:v,dispatch:null,action:m,pending:null},P.queue=H,C=Bu.bind(null,Pn,H,G,C),H.dispatch=C,P.memoizedState=m,[v,C,!1]}function am(m){var v=Bt();return Rc(v,tn,m)}function Rc(m,v,C){if(v=vr(m,v,Sx)[0],m=la(ms)[0],typeof v=="object"&&v!==null&&typeof v.then=="function")try{var P=gn(v)}catch(he){throw he===bs?Al:he}else P=v;v=Bt();var H=v.queue,G=H.dispatch;return C!==v.memoizedState&&(Pn.flags|=2048,Io(9,{destroy:void 0},nS.bind(null,H,C),null)),[P,G,m]}function nS(m,v){m.action=v}function om(m){var v=Bt(),C=tn;if(C!==null)return Rc(v,C,m);Bt(),v=v.memoizedState,C=Bt();var P=C.queue.dispatch;return C.memoizedState=m,[v,P,!1]}function Io(m,v,C,P){return m={tag:m,create:C,deps:P,inst:v,next:null},v=Pn.updateQueue,v===null&&(v=ks(),Pn.updateQueue=v),C=v.lastEffect,C===null?v.lastEffect=m.next=m:(P=C.next,C.next=m,m.next=P,v.lastEffect=m),m}function Ex(){return Bt().memoizedState}function xh(m,v,C,P){var H=mr();Pn.flags|=m,H.memoizedState=Io(1|v,{destroy:void 0},C,P===void 0?null:P)}function xg(m,v,C,P){var H=Bt();P=P===void 0?null:P;var G=H.memoizedState.inst;tn!==null&&P!==null&&ye(P,tn.memoizedState.deps)?H.memoizedState=Io(v,G,C,P):(Pn.flags|=m,H.memoizedState=Io(1|v,G,C,P))}function bg(m,v){xh(8390656,8,m,v)}function lm(m,v){xg(2048,8,m,v)}function lC(m){Pn.flags|=4;var v=Pn.updateQueue;if(v===null)v=ks(),Pn.updateQueue=v,v.events=[m];else{var C=v.events;C===null?v.events=[m]:C.push(m)}}function Ra(m){var v=Bt().memoizedState;return lC({ref:v,nextImpl:m}),function(){if((Gn&2)!==0)throw Error(i(440));return v.impl.apply(void 0,arguments)}}function Hf(m,v){return xg(4,2,m,v)}function _g(m,v){return xg(4,4,m,v)}function cm(m,v){if(typeof v=="function"){m=m();var C=v(m);return function(){typeof C=="function"?C():v(null)}}if(v!=null)return m=m(),v.current=m,function(){v.current=null}}function cC(m,v,C){C=C!=null?C.concat([m]):null,xg(4,4,cm.bind(null,v,m),C)}function wg(){}function Mx(m,v){var C=Bt();v=v===void 0?null:v;var P=C.memoizedState;return v!==null&&ye(v,P[1])?P[0]:(C.memoizedState=[m,v],m)}function um(m,v){var C=Bt();v=v===void 0?null:v;var P=C.memoizedState;if(v!==null&&ye(v,P[1]))return P[0];if(P=m(),ir){re(!0);try{m()}finally{re(!1)}}return C.memoizedState=[P,v],P}function fm(m,v,C){return C===void 0||(Ju&1073741824)!==0&&(Zn&261930)===0?m.memoizedState=v:(m.memoizedState=C,m=Uu(),Pn.lanes|=m,Zu|=m,C)}function rS(m,v,C,P){return Gi(C,v)?C:jh.current!==null?(m=fm(m,C,P),Gi(m,v)||(Qr=!0),m):(Ju&42)===0||(Ju&1073741824)!==0&&(Zn&261930)===0?(Qr=!0,m.memoizedState=C):(m=Uu(),Pn.lanes|=m,Zu|=m,v)}function uC(m,v,C,P,H){var G=xl();Kn(G!==0&&8>G?G:8);var he=un.T,Ce={};un.T=Ce,Tx(m,!1,v,C);try{var rt=H(),Et=un.S;if(Et!==null&&Et(Ce,rt),rt!==null&&typeof rt=="object"&&typeof rt.then=="function"){var It=$e(rt,P);Sg(m,v,It,ii(m))}else Sg(m,v,P,ii(m))}catch(Ct){Sg(m,v,{then:function(){},status:"rejected",reason:Ct},ii())}finally{Kn(G),he!==null&&Ce.types!==null&&(he.types=Ce.types),un.T=he}}function fC(m){var v=m.memoizedState;if(v!==null)return v;v={memoizedState:Dh,baseState:Dh,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:Dh},next:null};var C={};return v.next={memoizedState:C,baseState:C,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:C},next:null},m.memoizedState=v,m=m.alternate,m!==null&&(m.memoizedState=v),v}function iS(){return ge(Ih)}function Ax(){return Bt().memoizedState}function dC(){return Bt().memoizedState}function d4(m){for(var v=m.return;v!==null;){switch(v.tag){case 24:case 3:var C=ii();m=pr(C);var P=wt(v,m,C);P!==null&&(yi(P,v,C),Gt(P,v,C)),v={cache:we()},m.payload=v;return}v=v.return}}function h4(m,v,C){var P=ii();C={lane:P,revertLane:0,gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null},Cx(m)?pC(v,C):(C=Hi(m,v,C,P),C!==null&&(yi(C,m,P),mC(C,v,P)))}function hC(m,v,C){var P=ii();Sg(m,v,C,P)}function Sg(m,v,C,P){var H={lane:P,revertLane:0,gesture:null,action:C,hasEagerState:!1,eagerState:null,next:null};if(Cx(m))pC(v,H);else{var G=m.alternate;if(m.lanes===0&&(G===null||G.lanes===0)&&(G=v.lastRenderedReducer,G!==null))try{var he=v.lastRenderedState,Ce=G(he,C);if(H.hasEagerState=!0,H.eagerState=Ce,Gi(Ce,he))return ns(m,v,H,0),Un===null&&Cs(),!1}catch{}finally{}if(C=Hi(m,v,H,P),C!==null)return yi(C,m,P),mC(C,v,P),!0}return!1}function Tx(m,v,C,P){if(P={lane:2,revertLane:ct(),gesture:null,action:P,hasEagerState:!1,eagerState:null,next:null},Cx(m)){if(v)throw Error(i(479))}else v=Hi(m,C,P,2),v!==null&&yi(v,m,2)}function Cx(m){var v=m.alternate;return m===Pn||v!==null&&v===Pn}function pC(m,v){Ln=zn=!0;var C=m.pending;C===null?v.next=v:(v.next=C.next,C.next=v),m.pending=v}function mC(m,v,C){if((C&4194048)!==0){var P=v.lanes;P&=m.pendingLanes,C|=P,v.lanes=C,V(m,C)}}function sS(m,v,C,P){v=m.memoizedState,C=C(P,v),C=C==null?v:Yx({},v,C),m.memoizedState=C,m.lanes===0&&(m.updateQueue.baseState=C)}function kx(m,v,C,P,H,G,he){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(P,G,he):v.prototype&&v.prototype.isPureReactComponent?!tt(C,P)||!tt(H,G):!0}function gC(m,v,C,P){m=v.state,typeof v.componentWillReceiveProps=="function"&&v.componentWillReceiveProps(C,P),typeof v.UNSAFE_componentWillReceiveProps=="function"&&v.UNSAFE_componentWillReceiveProps(C,P),v.state!==m&&Jg.enqueueReplaceState(v,v.state,null)}function bh(m,v){var C=v;if("ref"in v){C={};for(var P in v)P!=="ref"&&(C[P]=v[P])}if(m=m.defaultProps){C===v&&(C=Yx({},C));for(var H in m)C[H]===void 0&&(C[H]=m[H])}return C}function Rx(m,v){try{var C=m.onUncaughtError;C(v.value,{componentStack:v.stack})}catch(P){setTimeout(function(){throw P})}}function aS(m,v,C){try{var P=m.onCaughtError;P(C.value,{componentStack:C.stack,errorBoundary:v.tag===1?v.stateNode:null})}catch(H){setTimeout(function(){throw H})}}function oS(m,v,C){return C=pr(C),C.tag=3,C.payload={element:null},C.callback=function(){Rx(m,v)},C}function yC(m){return m=pr(m),m.tag=3,m}function vC(m,v,C,P){var H=C.type.getDerivedStateFromError;if(typeof H=="function"){var G=P.value;m.payload=function(){return H(G)},m.callback=function(){aS(v,C,P)}}var he=C.stateNode;he!==null&&typeof he.componentDidCatch=="function"&&(m.callback=function(){aS(v,C,P),typeof H!="function"&&(Qu===null?Qu=new Set([this]):Qu.add(this));var Ce=P.stack;this.componentDidCatch(P.value,{componentStack:Ce!==null?Ce:""})})}function p4(m,v,C,P,H){if(C.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){if(v=C.alternate,v!==null&&kt(v,C,H,!0),C=co.current,C!==null){switch(C.tag){case 31:case 13:return uo===null?wm():C.alternate===null&&_i===0&&(_i=3),C.flags&=-257,C.flags|=65536,C.lanes=H,P===qc?C.flags|=16384:(v=C.updateQueue,v===null?C.updateQueue=new Set([P]):v.add(P),Mm(m,P,H)),!1;case 22:return C.flags|=65536,P===qc?C.flags|=16384:(v=C.updateQueue,v===null?(v={transitions:null,markerInstances:null,retryQueue:new Set([P])},C.updateQueue=v):(C=v.retryQueue,C===null?v.retryQueue=new Set([P]):C.add(P)),Mm(m,P,H)),!1}throw Error(i(435,C.tag))}return Mm(m,P,H),wm(),!1}if(Jn)return v=co.current,v!==null?((v.flags&65536)===0&&(v.flags|=256),v.flags|=65536,v.lanes=H,P!==yb&&(m=Error(i(422),{cause:P}),ot(Ee(m,C)))):(P!==yb&&(v=Error(i(423),{cause:P}),ot(Ee(v,C))),m=m.current.alternate,m.flags|=65536,H&=-H,m.lanes|=H,P=Ee(P,C),H=oS(m.stateNode,P,H),Ca(m,H),_i!==4&&(_i=2)),!1;var G=Error(i(520),{cause:P});if(G=Ee(G,C),Qg===null?Qg=[G]:Qg.push(G),_i!==4&&(_i=2),v===null)return!0;P=Ee(P,C),C=v;do{switch(C.tag){case 3:return C.flags|=65536,m=H&-H,C.lanes|=m,m=oS(C.stateNode,P,m),Ca(C,m),!1;case 1:if(v=C.type,G=C.stateNode,(C.flags&128)===0&&(typeof v.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(Qu===null||!Qu.has(G))))return C.flags|=65536,H&=-H,C.lanes|=H,H=yC(H),vC(H,m,C,P),Ca(C,H),!1}C=C.return}while(C!==null);return!1}function Gs(m,v,C,P){v.child=m===null?fE(v,null,C,P):Xs(v,m.child,C,P)}function xC(m,v,C,P,H){C=C.render;var G=v.ref;if("ref"in P){var he={};for(var Ce in P)Ce!=="ref"&&(he[Ce]=P[Ce])}else he=P;return gt(v),P=Oe(m,v,C,he,G,H),Ce=or(),m!==null&&!Qr?(kr(m,v,H),Oc(m,v,H)):(Jn&&Ce&&xe(v),v.flags|=1,Gs(m,v,P,H),v.child)}function bC(m,v,C,P,H){if(m===null){var G=C.type;return typeof G=="function"&&!Mh(G)&&G.defaultProps===void 0&&C.compare===null?(v.tag=15,v.type=G,_C(m,v,G,P,H)):(m=Vu(C.type,null,P,v,v.mode,H),m.ref=v.ref,m.return=v,v.child=m)}if(G=m.child,!Mg(m,H)){var he=G.memoizedProps;if(C=C.compare,C=C!==null?C:tt,C(he,P)&&m.ref===v.ref)return Oc(m,v,H)}return v.flags|=1,m=Bo(G,P),m.ref=v.ref,m.return=v,v.child=m}function _C(m,v,C,P,H){if(m!==null){var G=m.memoizedProps;if(tt(G,P)&&m.ref===v.ref)if(Qr=!1,v.pendingProps=P=G,Mg(m,H))(m.flags&131072)!==0&&(Qr=!0);else return v.lanes=m.lanes,Oc(m,v,H)}return Px(m,v,C,P,H)}function wC(m,v,C,P){var H=P.children,G=m!==null?m.memoizedState:null;if(m===null&&v.stateNode===null&&(v.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),P.mode==="hidden"){if((v.flags&128)!==0){if(G=G!==null?G.baseLanes|C:C,m!==null){for(P=v.child=m.child,H=0;P!==null;)H=H|P.lanes|P.childLanes,P=P.sibling;P=H&~G}else P=0,v.child=null;return dm(m,v,G,C,P)}if((C&536870912)!==0)v.memoizedState={baseLanes:0,cachePool:null},m!==null&&Lt(v,G!==null?G.cachePool:null),G!==null?$s(v,G):de(),_(v);else return P=v.lanes=536870912,dm(m,v,G!==null?G.baseLanes|C:C,C,P)}else G!==null?(Lt(v,G.cachePool),$s(v,G),y(),v.memoizedState=null):(m!==null&&Lt(v,null),de(),y());return Gs(m,v,H,C),v.child}function _h(m,v){return m!==null&&m.tag===22||v.stateNode!==null||(v.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),v.sibling}function dm(m,v,C,P,H){var G=At();return G=G===null?null:{parent:Wi?oi._currentValue:oi._currentValue2,pool:G},v.memoizedState={baseLanes:C,cachePool:G},m!==null&&Lt(v,null),de(),_(v),m!==null&&kt(m,v,P,!0),v.childLanes=H,null}function Ox(m,v){return v=Vf({mode:v.mode,children:v.children},m.mode),v.ref=m.ref,m.child=v,v.return=m,v}function lS(m,v,C){return Xs(v,m.child,null,C),m=Ox(v,v.pendingProps),m.flags|=2,M(v),v.memoizedState=null,m}function SC(m,v,C){var P=v.pendingProps,H=(v.flags&128)!==0;if(v.flags&=-129,m===null){if(Jn){if(P.mode==="hidden")return m=Ox(v,P),v.lanes=536870912,_h(null,m);if(ze(v),(m=ai)?(m=XS(m,Na),m!==null&&(v.memoizedState={dehydrated:m,treeContext:wl!==null?{id:qs,overflow:ec}:null,retryLane:536870912,hydrationErrors:null},C=MS(m),C.return=v,v.child=C,vs=v,ai=null)):m=null,m===null)throw Pe(v);return v.lanes=536870912,null}return Ox(v,P)}var G=m.memoizedState;if(G!==null){var he=G.dehydrated;if(ze(v),H)if(v.flags&256)v.flags&=-257,v=lS(m,v,C);else if(v.memoizedState!==null)v.child=m.child,v.flags|=128,v=null;else throw Error(i(558));else if(Qr||kt(m,v,C,!1),H=(C&m.childLanes)!==0,Qr||H){if(P=Un,P!==null&&(he=Y(P,C),he!==0&&he!==G.retryLane))throw G.retryLane=he,Ti(m,he),yi(P,m,he),Ba;wm(),v=lS(m,v,C)}else m=G.treeContext,si&&(ai=a3(he),vs=v,Jn=!0,Gc=null,Na=!1,m!==null&&De(v,m)),v=Ox(v,P),v.flags|=4096;return v}return m=Bo(m.child,{mode:P.mode,children:P.children}),m.ref=v.ref,v.child=m,m.return=v,m}function Eg(m,v){var C=v.ref;if(C===null)m!==null&&m.ref!==null&&(v.flags|=4194816);else{if(typeof C!="function"&&typeof C!="object")throw Error(i(284));(m===null||m.ref!==C)&&(v.flags|=4194816)}}function Px(m,v,C,P,H){return gt(v),C=Oe(m,v,C,P,void 0,H),P=or(),m!==null&&!Qr?(kr(m,v,H),Oc(m,v,H)):(Jn&&P&&xe(v),v.flags|=1,Gs(m,v,C,H),v.child)}function cS(m,v,C,P,H,G){return gt(v),v.updateQueue=null,C=ht(v,P,C,H),et(m),P=or(),m!==null&&!Qr?(kr(m,v,G),Oc(m,v,G)):(Jn&&P&&xe(v),v.flags|=1,Gs(m,v,C,G),v.child)}function wh(m,v,C,P,H){if(gt(v),v.stateNode===null){var G=Vc,he=C.contextType;typeof he=="object"&&he!==null&&(G=ge(he)),G=new C(P,G),v.memoizedState=G.state!==null&&G.state!==void 0?G.state:null,G.updater=Jg,v.stateNode=G,G._reactInternals=v,G=v.stateNode,G.props=P,G.state=v.memoizedState,G.refs={},yr(v),he=C.contextType,G.context=typeof he=="object"&&he!==null?ge(he):Vc,G.state=v.memoizedState,he=C.getDerivedStateFromProps,typeof he=="function"&&(sS(v,C,he,P),G.state=v.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof G.getSnapshotBeforeUpdate=="function"||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(he=G.state,typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount(),he!==G.state&&Jg.enqueueReplaceState(G,G.state,null),rr(v,P,G,H),ri(),G.state=v.memoizedState),typeof G.componentDidMount=="function"&&(v.flags|=4194308),P=!0}else if(m===null){G=v.stateNode;var Ce=v.memoizedProps,rt=bh(C,Ce);G.props=rt;var Et=G.context,It=C.contextType;he=Vc,typeof It=="object"&&It!==null&&(he=ge(It));var Ct=C.getDerivedStateFromProps;It=typeof Ct=="function"||typeof G.getSnapshotBeforeUpdate=="function",Ce=v.pendingProps!==Ce,It||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(Ce||Et!==he)&&gC(v,G,P,he),Uo=!1;var Wt=v.memoizedState;G.state=Wt,rr(v,P,G,H),ri(),Et=v.memoizedState,Ce||Wt!==Et||Uo?(typeof Ct=="function"&&(sS(v,C,Ct,P),Et=v.memoizedState),(rt=Uo||kx(v,C,rt,P,Wt,Et,he))?(It||typeof G.UNSAFE_componentWillMount!="function"&&typeof G.componentWillMount!="function"||(typeof G.componentWillMount=="function"&&G.componentWillMount(),typeof G.UNSAFE_componentWillMount=="function"&&G.UNSAFE_componentWillMount()),typeof G.componentDidMount=="function"&&(v.flags|=4194308)):(typeof G.componentDidMount=="function"&&(v.flags|=4194308),v.memoizedProps=P,v.memoizedState=Et),G.props=P,G.state=Et,G.context=he,P=rt):(typeof G.componentDidMount=="function"&&(v.flags|=4194308),P=!1)}else{G=v.stateNode,mi(m,v),he=v.memoizedProps,It=bh(C,he),G.props=It,Ct=v.pendingProps,Wt=G.context,Et=C.contextType,rt=Vc,typeof Et=="object"&&Et!==null&&(rt=ge(Et)),Ce=C.getDerivedStateFromProps,(Et=typeof Ce=="function"||typeof G.getSnapshotBeforeUpdate=="function")||typeof G.UNSAFE_componentWillReceiveProps!="function"&&typeof G.componentWillReceiveProps!="function"||(he!==Ct||Wt!==rt)&&gC(v,G,P,rt),Uo=!1,Wt=v.memoizedState,G.state=Wt,rr(v,P,G,H),ri();var Rn=v.memoizedState;he!==Ct||Wt!==Rn||Uo||m!==null&&m.dependencies!==null&&Vt(m.dependencies)?(typeof Ce=="function"&&(sS(v,C,Ce,P),Rn=v.memoizedState),(It=Uo||kx(v,C,It,P,Wt,Rn,rt)||m!==null&&m.dependencies!==null&&Vt(m.dependencies))?(Et||typeof G.UNSAFE_componentWillUpdate!="function"&&typeof G.componentWillUpdate!="function"||(typeof G.componentWillUpdate=="function"&&G.componentWillUpdate(P,Rn,rt),typeof G.UNSAFE_componentWillUpdate=="function"&&G.UNSAFE_componentWillUpdate(P,Rn,rt)),typeof G.componentDidUpdate=="function"&&(v.flags|=4),typeof G.getSnapshotBeforeUpdate=="function"&&(v.flags|=1024)):(typeof G.componentDidUpdate!="function"||he===m.memoizedProps&&Wt===m.memoizedState||(v.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||he===m.memoizedProps&&Wt===m.memoizedState||(v.flags|=1024),v.memoizedProps=P,v.memoizedState=Rn),G.props=P,G.state=Rn,G.context=rt,P=It):(typeof G.componentDidUpdate!="function"||he===m.memoizedProps&&Wt===m.memoizedState||(v.flags|=4),typeof G.getSnapshotBeforeUpdate!="function"||he===m.memoizedProps&&Wt===m.memoizedState||(v.flags|=1024),P=!1)}return G=P,Eg(m,v),P=(v.flags&128)!==0,G||P?(G=v.stateNode,C=P&&typeof C.getDerivedStateFromError!="function"?null:G.render(),v.flags|=1,m!==null&&P?(v.child=Xs(v,m.child,null,H),v.child=Xs(v,null,C,H)):Gs(m,v,C,H),v.memoizedState=G.state,m=v.child):m=Oc(m,v,H),m}function EC(m,v,C,P){return _t(),v.flags|=256,Gs(m,v,C,P),v.child}function uS(m){return{baseLanes:m,cachePool:bt()}}function fS(m,v,C){return m=m!==null?m.childLanes&~C:0,v&&(m|=Fa),m}function dS(m,v,C){var P=v.pendingProps,H=!1,G=(v.flags&128)!==0,he;if((he=G)||(he=m!==null&&m.memoizedState===null?!1:(Oi.current&2)!==0),he&&(H=!0,v.flags&=-129),he=(v.flags&32)!==0,v.flags&=-33,m===null){if(Jn){if(H?Be(v):y(),(m=ai)?(m=u3(m,Na),m!==null&&(v.memoizedState={dehydrated:m,treeContext:wl!==null?{id:qs,overflow:ec}:null,retryLane:536870912,hydrationErrors:null},C=MS(m),C.return=v,v.child=C,vs=v,ai=null)):m=null,m===null)throw Pe(v);return nb(m)?v.lanes=32:v.lanes=536870912,null}var Ce=P.children;return P=P.fallback,H?(y(),H=v.mode,Ce=Vf({mode:"hidden",children:Ce},H),P=yl(P,H,C,null),Ce.return=v,P.return=v,Ce.sibling=P,v.child=Ce,P=v.child,P.memoizedState=uS(C),P.childLanes=fS(m,he,C),v.memoizedState=Hh,_h(null,P)):(Be(v),Dx(v,Ce))}var rt=m.memoizedState;if(rt!==null&&(Ce=rt.dehydrated,Ce!==null)){if(G)v.flags&256?(Be(v),v.flags&=-257,v=Sh(m,v,C)):v.memoizedState!==null?(y(),v.child=m.child,v.flags|=128,v=null):(y(),Ce=P.fallback,H=v.mode,P=Vf({mode:"visible",children:P.children},H),Ce=yl(Ce,H,C,null),Ce.flags|=2,P.return=v,Ce.return=v,P.sibling=Ce,v.child=P,Xs(v,m.child,null,C),P=v.child,P.memoizedState=uS(C),P.childLanes=fS(m,he,C),v.memoizedState=Hh,v=_h(null,P));else if(Be(v),nb(Ce))he=rb(Ce).digest,P=Error(i(419)),P.stack="",P.digest=he,ot({value:P,source:null,stack:null}),v=Sh(m,v,C);else if(Qr||kt(m,v,C,!1),he=(C&m.childLanes)!==0,Qr||he){if(he=Un,he!==null&&(P=Y(he,C),P!==0&&P!==rt.retryLane))throw rt.retryLane=P,Ti(m,P),yi(he,m,P),Ba;nd(Ce)||wm(),v=Sh(m,v,C)}else nd(Ce)?(v.flags|=192,v.child=m.child,v=null):(m=rt.treeContext,si&&(ai=o3(Ce),vs=v,Jn=!0,Gc=null,Na=!1,m!==null&&De(v,m)),v=Dx(v,P.children),v.flags|=4096);return v}return H?(y(),Ce=P.fallback,H=v.mode,rt=m.child,G=rt.sibling,P=Bo(rt,{mode:"hidden",children:P.children}),P.subtreeFlags=rt.subtreeFlags&65011712,G!==null?Ce=Bo(G,Ce):(Ce=yl(Ce,H,C,null),Ce.flags|=2),Ce.return=v,P.return=v,P.sibling=Ce,v.child=P,_h(null,P),P=v.child,Ce=m.child.memoizedState,Ce===null?Ce=uS(C):(H=Ce.cachePool,H!==null?(rt=Wi?oi._currentValue:oi._currentValue2,H=H.parent!==rt?{parent:rt,pool:rt}:H):H=bt(),Ce={baseLanes:Ce.baseLanes|C,cachePool:H}),P.memoizedState=Ce,P.childLanes=fS(m,he,C),v.memoizedState=Hh,_h(m.child,P)):(Be(v),C=m.child,m=C.sibling,C=Bo(C,{mode:"visible",children:P.children}),C.return=v,C.sibling=null,m!==null&&(he=v.deletions,he===null?(v.deletions=[m],v.flags|=16):he.push(m)),v.child=C,v.memoizedState=null,C)}function Dx(m,v){return v=Vf({mode:"visible",children:v},m.mode),v.return=m,m.child=v}function Vf(m,v){return m=t(22,m,null,v),m.lanes=0,m}function Sh(m,v,C){return Xs(v,m.child,null,C),m=Dx(v,v.pendingProps.children),m.flags|=2,v.memoizedState=null,m}function MC(m,v,C){m.lanes|=v;var P=m.alternate;P!==null&&(P.lanes|=v),_e(m.return,v,C)}function hm(m,v,C,P,H,G){var he=m.memoizedState;he===null?m.memoizedState={isBackwards:v,rendering:null,renderingStartTime:0,last:P,tail:C,tailMode:H,treeForkCount:G}:(he.isBackwards=v,he.rendering=null,he.renderingStartTime=0,he.last=P,he.tail=C,he.tailMode=H,he.treeForkCount=G)}function hS(m,v,C){var P=v.pendingProps,H=P.revealOrder,G=P.tail;P=P.children;var he=Oi.current,Ce=(he&2)!==0;if(Ce?(he=he&1|2,v.flags|=128):he&=1,b(Oi,he),Gs(m,v,P,C),P=Jn?Yg:0,!Ce&&m!==null&&(m.flags&128)!==0)e:for(m=v.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&MC(m,C,v);else if(m.tag===19)MC(m,C,v);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===v)break e;for(;m.sibling===null;){if(m.return===null||m.return===v)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}switch(H){case"forwards":for(C=v.child,H=null;C!==null;)m=C.alternate,m!==null&&U(m)===null&&(H=C),C=C.sibling;C=H,C===null?(H=v.child,v.child=null):(H=C.sibling,C.sibling=null),hm(v,!1,H,C,G,P);break;case"backwards":case"unstable_legacy-backwards":for(C=null,H=v.child,v.child=null;H!==null;){if(m=H.alternate,m!==null&&U(m)===null){v.child=H;break}m=H.sibling,H.sibling=C,C=H,H=m}hm(v,!0,C,null,G,P);break;case"together":hm(v,!1,null,null,void 0,P);break;default:v.memoizedState=null}return v.child}function Oc(m,v,C){if(m!==null&&(v.dependencies=m.dependencies),Zu|=v.lanes,(C&v.childLanes)===0)if(m!==null){if(kt(m,v,C,!1),(C&v.childLanes)===0)return null}else return null;if(m!==null&&v.child!==m.child)throw Error(i(153));if(v.child!==null){for(m=v.child,C=Bo(m,m.pendingProps),v.child=C,C.return=v;m.sibling!==null;)m=m.sibling,C=C.sibling=Bo(m,m.pendingProps),C.return=v;C.sibling=null}return v.child}function Mg(m,v){return(m.lanes&v)!==0?!0:(m=m.dependencies,!!(m!==null&&Vt(m)))}function pS(m,v,C){switch(v.tag){case 3:dt(v,v.stateNode.containerInfo),Qe(v,oi,m.memoizedState.cache),_t();break;case 27:case 5:Ue(v);break;case 4:dt(v,v.stateNode.containerInfo);break;case 10:Qe(v,v.type,v.memoizedProps.value);break;case 31:if(v.memoizedState!==null)return v.flags|=128,ze(v),null;break;case 13:var P=v.memoizedState;if(P!==null)return P.dehydrated!==null?(Be(v),v.flags|=128,null):(C&v.child.childLanes)!==0?dS(m,v,C):(Be(v),m=Oc(m,v,C),m!==null?m.sibling:null);Be(v);break;case 19:var H=(m.flags&128)!==0;if(P=(C&v.childLanes)!==0,P||(kt(m,v,C,!1),P=(C&v.childLanes)!==0),H){if(P)return hS(m,v,C);v.flags|=128}if(H=v.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),b(Oi,Oi.current),P)break;return null;case 22:return v.lanes=0,wC(m,v,C,v.pendingProps);case 24:Qe(v,oi,m.memoizedState.cache)}return Oc(m,v,C)}function mS(m,v,C){if(m!==null)if(m.memoizedProps!==v.pendingProps)Qr=!0;else{if(!Mg(m,C)&&(v.flags&128)===0)return Qr=!1,pS(m,v,C);Qr=(m.flags&131072)!==0}else Qr=!1,Jn&&(v.flags&1048576)!==0&&ee(v,Yg,v.index);switch(v.lanes=0,v.tag){case 16:e:{var P=v.pendingProps;if(m=An(v.elementType),v.type=m,typeof m=="function")Mh(m)?(P=bh(m,P),v.tag=1,v=wh(null,v,m,P,C)):(v.tag=0,v=Px(null,v,m,P,C));else{if(m!=null){var H=m.$$typeof;if(H===Am){v.tag=11,v=xC(null,v,m,P,C);break e}else if(H===Kx){v.tag=14,v=bC(null,v,m,P,C);break e}}throw v=d(m)||m,Error(i(306,v,""))}}return v;case 0:return Px(m,v,v.type,v.pendingProps,C);case 1:return P=v.type,H=bh(P,v.pendingProps),wh(m,v,P,H,C);case 3:e:{if(dt(v,v.stateNode.containerInfo),m===null)throw Error(i(387));var G=v.pendingProps;H=v.memoizedState,P=H.element,mi(m,v),rr(v,G,null,C);var he=v.memoizedState;if(G=he.cache,Qe(v,oi,G),G!==H.cache&&zt(v,[oi],C,!0),ri(),G=he.element,si&&H.isDehydrated)if(H={element:G,isDehydrated:!1,cache:he.cache},v.updateQueue.baseState=H,v.memoizedState=H,v.flags&256){v=EC(m,v,G,C);break e}else if(G!==P){P=Ee(Error(i(424)),v),ot(P),v=EC(m,v,G,C);break e}else for(si&&(ai=s3(v.stateNode.containerInfo),vs=v,Jn=!0,Gc=null,Na=!0),C=fE(v,null,G,C),v.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(_t(),G===P){v=Oc(m,v,C);break e}Gs(m,v,G,C)}v=v.child}return v;case 26:if(bl)return Eg(m,v),m===null?(C=eE(v.type,null,v.pendingProps,null))?v.memoizedState=C:Jn||(v.stateNode=ob(v.type,v.pendingProps,Ys.current,v)):v.memoizedState=eE(v.type,m.memoizedProps,v.pendingProps,m.memoizedState),null;case 27:if(ys)return Ue(v),m===null&&ys&&Jn&&(P=v.stateNode=lb(v.type,v.pendingProps,Ys.current,Is.current,!1),vs=v,Na=!0,ai=YS(v.type,P,ai)),Gs(m,v,v.pendingProps.children,C),Eg(m,v),m===null&&(v.flags|=4194304),v.child;case 5:return m===null&&Jn&&(x3(v.type,v.pendingProps,Is.current),(H=P=ai)&&(P=l3(P,v.type,v.pendingProps,Na),P!==null?(v.stateNode=P,vs=v,ai=i3(P),Na=!1,H=!0):H=!1),H||Pe(v)),Ue(v),H=v.type,G=v.pendingProps,he=m!==null?m.memoizedProps:null,P=G.children,Ia(H,G)?P=null:he!==null&&Ia(H,he)&&(v.flags|=32),v.memoizedState!==null&&(H=Oe(m,v,Jt,null,null,C),Wi?Ih._currentValue=H:Ih._currentValue2=H),Eg(m,v),Gs(m,v,P,C),v.child;case 6:return m===null&&Jn&&(QS(v.pendingProps,Is.current),(m=C=ai)&&(C=c3(C,v.pendingProps,Na),C!==null?(v.stateNode=C,vs=v,ai=null,m=!0):m=!1),m||Pe(v)),null;case 13:return dS(m,v,C);case 4:return dt(v,v.stateNode.containerInfo),P=v.pendingProps,m===null?v.child=Xs(v,null,P,C):Gs(m,v,P,C),v.child;case 11:return xC(m,v,v.type,v.pendingProps,C);case 7:return Gs(m,v,v.pendingProps,C),v.child;case 8:return Gs(m,v,v.pendingProps.children,C),v.child;case 12:return Gs(m,v,v.pendingProps.children,C),v.child;case 10:return P=v.pendingProps,Qe(v,v.type,P.value),Gs(m,v,P.children,C),v.child;case 9:return H=v.type._context,P=v.pendingProps.children,gt(v),H=ge(H),P=P(H),v.flags|=1,Gs(m,v,P,C),v.child;case 14:return bC(m,v,v.type,v.pendingProps,C);case 15:return _C(m,v,v.type,v.pendingProps,C);case 19:return hS(m,v,C);case 31:return SC(m,v,C);case 22:return wC(m,v,C,v.pendingProps);case 24:return gt(v),P=ge(oi),m===null?(H=At(),H===null&&(H=Un,G=we(),H.pooledCache=G,G.refCount++,G!==null&&(H.pooledCacheLanes|=C),H=G),v.memoizedState={parent:P,cache:H},yr(v),Qe(v,oi,H)):((m.lanes&C)!==0&&(mi(m,v),rr(v,null,null,C),ri()),H=m.memoizedState,G=v.memoizedState,H.parent!==P?(H={parent:P,cache:P},v.memoizedState=H,v.lanes===0&&(v.memoizedState=v.updateQueue.baseState=H),Qe(v,oi,P)):(P=G.cache,Qe(v,oi,P),P!==H.cache&&zt(v,[oi],C,!0))),Gs(m,v,v.pendingProps.children,C),v.child;case 29:throw v.pendingProps}throw Error(i(156,v.tag))}function dl(m){m.flags|=4}function Ag(m){Fo&&(m.flags|=8)}function AC(m,v){if(m!==null&&m.child===v.child)return!1;if((v.flags&16)!==0)return!0;for(m=v.child;m!==null;){if((m.flags&8218)!==0||(m.subtreeFlags&8218)!==0)return!0;m=m.sibling}return!1}function gS(m,v,C,P){if(tr)for(C=v.child;C!==null;){if(C.tag===5||C.tag===6)Ug(m,C.stateNode);else if(!(C.tag===4||ys&&C.tag===27)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===v)break;for(;C.sibling===null;){if(C.return===null||C.return===v)return;C=C.return}C.sibling.return=C.return,C=C.sibling}else if(Fo)for(var H=v.child;H!==null;){if(H.tag===5){var G=H.stateNode;C&&P&&(G=e3(G,H.type,H.memoizedProps)),Ug(m,G)}else if(H.tag===6)G=H.stateNode,C&&P&&(G=GS(G,H.memoizedProps)),Ug(m,G);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)G=H.child,G!==null&&(G.return=H),gS(m,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===v)break;for(;H.sibling===null;){if(H.return===null||H.return===v)return;H=H.return}H.sibling.return=H.return,H=H.sibling}}function TC(m,v,C,P){var H=!1;if(Fo)for(var G=v.child;G!==null;){if(G.tag===5){var he=G.stateNode;C&&P&&(he=e3(he,G.type,G.memoizedProps)),WS(m,he)}else if(G.tag===6)he=G.stateNode,C&&P&&(he=GS(he,G.memoizedProps)),WS(m,he);else if(G.tag!==4){if(G.tag===22&&G.memoizedState!==null)H=G.child,H!==null&&(H.return=G),TC(m,G,!0,!0),H=!0;else if(G.child!==null){G.child.return=G,G=G.child;continue}}if(G===v)break;for(;G.sibling===null;){if(G.return===null||G.return===v)return H;G=G.return}G.sibling.return=G.return,G=G.sibling}return H}function CC(m,v){if(Fo&&AC(m,v)){m=v.stateNode;var C=m.containerInfo,P=VS();TC(P,v,!1,!1),m.pendingChildren=P,dl(v),QC(C,P)}}function yS(m,v,C,P){if(tr)m.memoizedProps!==P&&dl(v);else if(Fo){var H=m.stateNode,G=m.memoizedProps;if((m=AC(m,v))||G!==P){var he=Is.current;G=ZC(H,C,G,P,!m,null),G===H?v.stateNode=H:(Ag(v),so(G,C,P,he)&&dl(v),v.stateNode=G,m&&gS(G,v,!1,!1))}else v.stateNode=H}}function Oa(m,v,C,P,H){if((m.mode&32)!==0&&(C===null?jg(v,P):Om(v,C,P))){if(m.flags|=16777216,(H&335544128)===H||PS(v,P))if(vi(m.stateNode,v,P))m.flags|=8192;else if(er())m.flags|=8192;else throw La=qc,xb}else m.flags&=-16777217}function pm(m,v){if(iE(v)){if(m.flags|=16777216,!sE(v))if(er())m.flags|=8192;else throw La=qc,xb}else m.flags&=-16777217}function Tg(m,v){v!==null&&(m.flags|=4),m.flags&16384&&(v=m.tag!==22?O():536870912,m.lanes|=v,Um|=v)}function mm(m,v){if(!Jn)switch(m.tailMode){case"hidden":v=m.tail;for(var C=null;v!==null;)v.alternate!==null&&(C=v),v=v.sibling;C===null?m.tail=null:C.sibling=null;break;case"collapsed":C=m.tail;for(var P=null;C!==null;)C.alternate!==null&&(P=C),C=C.sibling;P===null?v||m.tail===null?m.tail=null:m.tail.sibling=null:P.sibling=null}}function $r(m){var v=m.alternate!==null&&m.alternate.child===m.child,C=0,P=0;if(v)for(var H=m.child;H!==null;)C|=H.lanes|H.childLanes,P|=H.subtreeFlags&65011712,P|=H.flags&65011712,H.return=m,H=H.sibling;else for(H=m.child;H!==null;)C|=H.lanes|H.childLanes,P|=H.subtreeFlags,P|=H.flags,H.return=m,H=H.sibling;return m.subtreeFlags|=P,m.childLanes=C,v}function kC(m,v,C){var P=v.pendingProps;switch(ae(v),v.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $r(v),null;case 1:return $r(v),null;case 3:return C=v.stateNode,P=null,m!==null&&(P=m.memoizedState.cache),v.memoizedState.cache!==P&&(v.flags|=2048),mt(oi),Ne(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(m===null||m.child===null)&&(Ze(v)?dl(v):m===null||m.memoizedState.isDehydrated&&(v.flags&256)===0||(v.flags|=1024,Ve())),CC(m,v),$r(v),null;case 26:if(bl){var H=v.type,G=v.memoizedState;return m===null?(dl(v),G!==null?($r(v),pm(v,G)):($r(v),Oa(v,H,null,P,C))):G?G!==m.memoizedState?(dl(v),$r(v),pm(v,G)):($r(v),v.flags&=-16777217):(G=m.memoizedProps,tr?G!==P&&dl(v):yS(m,v,H,P),$r(v),Oa(v,H,G,P,C)),null}case 27:if(ys){if(qe(v),C=Ys.current,H=v.type,m!==null&&v.stateNode!=null)tr?m.memoizedProps!==P&&dl(v):yS(m,v,H,P);else{if(!P){if(v.stateNode===null)throw Error(i(166));return $r(v),null}m=Is.current,Ze(v)?lt(v,m):(m=lb(H,P,C,m,!0),v.stateNode=m,dl(v))}return $r(v),null}case 5:if(qe(v),H=v.type,m!==null&&v.stateNode!=null)yS(m,v,H,P);else{if(!P){if(v.stateNode===null)throw Error(i(166));return $r(v),null}if(G=Is.current,Ze(v))lt(v,G),g3(v.stateNode,H,P,G)&&(v.flags|=64);else{var he=RS(H,P,Ys.current,G,v);Ag(v),gS(he,v,!1,!1),v.stateNode=he,so(he,H,P,G)&&dl(v)}}return $r(v),Oa(v,v.type,m===null?null:m.memoizedProps,v.pendingProps,C),null;case 6:if(m&&v.stateNode!=null)C=m.memoizedProps,tr?C!==P&&dl(v):Fo&&(C!==P?(m=Ys.current,C=Is.current,Ag(v),v.stateNode=Gu(P,m,C,v)):v.stateNode=m.stateNode);else{if(typeof P!="string"&&v.stateNode===null)throw Error(i(166));if(m=Ys.current,C=Is.current,Ze(v)){if(!si)throw Error(i(176));if(m=v.stateNode,C=v.memoizedProps,P=null,H=vs,H!==null)switch(H.tag){case 27:case 5:P=H.memoizedProps}x4(m,C,v,P)||Pe(v,!0)}else Ag(v),v.stateNode=Gu(P,m,C,v)}return $r(v),null;case 31:if(C=v.memoizedState,m===null||m.memoizedState!==null){if(P=Ze(v),C!==null){if(m===null){if(!P)throw Error(i(318));if(!si)throw Error(i(556));if(m=v.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(557));KS(m,v)}else _t(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;$r(v),m=!1}else C=Ve(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=C),m=!0;if(!m)return v.flags&256?(M(v),v):(M(v),null);if((v.flags&128)!==0)throw Error(i(558))}return $r(v),null;case 13:if(P=v.memoizedState,m===null||m.memoizedState!==null&&m.memoizedState.dehydrated!==null){if(H=Ze(v),P!==null&&P.dehydrated!==null){if(m===null){if(!H)throw Error(i(318));if(!si)throw Error(i(344));if(H=v.memoizedState,H=H!==null?H.dehydrated:null,!H)throw Error(i(317));d3(H,v)}else _t(),(v.flags&128)===0&&(v.memoizedState=null),v.flags|=4;$r(v),H=!1}else H=Ve(),m!==null&&m.memoizedState!==null&&(m.memoizedState.hydrationErrors=H),H=!0;if(!H)return v.flags&256?(M(v),v):(M(v),null)}return M(v),(v.flags&128)!==0?(v.lanes=C,v):(C=P!==null,m=m!==null&&m.memoizedState!==null,C&&(P=v.child,H=null,P.alternate!==null&&P.alternate.memoizedState!==null&&P.alternate.memoizedState.cachePool!==null&&(H=P.alternate.memoizedState.cachePool.pool),G=null,P.memoizedState!==null&&P.memoizedState.cachePool!==null&&(G=P.memoizedState.cachePool.pool),G!==H&&(P.flags|=2048)),C!==m&&C&&(v.child.flags|=8192),Tg(v,v.updateQueue),$r(v),null);case 4:return Ne(),CC(m,v),m===null&&Lr(v.stateNode.containerInfo),$r(v),null;case 10:return mt(v.type),$r(v),null;case 19:if(g(Oi),P=v.memoizedState,P===null)return $r(v),null;if(H=(v.flags&128)!==0,G=P.rendering,G===null)if(H)mm(P,!1);else{if(_i!==0||m!==null&&(m.flags&128)!==0)for(m=v.child;m!==null;){if(G=U(m),G!==null){for(v.flags|=128,mm(P,!1),m=G.updateQueue,v.updateQueue=m,Tg(v,m),v.subtreeFlags=0,m=C,C=v.child;C!==null;)$x(C,m),C=C.sibling;return b(Oi,Oi.current&1|2),Jn&&oe(v,P.treeForkCount),v.child}m=m.sibling}P.tail!==null&&fa()>hd&&(v.flags|=128,H=!0,mm(P,!1),v.lanes=4194304)}else{if(!H)if(m=U(G),m!==null){if(v.flags|=128,H=!0,m=m.updateQueue,v.updateQueue=m,Tg(v,m),mm(P,!0),P.tail===null&&P.tailMode==="hidden"&&!G.alternate&&!Jn)return $r(v),null}else 2*fa()-P.renderingStartTime>hd&&C!==536870912&&(v.flags|=128,H=!0,mm(P,!1),v.lanes=4194304);P.isBackwards?(G.sibling=v.child,v.child=G):(m=P.last,m!==null?m.sibling=G:v.child=G,P.last=G)}return P.tail!==null?(m=P.tail,P.rendering=m,P.tail=m.sibling,P.renderingStartTime=fa(),m.sibling=null,C=Oi.current,b(Oi,H?C&1|2:C&1),Jn&&oe(v,P.treeForkCount),m):($r(v),null);case 22:case 23:return M(v),Ae(),P=v.memoizedState!==null,m!==null?m.memoizedState!==null!==P&&(v.flags|=8192):P&&(v.flags|=8192),P?(C&536870912)!==0&&(v.flags&128)===0&&($r(v),v.subtreeFlags&6&&(v.flags|=8192)):$r(v),C=v.updateQueue,C!==null&&Tg(v,C.retryQueue),C=null,m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),P=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(P=v.memoizedState.cachePool.pool),P!==C&&(v.flags|=2048),m!==null&&g(sd),null;case 24:return C=null,m!==null&&(C=m.memoizedState.cache),v.memoizedState.cache!==C&&(v.flags|=2048),mt(oi),$r(v),null;case 25:return null;case 30:return null}throw Error(i(156,v.tag))}function vS(m,v){switch(ae(v),v.tag){case 1:return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 3:return mt(oi),Ne(),m=v.flags,(m&65536)!==0&&(m&128)===0?(v.flags=m&-65537|128,v):null;case 26:case 27:case 5:return qe(v),null;case 31:if(v.memoizedState!==null){if(M(v),v.alternate===null)throw Error(i(340));_t()}return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 13:if(M(v),m=v.memoizedState,m!==null&&m.dehydrated!==null){if(v.alternate===null)throw Error(i(340));_t()}return m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 19:return g(Oi),null;case 4:return Ne(),null;case 10:return mt(v.type),null;case 22:case 23:return M(v),Ae(),m!==null&&g(sd),m=v.flags,m&65536?(v.flags=m&-65537|128,v):null;case 24:return mt(oi),null;case 25:return null;default:return null}}function RC(m,v){switch(ae(v),v.tag){case 3:mt(oi),Ne();break;case 26:case 27:case 5:qe(v);break;case 4:Ne();break;case 31:v.memoizedState!==null&&M(v);break;case 13:M(v);break;case 19:g(Oi);break;case 10:mt(v.type);break;case 22:case 23:M(v),Ae(),m!==null&&g(sd);break;case 24:mt(oi)}}function Pc(m,v){try{var C=v.updateQueue,P=C!==null?C.lastEffect:null;if(P!==null){var H=P.next;C=H;do{if((C.tag&m)===m){P=void 0;var G=C.create,he=C.inst;P=G(),he.destroy=P}C=C.next}while(C!==H)}}catch(Ce){xn(v,v.return,Ce)}}function Dc(m,v,C){try{var P=v.updateQueue,H=P!==null?P.lastEffect:null;if(H!==null){var G=H.next;P=G;do{if((P.tag&m)===m){var he=P.inst,Ce=he.destroy;if(Ce!==void 0){he.destroy=void 0,H=v;var rt=C,Et=Ce;try{Et()}catch(It){xn(H,rt,It)}}}P=P.next}while(P!==G)}}catch(It){xn(v,v.return,It)}}function gm(m){var v=m.updateQueue;if(v!==null){var C=m.stateNode;try{ve(v,C)}catch(P){xn(m,m.return,P)}}}function Ix(m,v,C){C.props=bh(m.type,m.memoizedProps),C.state=m.memoizedState;try{C.componentWillUnmount()}catch(P){xn(m,v,P)}}function ym(m,v){try{var C=m.ref;if(C!==null){switch(m.tag){case 26:case 27:case 5:var P=Cm(m.stateNode);break;case 30:P=m.stateNode;break;default:P=m.stateNode}typeof C=="function"?m.refCleanup=C(P):C.current=P}}catch(H){xn(m,v,H)}}function ua(m,v){var C=m.ref,P=m.refCleanup;if(C!==null)if(typeof P=="function")try{P()}catch(H){xn(m,v,H)}finally{m.refCleanup=null,m=m.alternate,m!=null&&(m.refCleanup=null)}else if(typeof C=="function")try{C(null)}catch(H){xn(m,v,H)}else C.current=null}function Eh(m){var v=m.type,C=m.memoizedProps,P=m.stateNode;try{WC(P,v,C,m)}catch(H){xn(m,m.return,H)}}function Cg(m,v,C){try{$C(m.stateNode,m.type,C,v,m)}catch(P){xn(m,m.return,P)}}function xS(m){return m.tag===5||m.tag===3||(bl?m.tag===26:!1)||(ys?m.tag===27&&Nh(m.type):!1)||m.tag===4}function Fu(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||xS(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(ys&&m.tag===27&&Nh(m.type)||m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function Nx(m,v,C){var P=m.tag;if(P===5||P===6)m=m.stateNode,v?qC(C,m,v):zS(C,m);else if(P!==4&&(ys&&P===27&&Nh(m.type)&&(C=m.stateNode,v=null),m=m.child,m!==null))for(Nx(m,v,C),m=m.sibling;m!==null;)Nx(m,v,C),m=m.sibling}function kg(m,v,C){var P=m.tag;if(P===5||P===6)m=m.stateNode,v?GC(C,m,v):FS(C,m);else if(P!==4&&(ys&&P===27&&Nh(m.type)&&(C=m.stateNode),m=m.child,m!==null))for(kg(m,v,C),m=m.sibling;m!==null;)kg(m,v,C),m=m.sibling}function bS(m,v,C){m=m.containerInfo;try{$S(m,C)}catch(P){xn(v,v.return,P)}}function OC(m){var v=m.stateNode,C=m.memoizedProps;try{ss(m.type,C,v,m)}catch(P){xn(m,m.return,P)}}function m4(m,v){for(Jx(m.containerInfo),qi=v;qi!==null;)if(m=qi,v=m.child,(m.subtreeFlags&1028)!==0&&v!==null)v.return=m,qi=v;else for(;qi!==null;){m=qi;var C=m.alternate;switch(v=m.flags,m.tag){case 0:if((v&4)!==0&&(v=m.updateQueue,v=v!==null?v.events:null,v!==null))for(var P=0;P<v.length;P++){var H=v[P];H.ref.impl=H.nextImpl}break;case 11:case 15:break;case 1:if((v&1024)!==0&&C!==null){v=void 0,P=m,H=C.memoizedProps,C=C.memoizedState;var G=P.stateNode;try{var he=bh(P.type,H);v=G.getSnapshotBeforeUpdate(he,C),G.__reactInternalSnapshotBeforeUpdate=v}catch(Ce){xn(P,P.return,Ce)}}break;case 3:(v&1024)!==0&&tr&&HS(m.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((v&1024)!==0)throw Error(i(163))}if(v=m.sibling,v!==null){v.return=m.return,qi=v;break}qi=m.return}}function PC(m,v,C){var P=C.flags;switch(C.tag){case 0:case 11:case 15:Pa(m,C),P&4&&Pc(5,C);break;case 1:if(Pa(m,C),P&4)if(m=C.stateNode,v===null)try{m.componentDidMount()}catch(he){xn(C,C.return,he)}else{var H=bh(C.type,v.memoizedProps);v=v.memoizedState;try{m.componentDidUpdate(H,v,m.__reactInternalSnapshotBeforeUpdate)}catch(he){xn(C,C.return,he)}}P&64&&gm(C),P&512&&ym(C,C.return);break;case 3:if(Pa(m,C),P&64&&(P=C.updateQueue,P!==null)){if(m=null,C.child!==null)switch(C.child.tag){case 27:case 5:m=Cm(C.child.stateNode);break;case 1:m=C.child.stateNode}try{ve(P,m)}catch(he){xn(C,C.return,he)}}break;case 27:ys&&v===null&&P&4&&OC(C);case 26:case 5:if(Pa(m,C),v===null){if(P&4)Eh(C);else if(P&64){m=C.type,v=C.memoizedProps,H=C.stateNode;try{p3(H,m,v,C)}catch(he){xn(C,C.return,he)}}}P&512&&ym(C,C.return);break;case 12:Pa(m,C);break;case 31:Pa(m,C),P&4&&pl(m,C);break;case 13:Pa(m,C),P&4&&Og(m,C),P&64&&(P=C.memoizedState,P!==null&&(P=P.dehydrated,P!==null&&(C=g4.bind(null,C),ib(P,C))));break;case 22:if(P=C.memoizedState!==null||Pi,!P){v=v!==null&&v.memoizedState!==null||Di,H=Pi;var G=Di;Pi=P,(Di=v)&&!G?gl(m,C,(C.subtreeFlags&8772)!==0):Pa(m,C),Pi=H,Di=G}break;case 30:break;default:Pa(m,C)}}function _S(m){var v=m.alternate;v!==null&&(m.alternate=null,_S(v)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(v=m.stateNode,v!==null&&Zx(v)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function hl(m,v,C){for(C=C.child;C!==null;)Rg(m,v,C),C=C.sibling}function Rg(m,v,C){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(Fh,C)}catch{}switch(C.tag){case 26:if(bl){Di||ua(C,v),hl(m,v,C),C.memoizedState?rd(C.memoizedState):C.stateNode&&rE(C.stateNode);break}case 27:if(ys){Di||ua(C,v);var P=bi,H=Yi;Nh(C.type)&&(bi=C.stateNode,Yi=!1),hl(m,v,C),Ds(C.stateNode),bi=P,Yi=H;break}case 5:Di||ua(C,v);case 6:if(tr){if(P=bi,H=Yi,bi=null,hl(m,v,C),bi=P,Yi=H,bi!==null)if(Yi)try{US(bi,C.stateNode)}catch(G){xn(C,v,G)}else try{YC(bi,C.stateNode)}catch(G){xn(C,v,G)}}else hl(m,v,C);break;case 18:tr&&bi!==null&&(Yi?sb(bi,C.stateNode):ZS(bi,C.stateNode));break;case 4:tr?(P=bi,H=Yi,bi=C.stateNode.containerInfo,Yi=!0,hl(m,v,C),bi=P,Yi=H):(Fo&&bS(C.stateNode,C,VS()),hl(m,v,C));break;case 0:case 11:case 14:case 15:Dc(2,C,v),Di||Dc(4,C,v),hl(m,v,C);break;case 1:Di||(ua(C,v),P=C.stateNode,typeof P.componentWillUnmount=="function"&&Ix(C,v,P)),hl(m,v,C);break;case 21:hl(m,v,C);break;case 22:Di=(P=Di)||C.memoizedState!==null,hl(m,v,C),Di=P;break;default:hl(m,v,C)}}function pl(m,v){if(si&&v.memoizedState===null&&(m=v.alternate,m!==null&&(m=m.memoizedState,m!==null))){m=m.dehydrated;try{b4(m)}catch(C){xn(v,v.return,C)}}}function Og(m,v){if(si&&v.memoizedState===null&&(m=v.alternate,m!==null&&(m=m.memoizedState,m!==null&&(m=m.dehydrated,m!==null))))try{_4(m)}catch(C){xn(v,v.return,C)}}function ml(m){switch(m.tag){case 31:case 13:case 19:var v=m.stateNode;return v===null&&(v=m.stateNode=new hE),v;case 22:return m=m.stateNode,v=m._retryCache,v===null&&(v=m._retryCache=new hE),v;default:throw Error(i(435,m.tag))}}function zu(m,v){var C=ml(m);v.forEach(function(P){if(!C.has(P)){C.add(P);var H=y4.bind(null,m,P);P.then(H,H)}})}function Os(m,v){var C=v.deletions;if(C!==null)for(var P=0;P<C.length;P++){var H=C[P],G=m,he=v;if(tr){var Ce=he;e:for(;Ce!==null;){switch(Ce.tag){case 27:if(ys){if(Nh(Ce.type)){bi=Ce.stateNode,Yi=!1;break e}break}case 5:bi=Ce.stateNode,Yi=!1;break e;case 3:case 4:bi=Ce.stateNode.containerInfo,Yi=!0;break e}Ce=Ce.return}if(bi===null)throw Error(i(160));Rg(G,he,H),bi=null,Yi=!1}else Rg(G,he,H);G=H.alternate,G!==null&&(G.return=null),H.return=null}if(v.subtreeFlags&13886)for(v=v.child;v!==null;)Pg(v,m),v=v.sibling}function Pg(m,v){var C=m.alternate,P=m.flags;switch(m.tag){case 0:case 11:case 14:case 15:Os(v,m),Ps(m),P&4&&(Dc(3,m,m.return),Pc(3,m),Dc(5,m,m.return));break;case 1:Os(v,m),Ps(m),P&512&&(Di||C===null||ua(C,C.return)),P&64&&Pi&&(m=m.updateQueue,m!==null&&(P=m.callbacks,P!==null&&(C=m.shared.hiddenCallbacks,m.shared.hiddenCallbacks=C===null?P:C.concat(P))));break;case 26:if(bl){var H=Or;if(Os(v,m),Ps(m),P&512&&(Di||C===null||ua(C,C.return)),P&4){P=C!==null?C.memoizedState:null;var G=m.memoizedState;C===null?G===null?m.stateNode===null?m.stateNode=b3(H,m.type,m.memoizedProps,m):nE(H,m.type,m.stateNode):m.stateNode=tE(H,G,m.memoizedProps):P!==G?(P===null?C.stateNode!==null&&rE(C.stateNode):rd(P),G===null?nE(H,m.type,m.stateNode):tE(H,G,m.memoizedProps)):G===null&&m.stateNode!==null&&Cg(m,m.memoizedProps,C.memoizedProps)}break}case 27:if(ys){Os(v,m),Ps(m),P&512&&(Di||C===null||ua(C,C.return)),C!==null&&P&4&&Cg(m,m.memoizedProps,C.memoizedProps);break}case 5:if(Os(v,m),Ps(m),P&512&&(Di||C===null||ua(C,C.return)),tr){if(m.flags&32){H=m.stateNode;try{jS(H)}catch(Ct){xn(m,m.return,Ct)}}P&4&&m.stateNode!=null&&(H=m.memoizedProps,Cg(m,H,C!==null?C.memoizedProps:H)),P&1024&&(Nm=!0)}else Fo&&m.alternate!==null&&(m.alternate.stateNode=m.stateNode);break;case 6:if(Os(v,m),Ps(m),P&4&&tr){if(m.stateNode===null)throw Error(i(162));P=m.memoizedProps,C=C!==null?C.memoizedProps:P,H=m.stateNode;try{VC(H,C,P)}catch(Ct){xn(m,m.return,Ct)}}break;case 3:if(bl?(_3(),H=Or,Or=Wg(v.containerInfo),Os(v,m),Or=H):Os(v,m),Ps(m),P&4){if(tr&&si&&C!==null&&C.memoizedState.isDehydrated)try{m3(v.containerInfo)}catch(Ct){xn(m,m.return,Ct)}if(Fo){P=v.containerInfo,C=v.pendingChildren;try{$S(P,C)}catch(Ct){xn(m,m.return,Ct)}}}Nm&&(Nm=!1,Lx(m));break;case 4:bl?(C=Or,Or=Wg(m.stateNode.containerInfo),Os(v,m),Ps(m),Or=C):(Os(v,m),Ps(m)),P&4&&Fo&&bS(m.stateNode,m,m.stateNode.pendingChildren);break;case 12:Os(v,m),Ps(m);break;case 31:Os(v,m),Ps(m),P&4&&(P=m.updateQueue,P!==null&&(m.updateQueue=null,zu(m,P)));break;case 13:Os(v,m),Ps(m),m.child.flags&8192&&m.memoizedState!==null!=(C!==null&&C.memoizedState!==null)&&(ey=fa()),P&4&&(P=m.updateQueue,P!==null&&(m.updateQueue=null,zu(m,P)));break;case 22:H=m.memoizedState!==null;var he=C!==null&&C.memoizedState!==null,Ce=Pi,rt=Di;if(Pi=Ce||H,Di=rt||he,Os(v,m),Di=rt,Pi=Ce,Ps(m),P&8192&&(v=m.stateNode,v._visibility=H?v._visibility&-2:v._visibility|1,H&&(C===null||he||Pi||Di||Wf(m)),tr)){e:if(C=null,tr)for(v=m;;){if(v.tag===5||bl&&v.tag===26){if(C===null){he=C=v;try{G=he.stateNode,H?v4(G):KC(he.stateNode,he.memoizedProps)}catch(Ct){xn(he,he.return,Ct)}}}else if(v.tag===6){if(C===null){he=v;try{var Et=he.stateNode;H?XC(Et):JC(Et,he.memoizedProps)}catch(Ct){xn(he,he.return,Ct)}}}else if(v.tag===18){if(C===null){he=v;try{var It=he.stateNode;H?y3(It):v3(he.stateNode)}catch(Ct){xn(he,he.return,Ct)}}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===m)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===m)break e;for(;v.sibling===null;){if(v.return===null||v.return===m)break e;C===v&&(C=null),v=v.return}C===v&&(C=null),v.sibling.return=v.return,v=v.sibling}}P&4&&(P=m.updateQueue,P!==null&&(C=P.retryQueue,C!==null&&(P.retryQueue=null,zu(m,C))));break;case 19:Os(v,m),Ps(m),P&4&&(P=m.updateQueue,P!==null&&(m.updateQueue=null,zu(m,P)));break;case 30:break;case 21:break;default:Os(v,m),Ps(m)}}function Ps(m){var v=m.flags;if(v&2){try{for(var C,P=m.return;P!==null;){if(xS(P)){C=P;break}P=P.return}if(tr){if(C==null)throw Error(i(160));switch(C.tag){case 27:if(ys){var H=C.stateNode,G=Fu(m);kg(m,G,H);break}case 5:var he=C.stateNode;C.flags&32&&(jS(he),C.flags&=-33);var Ce=Fu(m);kg(m,Ce,he);break;case 3:case 4:var rt=C.stateNode.containerInfo,Et=Fu(m);Nx(m,Et,rt);break;default:throw Error(i(161))}}}catch(It){xn(m,m.return,It)}m.flags&=-3}v&4096&&(m.flags&=-4097)}function Lx(m){if(m.subtreeFlags&1024)for(m=m.child;m!==null;){var v=m;Lx(v),v.tag===5&&v.flags&1024&&IS(v.stateNode),m=m.sibling}}function Pa(m,v){if(v.subtreeFlags&8772)for(v=v.child;v!==null;)PC(m,v.alternate,v),v=v.sibling}function Wf(m){for(m=m.child;m!==null;){var v=m;switch(v.tag){case 0:case 11:case 14:case 15:Dc(4,v,v.return),Wf(v);break;case 1:ua(v,v.return);var C=v.stateNode;typeof C.componentWillUnmount=="function"&&Ix(v,v.return,C),Wf(v);break;case 27:ys&&Ds(v.stateNode);case 26:case 5:ua(v,v.return),Wf(v);break;case 22:v.memoizedState===null&&Wf(v);break;case 30:Wf(v);break;default:Wf(v)}m=m.sibling}}function gl(m,v,C){for(C=C&&(v.subtreeFlags&8772)!==0,v=v.child;v!==null;){var P=v.alternate,H=m,G=v,he=G.flags;switch(G.tag){case 0:case 11:case 15:gl(H,G,C),Pc(4,G);break;case 1:if(gl(H,G,C),P=G,H=P.stateNode,typeof H.componentDidMount=="function")try{H.componentDidMount()}catch(Et){xn(P,P.return,Et)}if(P=G,H=P.updateQueue,H!==null){var Ce=P.stateNode;try{var rt=H.shared.hiddenCallbacks;if(rt!==null)for(H.shared.hiddenCallbacks=null,H=0;H<rt.length;H++)rs(rt[H],Ce)}catch(Et){xn(P,P.return,Et)}}C&&he&64&&gm(G),ym(G,G.return);break;case 27:ys&&OC(G);case 26:case 5:gl(H,G,C),C&&P===null&&he&4&&Eh(G),ym(G,G.return);break;case 12:gl(H,G,C);break;case 31:gl(H,G,C),C&&he&4&&pl(H,G);break;case 13:gl(H,G,C),C&&he&4&&Og(H,G);break;case 22:G.memoizedState===null&&gl(H,G,C),ym(G,G.return);break;case 30:break;default:gl(H,G,C)}v=v.sibling}}function $f(m,v){var C=null;m!==null&&m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(C=m.memoizedState.cachePool.pool),m=null,v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(m=v.memoizedState.cachePool.pool),m!==C&&(m!=null&&m.refCount++,C!=null&&K(C))}function wS(m,v){m=null,v.alternate!==null&&(m=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==m&&(v.refCount++,m!=null&&K(m))}function gi(m,v,C,P){if(v.subtreeFlags&10256)for(v=v.child;v!==null;)Bx(m,v,C,P),v=v.sibling}function Bx(m,v,C,P){var H=v.flags;switch(v.tag){case 0:case 11:case 15:gi(m,v,C,P),H&2048&&Pc(9,v);break;case 1:gi(m,v,C,P);break;case 3:gi(m,v,C,P),H&2048&&(m=null,v.alternate!==null&&(m=v.alternate.memoizedState.cache),v=v.memoizedState.cache,v!==m&&(v.refCount++,m!=null&&K(m)));break;case 12:if(H&2048){gi(m,v,C,P),m=v.stateNode;try{var G=v.memoizedProps,he=G.id,Ce=G.onPostCommit;typeof Ce=="function"&&Ce(he,v.alternate===null?"mount":"update",m.passiveEffectDuration,-0)}catch(rt){xn(v,v.return,rt)}}else gi(m,v,C,P);break;case 31:gi(m,v,C,P);break;case 13:gi(m,v,C,P);break;case 23:break;case 22:G=v.stateNode,he=v.alternate,v.memoizedState!==null?G._visibility&2?gi(m,v,C,P):vm(m,v):G._visibility&2?gi(m,v,C,P):(G._visibility|=2,no(m,v,C,P,(v.subtreeFlags&10256)!==0||!1)),H&2048&&$f(he,v);break;case 24:gi(m,v,C,P),H&2048&&wS(v.alternate,v);break;default:gi(m,v,C,P)}}function no(m,v,C,P,H){for(H=H&&((v.subtreeFlags&10256)!==0||!1),v=v.child;v!==null;){var G=m,he=v,Ce=C,rt=P,Et=he.flags;switch(he.tag){case 0:case 11:case 15:no(G,he,Ce,rt,H),Pc(8,he);break;case 23:break;case 22:var It=he.stateNode;he.memoizedState!==null?It._visibility&2?no(G,he,Ce,rt,H):vm(G,he):(It._visibility|=2,no(G,he,Ce,rt,H)),H&&Et&2048&&$f(he.alternate,he);break;case 24:no(G,he,Ce,rt,H),H&&Et&2048&&wS(he.alternate,he);break;default:no(G,he,Ce,rt,H)}v=v.sibling}}function vm(m,v){if(v.subtreeFlags&10256)for(v=v.child;v!==null;){var C=m,P=v,H=P.flags;switch(P.tag){case 22:vm(C,P),H&2048&&$f(P.alternate,P);break;case 24:vm(C,P),H&2048&&wS(P.alternate,P);break;default:vm(C,P)}v=v.sibling}}function Ic(m,v,C){if(m.subtreeFlags&Ho)for(m=m.child;m!==null;)Gf(m,v,C),m=m.sibling}function Gf(m,v,C){switch(m.tag){case 26:if(Ic(m,v,C),m.flags&Ho)if(m.memoizedState!==null)w3(C,Or,m.memoizedState,m.memoizedProps);else{var P=m.stateNode,H=m.type;m=m.memoizedProps,((v&335544128)===v||PS(H,m))&&Qx(C,P,H,m)}break;case 5:Ic(m,v,C),m.flags&Ho&&(P=m.stateNode,H=m.type,m=m.memoizedProps,((v&335544128)===v||PS(H,m))&&Qx(C,P,H,m));break;case 3:case 4:bl?(P=Or,Or=Wg(m.stateNode.containerInfo),Ic(m,v,C),Or=P):Ic(m,v,C);break;case 22:m.memoizedState===null&&(P=m.alternate,P!==null&&P.memoizedState!==null?(P=Ho,Ho=16777216,Ic(m,v,C),Ho=P):Ic(m,v,C));break;default:Ic(m,v,C)}}function Fx(m){var v=m.alternate;if(v!==null&&(m=v.child,m!==null)){v.child=null;do v=m.sibling,m.sibling=null,m=v;while(m!==null)}}function xm(m){var v=m.deletions;if((m.flags&16)!==0){if(v!==null)for(var C=0;C<v.length;C++){var P=v[C];qi=P,No(P,m)}Fx(m)}if(m.subtreeFlags&10256)for(m=m.child;m!==null;)zx(m),m=m.sibling}function zx(m){switch(m.tag){case 0:case 11:case 15:xm(m),m.flags&2048&&Dc(9,m,m.return);break;case 3:xm(m);break;case 12:xm(m);break;case 22:var v=m.stateNode;m.memoizedState!==null&&v._visibility&2&&(m.return===null||m.return.tag!==13)?(v._visibility&=-3,Dg(m)):xm(m);break;default:xm(m)}}function Dg(m){var v=m.deletions;if((m.flags&16)!==0){if(v!==null)for(var C=0;C<v.length;C++){var P=v[C];qi=P,No(P,m)}Fx(m)}for(m=m.child;m!==null;){switch(v=m,v.tag){case 0:case 11:case 15:Dc(8,v,v.return),Dg(v);break;case 22:C=v.stateNode,C._visibility&2&&(C._visibility&=-3,Dg(v));break;default:Dg(v)}m=m.sibling}}function No(m,v){for(;qi!==null;){var C=qi;switch(C.tag){case 0:case 11:case 15:Dc(8,C,v);break;case 23:case 22:if(C.memoizedState!==null&&C.memoizedState.cachePool!==null){var P=C.memoizedState.cachePool.pool;P!=null&&P.refCount++}break;case 24:K(C.memoizedState.cache)}if(P=C.child,P!==null)P.return=C,qi=P;else e:for(C=m;qi!==null;){P=qi;var H=P.sibling,G=P.return;if(_S(P),P===C){qi=null;break e}if(H!==null){H.return=G,qi=H;break e}qi=G}}}function qf(m){var v=On(m);if(v!=null){if(typeof v.memoizedProps["data-testname"]!="string")throw Error(i(364));return v}if(m=$i(m),m===null)throw Error(i(362));return m.stateNode.current}function Yf(m,v){var C=m.tag;switch(v.$$typeof){case Cl:if(m.type===v.value)return!0;break;case Bm:e:{for(v=v.value,m=[m,0],C=0;C<m.length;){var P=m[C++],H=P.tag,G=m[C++],he=v[G];if(H!==5&&H!==26&&H!==27||!td(P)){for(;he!=null&&Yf(P,he);)G++,he=v[G];if(G===v.length){v=!0;break e}else for(P=P.child;P!==null;)m.push(P,G),P=P.sibling}}v=!1}return v;case Fm:if((C===5||C===26||C===27)&&BS(m.stateNode,v.value))return!0;break;case cd:if((C===5||C===6||C===26||C===27)&&(m=Hg(m),m!==null&&0<=m.indexOf(v.value)))return!0;break;case Zg:if((C===5||C===26||C===27)&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===v.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function bm(m){switch(m.$$typeof){case Cl:return"<"+(d(m.value)||"Unknown")+">";case Bm:return":has("+(bm(m)||"")+")";case Fm:return'[role="'+m.value+'"]';case cd:return'"'+m.value+'"';case Zg:return'[data-testname="'+m.value+'"]';default:throw Error(i(365))}}function _m(m,v){var C=[];m=[m,0];for(var P=0;P<m.length;){var H=m[P++],G=H.tag,he=m[P++],Ce=v[he];if(G!==5&&G!==26&&G!==27||!td(H)){for(;Ce!=null&&Yf(H,Ce);)he++,Ce=v[he];if(he===v.length)C.push(H);else for(H=H.child;H!==null;)m.push(H,he),H=H.sibling}}return C}function ro(m,v){if(!gs)throw Error(i(363));m=qf(m),m=_m(m,v),v=[],m=Array.from(m);for(var C=0;C<m.length;){var P=m[C++],H=P.tag;if(H===5||H===26||H===27)td(P)||v.push(P.stateNode);else for(P=P.child;P!==null;)m.push(P),P=P.sibling}return v}function ii(){return(Gn&2)!==0&&Zn!==0?Zn&-Zn:un.T!==null?ct():Rm()}function Uu(){if(Fa===0)if((Zn&536870912)===0||Jn){var m=Bh;Bh<<=1,(Bh&3932160)===0&&(Bh=262144),Fa=m}else Fa=536870912;return m=co.current,m!==null&&(m.flags|=32),Fa}function yi(m,v,C){(m===Un&&(Pr===2||Pr===9)||m.cancelPendingCommit!==null)&&(Ri(m,0),Lc(m,Zn,Fa,!1)),I(m,C),((Gn&2)===0||m!==Un)&&(m===Un&&((Gn&2)===0&&(dd|=C),_i===4&&Lc(m,Zn,Fa,!1)),$(m))}function Ql(m,v,C){if((Gn&6)!==0)throw Error(i(327));var P=!C&&(v&127)===0&&(v&m.expiredLanes)===0||k(m,v),H=P?NC(m,v):Bc(m,v,!0),G=P;do{if(H===0){ud&&!P&&Lc(m,v,0,!1);break}else{if(C=m.current.alternate,G&&!DC(C)){H=Bc(m,v,!1),G=!1;continue}if(H===2){if(G=v,m.errorRecoveryDisabledLanes&G)var he=0;else he=m.pendingLanes&-536870913,he=he!==0?he:he&536870912?536870912:0;if(he!==0){v=he;e:{var Ce=m;H=Qg;var rt=si&&Ce.current.memoizedState.isDehydrated;if(rt&&(Ri(Ce,he).flags|=256),he=Bc(Ce,he,!1),he!==2){if(fd&&!rt){Ce.errorRecoveryDisabledLanes|=G,dd|=G,H=4;break e}G=fo,fo=H,G!==null&&(fo===null?fo=G:fo.push.apply(fo,G))}H=he}if(G=!1,H!==2)continue}}if(H===1){Ri(m,0),Lc(m,v,0,!0);break}e:{switch(P=m,G=H,G){case 0:case 1:throw Error(i(345));case 4:if((v&4194048)!==v)break;case 6:Lc(P,v,Fa,!rc);break e;case 2:fo=null;break;case 3:case 5:break;default:throw Error(i(329))}if((v&62914560)===v&&(H=ey+300-fa(),10<H)){if(Lc(P,v,Fa,!rc),E(P,0,!0)!==0)break e;Jc=v,P.timeoutHandle=OS(Nc.bind(null,P,C,fo,ty,_b,v,Fa,dd,Um,rc,G,"Throttled",-0,0),H);break e}Nc(P,C,fo,ty,_b,v,Fa,dd,Um,rc,G,null,-0,0)}}break}while(!0);$(m)}function Nc(m,v,C,P,H,G,he,Ce,rt,Et,It,Ct,Wt,Rn){if(m.timeoutHandle=ao,Ct=v.subtreeFlags,Ct&8192||(Ct&16785408)===16785408){Ct=DS(),Gf(v,G,Ct);var Xi=(G&62914560)===G?ey-fa():(G&4194048)===G?Wh-fa():0;if(Xi=HC(Ct,Xi),Xi!==null){Jc=G,m.cancelPendingCommit=Xi(zc.bind(null,m,v,G,C,P,H,he,Ce,rt,It,Ct,null,Wt,Rn)),Lc(m,G,he,!Et);return}}zc(m,v,G,C,P,H,he,Ce,rt)}function DC(m){for(var v=m;;){var C=v.tag;if((C===0||C===11||C===15)&&v.flags&16384&&(C=v.updateQueue,C!==null&&(C=C.stores,C!==null)))for(var P=0;P<C.length;P++){var H=C[P],G=H.getSnapshot;H=H.value;try{if(!Gi(G(),H))return!1}catch{return!1}}if(C=v.child,v.subtreeFlags&16384&&C!==null)C.return=v,v=C;else{if(v===m)break;for(;v.sibling===null;){if(v.return===null||v.return===m)return!0;v=v.return}v.sibling.return=v.return,v=v.sibling}}return!0}function Lc(m,v,C,P){v&=~zm,v&=~dd,m.suspendedLanes|=v,m.pingedLanes&=~v,P&&(m.warmLanes|=v),P=m.expirationTimes;for(var H=v;0<H;){var G=31-oo(H),he=1<<G;P[G]=-1,H&=~he}C!==0&&z(m,C,v)}function Ux(){return(Gn&6)===0?(ce(0),!1):!0}function jx(){if(qn!==null){if(Pr===0)var m=qn.return;else m=qn,tc=qr=null,lr(m),ad=null,zh=0,m=qn;for(;m!==null;)RC(m.alternate,m),m=m.return;qn=null}}function Ri(m,v){var C=m.timeoutHandle;C!==ao&&(m.timeoutHandle=ao,jC(C)),C=m.cancelPendingCommit,C!==null&&(m.cancelPendingCommit=null,C()),Jc=0,jx(),Un=m,qn=C=Bo(m.current,null),Zn=v,Pr=0,as=null,rc=!1,ud=k(m,v),fd=!1,Um=Fa=zm=dd=Zu=_i=0,fo=Qg=null,_b=!1,(v&8)!==0&&(v|=v&32);var P=m.entangledLanes;if(P!==0)for(m=m.entanglements,P&=v;0<P;){var H=31-oo(P),G=1<<H;v|=m[H],P&=~G}return Kc=v,Cs(),C}function Gr(m,v){Pn=null,un.H=jo,v===bs||v===Al?(v=kn(),Pr=3):v===xb?(v=kn(),Pr=4):Pr=v===Ba?8:v!==null&&typeof v=="object"&&typeof v.then=="function"?6:1,as=v,qn===null&&(_i=1,Rx(m,Ee(v,m.current)))}function er(){var m=co.current;return m===null?!0:(Zn&4194048)===Zn?uo===null:(Zn&62914560)===Zn||(Zn&536870912)!==0?m===uo:!1}function ju(){var m=un.H;return un.H=jo,m===null?jo:m}function Lo(){var m=un.A;return un.A=Lm,m}function wm(){_i=4,rc||(Zn&4194048)!==Zn&&co.current!==null||(ud=!0),(Zu&134217727)===0&&(dd&134217727)===0||Un===null||Lc(Un,Zn,Fa,!1)}function Bc(m,v,C){var P=Gn;Gn|=2;var H=ju(),G=Lo();(Un!==m||Zn!==v)&&(ty=null,Ri(m,v)),v=!1;var he=_i;e:do try{if(Pr!==0&&qn!==null){var Ce=qn,rt=as;switch(Pr){case 8:jx(),he=6;break e;case 3:case 2:case 9:case 6:co.current===null&&(v=!0);var Et=Pr;if(Pr=0,as=null,Fc(m,Ce,rt,Et),C&&ud){he=0;break e}break;default:Et=Pr,Pr=0,as=null,Fc(m,Ce,rt,Et)}}IC(),he=_i;break}catch(It){Gr(m,It)}while(!0);return v&&m.shellSuspendCounter++,tc=qr=null,Gn=P,un.H=H,un.A=G,qn===null&&(Un=null,Zn=0,Cs()),he}function IC(){for(;qn!==null;)Xf(qn)}function NC(m,v){var C=Gn;Gn|=2;var P=ju(),H=Lo();Un!==m||Zn!==v?(ty=null,hd=fa()+500,Ri(m,v)):ud=k(m,v);e:do try{if(Pr!==0&&qn!==null){v=qn;var G=as;t:switch(Pr){case 1:Pr=0,as=null,Fc(m,v,G,1);break;case 2:case 9:if(Dt(G)){Pr=0,as=null,Hx(v);break}v=function(){Pr!==2&&Pr!==9||Un!==m||(Pr=7),$(m)},G.then(v,v);break e;case 3:Pr=7;break e;case 4:Pr=5;break e;case 7:Dt(G)?(Pr=0,as=null,Hx(v)):(Pr=0,as=null,Fc(m,v,G,7));break;case 5:var he=null;switch(qn.tag){case 26:he=qn.memoizedState;case 5:case 27:var Ce=qn,rt=Ce.type,Et=Ce.pendingProps;if(he?sE(he):vi(Ce.stateNode,rt,Et)){Pr=0,as=null;var It=Ce.sibling;if(It!==null)qn=It;else{var Ct=Ce.return;Ct!==null?(qn=Ct,Em(Ct)):qn=null}break t}}Pr=0,as=null,Fc(m,v,G,5);break;case 6:Pr=0,as=null,Fc(m,v,G,6);break;case 8:jx(),_i=6;break e;default:throw Error(i(462))}}Sm();break}catch(Wt){Gr(m,Wt)}while(!0);return tc=qr=null,un.H=P,un.A=H,Gn=C,qn!==null?0:(Un=null,Zn=0,Cs(),_i)}function Sm(){for(;qn!==null&&!E3();)Xf(qn)}function Xf(m){var v=mS(m.alternate,m,Kc);m.memoizedProps=m.pendingProps,v===null?Em(m):qn=v}function Hx(m){var v=m,C=v.alternate;switch(v.tag){case 15:case 0:v=cS(C,v,v.pendingProps,v.type,void 0,Zn);break;case 11:v=cS(C,v,v.pendingProps,v.type.render,v.ref,Zn);break;case 5:lr(v);default:RC(C,v),v=qn=$x(v,Kc),v=mS(C,v,Kc)}m.memoizedProps=m.pendingProps,v===null?Em(m):qn=v}function Fc(m,v,C,P){tc=qr=null,lr(v),ad=null,zh=0;var H=v.return;try{if(p4(m,H,v,C,Zn)){_i=1,Rx(m,Ee(C,m.current)),qn=null;return}}catch(G){if(H!==null)throw qn=H,G;_i=1,Rx(m,Ee(C,m.current)),qn=null;return}v.flags&32768?(Jn||P===1?m=!0:ud||(Zn&536870912)!==0?m=!1:(rc=m=!0,(P===2||P===9||P===3||P===6)&&(P=co.current,P!==null&&P.tag===13&&(P.flags|=16384))),Kf(v,m)):Em(v)}function Em(m){var v=m;do{if((v.flags&32768)!==0){Kf(v,rc);return}m=v.return;var C=kC(v.alternate,v,Kc);if(C!==null){qn=C;return}if(v=v.sibling,v!==null){qn=v;return}qn=v=m}while(v!==null);_i===0&&(_i=5)}function Kf(m,v){do{var C=vS(m.alternate,m);if(C!==null){C.flags&=32767,qn=C;return}if(C=m.return,C!==null&&(C.flags|=32768,C.subtreeFlags=0,C.deletions=null),!v&&(m=m.sibling,m!==null)){qn=m;return}qn=m=C}while(m!==null);_i=6,qn=null}function zc(m,v,C,P,H,G,he,Ce,rt){m.cancelPendingCommit=null;do jc();while(os!==0);if((Gn&6)!==0)throw Error(i(327));if(v!==null){if(v===m.current)throw Error(i(177));if(G=v.lanes|v.childLanes,G|=Uh,B(m,C,G,he,Ce,rt),m===Un&&(qn=Un=null,Zn=0),$h=v,ef=m,Jc=C,jm=G,wb=H,pE=P,(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?(m.callbackNode=null,m.callbackPriority=0,is(Gg,function(){return Ig(),null})):(m.callbackNode=null,m.callbackPriority=0),P=(v.flags&13878)!==0,(v.subtreeFlags&13878)!==0||P){P=un.T,un.T=null,H=xl(),Kn(2),he=Gn,Gn|=4;try{m4(m,v,C)}finally{Gn=he,Kn(H),un.T=P}}os=1,Hu(),Uc(),Vx()}}function Hu(){if(os===1){os=0;var m=ef,v=$h,C=(v.flags&13878)!==0;if((v.subtreeFlags&13878)!==0||C){C=un.T,un.T=null;var P=xl();Kn(2);var H=Gn;Gn|=4;try{Pg(v,m),UC(m.containerInfo)}finally{Gn=H,Kn(P),un.T=C}}m.current=v,os=2}}function Uc(){if(os===2){os=0;var m=ef,v=$h,C=(v.flags&8772)!==0;if((v.subtreeFlags&8772)!==0||C){C=un.T,un.T=null;var P=xl();Kn(2);var H=Gn;Gn|=4;try{PC(m,v.alternate,v)}finally{Gn=H,Kn(P),un.T=C}}os=3}}function Vx(){if(os===4||os===3){os=0,oE();var m=ef,v=$h,C=Jc,P=pE;(v.subtreeFlags&10256)!==0||(v.flags&10256)!==0?os=5:(os=0,$h=ef=null,Wx(m,m.pendingLanes));var H=m.pendingLanes;if(H===0&&(Qu=null),J(C),v=v.stateNode,lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(Fh,v,void 0,(v.current.flags&128)===128)}catch{}if(P!==null){v=un.T,H=xl(),Kn(2),un.T=null;try{for(var G=m.onRecoverableError,he=0;he<P.length;he++){var Ce=P[he];G(Ce.value,{componentStack:Ce.stack})}}finally{un.T=v,Kn(H)}}(Jc&3)!==0&&jc(),$(m),H=m.pendingLanes,(C&261930)!==0&&(H&42)!==0?m===ny?gr++:(gr=0,ny=m):gr=0,si&&Vg(),ce(0)}}function Wx(m,v){(m.pooledCacheLanes&=v)===0&&(v=m.pooledCache,v!=null&&(m.pooledCache=null,K(v)))}function jc(){return Hu(),Uc(),Vx(),Ig()}function Ig(){if(os!==5)return!1;var m=ef,v=jm;jm=0;var C=J(Jc),P=32>C?32:C;C=un.T;var H=xl();try{Kn(P),un.T=null,P=wb,wb=null;var G=ef,he=Jc;if(os=0,$h=ef=null,Jc=0,(Gn&6)!==0)throw Error(i(331));var Ce=Gn;if(Gn|=4,zx(G.current),Bx(G,G.current,he,P),Gn=Ce,ce(0,!1),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(Fh,G)}catch{}return!0}finally{Kn(H),un.T=C,Wx(m,v)}}function Jf(m,v,C){v=Ee(C,v),v=oS(m.stateNode,v,2),m=wt(m,v,2),m!==null&&(I(m,2),$(m))}function xn(m,v,C){if(m.tag===3)Jf(m,m,C);else for(;v!==null;){if(v.tag===3){Jf(v,m,C);break}else if(v.tag===1){var P=v.stateNode;if(typeof v.type.getDerivedStateFromError=="function"||typeof P.componentDidCatch=="function"&&(Qu===null||!Qu.has(P))){m=Ee(C,m),C=yC(2),P=wt(v,C,2),P!==null&&(vC(C,P,v,m),I(P,2),$(P));break}}v=v.return}}function Mm(m,v,C){var P=m.pingCache;if(P===null){P=m.pingCache=new Vo;var H=new Set;P.set(v,H)}else H=P.get(v),H===void 0&&(H=new Set,P.set(v,H));H.has(C)||(fd=!0,H.add(C),m=LC.bind(null,m,v,C),v.then(m,m))}function LC(m,v,C){var P=m.pingCache;P!==null&&P.delete(v),m.pingedLanes|=m.suspendedLanes&C,m.warmLanes&=~C,Un===m&&(Zn&C)===C&&(_i===4||_i===3&&(Zn&62914560)===Zn&&300>fa()-ey?(Gn&2)===0&&Ri(m,0):zm|=C,Um===Zn&&(Um=0)),$(m)}function BC(m,v){v===0&&(v=O()),m=Ti(m,v),m!==null&&(I(m,v),$(m))}function g4(m){var v=m.memoizedState,C=0;v!==null&&(C=v.retryLane),BC(m,C)}function y4(m,v){var C=0;switch(m.tag){case 31:case 13:var P=m.stateNode,H=m.memoizedState;H!==null&&(C=H.retryLane);break;case 19:P=m.stateNode;break;case 22:P=m.stateNode._retryCache;break;default:throw Error(i(314))}P!==null&&P.delete(v),BC(m,C)}function is(m,v){return $g(m,v)}function SS(m,v,C,P){this.tag=m,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=v,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=P,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mh(m){return m=m.prototype,!(!m||!m.isReactComponent)}function Bo(m,v){var C=m.alternate;return C===null?(C=t(m.tag,v,m.key,m.mode),C.elementType=m.elementType,C.type=m.type,C.stateNode=m.stateNode,C.alternate=m,m.alternate=C):(C.pendingProps=v,C.type=m.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=m.flags&65011712,C.childLanes=m.childLanes,C.lanes=m.lanes,C.child=m.child,C.memoizedProps=m.memoizedProps,C.memoizedState=m.memoizedState,C.updateQueue=m.updateQueue,v=m.dependencies,C.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext},C.sibling=m.sibling,C.index=m.index,C.ref=m.ref,C.refCleanup=m.refCleanup,C}function $x(m,v){m.flags&=65011714;var C=m.alternate;return C===null?(m.childLanes=0,m.lanes=v,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=C.childLanes,m.lanes=C.lanes,m.child=C.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=C.memoizedProps,m.memoizedState=C.memoizedState,m.updateQueue=C.updateQueue,m.type=C.type,v=C.dependencies,m.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),m}function Vu(m,v,C,P,H,G){var he=0;if(P=m,typeof m=="function")Mh(m)&&(he=1);else if(typeof m=="string")he=bl&&ys?ab(m,C,Is.current)?26:aE(m)?27:5:bl?ab(m,C,Is.current)?26:5:ys&&aE(m)?27:5;else e:switch(m){case Fg:return m=t(31,C,v,H),m.elementType=Fg,m.lanes=G,m;case kh:return yl(C.children,H,G,v);case Rh:he=8,H|=24;break;case Oh:return m=t(12,C,v,H|2),m.elementType=Oh,m.lanes=G,m;case Xx:return m=t(13,C,v,H),m.elementType=Xx,m.lanes=G,m;case Wu:return m=t(19,C,v,H),m.elementType=Wu,m.lanes=G,m;default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case vl:he=10;break e;case Bg:he=9;break e;case Am:he=11;break e;case Kx:he=14;break e;case Da:he=16,P=null;break e}he=29,C=Error(i(130,m===null?"null":typeof m,"")),P=null}return v=t(he,C,v,H),v.elementType=m,v.type=P,v.lanes=G,v}function yl(m,v,C,P){return m=t(7,m,P,v),m.lanes=C,m}function ES(m,v,C){return m=t(6,m,null,v),m.lanes=C,m}function MS(m){var v=t(18,null,null,0);return v.stateNode=m,v}function AS(m,v,C){return v=t(4,m.children!==null?m.children:[],m.key,v),v.lanes=C,v.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},v}function FC(m,v,C,P,H,G,he,Ce,rt){this.tag=1,this.containerInfo=m,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ao,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=D(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D(0),this.hiddenUpdates=D(null),this.identifierPrefix=P,this.onUncaughtError=H,this.onCaughtError=G,this.onRecoverableError=he,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rt,this.incompleteTransitions=new Map}function Zf(m,v,C,P,H,G,he,Ce,rt,Et,It,Ct){return m=new FC(m,v,C,he,rt,Et,It,Ct,Ce),v=1,G===!0&&(v|=24),G=t(3,null,null,v),m.current=G,G.stateNode=m,v=we(),v.refCount++,m.pooledCache=v,v.refCount++,G.memoizedState={element:P,isDehydrated:C,cache:v},yr(G),m}function Gx(m){return m?(m=Vc,m):Vc}function Ng(m){var v=m._reactInternals;if(v===void 0)throw typeof m.render=="function"?Error(i(188)):(m=Object.keys(m).join(","),Error(i(268,m)));return m=o(v),m=m!==null?l(m):null,m===null?null:Cm(m.stateNode)}function TS(m,v,C,P,H,G){H=Gx(H),P.context===null?P.context=H:P.pendingContext=H,P=pr(v),P.payload={element:C},G=G===void 0?null:G,G!==null&&(P.callback=G),C=wt(m,P,v),C!==null&&(yi(C,m,v),Gt(C,m,v))}function Ah(m,v){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var C=m.retryLane;m.retryLane=C!==0&&C<v?C:v}}function Lg(m,v){Ah(m,v),(m=m.alternate)&&Ah(m,v)}var Fn={},qx=st,io=t3e,Yx=Object.assign,Th=Symbol.for("react.element"),Hc=Symbol.for("react.transitional.element"),Ch=Symbol.for("react.portal"),kh=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Bg=Symbol.for("react.consumer"),vl=Symbol.for("react.context"),Am=Symbol.for("react.forward_ref"),Xx=Symbol.for("react.suspense"),Wu=Symbol.for("react.suspense_list"),Kx=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),Fg=Symbol.for("react.activity"),CS=Symbol.for("react.memo_cache_sentinel"),$u=Symbol.iterator,Qf=Symbol.for("react.client.reference"),ed=Array.isArray,un=qx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,kS=e.rendererVersion,zg=e.rendererPackageName,Tm=e.extraDevToolsConfig,Cm=e.getPublicInstance,zC=e.getRootHostContext,km=e.getChildHostContext,Jx=e.prepareForCommit,UC=e.resetAfterCommit,RS=e.createInstance;e.cloneMutableInstance;var Ug=e.appendInitialChild,so=e.finalizeInitialChildren,Ia=e.shouldSetTextContent,Gu=e.createTextInstance;e.cloneMutableTextInstance;var OS=e.scheduleTimeout,jC=e.cancelTimeout,ao=e.noTimeout,Wi=e.isPrimaryRenderer;e.warnsIfNotActing;var tr=e.supportsMutation,Fo=e.supportsPersistence,si=e.supportsHydration,On=e.getInstanceFromNode;e.beforeActiveInstanceBlur;var Lr=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Kn=e.setCurrentUpdatePriority,xl=e.getCurrentUpdatePriority,Rm=e.resolveUpdatePriority;e.trackSchedulerEvent,e.resolveEventType,e.resolveEventTimeStamp;var Ph=e.shouldAttemptEagerTransition,Zx=e.detachDeletedInstance;e.requestPostPaintCallback;var jg=e.maySuspendCommit,Om=e.maySuspendCommitOnUpdate,PS=e.maySuspendCommitInSyncRender,vi=e.preloadInstance,DS=e.startSuspendingCommit,Qx=e.suspendInstance;e.suspendOnActiveViewTransition;var HC=e.waitForCommitToBeReady;e.getSuspendedCommitReason;var Dh=e.NotPendingTransition,Ih=e.HostTransitionContext,IS=e.resetFormInstance;e.bindToConsole;var NS=e.supportsMicrotasks,LS=e.scheduleMicrotask,gs=e.supportsTestSelectors,$i=e.findFiberRoot,eb=e.getBoundingRect,Hg=e.getTextContent,td=e.isHiddenSubtree,BS=e.matchAccessibilityRole,qu=e.setFocusIfFocusable,tb=e.setupIntersectionObserver,FS=e.appendChild,zS=e.appendChildToContainer,VC=e.commitTextUpdate,WC=e.commitMount,$C=e.commitUpdate,GC=e.insertBefore,qC=e.insertInContainerBefore,YC=e.removeChild,US=e.removeChildFromContainer,jS=e.resetTextContent,v4=e.hideInstance,XC=e.hideTextInstance,KC=e.unhideInstance,JC=e.unhideTextInstance;e.cancelViewTransitionName,e.cancelRootViewTransitionName,e.restoreRootViewTransitionName,e.cloneRootViewTransitionContainer,e.removeRootViewTransitionClone,e.measureClonedInstance,e.hasInstanceChanged,e.hasInstanceAffectedParent,e.startViewTransition,e.startGestureTransition,e.stopViewTransition,e.getCurrentGestureOffset,e.createViewTransitionInstance;var HS=e.clearContainer;e.createFragmentInstance,e.updateFragmentInstanceFiber,e.commitNewChildToFragmentInstance,e.deleteChildFromFragmentInstance;var ZC=e.cloneInstance,VS=e.createContainerChildSet,WS=e.appendChildToContainerChildSet,QC=e.finalizeContainerChildren,$S=e.replaceContainerChildren,e3=e.cloneHiddenInstance,GS=e.cloneHiddenTextInstance,nd=e.isSuspenseInstancePending,nb=e.isSuspenseInstanceFallback,rb=e.getSuspenseInstanceFallbackErrorDetails,ib=e.registerSuspenseInstanceRetry,t3=e.canHydrateFormStateMarker,qS=e.isFormStateMarkerMatching,n3=e.getNextHydratableSibling,r3=e.getNextHydratableSiblingAfterSingleton,i3=e.getFirstHydratableChild,s3=e.getFirstHydratableChildWithinContainer,a3=e.getFirstHydratableChildWithinActivityInstance,o3=e.getFirstHydratableChildWithinSuspenseInstance,YS=e.getFirstHydratableChildWithinSingleton,l3=e.canHydrateInstance,c3=e.canHydrateTextInstance,XS=e.canHydrateActivityInstance,u3=e.canHydrateSuspenseInstance,f3=e.hydrateInstance,x4=e.hydrateTextInstance,KS=e.hydrateActivityInstance,d3=e.hydrateSuspenseInstance,h3=e.getNextHydratableInstanceAfterActivityInstance,JS=e.getNextHydratableInstanceAfterSuspenseInstance,p3=e.commitHydratedInstance,m3=e.commitHydratedContainer,b4=e.commitHydratedActivityInstance,_4=e.commitHydratedSuspenseInstance,g3=e.finalizeHydratedChildren,Vg=e.flushHydrationEvents;e.clearActivityBoundary;var ZS=e.clearSuspenseBoundary;e.clearActivityBoundaryFromContainer;var sb=e.clearSuspenseBoundaryFromContainer,y3=e.hideDehydratedBoundary,v3=e.unhideDehydratedBoundary,Pm=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var x3=e.validateHydratableInstance,QS=e.validateHydratableTextInstance,bl=e.supportsResources,ab=e.isHostHoistableType,Wg=e.getHoistableRoot,eE=e.getResource,tE=e.acquireResource,rd=e.releaseResource,b3=e.hydrateHoistable,nE=e.mountHoistable,rE=e.unmountHoistable,ob=e.createHoistableInstance,_3=e.prepareToCommitHoistables,iE=e.mayResourceSuspendCommit,sE=e.preloadResource,w3=e.suspendResource,ys=e.supportsSingletons,lb=e.resolveSingletonInstance,ss=e.acquireSingletonInstance,Ds=e.releaseSingletonInstance,aE=e.isHostSingletonType,Nh=e.isSingletonScope,cb=[],Lh=-1,Vc={},oo=Math.clz32?Math.clz32:S,ub=Math.log,S3=Math.LN2,fb=256,Bh=262144,Dm=4194304,$g=io.unstable_scheduleCallback,db=io.unstable_cancelCallback,E3=io.unstable_shouldYield,oE=io.unstable_requestPaint,fa=io.unstable_now,hb=io.unstable_ImmediatePriority,M3=io.unstable_UserBlockingPriority,Gg=io.unstable_NormalPriority,pb=io.unstable_IdlePriority,lE=io.log,A3=io.unstable_setDisableYieldValue,Fh=null,lo=null,Gi=typeof Object.is=="function"?Object.is:fe,mb=typeof reportError=="function"?reportError:function(m){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var v=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof m=="object"&&m!==null&&typeof m.message=="string"?String(m.message):String(m),error:m});if(!window.dispatchEvent(v))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",m);return}console.error(m)},w4=Object.prototype.hasOwnProperty,gb,Wc,qg=!1,cE=new WeakMap,Yu=[],$c=0,Br=null,Yg=0,_l=[],zo=0,wl=null,qs=1,ec="",Is=p(null),Xu=p(null),Ys=p(null),Xg=p(null),vs=null,ai=null,Jn=!1,Gc=null,Na=!1,yb=Error(i(519)),Sl=p(null),qr=null,tc=null,T3=typeof AbortController<"u"?AbortController:function(){var m=[],v=this.signal={aborted:!1,addEventListener:function(C,P){m.push(P)}};this.abort=function(){v.aborted=!0,m.forEach(function(C){return C()})}},Ns=io.unstable_scheduleCallback,S4=io.unstable_NormalPriority,oi={$$typeof:vl,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},Kg=null,Rr=null,da=!1,El=!1,vb=!1,id=0,Im=null,uE=0,Ku=0,xs=null,Ml=un.S;un.S=function(m,v){Wh=fa(),typeof v=="object"&&v!==null&&typeof v.then=="function"&&Rt(m,v),Ml!==null&&Ml(m,v)};var sd=p(null),bs=Error(i(460)),xb=Error(i(474)),Al=Error(i(542)),qc={then:function(){}},La=null,ad=null,zh=0,Xs=Ts(!0),fE=Ts(!1),Ks=[],Yc=0,Uh=0,Uo=!1,bb=!1,jh=p(null),od=p(0),co=p(null),uo=null,Oi=p(0),Ju=0,Pn=null,tn=null,En=null,zn=!1,Ln=!1,ir=!1,ha=0,Tl=0,nc=null,dE=0,jo={readContext:ge,use:Rs,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useInsertionEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useSyncExternalStore:Q,useId:Q,useHostTransitionStatus:Q,useFormState:Q,useActionState:Q,useOptimistic:Q,useMemoCache:Q,useCacheRefresh:Q};jo.useEffectEvent=Q;var xi={readContext:ge,use:Rs,useCallback:function(m,v){return mr().memoizedState=[m,v===void 0?null:v],m},useContext:ge,useEffect:bg,useImperativeHandle:function(m,v,C){C=C!=null?C.concat([m]):null,xh(4194308,4,cm.bind(null,v,m),C)},useLayoutEffect:function(m,v){return xh(4194308,4,m,v)},useInsertionEffect:function(m,v){xh(4,2,m,v)},useMemo:function(m,v){var C=mr();v=v===void 0?null:v;var P=m();if(ir){re(!0);try{m()}finally{re(!1)}}return C.memoizedState=[P,v],P},useReducer:function(m,v,C){var P=mr();if(C!==void 0){var H=C(v);if(ir){re(!0);try{C(v)}finally{re(!1)}}}else H=v;return P.memoizedState=P.baseState=H,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:H},P.queue=m,m=m.dispatch=h4.bind(null,Pn,m),[P.memoizedState,m]},useRef:function(m){var v=mr();return m={current:m},v.memoizedState=m},useState:function(m){m=Qw(m);var v=m.queue,C=hC.bind(null,Pn,v);return v.dispatch=C,[m.memoizedState,C]},useDebugValue:wg,useDeferredValue:function(m,v){var C=mr();return fm(C,m,v)},useTransition:function(){var m=Qw(!1);return m=uC.bind(null,Pn,m.queue,!0,!1),mr().memoizedState=m,[!1,m]},useSyncExternalStore:function(m,v,C){var P=Pn,H=mr();if(Jn){if(C===void 0)throw Error(i(407));C=C()}else{if(C=v(),Un===null)throw Error(i(349));(Zn&127)!==0||Vi(P,v,C)}H.memoizedState=C;var G={value:C,getSnapshot:v};return H.queue=G,bg(kc.bind(null,P,G,m),[m]),P.flags|=2048,Io(9,{destroy:void 0},fl.bind(null,P,G,C,v),null),C},useId:function(){var m=mr(),v=Un.identifierPrefix;if(Jn){var C=ec,P=qs;C=(P&~(1<<32-oo(P)-1)).toString(32)+C,v="_"+v+"R_"+C,C=ha++,0<C&&(v+="H"+C.toString(32)),v+="_"}else C=dE++,v="_"+v+"r_"+C.toString(32)+"_";return m.memoizedState=v},useHostTransitionStatus:iS,useFormState:tS,useActionState:tS,useOptimistic:function(m){var v=mr();v.memoizedState=v.baseState=m;var C={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return v.queue=C,v=Tx.bind(null,Pn,!0,C),C.dispatch=v,[m,v]},useMemoCache:ka,useCacheRefresh:function(){return mr().memoizedState=d4.bind(null,Pn)},useEffectEvent:function(m){var v=mr(),C={impl:m};return v.memoizedState=C,function(){if((Gn&2)!==0)throw Error(i(440));return C.impl.apply(void 0,arguments)}}},Xc={readContext:ge,use:Rs,useCallback:Mx,useContext:ge,useEffect:lm,useImperativeHandle:cC,useInsertionEffect:Hf,useLayoutEffect:_g,useMemo:um,useReducer:la,useRef:Ex,useState:function(){return la(ms)},useDebugValue:wg,useDeferredValue:function(m,v){var C=Bt();return rS(C,tn.memoizedState,m,v)},useTransition:function(){var m=la(ms)[0],v=Bt().memoizedState;return[typeof m=="boolean"?m:gn(m),v]},useSyncExternalStore:ca,useId:Ax,useHostTransitionStatus:iS,useFormState:am,useActionState:am,useOptimistic:function(m,v){var C=Bt();return vg(C,tn,m,v)},useMemoCache:ka,useCacheRefresh:dC};Xc.useEffectEvent=Ra;var ld={readContext:ge,use:Rs,useCallback:Mx,useContext:ge,useEffect:lm,useImperativeHandle:cC,useInsertionEffect:Hf,useLayoutEffect:_g,useMemo:um,useReducer:ki,useRef:Ex,useState:function(){return ki(ms)},useDebugValue:wg,useDeferredValue:function(m,v){var C=Bt();return tn===null?fm(C,m,v):rS(C,tn.memoizedState,m,v)},useTransition:function(){var m=ki(ms)[0],v=Bt().memoizedState;return[typeof m=="boolean"?m:gn(m),v]},useSyncExternalStore:ca,useId:Ax,useHostTransitionStatus:iS,useFormState:om,useActionState:om,useOptimistic:function(m,v){var C=Bt();return tn!==null?vg(C,tn,m,v):(C.baseState=m,[m,C.queue.dispatch])},useMemoCache:ka,useCacheRefresh:dC};ld.useEffectEvent=Ra;var Jg={enqueueSetState:function(m,v,C){m=m._reactInternals;var P=ii(),H=pr(P);H.payload=v,C!=null&&(H.callback=C),v=wt(m,H,P),v!==null&&(yi(v,m,P),Gt(v,m,P))},enqueueReplaceState:function(m,v,C){m=m._reactInternals;var P=ii(),H=pr(P);H.tag=1,H.payload=v,C!=null&&(H.callback=C),v=wt(m,H,P),v!==null&&(yi(v,m,P),Gt(v,m,P))},enqueueForceUpdate:function(m,v){m=m._reactInternals;var C=ii(),P=pr(C);P.tag=2,v!=null&&(P.callback=v),v=wt(m,P,C),v!==null&&(yi(v,m,C),Gt(v,m,C))}},Ba=Error(i(461)),Qr=!1,Hh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null},Pi=!1,Di=!1,Nm=!1,hE=typeof WeakSet=="function"?WeakSet:Set,qi=null,bi=null,Yi=!1,Or=null,Ho=8192,Lm={getCacheForType:function(m){var v=ge(oi),C=v.data.get(m);return C===void 0&&(C=m(),v.data.set(m,C)),C},cacheSignal:function(){return ge(oi).controller.signal}},Cl=0,Bm=1,Fm=2,Zg=3,cd=4;if(typeof Symbol=="function"&&Symbol.for){var Vh=Symbol.for;Cl=Vh("selector.component"),Bm=Vh("selector.has_pseudo_class"),Fm=Vh("selector.role"),Zg=Vh("selector.test_id"),cd=Vh("selector.text")}var Vo=typeof WeakMap=="function"?WeakMap:Map,Gn=0,Un=null,qn=null,Zn=0,Pr=0,as=null,rc=!1,ud=!1,fd=!1,Kc=0,_i=0,Zu=0,dd=0,zm=0,Fa=0,Um=0,Qg=null,fo=null,_b=!1,ey=0,Wh=0,hd=1/0,ty=null,Qu=null,os=0,ef=null,$h=null,Jc=0,jm=0,wb=null,pE=null,gr=0,ny=null;return Fn.attemptContinuousHydration=function(m){if(m.tag===13||m.tag===31){var v=Ti(m,67108864);v!==null&&yi(v,m,67108864),Lg(m,67108864)}},Fn.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13||m.tag===31){var v=ii();v=q(v);var C=Ti(m,v);C!==null&&yi(C,m,v),Lg(m,v)}},Fn.attemptSynchronousHydration=function(m){switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=w(m.pendingLanes);if(v!==0){for(m.pendingLanes|=2,m.entangledLanes|=2;v;){var C=1<<31-oo(v);m.entanglements[1]|=C,v&=~C}$(m),(Gn&6)===0&&(hd=fa()+500,ce(0))}}break;case 31:case 13:v=Ti(m,2),v!==null&&yi(v,m,2),Ux(),Lg(m,2)}},Fn.batchedUpdates=function(m,v){return m(v)},Fn.createComponentSelector=function(m){return{$$typeof:Cl,value:m}},Fn.createContainer=function(m,v,C,P,H,G,he,Ce,rt,Et){return Zf(m,v,!1,null,C,P,G,null,he,Ce,rt,Et)},Fn.createHasPseudoClassSelector=function(m){return{$$typeof:Bm,value:m}},Fn.createHydrationContainer=function(m,v,C,P,H,G,he,Ce,rt,Et,It,Ct,Wt,Rn){var Xi;return m=Zf(C,P,!0,m,H,G,Ce,Rn,rt,Et,It,Ct),m.context=Gx(null),C=m.current,P=ii(),P=q(P),H=pr(P),H.callback=(Xi=v)!=null?Xi:null,wt(C,H,P),v=P,m.current.lanes=v,I(m,v),$(m),m},Fn.createPortal=function(m,v,C){var P=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ch,key:P==null?null:""+P,children:m,containerInfo:v,implementation:C}},Fn.createRoleSelector=function(m){return{$$typeof:Fm,value:m}},Fn.createTestNameSelector=function(m){return{$$typeof:Zg,value:m}},Fn.createTextSelector=function(m){return{$$typeof:cd,value:m}},Fn.defaultOnCaughtError=function(m){console.error(m)},Fn.defaultOnRecoverableError=function(m){mb(m)},Fn.defaultOnUncaughtError=function(m){mb(m)},Fn.deferredUpdates=function(m){var v=un.T,C=xl();try{return Kn(32),un.T=null,m()}finally{Kn(C),un.T=v}},Fn.discreteUpdates=function(m,v,C,P,H){var G=un.T,he=xl();try{return Kn(2),un.T=null,m(v,C,P,H)}finally{Kn(he),un.T=G,Gn===0&&(hd=fa()+500)}},Fn.findAllNodes=ro,Fn.findBoundingRects=function(m,v){if(!gs)throw Error(i(363));v=ro(m,v),m=[];for(var C=0;C<v.length;C++)m.push(eb(v[C]));for(v=m.length-1;0<v;v--){C=m[v];for(var P=C.x,H=P+C.width,G=C.y,he=G+C.height,Ce=v-1;0<=Ce;Ce--)if(v!==Ce){var rt=m[Ce],Et=rt.x,It=Et+rt.width,Ct=rt.y,Wt=Ct+rt.height;if(P>=Et&&G>=Ct&&H<=It&&he<=Wt){m.splice(v,1);break}else if(P!==Et||C.width!==rt.width||Wt<G||Ct>he){if(!(G!==Ct||C.height!==rt.height||It<P||Et>H)){Et>P&&(rt.width+=Et-P,rt.x=P),It<H&&(rt.width=H-Et),m.splice(v,1);break}}else{Ct>G&&(rt.height+=Ct-G,rt.y=G),Wt<he&&(rt.height=he-Ct),m.splice(v,1);break}}}return m},Fn.findHostInstance=Ng,Fn.findHostInstanceWithNoPortals=function(m){return m=o(m),m=m!==null?c(m):null,m===null?null:Cm(m.stateNode)},Fn.findHostInstanceWithWarning=function(m){return Ng(m)},Fn.flushPassiveEffects=jc,Fn.flushSyncFromReconciler=function(m){var v=Gn;Gn|=1;var C=un.T,P=xl();try{if(Kn(2),un.T=null,m)return m()}finally{Kn(P),un.T=C,Gn=v,(Gn&6)===0&&ce(0)}},Fn.flushSyncWork=Ux,Fn.focusWithin=function(m,v){if(!gs)throw Error(i(363));for(m=qf(m),v=_m(m,v),v=Array.from(v),m=0;m<v.length;){var C=v[m++],P=C.tag;if(!td(C)){if((P===5||P===26||P===27)&&qu(C.stateNode))return!0;for(C=C.child;C!==null;)v.push(C),C=C.sibling}}return!1},Fn.getFindAllNodesFailureDescription=function(m,v){if(!gs)throw Error(i(363));var C=0,P=[];m=[qf(m),0];for(var H=0;H<m.length;){var G=m[H++],he=G.tag,Ce=m[H++],rt=v[Ce];if((he!==5&&he!==26&&he!==27||!td(G))&&(Yf(G,rt)&&(P.push(bm(rt)),Ce++,Ce>C&&(C=Ce)),Ce<v.length))for(G=G.child;G!==null;)m.push(G,Ce),G=G.sibling}if(C<v.length){for(m=[];C<v.length;C++)m.push(bm(v[C]));return`findAllNodes was able to match part of the selector:
  `+(P.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},Fn.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 27:case 5:return Cm(m.child.stateNode);default:return m.child.stateNode}},Fn.injectIntoDevTools=function(){var m={bundleType:0,version:kS,rendererPackageName:zg,currentDispatcherRef:un,reconcilerVersion:"19.2.0"};if(Tm!==null&&(m.rendererConfig=Tm),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var v=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(v.isDisabled||!v.supportsFiber)m=!0;else{try{Fh=v.inject(m),lo=v}catch{}m=!!v.checkDCE}}return m},Fn.isAlreadyRendering=function(){return(Gn&6)!==0},Fn.observeVisibleRects=function(m,v,C,P){if(!gs)throw Error(i(363));m=ro(m,v);var H=tb(m,C,P).disconnect;return{disconnect:function(){H()}}},Fn.shouldError=function(){return null},Fn.shouldSuspend=function(){return!1},Fn.startHostTransition=function(m,v,C,P){if(m.tag!==5)throw Error(i(476));var H=fC(m).queue;uC(m,H,v,Dh,C===null?r:function(){var G=fC(m);return G.next===null&&(G=m.alternate.memoizedState),Sg(m,G.next.queue,{},ii()),C(P)})},Fn.updateContainer=function(m,v,C,P){var H=v.current,G=ii();return TS(H,G,m,v,C,P),G},Fn.updateContainerSync=function(m,v,C,P){return TS(v.current,2,m,v,C,P),2},Fn},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(E$)),E$.exports}var A$;function O3e(){return A$||(A$=1,S$.exports=R3e()),S$.exports}var P3e=O3e();const D3e=k3e(P3e);function I3e(n){const e=D3e(n);return e.injectIntoDevTools(),e}const Hre=0,K_={},N3e=/^three(?=[A-Z])/,rI=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let L3e=0;const B3e=n=>typeof n=="function";function F3e(n){if(B3e(n)){const e=`${L3e++}`;return K_[e]=n,e}else Object.assign(K_,n)}function Vre(n,e){const t=rI(n),r=K_[t];if(n!=="primitive"&&!r)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function z3e(n,e,t){var r;return n=rI(n)in K_?n:n.replace(N3e,""),Vre(n,e),n==="primitive"&&(r=e.object)!=null&&r.__r3f&&delete e.object.__r3f,EO(e.object,t,n,e)}function U3e(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?AO(n.parent,n):qo(n.object)&&(n.object.visible=!1),n.isHidden=!0,Dw(n)}}function Wre(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?MO(n.parent,n):qo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,Dw(n)}}function DU(n,e,t){const r=e.root.getState();if(!(!n.parent&&n.object!==r.scene)){if(!e.object){var i,s;const a=K_[rI(e.type)];e.object=(i=e.props.object)!=null?i:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(v0(e.object,e.props),e.props.attach)MO(n,e);else if(qo(e.object)&&qo(n.object)){const a=n.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)DU(e,a);Dw(e)}}function g6(n,e){e&&(e.parent=n,n.children.push(e),DU(n,e))}function T$(n,e,t){if(!e||!t)return;e.parent=n;const r=n.children.indexOf(t);r!==-1?n.children.splice(r,0,e):n.children.push(e),DU(n,e,t)}function $re(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():$8.unstable_scheduleCallback($8.unstable_IdlePriority,e)}}function q8(n,e,t){if(!e)return;e.parent=null;const r=n.children.indexOf(e);r!==-1&&n.children.splice(r,1),e.props.attach?AO(n,e):qo(e.object)&&qo(n.object)&&(n.object.remove(e.object),x3e(Pre(e),e.object));const i=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];q8(e,a,i)}e.children.length=0,delete e.object.__r3f,i&&e.type!=="primitive"&&e.object.type!=="Scene"&&$re(e.object),t===void 0&&Dw(e)}function j3e(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const r=t.ref(e);typeof r=="function"&&(t.refCleanup=r)}else t.ref&&(t.ref.current=e)}const XR=[];function H3e(){for(const[t]of XR){const r=t.parent;if(r){t.props.attach?AO(r,t):qo(t.object)&&qo(r.object)&&r.object.remove(t.object);for(const i of t.children)i.props.attach?AO(t,i):qo(i.object)&&qo(t.object)&&t.object.remove(i.object)}t.isHidden&&Wre(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&$re(t.object)}for(const[t,r,i]of XR){t.props=r;const s=t.parent;if(s){var n,e;const a=K_[rI(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,j3e(i,t.object),v0(t.object,t.props),t.props.attach?MO(s,t):qo(t.object)&&qo(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?MO(t,o):qo(o.object)&&qo(t.object)&&t.object.add(o.object);Dw(t)}}XR.length=0}const y6=()=>{},C$={};let Vk=Hre;const V3e=0,W3e=4,Y8=I3e({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:z3e,removeChild:q8,appendChild:g6,appendInitialChild:g6,insertBefore:T$,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||g6(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||q8(t,e)},insertInContainerBefore(n,e,t){const r=n.getState().scene.__r3f;!e||!t||!r||T$(r,e,t)},getRootHostContext:()=>C$,getChildHostContext:()=>C$,commitUpdate(n,e,t,r,i){var s,a,o;Vre(e,r);let l=!1;if((n.type==="primitive"&&t.object!==r.object||((s=r.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=r.args)!=null&&o.some((f,d)=>{var p;return f!==((p=t.args)==null?void 0:p[d])}))&&(l=!0),l)XR.push([n,{...r},i]);else{const f=m3e(n,r);Object.keys(f).length&&(Object.assign(n.props,f),v0(n.object,f))}(i.sibling===null||(i.flags&W3e)===V3e)&&H3e()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>EO(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:U3e,unhideInstance:Wre,createTextInstance:y6,hideTextInstance:y6,unhideTextInstance:y6,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:L.createContext(null),setCurrentUpdatePriority(n){Vk=n},getCurrentUpdatePriority(){return Vk},resolveUpdatePriority(){var n;if(Vk!==Hre)return Vk;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return T3e;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return M3e;default:return A3e}},resetFormInstance(){},rendererPackageName:"@react-three/fiber",rendererVersion:C3e.version,applyViewTransitionName(n,e,t){},restoreViewTransitionName(n,e){},cancelViewTransitionName(n,e,t){},cancelRootViewTransitionName(n){},restoreRootViewTransitionName(n){},InstanceMeasurement:null,measureInstance:n=>null,wasInstanceInViewport:n=>!0,hasInstanceChanged:(n,e)=>!1,hasInstanceAffectedParent:(n,e)=>!1,suspendOnActiveViewTransition(n,e){},startGestureTransition:()=>null,startViewTransition:()=>null,stopViewTransition(n){},createViewTransitionInstance:n=>null,getCurrentGestureOffset(n){throw new Error("startGestureTransition is not yet supported in react-three-fiber.")},cloneMutableInstance(n,e){return n},cloneMutableTextInstance(n){return n},cloneRootViewTransitionContainer(n){throw new Error("Not implemented.")},removeRootViewTransitionClone(n,e){throw new Error("Not implemented.")},createFragmentInstance:n=>null,updateFragmentInstanceFiber(n,e){},commitNewChildToFragmentInstance(n,e){},deleteChildFromFragmentInstance(n,e){},measureClonedInstance:n=>null,maySuspendCommitOnUpdate:(n,e,t)=>!1,maySuspendCommitInSyncRender:(n,e)=>!1,startSuspendingCommit:()=>null,getSuspendedCommitReason:(n,e)=>null}),Jv=new Map,Xb={objects:"shallow",strict:!1};function $3e(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:r,top:i,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:r,top:i,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function G3e(n){const e=Jv.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||_3e(J8,R$),a=t||Y8.createContainer(s,E3e,null,!1,null,"",i,i,i,null);e||Jv.set(n,{fiber:a,store:s});let o,l,c=!1,f=null;return{async configure(d={}){let p;f=new Promise(ee=>p=ee);let{gl:g,size:b,scene:S,events:w,onCreated:E,shadows:k=!1,linear:R=!1,flat:O=!1,legacy:D=!1,orthographic:I=!1,frameloop:B="always",dpr:z=[1,2],performance:V,raycaster:Y,camera:q,onPointerMissed:J}=d,re=s.getState(),fe=re.gl;if(!re.gl){const ee={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},xe=typeof g=="function"?await g(ee):g;_$(xe)?fe=xe:fe=new Mre({...ee,...g}),re.set({gl:fe})}let ne=re.raycaster;ne||re.set({raycaster:ne=new gre});const{params:te,...se}=Y||{};if(Ni.equ(se,ne,Xb)||v0(ne,{...se}),Ni.equ(te,ne.params,Xb)||v0(ne,{params:{...ne.params,...te}}),!re.camera||re.camera===l&&!Ni.equ(l,q,Xb)){l=q;const ee=q==null?void 0:q.isCamera,xe=ee?q:I?new Ow(0,0,0,0,.1,1e3):new _a(75,0,.1,1e3);ee||(xe.position.z=5,q&&(v0(xe,q),xe.manual||("aspect"in q||"left"in q||"right"in q||"bottom"in q||"top"in q)&&(xe.manual=!0,xe.updateProjectionMatrix())),!re.camera&&!(q!=null&&q.rotation)&&xe.lookAt(0,0,0)),re.set({camera:xe}),ne.camera=xe}if(!re.scene){let ee;S!=null&&S.isScene?(ee=S,EO(ee,s,"",{})):(ee=new nU,EO(ee,s,"",{}),S&&v0(ee,S)),re.set({scene:ee})}w&&!re.events.handlers&&re.set({events:w(s)});const be=$3e(n,b);if(Ni.equ(be,re.size,Xb)||re.setSize(be.width,be.height,be.top,be.left),z&&re.viewport.dpr!==Nre(z)&&re.setDpr(z),re.frameloop!==B&&re.setFrameloop(B),re.onPointerMissed||re.set({onPointerMissed:J}),V&&!Ni.equ(V,re.performance,Xb)&&re.set(ee=>({performance:{...ee.performance,...V}})),!re.xr){var Ee;const ee=(De,dt)=>{const Ne=s.getState();Ne.frameloop!=="never"&&R$(De,!0,Ne,dt)},xe=()=>{const De=s.getState();De.gl.xr.enabled=De.gl.xr.isPresenting,De.gl.xr.setAnimationLoop(De.gl.xr.isPresenting?ee:null),De.gl.xr.isPresenting||J8(De)},ae={connect(){const De=s.getState().gl;De.xr.addEventListener("sessionstart",xe),De.xr.addEventListener("sessionend",xe)},disconnect(){const De=s.getState().gl;De.xr.removeEventListener("sessionstart",xe),De.xr.removeEventListener("sessionend",xe)}};typeof((Ee=fe.xr)==null?void 0:Ee.addEventListener)=="function"&&ae.connect(),re.set({xr:ae})}if(fe.shadowMap){const ee=fe.shadowMap.enabled,xe=fe.shadowMap.type;if(fe.shadowMap.enabled=!!k,Ni.boo(k))fe.shadowMap.type=OM;else if(Ni.str(k)){var oe;const ae={basic:Ite,percentage:G1,soft:OM,variance:qy};fe.shadowMap.type=(oe=ae[k])!=null?oe:OM}else Ni.obj(k)&&Object.assign(fe.shadowMap,k);(ee!==fe.shadowMap.enabled||xe!==fe.shadowMap.type)&&(fe.shadowMap.needsUpdate=!0)}return dr.enabled=!D,c||(fe.outputColorSpace=R?K0:So,fe.toneMapping=O?Mu:bD),re.legacy!==D&&re.set(()=>({legacy:D})),re.linear!==R&&re.set(()=>({linear:R})),re.flat!==O&&re.set(()=>({flat:O})),g&&!Ni.fun(g)&&!_$(g)&&!Ni.equ(g,fe,Xb)&&v0(fe,g),o=E,c=!0,p(),this},render(d){return!c&&!f&&this.configure(),f.then(()=>{Y8.updateContainer(T.jsx(q3e,{store:s,children:d,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){Gre(n)}}}function q3e({store:n,children:e,onCreated:t,rootElement:r}){return PT(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),T.jsx(Fre.Provider,{value:n,children:e})}function Gre(n,e){const t=Jv.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),Y8.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),d3e(i.scene),Jv.delete(n)}catch{}},500)})}}const Y3e=new Set,X3e=new Set,K3e=new Set;function v6(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function HM(n,e){switch(n){case"before":return v6(Y3e,e);case"after":return v6(X3e,e);case"tail":return v6(K3e,e)}}let x6,b6;function X8(n,e,t){let r=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),x6=e.internal.subscribers;for(let i=0;i<x6.length;i++)b6=x6[i],b6.ref.current(b6.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let TO=!1,K8=!1,_6,k$,Kb;function qre(n){k$=requestAnimationFrame(qre),TO=!0,_6=0,HM("before",n),K8=!0;for(const t of Jv.values()){var e;Kb=t.store.getState(),Kb.internal.active&&(Kb.frameloop==="always"||Kb.internal.frames>0)&&!((e=Kb.gl.xr)!=null&&e.isPresenting)&&(_6+=X8(n,Kb))}if(K8=!1,HM("after",n),_6===0)return HM("tail",n),TO=!1,cancelAnimationFrame(k$)}function J8(n,e=1){var t;if(!n)return Jv.forEach(r=>J8(r.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):K8?n.internal.frames=2:n.internal.frames=1,TO||(TO=!0,requestAnimationFrame(qre)))}function R$(n,e=!0,t,r){if(e&&HM("before",n),t)X8(n,t,r);else for(const i of Jv.values())X8(n,i.store.getState());e&&HM("after",n)}const w6={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function J3e(n){const{handlePointer:e}=b3e(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(w6).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{const{set:r,events:i}=n.getState();if(i.disconnect==null||i.disconnect(),r(s=>({events:{...s.events,connected:t}})),i.handlers)for(const s in i.handlers){const a=i.handlers[s],[o,l]=w6[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){if(r.handlers)for(const i in r.handlers){const s=r.handlers[i],[a]=w6[i];r.connected.removeEventListener(a,s)}t(i=>({events:{...i.events,connected:void 0}}))}}}}function O$(n,e){let t;return(...r)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...r),e)}}function Z3e({debounce:n,scroll:e,polyfill:t,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=L.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=L.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,c=n?typeof n=="number"?n:n.resize:null,f=L.useRef(!1);L.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,p,g]=L.useMemo(()=>{const E=()=>{if(!o.current.element)return;const{left:k,top:R,width:O,height:D,bottom:I,right:B,x:z,y:V}=o.current.element.getBoundingClientRect(),Y={left:k,top:R,width:O,height:D,bottom:I,right:B,x:z,y:V};o.current.element instanceof HTMLElement&&r&&(Y.height=o.current.element.offsetHeight,Y.width=o.current.element.offsetWidth),Object.freeze(Y),f.current&&!nke(o.current.lastBounds,Y)&&a(o.current.lastBounds=Y)};return[E,c?O$(E,c):E,l?O$(E,l):E]},[a,r,l,c]);function b(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",g,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function S(){o.current.element&&(o.current.resizeObserver=new i(g),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(E=>E.addEventListener("scroll",g,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const w=E=>{!E||E===o.current.element||(b(),o.current.element=E,o.current.scrollContainers=Yre(E),S())};return eke(g,!!e),Q3e(p),L.useEffect(()=>{b(),S()},[e,g,p]),L.useEffect(()=>b,[]),[w,s,d]}function Q3e(n){L.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function eke(n,e){L.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Yre(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Yre(n.parentElement)]}const tke=["x","y","top","bottom","left","right","width","height"],nke=(n,e)=>tke.every(t=>n[t]===e[t]);function rke({ref:n,children:e,fallback:t,resize:r,style:i,gl:s,events:a=J3e,eventSource:o,eventPrefix:l,shadows:c,linear:f,flat:d,legacy:p,orthographic:g,frameloop:b,dpr:S,performance:w,raycaster:E,camera:k,scene:R,onPointerMissed:O,onCreated:D,...I}){L.useMemo(()=>F3e(UCe),[]);const B=l3e(),[z,V]=Z3e({scroll:!0,debounce:{scroll:50,resize:0},...r}),Y=L.useRef(null),q=L.useRef(null);L.useImperativeHandle(n,()=>Y.current);const J=Ire(O),[re,fe]=L.useState(!1),[ne,te]=L.useState(!1);if(re)throw re;if(ne)throw ne;const se=L.useRef(null);PT(()=>{const Ee=Y.current;if(V.width>0&&V.height>0&&Ee){se.current||(se.current=G3e(Ee));async function oe(){await se.current.configure({gl:s,scene:R,events:a,shadows:c,linear:f,flat:d,legacy:p,orthographic:g,frameloop:b,dpr:S,performance:w,raycaster:E,camera:k,size:V,onPointerMissed:(...ee)=>J.current==null?void 0:J.current(...ee),onCreated:ee=>{ee.events.connect==null||ee.events.connect(o?a3e(o)?o.current:o:q.current),l&&ee.setEvents({compute:(xe,ae)=>{const De=xe[l+"X"],dt=xe[l+"Y"];ae.pointer.set(De/ae.size.width*2-1,-(dt/ae.size.height)*2+1),ae.raycaster.setFromCamera(ae.pointer,ae.camera)}}),D==null||D(ee)}}),se.current.render(T.jsx(B,{children:T.jsx(u3e,{set:te,children:T.jsx(L.Suspense,{fallback:T.jsx(c3e,{set:fe}),children:e??null})})}))}oe()}}),L.useEffect(()=>{const Ee=Y.current;if(Ee)return()=>Gre(Ee)},[]);const be=o?"none":"auto";return T.jsx("div",{ref:q,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:be,...i},...I,children:T.jsx("div",{ref:z,style:{width:"100%",height:"100%"},children:T.jsx("canvas",{ref:Y,style:{display:"block"},children:t})})})}function ike(n){return T.jsx(Rre,{children:T.jsx(rke,{...n})})}const S6=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function IU(n,e){const t=Ure(s=>s.gl),r=DT(ZD,S6(n)?Object.values(n):n);return L.useLayoutEffect(()=>{e==null||e(r)},[e]),L.useEffect(()=>{if("initTexture"in t){let s=[];Array.isArray(r)?s=r:r instanceof Ui?s=[r]:S6(r)&&(s=Object.values(r)),s.forEach(a=>{a instanceof Ui&&t.initTexture(a)})}},[t,r]),L.useMemo(()=>{if(S6(n)){const s={};let a=0;for(const o in n)s[o]=r[a++];return s}else return r},[n,r])}IU.preload=n=>DT.preload(ZD,n);IU.clear=n=>DT.clear(ZD,n);const ske=`
  varying vec2 vUv;
  void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  }
`,ake=`
  precision highp float;
  uniform sampler2D uTexture;
  uniform float uTime;
  uniform vec2 uMouse;
  uniform float uRevealRadius;
  uniform float uRevealSoftness;
  uniform float uPixelSize;
  uniform float uMouseActive;
  uniform float uWaveSpeed;
  uniform float uWaveFrequency;
  uniform float uWaveAmplitude;
  uniform float uMouseRadius;
  varying vec2 vUv;

  float bayer4x4(vec2 pos) {
    int x = int(mod(pos.x, 4.0));
    int y = int(mod(pos.y, 4.0));
    int index = x + y * 4;
    float pattern[16];
    pattern[0] = 0.0;    pattern[1] = 8.0;    pattern[2] = 2.0;    pattern[3] = 10.0;
    pattern[4] = 12.0;   pattern[5] = 4.0;    pattern[6] = 14.0;   pattern[7] = 6.0;
    pattern[8] = 3.0;    pattern[9] = 11.0;   pattern[10] = 1.0;   pattern[11] = 9.0;
    pattern[12] = 15.0;  pattern[13] = 7.0;   pattern[14] = 13.0;  pattern[15] = 5.0;
    for (int i = 0; i < 16; i++) {
      if (i == index) return pattern[i] / 16.0;
    }
    return 0.0;
  }

  void main() {
    vec2 uv = vUv;
    float time = uTime;
    float waveStrength = uWaveAmplitude * 0.1;
    float wave1 = sin(uv.y * uWaveFrequency + time * uWaveSpeed) * waveStrength;
    float wave2 = sin(uv.x * uWaveFrequency * 0.7 + time * uWaveSpeed * 0.8) * waveStrength * 0.5;
    vec2 distortedUv = uv;
    distortedUv.x += wave1;
    distortedUv.y += wave2;

    if (uMouseActive > 0.01) {
      vec2 mousePos = uMouse;
      float dist = distance(uv, mousePos);
      float mouseInfluence = smoothstep(uMouseRadius, 0.0, dist);
      float rippleFreq = uWaveFrequency * 5.0;
      float rippleSpeed = uWaveSpeed * 1.0;
      float rippleStrength = uWaveAmplitude * 0.05;
      float ripple = sin(dist * rippleFreq - time * rippleSpeed) * rippleStrength * mouseInfluence * uMouseActive;
      distortedUv.x += ripple;
      distortedUv.y += ripple;
    }

    vec4 color = texture2D(uTexture, distortedUv);
    float gray = dot(color.rgb, vec3(0.299, 0.587, 0.114));
    vec2 pixelCoord = floor(gl_FragCoord.xy / uPixelSize);
    float dither = bayer4x4(pixelCoord);
    float adjusted = gray + (dither - 0.5) * 0.5;
    float quantized;
    if (adjusted < 0.33) quantized = 0.0;
    else if (adjusted < 0.66) quantized = 0.5;
    else quantized = 1.0;
    vec3 bwColor = vec3(quantized);

    float revealDist = distance(uv, uMouse);
    float innerRadius = uRevealRadius * (1.0 - uRevealSoftness);
    float outerRadius = uRevealRadius;
    float revealAmount = 1.0 - smoothstep(innerRadius, outerRadius, revealDist);
    revealAmount *= uMouseActive;

    vec3 finalColor = mix(bwColor, color.rgb, revealAmount);

    // Apply Quai green tint to revealed area
    vec3 greenTint = vec3(0.306, 1.0, 0.627); // #4EFFA0
    finalColor = mix(finalColor, finalColor * greenTint * 1.4, revealAmount * 0.6);

    gl_FragColor = vec4(finalColor, color.a);
  }
`;function oke({src:n,aspectRatio:e,revealRadius:t,revealSoftness:r,pixelSize:i,waveSpeed:s,waveFrequency:a,waveAmplitude:o,mouseRadius:l,isMouseInCanvas:c}){const f=IU(n),d=L.useRef(null),{pointer:p}=Ure(),g=L.useRef(0),b=L.useRef(!1),S=L.useMemo(()=>({uTexture:{value:f},uTime:{value:0},uMouse:{value:new St(-10,-10)},uRevealRadius:{value:t},uRevealSoftness:{value:r},uPixelSize:{value:i},uMouseActive:{value:0},uWaveSpeed:{value:s},uWaveFrequency:{value:a},uWaveAmplitude:{value:o},uMouseRadius:{value:l}}),[f,t,r,i,s,a,o,l]),w=L.useMemo(()=>e>1?[e,1,1]:[1,1/e,1],[e]);return w3e(E=>{if(d.current){const k=d.current.material;k.uniforms.uTime.value=E.clock.elapsedTime,c&&(b.current=!0);const R=c?1:0;g.current+=(R-g.current)*.08,k.uniforms.uMouseActive.value=g.current,b.current&&k.uniforms.uMouse.value.set((p.x+1)/2,(p.y+1)/2)}}),T.jsxs("mesh",{ref:d,scale:w,children:[T.jsx("planeGeometry",{args:[2,2]}),T.jsx("shaderMaterial",{vertexShader:ske,fragmentShader:ake,uniforms:S})]})}function lke({src:n,revealRadius:e=.5,revealSoftness:t=1,pixelSize:r=2,waveSpeed:i=.2,waveFrequency:s=.7,waveAmplitude:a=.5,mouseRadius:o=.4,style:l={}}){const[c,f]=L.useState(!1),[d,p]=L.useState(null);return L.useEffect(()=>{const g=new Image;g.crossOrigin="anonymous",g.src=n,g.onload=()=>p(g.naturalWidth/g.naturalHeight)},[n]),T.jsx("div",{onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),style:{position:"relative",overflow:"hidden",width:"100%",height:"100%",borderRadius:"var(--radius-lg)",...l},children:d!==null&&T.jsx(ike,{style:{width:"100%",height:"100%",display:"block"},gl:{antialias:!1},camera:{position:[0,0,1]},children:T.jsx(oke,{src:n,aspectRatio:d,revealRadius:e,revealSoftness:t,pixelSize:r,waveSpeed:i,waveFrequency:s,waveAmplitude:a,mouseRadius:o,isMouseInCanvas:c})})})}const cke={hidden:{opacity:0,y:20,filter:"blur(10px)"},show:n=>({opacity:1,y:0,filter:"blur(0px)",transition:{duration:.55,delay:.3+n*.1,ease:[.16,1,.3,1]}})};function uke({onClientClick:n}){const e=["Hire talent.","Pay instantly.","No middlemen."];return T.jsxs("section",{style:{position:"relative",minHeight:"100vh",display:"flex",alignItems:"center",overflow:"hidden",background:"var(--bg-base)"},children:[T.jsx("div",{style:{position:"absolute",inset:0,zIndex:0},children:T.jsx(lke,{src:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=1920&auto=format&fit=crop&q=80",waveSpeed:.12,waveFrequency:.5,waveAmplitude:.35,revealRadius:.5,revealSoftness:1,pixelSize:2,mouseRadius:.4})}),T.jsx("div",{style:{position:"absolute",inset:0,zIndex:1,pointerEvents:"none",background:"linear-gradient(120deg, rgba(3,3,3,0.8) 0%, rgba(3,3,3,0.5) 55%, rgba(3,3,3,0.2) 100%)"}}),T.jsx("div",{style:{position:"absolute",top:"-10%",left:"-5%",zIndex:1,pointerEvents:"none",width:600,height:600,background:"radial-gradient(circle, rgba(78,255,160,0.06) 0%, transparent 65%)"}}),T.jsx("div",{className:"worqu-hero-logo",children:"WorQu"}),T.jsx(O2,{starColor:"#4EFFA0",trailColor:"#2EE8FF",minSpeed:14,maxSpeed:30,minDelay:1200,maxDelay:3500,style:{zIndex:2}}),T.jsx(O2,{starColor:"#2dd87a",trailColor:"#1aff8e",minSpeed:10,maxSpeed:22,minDelay:2800,maxDelay:5500,style:{zIndex:2}}),T.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:220,zIndex:2,pointerEvents:"none",background:"linear-gradient(to top, var(--bg-base) 0%, transparent 100%)"}}),T.jsxs("div",{style:{position:"relative",zIndex:3,width:"100%",maxWidth:1400,margin:"0 auto",padding:"160px 40px 120px",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[T.jsx(nr.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},style:{marginBottom:28},children:T.jsxs("span",{className:"overline-chip",style:{pointerEvents:"auto"},children:[T.jsx(hD,{size:10})," Built on Quai Network"]})}),T.jsx("h1",{style:{fontSize:"var(--text-hero)",fontWeight:800,lineHeight:1.04,letterSpacing:"-0.04em",color:"var(--text-primary)",marginBottom:36,maxWidth:1e3},children:e.map((t,r)=>T.jsx("div",{style:{display:"block",overflow:"hidden"},children:t.split(" ").map((i,s)=>T.jsx(nr.span,{custom:r*3+s,initial:"hidden",animate:"show",variants:cke,style:{display:"inline-block",marginRight:"0.28em",color:r===2?"var(--text-secondary)":"var(--text-primary)"},children:i},s))},r))}),T.jsxs(nr.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.75},style:{fontSize:20,color:"var(--text-secondary)",lineHeight:1.7,maxWidth:720,marginBottom:52},children:["The first decentralized freelance marketplace on Quai. Escrow costs"," ",T.jsx("span",{style:{color:"var(--quai-green)",fontFamily:"var(--font-mono)",fontSize:18},children:"$0.001"}),". Payment is instant. Every contract is an NFT."]}),T.jsxs(nr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.95},style:{display:"flex",gap:16,flexWrap:"wrap",justifyContent:"center",marginBottom:56},children:[T.jsxs("button",{onClick:n,className:"btn-primary",style:{border:"none"},children:["Start as Client ",T.jsx(fD,{size:14})]}),T.jsx("a",{href:"#features",className:"btn-secondary",children:T.jsx("span",{children:"Explore Features"})})]}),T.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1.15},style:{display:"flex",gap:14,flexWrap:"wrap",justifyContent:"center"},children:[{icon:T.jsx(sz,{size:11}),label:"$0.001 escrow"},{icon:T.jsx(iz,{size:11}),label:"Instant settlement"},{icon:T.jsx(HQ,{size:11}),label:"NFT contracts"}].map(({icon:t,label:r})=>T.jsxs("div",{className:"glass-card",style:{display:"inline-flex",alignItems:"center",gap:7,padding:"7px 16px",fontSize:11,fontFamily:"var(--font-mono)",color:"#ffffff",background:"rgba(255, 255, 255, 0.08)"},children:[T.jsx("span",{style:{color:"#a4ffcf"},children:t}),T.jsx("span",{children:r})]},r))})]}),T.jsxs(nr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6,duration:1},style:{position:"absolute",bottom:36,left:"50%",zIndex:3,animation:"float 2.8s ease-in-out infinite",display:"flex",flexDirection:"column",alignItems:"center",gap:8,pointerEvents:"none"},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:8,color:"var(--text-muted)",letterSpacing:"0.2em",textTransform:"uppercase"},children:"scroll"}),T.jsx("div",{style:{width:1,height:40,background:"linear-gradient(to bottom, var(--quai-green-dim), transparent)"}})]})]})}const P$=[{value:"$0.001",label:"Escrow Fee",sub:"vs $25+ on Upwork"},{value:"<3s",label:"Settlement",sub:"instant on-chain"},{value:"100%",label:"Non-custodial",sub:"your keys, your funds"},{value:"NFT",label:"Every Contract",sub:"verifiable on-chain"}];function fke(){return T.jsx("section",{style:{padding:"0 24px",position:"relative",zIndex:1},children:T.jsx("div",{style:{maxWidth:1200,margin:"0 auto"},children:T.jsxs(nr.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},className:"glass-card",style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",borderRadius:"var(--radius-xl)",overflow:"hidden",position:"relative"},children:[T.jsx("div",{style:{position:"absolute",top:0,left:"10%",right:"10%",height:1,background:"linear-gradient(to right, transparent, var(--quai-green-dim), transparent)"}}),P$.map((n,e)=>T.jsx("div",{style:{padding:"36px 24px",textAlign:"center",borderRight:e<P$.length-1?"1px solid var(--glass-border)":"none",position:"relative"},children:T.jsxs(nr.div,{initial:{opacity:0,y:12},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.08},children:[T.jsx("div",{style:{fontSize:30,fontWeight:800,letterSpacing:"-0.04em",color:"var(--quai-green)",fontFamily:"var(--font-mono)",marginBottom:4,lineHeight:1},children:n.value}),T.jsx("div",{style:{fontSize:13,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:n.label}),T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",fontFamily:"var(--font-mono)"},children:n.sub})]})},n.label))]})})})}function Xre({children:n,spotlightColor:e="rgba(78, 255, 160, 0.25)",spotlightSize:t=400,style:r={},className:i=""}){const s=L.useRef(null),[a,o]=L.useState({x:0,y:0}),[l,c]=L.useState(!1),f=d=>{if(!s.current)return;const p=s.current.getBoundingClientRect();o({x:d.clientX-p.left,y:d.clientY-p.top})};return T.jsxs("div",{ref:s,className:i,onMouseMove:f,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{position:"relative",overflow:"hidden",boxShadow:l?"0 0 30px rgba(78, 255, 160, 0.08), inset 0 0 30px rgba(78, 255, 160, 0.03)":void 0,transition:"box-shadow 0.3s ease",...r},children:[T.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",opacity:l?1:0,transition:"opacity 0.4s ease",background:`radial-gradient(${t}px circle at ${a.x}px ${a.y}px, ${e}, transparent 70%)`,zIndex:1}}),T.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",opacity:l?1:0,transition:"opacity 0.4s ease",background:`radial-gradient(${t*.5}px circle at ${a.x}px ${a.y}px, rgba(78, 255, 160, 0.10), transparent 60%)`,zIndex:1}}),T.jsx("div",{style:{position:"relative",zIndex:2},children:n})]})}function dke({width:n=40,height:e=40,x:t=-1,y:r=-1,numSquares:i=50,maxOpacity:s=.5,duration:a=4,repeatDelay:o=.5,fillColor:l="rgba(78, 255, 160, 0.3)",strokeColor:c="rgba(78, 255, 160, 0.08)",style:f={},maskStyle:d="radial-gradient(500px circle at center, black, transparent)"}){const p=L.useId(),g=L.useRef(null),[b,S]=L.useState({width:0,height:0});function w(){return[Math.floor(Math.random()*b.width/n),Math.floor(Math.random()*b.height/e)]}const[E,k]=L.useState(()=>Array.from({length:i},(O,D)=>({id:D,pos:[0,0]}))),R=O=>{k(D=>D.map(I=>I.id===O?{...I,pos:w()}:I))};return L.useEffect(()=>{b.width&&b.height&&k(Array.from({length:i},(O,D)=>({id:D,pos:[Math.floor(Math.random()*b.width/n),Math.floor(Math.random()*b.height/e)]})))},[b,i,n,e]),L.useEffect(()=>{const O=new ResizeObserver(D=>{for(const I of D)S({width:I.contentRect.width,height:I.contentRect.height})});return g.current&&O.observe(g.current),()=>O.disconnect()},[]),T.jsxs("svg",{ref:g,"aria-hidden":"true",style:{position:"absolute",inset:0,width:"100%",height:"100%",pointerEvents:"none",fill:l,stroke:c,WebkitMaskImage:d,maskImage:d,...f},children:[T.jsx("defs",{children:T.jsx("pattern",{id:p,width:n,height:e,patternUnits:"userSpaceOnUse",x:t,y:r,children:T.jsx("path",{d:`M.5 ${e}V.5H${n}`,fill:"none"})})}),T.jsx("rect",{width:"100%",height:"100%",fill:`url(#${p})`}),T.jsx("svg",{x:t,y:r,style:{overflow:"visible"},children:E.map(({pos:[O,D],id:I},B)=>T.jsx(nr.rect,{initial:{opacity:0},animate:{opacity:s},transition:{duration:a,repeat:1,delay:B*.1,repeatType:"reverse"},onAnimationComplete:()=>R(I),width:n-1,height:e-1,x:O*n+1,y:D*e+1,fill:"currentColor",strokeWidth:"0"},`${O}-${D}-${B}`))})]})}const hke=[{icon:T.jsx(hD,{size:20}),title:"Instant Payments",desc:"Smart contracts release funds the moment work is approved. Zero delays, zero chargebacks, zero banks.",tag:"< 3s settlement",size:"large"},{icon:T.jsx(zR,{size:20}),title:"On-chain Escrow",desc:"Funds are locked in a contract  visible to both parties, released only on approval.",tag:"$0.001 fee",size:"small"},{icon:T.jsx(zQ,{size:20}),title:"NFT Contracts",desc:"Every agreement is minted as an NFT. Build a verifiable on-chain reputation automatically.",tag:"EIP-721",size:"small"},{icon:T.jsx(z_,{size:20}),title:"Global & Permissionless",desc:"Hire or work from anywhere. No KYC, no restrictions, no platform approval required.",tag:"190+ countries",size:"small"},{icon:T.jsx(d0e,{size:20}),title:"Multi-chain Ready",desc:"Built on Quai Network's sharded architecture  scales to millions of transactions without congestion.",tag:"Quai Sharding",size:"large"}],pke={hidden:{opacity:0,y:24},show:n=>({opacity:1,y:0,transition:{duration:.55,delay:n*.07,ease:[.16,1,.3,1]}})};function mke(){return T.jsxs("section",{id:"features",style:{padding:"120px 24px",position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",inset:0,opacity:.4,pointerEvents:"none"},children:T.jsx(dke,{cellSize:48,numSquares:18})}),T.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",background:"radial-gradient(ellipse 70% 60% at 50% 50%, transparent 30%, var(--bg-base) 100%)"}}),T.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",position:"relative"},children:[T.jsxs(nr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},style:{marginBottom:64,maxWidth:540},children:[T.jsx("span",{className:"section-label",children:"Features"}),T.jsxs("h2",{style:{fontSize:"clamp(32px, 4vw, 48px)",fontWeight:800,letterSpacing:"-0.03em",marginBottom:16},children:["Built different.",T.jsx("br",{}),T.jsx("span",{className:"gradient-text",children:"Designed for work."})]}),T.jsx("p",{style:{fontSize:15,color:"var(--text-secondary)",lineHeight:1.75},children:"Everything you need to hire globally and get paid instantly  without middlemen or broken promises."})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"auto auto",gap:16},children:hke.map((n,e)=>{const t=n.size==="large";return T.jsx(nr.div,{custom:e,initial:"hidden",whileInView:"show",viewport:{once:!0,margin:"-40px"},variants:pke,style:{gridColumn:t?"span 2":"span 1"},children:T.jsxs(Xre,{style:{height:"100%",borderRadius:"var(--radius-xl)",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",backdropFilter:"blur(20px)",display:"flex",flexDirection:"column",padding:t?"40px":"32px",transition:"border-color 0.3s, box-shadow 0.3s",position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",top:-30,right:-30,width:120,height:120,background:"radial-gradient(circle, rgba(78,255,160,0.04), transparent 70%)",pointerEvents:"none"}}),T.jsx("div",{style:{width:44,height:44,background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--quai-green)",marginBottom:24,flexShrink:0},children:n.icon}),T.jsx("h3",{style:{fontSize:t?20:16,fontWeight:700,marginBottom:10,letterSpacing:"-0.02em"},children:n.title}),T.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.75,flex:1,marginBottom:20},children:n.desc}),T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:10,color:"var(--quai-green)",background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"3px 10px"},children:n.tag}),T.jsx(Z5,{size:14,style:{color:"var(--text-muted)"}})]})]})},n.title)})})]})]})}const gke=[{num:"01",title:"Post a Job",desc:"Describe your project, set your budget, and publish  instantly visible to talent worldwide."},{num:"02",title:"Fund Escrow",desc:"Lock payment in a smart contract. Freelancers see it's real. You know it's safe."},{num:"03",title:"Work Done",desc:"Freelancer delivers. You review. One click releases funds directly to their wallet."},{num:"04",title:"NFT Receipt",desc:"A verified NFT is minted for both parties  immutable proof of a completed contract."}];function yke(){return T.jsxs("section",{style:{padding:"120px 24px",position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,height:600,pointerEvents:"none",background:"radial-gradient(ellipse, rgba(78,255,160,0.04) 0%, transparent 65%)"}}),T.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",position:"relative"},children:[T.jsxs(nr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},style:{marginBottom:72,maxWidth:480},children:[T.jsx("span",{className:"section-label",children:"How it works"}),T.jsxs("h2",{style:{fontSize:"clamp(30px, 4vw, 46px)",fontWeight:800,letterSpacing:"-0.03em",marginBottom:14},children:["Four steps.",T.jsx("br",{}),T.jsx("span",{className:"gradient-text",children:"Zero friction."})]}),T.jsx("p",{style:{fontSize:15,color:"var(--text-secondary)",lineHeight:1.75},children:"No lengthy onboarding. No middlemen. Just work and payment  on-chain."})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:16,position:"relative"},children:[T.jsx("div",{style:{position:"absolute",top:36,left:"12.5%",right:"12.5%",height:1,background:"linear-gradient(to right, transparent, var(--glass-border) 20%, var(--glass-border) 80%, transparent)",zIndex:0}}),gke.map((n,e)=>T.jsx(nr.div,{initial:{opacity:0,y:28},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-30px"},transition:{duration:.55,delay:e*.1,ease:[.16,1,.3,1]},children:T.jsxs(Xre,{style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-xl)",backdropFilter:"blur(20px)",padding:"28px 24px 28px",display:"flex",flexDirection:"column",height:"100%",position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{width:44,height:44,background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-mono)",fontSize:12,fontWeight:700,color:"var(--quai-green)",marginBottom:24,flexShrink:0,position:"relative",zIndex:1},children:n.num}),T.jsx("h3",{style:{fontSize:15,fontWeight:700,marginBottom:10,letterSpacing:"-0.01em"},children:n.title}),T.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.7,margin:0},children:n.desc})]})},n.num))]})]})]})}const vke=[{icon:T.jsx(zQ,{size:18}),name:"Development",count:"2.4k freelancers",hot:!0},{icon:T.jsx(A0e,{size:18}),name:"Design & Creative",count:"1.8k freelancers"},{icon:T.jsx(qme,{size:18}),name:"Marketing & Growth",count:"940 freelancers"},{icon:T.jsx(ege,{size:18}),name:"Engineering & Tech",count:"1.1k freelancers"},{icon:T.jsx(J0e,{size:18}),name:"Video & Animation",count:"670 freelancers"},{icon:T.jsx(Ume,{size:18}),name:"Writing & Content",count:"820 freelancers"}];function xke(){return T.jsx("section",{style:{padding:"100px 24px",position:"relative"},children:T.jsxs("div",{style:{maxWidth:1200,margin:"0 auto"},children:[T.jsxs(nr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},style:{marginBottom:56,display:"flex",justifyContent:"space-between",alignItems:"flex-end",flexWrap:"wrap",gap:20},children:[T.jsxs("div",{children:[T.jsx("span",{className:"section-label",children:"Categories"}),T.jsxs("h2",{style:{fontSize:"clamp(28px, 3.5vw, 42px)",fontWeight:800,letterSpacing:"-0.03em"},children:["Every skill.",T.jsx("br",{}),T.jsx("span",{className:"gradient-text",children:"On-chain."})]})]}),T.jsxs("a",{href:"#cta",className:"btn-secondary",style:{alignSelf:"flex-end"},children:["Browse all ",T.jsx(Z5,{size:14})]})]}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:12},children:vke.map((n,e)=>T.jsx(nr.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-20px"},transition:{duration:.45,delay:e*.06},children:T.jsxs("div",{className:"glass-card",style:{padding:"22px 24px",display:"flex",alignItems:"center",gap:16,cursor:"pointer",position:"relative"},children:[T.jsx("div",{style:{width:40,height:40,flexShrink:0,background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--quai-green)"},children:n.icon}),T.jsxs("div",{style:{flex:1,minWidth:0},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:3},children:[T.jsx("span",{style:{fontSize:14,fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:n.name}),n.hot&&T.jsx("span",{style:{fontSize:9,fontFamily:"var(--font-mono)",fontWeight:600,color:"var(--quai-green)",background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"1px 7px",letterSpacing:"0.08em",textTransform:"uppercase"},children:"HOT"})]}),T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",fontFamily:"var(--font-mono)"},children:n.count})]}),T.jsx(Z5,{size:14,style:{color:"var(--text-muted)",flexShrink:0}})]})},n.name))})]})})}function bke({onClientClick:n,onFreelancerClick:e}){return T.jsxs("section",{id:"cta",style:{padding:"120px 24px",position:"relative",overflow:"hidden"},children:[T.jsx(O2,{starColor:"#4EFFA0",trailColor:"#2EE8FF",minSpeed:14,maxSpeed:30,minDelay:1500,maxDelay:4e3}),T.jsx(O2,{starColor:"#2dd87a",trailColor:"#4EFFA0",minSpeed:10,maxSpeed:22,minDelay:3e3,maxDelay:6e3}),T.jsx("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:700,height:500,pointerEvents:"none",background:"radial-gradient(ellipse, rgba(78,255,160,0.07) 0%, transparent 65%)"}}),T.jsx("div",{style:{maxWidth:1200,margin:"0 auto",position:"relative",zIndex:1},children:T.jsx(nr.div,{initial:{opacity:0,y:32},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.7},children:T.jsxs("div",{style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-2xl)",backdropFilter:"blur(24px)",padding:"clamp(48px, 6vw, 80px)",textAlign:"center",position:"relative",overflow:"hidden",boxShadow:"0 0 80px rgba(78,255,160,0.04), var(--shadow-glass)"},children:[T.jsx("div",{style:{position:"absolute",top:0,left:"20%",right:"20%",height:1,background:"linear-gradient(to right, transparent, var(--quai-green-dim), transparent)"}}),T.jsx("div",{style:{position:"absolute",top:-60,left:-60,width:200,height:200,borderRadius:"50%",background:"radial-gradient(circle, rgba(78,255,160,0.06), transparent 70%)",pointerEvents:"none"}}),T.jsx("div",{style:{position:"absolute",bottom:-60,right:-60,width:200,height:200,borderRadius:"50%",background:"radial-gradient(circle, rgba(78,255,160,0.04), transparent 70%)",pointerEvents:"none"}}),T.jsx("div",{style:{marginBottom:28},children:T.jsxs("span",{className:"overline-chip",children:[T.jsx(hD,{size:10})," Beta Launch  Free to Join"]})}),T.jsxs("h2",{style:{fontSize:"clamp(34px, 5vw, 60px)",fontWeight:800,letterSpacing:"-0.04em",lineHeight:1.05,marginBottom:20},children:["Ready to work without",T.jsx("br",{}),T.jsx("span",{className:"gradient-text",children:"middlemen?"})]}),T.jsx("p",{style:{fontSize:16,color:"var(--text-secondary)",lineHeight:1.75,maxWidth:480,margin:"0 auto 44px"},children:"Join QuaiWork and start hiring or freelancing on the only platform where payments are trustless, instant, and costs fractions of a cent."}),T.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"center",flexWrap:"wrap",marginBottom:40},children:[T.jsxs("button",{onClick:n,className:"btn-primary",style:{fontSize:14,padding:"14px 36px",border:"none"},children:["Join as Client ",T.jsx(fD,{size:15})]}),T.jsx("button",{onClick:e,className:"btn-secondary",style:{fontSize:14,padding:"14px 36px",border:"none"},children:"Join as Freelancer"})]}),T.jsx("p",{style:{fontSize:11,color:"var(--text-muted)",fontFamily:"var(--font-mono)",letterSpacing:"0.05em"},children:"No credit card  Non-custodial  Open source"})]})})})]})}const _ke={Product:["Features","How it Works","Categories","Roadmap"],Developers:["Smart Contracts","API Docs","GitHub","Audit Report"],Company:["About","Blog","Careers","Contact"]};function wke(){return T.jsxs("footer",{style:{position:"relative",overflow:"hidden"},children:[T.jsx("div",{className:"section-line"}),T.jsxs("div",{style:{maxWidth:1200,margin:"0 auto",padding:"64px 24px 40px"},children:[T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.4fr repeat(3, 1fr)",gap:48,marginBottom:64},children:[T.jsxs("div",{children:[T.jsx("div",{style:{marginBottom:20},children:T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:16,fontWeight:700,color:"var(--quai-green)",letterSpacing:"0.04em"},children:"QuaiWork"})}),T.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.75,maxWidth:220,marginBottom:24},children:"Decentralized freelance marketplace on Quai Network. Trustless. Instant. Permissionless."}),T.jsx("div",{style:{display:"flex",gap:10},children:[dD,q0e].map((n,e)=>T.jsx("a",{href:"#",style:{width:36,height:36,background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-secondary)",textDecoration:"none",transition:"border-color 0.25s, color 0.25s"},onMouseEnter:t=>{t.currentTarget.style.borderColor="var(--quai-green-dim)",t.currentTarget.style.color="var(--quai-green)"},onMouseLeave:t=>{t.currentTarget.style.borderColor="var(--glass-border)",t.currentTarget.style.color="var(--text-secondary)"},children:T.jsx(n,{size:15})},e))})]}),Object.entries(_ke).map(([n,e])=>T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,fontWeight:600,fontFamily:"var(--font-mono)",color:"var(--text-muted)",letterSpacing:"0.12em",textTransform:"uppercase",marginBottom:20},children:n}),T.jsx("ul",{style:{listStyle:"none",display:"flex",flexDirection:"column",gap:12},children:e.map(t=>T.jsx("li",{children:T.jsx("a",{href:"#",style:{fontSize:13,color:"var(--text-secondary)",textDecoration:"none",transition:"color 0.2s"},onMouseEnter:r=>r.currentTarget.style.color="var(--text-primary)",onMouseLeave:r=>r.currentTarget.style.color="var(--text-secondary)",children:t})},t))})]},n))]}),T.jsx("div",{className:"section-line",style:{marginBottom:24}}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:12},children:[T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)",fontFamily:"var(--font-mono)"},children:" 2025 QuaiWork. Built on Quai Network."}),T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)",fontFamily:"var(--font-mono)"},children:[T.jsx("span",{style:{color:"var(--quai-green)"},children:"_"})," open source"]})]})]})]})}function Ske(){const{enterDemo:n}=ww(),e=fx(),t=r=>{n(r),e(r==="client"?"/client":"/freelancer")};return T.jsxs(T.Fragment,{children:[T.jsx(uke,{onClientClick:()=>t("client")}),T.jsx(fke,{}),T.jsx(mke,{}),T.jsx(yke,{}),T.jsx(xke,{}),T.jsx(bke,{onClientClick:()=>t("client"),onFreelancerClick:()=>t("freelancer")}),T.jsx(wke,{})]})}const Kre="1.0.0-alpha.53";function Eke(n,e,t){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof n===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${t}`,i.value=n,i}async function xa(n){const e=Object.keys(n);return(await Promise.all(e.map(r=>Promise.resolve(n[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function Mke(n,e){for(let t=0;t<32;t++){if(n[e])return n[e];if(!n.prototype||typeof n.prototype!="object")break;n=Object.getPrototypeOf(n.prototype).constructor}return null}function Cn(n,e,t){for(const r in e){const i=e[r],s=t?t[r]:null;s&&Eke(i,s,r),Object.defineProperty(n,r,{enumerable:!0,value:i,writable:!1})}}function D1(n){if(n==null)return"null";if(Array.isArray(n))return"[ "+n.map(D1).join(", ")+" ]";if(n instanceof Uint8Array){const e="0123456789abcdef";let t="0x";for(let r=0;r<n.length;r++)t+=e[n[r]>>4],t+=e[n[r]&15];return t}if(typeof n=="object"&&typeof n.toJSON=="function")return D1(n.toJSON());switch(typeof n){case"boolean":case"symbol":return n.toString();case"bigint":return BigInt(n).toString();case"number":return n.toString();case"string":return JSON.stringify(n);case"object":{const e=Object.keys(n);return e.sort(),"{ "+e.map(t=>`${D1(t)}: ${D1(n[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function vu(n,e){return n&&n.code===e}function Jre(n){return vu(n,"CALL_EXCEPTION")}function Ji(n,e,t){const r=n;{const s=[];if(t){if("message"in t||"code"in t||"name"in t)throw new Error(`value will overwrite populated values: ${D1(t)}`);for(const a in t){if(a==="shortMessage")continue;const o=t[a];s.push(a+"="+D1(o))}}s.push(`code=${e}`),s.push(`version=${Kre}`),s.length&&(n+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(n);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(n);break;default:i=new Error(n)}return Cn(i,{code:e}),t&&Object.assign(i,t),i.shortMessage==null&&Cn(i,{shortMessage:r}),i}function Nt(n,e,t,r){if(!n)throw Ji(e,t,r)}function je(n,e,t,r){Nt(n,e,"INVALID_ARGUMENT",{argument:t,value:r})}function Zre(n,e,t){t==null&&(t=""),t&&(t=": "+t),Nt(n>=e,"missing arguemnt"+t,"MISSING_ARGUMENT",{count:n,expectedCount:e}),Nt(n<=e,"too many arguemnts"+t,"UNEXPECTED_ARGUMENT",{count:n,expectedCount:e})}const Ake=["NFD","NFC","NFKD","NFKC"].reduce((n,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");n.push(e)}catch{}return n},[]);function Tke(n){Nt(Ake.indexOf(n)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:n}})}function IT(n,e,t){if(t==null&&(t=""),n!==e){let r=t,i="new";t&&(r+=".",i+=" "+t),Nt(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function Qre(n,e,t){if(n instanceof Uint8Array)return t?new Uint8Array(n):n;if(typeof n=="string"&&n.match(/^0x([0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((n.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(n.substring(i,i+2),16),i+=2;return r}je(!1,"invalid BytesLike value",e||"value",n)}function ln(n,e){return Qre(n,e,!1)}function Xa(n,e){return Qre(n,e,!0)}function hs(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&n.length!==2+2*e||e===!0&&n.length%2!==0)}function Cke(n){return hs(n,!0)||n instanceof Uint8Array}const D$="0123456789abcdef";function Ft(n){const e=ln(n);let t="0x";for(let r=0;r<e.length;r++){const i=e[r];t+=D$[(i&240)>>4]+D$[i&15]}return t}function js(n){return"0x"+n.map(e=>Ft(e).substring(2)).join("")}function I1(n){return hs(n,!0)?(n.length-2)/2:ln(n).length}function Ty(n,e,t){const r=ln(n);return t!=null&&t>r.length&&Nt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:t}),Ft(r.slice(e??0,t??r.length))}function kke(n){let e=Ft(n).substring(2);for(;e.startsWith("00");)e=e.substring(2);return"0x"+e}function eie(n,e,t){const r=ln(n);Nt(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),t?i.set(r,e-r.length):i.set(r,0),Ft(i)}function J_(n,e){return eie(n,e,!0)}function Rke(n,e){return eie(n,e,!1)}var i_;class tie{constructor(e,t,r){me(this,"filter");me(this,"emitter");Ge(this,i_);ke(this,i_,t),Cn(this,{emitter:e,filter:r})}async removeListener(){X(this,i_)!=null&&await this.emitter.off(this.filter,X(this,i_))}}i_=new WeakMap;function Oke(n){n=atob(n);const e=new Uint8Array(n.length);for(let t=0;t<n.length;t++)e[t]=n.charCodeAt(t);return ln(e)}function Pke(n){const e=ln(n);let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return btoa(t)}const iI=BigInt(0),bf=BigInt(1),N1=9007199254740991;function CO(n,e){const t=sI(n,"value"),r=BigInt(Sn(e,"width"));if(Nt(t>>r===iI,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:n}),t>>r-bf){const i=(bf<<r)-bf;return-((~t&i)+bf)}return t}function nie(n,e){let t=$t(n,"value");const r=BigInt(Sn(e,"width")),i=bf<<r-bf;if(t<iI){t=-t,Nt(t<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});const s=(bf<<r)-bf;return(~t&s)+bf}else Nt(t<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:n});return t}function Zy(n,e){const t=sI(n,"value"),r=BigInt(Sn(e,"bits"));return t&(bf<<r)-bf}function $t(n,e){switch(typeof n){case"bigint":return n;case"number":return je(Number.isInteger(n),"underflow",e||"value",n),je(n>=-N1&&n<=N1,"overflow",e||"value",n),BigInt(n);case"string":try{if(n==="")throw new Error("empty string");return n[0]==="-"&&n[1]!=="-"?-BigInt(n.substring(1)):BigInt(n)}catch(t){je(!1,`invalid BigNumberish string: ${t.message}`,e||"value",n)}}je(!1,"invalid BigNumberish value",e||"value",n)}function sI(n,e){const t=$t(n,e);return Nt(t>=iI,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:n}),t}const I$="0123456789abcdef";function Sp(n){if(n instanceof Uint8Array){let e="0x0";for(const t of n)e+=I$[t>>4],e+=I$[t&15];return BigInt(e)}return $t(n)}function Sn(n,e){switch(typeof n){case"bigint":return je(n>=-N1&&n<=N1,"overflow",e||"value",n),Number(n);case"number":return je(Number.isInteger(n),"underflow",e||"value",n),je(n>=-N1&&n<=N1,"overflow",e||"value",n),n;case"string":try{if(n==="")throw new Error("empty string");return Sn(BigInt(n),e)}catch(t){je(!1,`invalid numeric string: ${t.message}`,e||"value",n)}}je(!1,"invalid numeric value",e||"value",n)}function Dke(n){return Sn(Sp(n))}function Q0(n,e){let r=sI(n,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=Sn(e,"width");for(Nt(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:n});r.length<i*2;)r="0"+r}return"0x"+r}function Z_(n){const e=sI(n,"value");if(e===iI)return new Uint8Array([]);let t=e.toString(16);t.length%2&&(t="0"+t);const r=new Uint8Array(t.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(t.substring(s,s+2),16)}return r}function pu(n){let e=Ft(Cke(n)?n:Z_(n)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}var vy={},N$;function Ike(){return N$||(N$=1,(function(n){var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(y,M,U){y!=Array.prototype&&y!=Object.prototype&&(y[M]=U.value)},t=typeof window<"u"&&window===vy?vy:typeof q4<"u"&&q4!=null?q4:vy;function r(y,M){if(M){var U=t;y=y.split(".");for(var Q=0;Q<y.length-1;Q++){var ye=y[Q];ye in U||(U[ye]={}),U=U[ye]}y=y[y.length-1],Q=U[y],M=M(Q),M!=Q&&M!=null&&e(U,y,{configurable:!0,writable:!0,value:M})}}function i(y){var M=0;return function(){return M<y.length?{done:!1,value:y[M++]}:{done:!0}}}function s(){s=function(){},t.Symbol||(t.Symbol=o)}function a(y,M){this.a=y,e(this,"description",{configurable:!0,writable:!0,value:M})}a.prototype.toString=function(){return this.a};var o=(function(){function y(U){if(this instanceof y)throw new TypeError("Symbol is not a constructor");return new a("jscomp_symbol_"+(U||"")+"_"+M++,U)}var M=0;return y})();function l(){s();var y=t.Symbol.iterator;y||(y=t.Symbol.iterator=t.Symbol("Symbol.iterator")),typeof Array.prototype[y]!="function"&&e(Array.prototype,y,{configurable:!0,writable:!0,value:function(){return c(i(this))}}),l=function(){}}function c(y){return l(),y={next:y},y[t.Symbol.iterator]=function(){return this},y}function f(y,M){l(),y instanceof String&&(y+="");var U=0,Q={next:function(){if(U<y.length){var ye=U++;return{value:M(ye,y[ye]),done:!1}}return Q.next=function(){return{done:!0,value:void 0}},Q.next()}};return Q[Symbol.iterator]=function(){return Q},Q}r("Array.prototype.entries",function(y){return y||function(){return f(this,function(M,U){return[M,U]})}});var d=vy||self;function p(y,M,U){y=y.split("."),U=U||d,y[0]in U||typeof U.execScript>"u"||U.execScript("var "+y[0]);for(var Q;y.length&&(Q=y.shift());)y.length||M===void 0?U[Q]&&U[Q]!==Object.prototype[Q]?U=U[Q]:U=U[Q]={}:U[Q]=M}function g(y){var M=typeof y;if(M=="object")if(y){if(y instanceof Array)return"array";if(y instanceof Object)return M;var U=Object.prototype.toString.call(y);if(U=="[object Window]")return"object";if(U=="[object Array]"||typeof y.length=="number"&&typeof y.splice<"u"&&typeof y.propertyIsEnumerable<"u"&&!y.propertyIsEnumerable("splice"))return"array";if(U=="[object Function]"||typeof y.call<"u"&&typeof y.propertyIsEnumerable<"u"&&!y.propertyIsEnumerable("call"))return"function"}else return"null";else if(M=="function"&&typeof y.call>"u")return"object";return M}function b(y){var M=typeof y;return M=="object"&&y!=null||M=="function"}function S(y,M,U){p(y,M,U)}function w(y,M){function U(){}U.prototype=M.prototype,y.prototype=new U,y.prototype.constructor=y}var E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(y,M){for(var U,Q,ye=1;ye<arguments.length;ye++){Q=arguments[ye];for(U in Q)y[U]=Q[U];for(var Oe=0;Oe<E.length;Oe++)U=E[Oe],Object.prototype.hasOwnProperty.call(Q,U)&&(y[U]=Q[U])}}var R=Array.prototype.forEach?function(y,M){Array.prototype.forEach.call(y,M,void 0)}:function(y,M){for(var U=y.length,Q=typeof y=="string"?y.split(""):y,ye=0;ye<U;ye++)ye in Q&&M.call(void 0,Q[ye],ye,y)},O=Array.prototype.map?function(y,M){return Array.prototype.map.call(y,M,void 0)}:function(y,M){for(var U=y.length,Q=Array(U),ye=typeof y=="string"?y.split(""):y,Oe=0;Oe<U;Oe++)Oe in ye&&(Q[Oe]=M.call(void 0,ye[Oe],Oe,y));return Q};function D(y,M,U){return 2>=arguments.length?Array.prototype.slice.call(y,M):Array.prototype.slice.call(y,M,U)}function I(y,M,U,Q){var ye="Assertion failed";if(U){ye+=": "+U;var Oe=Q}else y&&(ye+=": "+y,Oe=M);throw Error(ye,Oe||[])}function B(y,M,U){for(var Q=[],ye=2;ye<arguments.length;++ye)Q[ye-2]=arguments[ye];return y||I("",null,M,Q),y}function z(y,M,U){for(var Q=[],ye=2;ye<arguments.length;++ye)Q[ye-2]=arguments[ye];typeof y!="string"&&I("Expected string but got %s: %s.",[g(y),y],M,Q)}function V(y,M,U){for(var Q=[],ye=2;ye<arguments.length;++ye)Q[ye-2]=arguments[ye];Array.isArray(y)||I("Expected array but got %s: %s.",[g(y),y],M,Q)}function Y(y,M){for(var U=[],Q=1;Q<arguments.length;++Q)U[Q-1]=arguments[Q];throw Error("Failure"+(y?": "+y:""),U)}function q(y,M,U,Q){for(var ye=[],Oe=3;Oe<arguments.length;++Oe)ye[Oe-3]=arguments[Oe];y instanceof M||I("Expected instanceof %s but got %s.",[J(M),J(y)],U,ye)}function J(y){return y instanceof Function?y.displayName||y.name||"unknown type name":y instanceof Object?y.constructor.displayName||y.constructor.name||Object.prototype.toString.call(y):y===null?"null":typeof y}function re(y,M){if(this.c=y,this.b=M,this.a={},this.arrClean=!0,0<this.c.length){for(y=0;y<this.c.length;y++){M=this.c[y];var U=M[0];this.a[U.toString()]=new se(U,M[1])}this.arrClean=!0}}p("jspb.Map",re,void 0),re.prototype.g=function(){if(this.arrClean){if(this.b){var y=this.a,M;for(M in y)if(Object.prototype.hasOwnProperty.call(y,M)){var U=y[M].a;U&&U.g()}}}else{for(this.c.length=0,y=te(this),y.sort(),M=0;M<y.length;M++){var Q=this.a[y[M]];(U=Q.a)&&U.g(),this.c.push([Q.key,Q.value])}this.arrClean=!0}return this.c},re.prototype.toArray=re.prototype.g,re.prototype.Mc=function(y,M){for(var U=this.g(),Q=[],ye=0;ye<U.length;ye++){var Oe=this.a[U[ye][0].toString()];ne(this,Oe);var et=Oe.a;et?(B(M),Q.push([Oe.key,M(y,et)])):Q.push([Oe.key,Oe.value])}return Q},re.prototype.toObject=re.prototype.Mc,re.fromObject=function(y,M,U){M=new re([],M);for(var Q=0;Q<y.length;Q++){var ye=y[Q][0],Oe=U(y[Q][1]);M.set(ye,Oe)}return M};function fe(y){this.a=0,this.b=y}fe.prototype.next=function(){return this.a<this.b.length?{done:!1,value:this.b[this.a++]}:{done:!0,value:void 0}},typeof Symbol<"u"&&(fe.prototype[Symbol.iterator]=function(){return this}),re.prototype.Jb=function(){return te(this).length},re.prototype.getLength=re.prototype.Jb,re.prototype.clear=function(){this.a={},this.arrClean=!1},re.prototype.clear=re.prototype.clear,re.prototype.Cb=function(y){y=y.toString();var M=this.a.hasOwnProperty(y);return delete this.a[y],this.arrClean=!1,M},re.prototype.del=re.prototype.Cb,re.prototype.Eb=function(){var y=[],M=te(this);M.sort();for(var U=0;U<M.length;U++){var Q=this.a[M[U]];y.push([Q.key,Q.value])}return y},re.prototype.getEntryList=re.prototype.Eb,re.prototype.entries=function(){var y=[],M=te(this);M.sort();for(var U=0;U<M.length;U++){var Q=this.a[M[U]];y.push([Q.key,ne(this,Q)])}return new fe(y)},re.prototype.entries=re.prototype.entries,re.prototype.keys=function(){var y=[],M=te(this);M.sort();for(var U=0;U<M.length;U++)y.push(this.a[M[U]].key);return new fe(y)},re.prototype.keys=re.prototype.keys,re.prototype.values=function(){var y=[],M=te(this);M.sort();for(var U=0;U<M.length;U++)y.push(ne(this,this.a[M[U]]));return new fe(y)},re.prototype.values=re.prototype.values,re.prototype.forEach=function(y,M){var U=te(this);U.sort();for(var Q=0;Q<U.length;Q++){var ye=this.a[U[Q]];y.call(M,ne(this,ye),ye.key,this)}},re.prototype.forEach=re.prototype.forEach,re.prototype.set=function(y,M){var U=new se(y);return this.b?(U.a=M,U.value=M.g()):U.value=M,this.a[y.toString()]=U,this.arrClean=!1,this},re.prototype.set=re.prototype.set;function ne(y,M){return y.b?(M.a||(M.a=new y.b(M.value)),M.a):M.value}re.prototype.get=function(y){if(y=this.a[y.toString()])return ne(this,y)},re.prototype.get=re.prototype.get,re.prototype.has=function(y){return y.toString()in this.a},re.prototype.has=re.prototype.has,re.prototype.Jc=function(y,M,U,Q,ye){var Oe=te(this);Oe.sort();for(var et=0;et<Oe.length;et++){var ht=this.a[Oe[et]];M.Va(y),U.call(M,1,ht.key),this.b?Q.call(M,2,ne(this,ht),ye):Q.call(M,2,ht.value),M.Ya()}},re.prototype.serializeBinary=re.prototype.Jc,re.deserializeBinary=function(y,M,U,Q,ye,Oe,et){for(;M.oa()&&!M.bb();){var ht=M.c;ht==1?Oe=U.call(M):ht==2&&(y.b?(B(ye),et||(et=new y.b),Q.call(M,et,ye)):et=Q.call(M))}B(Oe!=null),B(et!=null),y.set(Oe,et)};function te(y){y=y.a;var M=[],U;for(U in y)Object.prototype.hasOwnProperty.call(y,U)&&M.push(U);return M}function se(y,M){this.key=y,this.value=M,this.a=void 0}function be(y){if(8192>=y.length)return String.fromCharCode.apply(null,y);for(var M="",U=0;U<y.length;U+=8192)M+=String.fromCharCode.apply(null,D(y,U,U+8192));return M}var Ee={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},oe={"'":"\\'"},ee={},xe=null;function ae(y,M){M===void 0&&(M=0),Ne(),M=ee[M];for(var U=[],Q=0;Q<y.length;Q+=3){var ye=y[Q],Oe=Q+1<y.length,et=Oe?y[Q+1]:0,ht=Q+2<y.length,Jt=ht?y[Q+2]:0,or=ye>>2;ye=(ye&3)<<4|et>>4,et=(et&15)<<2|Jt>>6,Jt&=63,ht||(Jt=64,Oe||(et=64)),U.push(M[or],M[ye],M[et]||"",M[Jt]||"")}return U.join("")}function De(y){var M=y.length,U=3*M/4;U%3?U=Math.floor(U):"=.".indexOf(y[M-1])!=-1&&(U="=.".indexOf(y[M-2])!=-1?U-2:U-1);var Q=new Uint8Array(U),ye=0;return dt(y,function(Oe){Q[ye++]=Oe}),Q.subarray(0,ye)}function dt(y,M){function U(Jt){for(;Q<y.length;){var or=y.charAt(Q++),kr=xe[or];if(kr!=null)return kr;if(!/^[\s\xa0]*$/.test(or))throw Error("Unknown base64 encoding at char: "+or)}return Jt}Ne();for(var Q=0;;){var ye=U(-1),Oe=U(0),et=U(64),ht=U(64);if(ht===64&&ye===-1)break;M(ye<<2|Oe>>4),et!=64&&(M(Oe<<4&240|et>>2),ht!=64&&M(et<<6&192|ht))}}function Ne(){if(!xe){xe={};for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),M=["+/=","+/","-_=","-_.","-_"],U=0;5>U;U++){var Q=y.concat(M[U].split(""));ee[U]=Q;for(var ye=0;ye<Q.length;ye++){var Oe=Q[ye];xe[Oe]===void 0&&(xe[Oe]=ye)}}}}p("jspb.ConstBinaryMessage",function(){},void 0),p("jspb.BinaryMessage",function(){},void 0),p("jspb.BinaryConstants.FieldType",{yb:-1,ee:1,FLOAT:2,ke:3,te:4,je:5,xb:6,wb:7,BOOL:8,re:9,ie:10,le:11,ce:12,se:13,ge:14,me:15,ne:16,oe:17,pe:18,he:30,ve:31},void 0),p("jspb.BinaryConstants.WireType",{yb:-1,ue:0,xb:1,de:2,qe:3,fe:4,wb:5},void 0),p("jspb.BinaryConstants.FieldTypeToWireType",function(y){switch(y){case 5:case 3:case 13:case 4:case 17:case 18:case 8:case 14:case 31:return 0;case 1:case 6:case 16:case 30:return 1;case 9:case 11:case 12:return 2;case 2:case 7:case 15:return 5;default:return-1}},void 0),p("jspb.BinaryConstants.INVALID_FIELD_NUMBER",-1,void 0),p("jspb.BinaryConstants.FLOAT32_EPS",1401298464324817e-60,void 0),p("jspb.BinaryConstants.FLOAT32_MIN",11754943508222875e-54,void 0),p("jspb.BinaryConstants.FLOAT32_MAX",34028234663852886e22,void 0),p("jspb.BinaryConstants.FLOAT64_EPS",5e-324,void 0),p("jspb.BinaryConstants.FLOAT64_MIN",22250738585072014e-324,void 0),p("jspb.BinaryConstants.FLOAT64_MAX",17976931348623157e292,void 0),p("jspb.BinaryConstants.TWO_TO_20",1048576,void 0),p("jspb.BinaryConstants.TWO_TO_23",8388608,void 0),p("jspb.BinaryConstants.TWO_TO_31",2147483648,void 0),p("jspb.BinaryConstants.TWO_TO_32",4294967296,void 0),p("jspb.BinaryConstants.TWO_TO_52",4503599627370496,void 0),p("jspb.BinaryConstants.TWO_TO_63",9223372036854776e3,void 0),p("jspb.BinaryConstants.TWO_TO_64",18446744073709552e3,void 0),p("jspb.BinaryConstants.ZERO_HASH","\0\0\0\0\0\0\0\0",void 0);var Ue=0,qe=0;p("jspb.utils.getSplit64Low",function(){return Ue},void 0),p("jspb.utils.getSplit64High",function(){return qe},void 0);function Pe(y){var M=y>>>0;y=Math.floor((y-M)/4294967296)>>>0,Ue=M,qe=y}p("jspb.utils.splitUint64",Pe,void 0);function lt(y){var M=0>y;y=Math.abs(y);var U=y>>>0;y=Math.floor((y-U)/4294967296),y>>>=0,M&&(y=~y>>>0,U=(~U>>>0)+1,4294967295<U&&(U=0,y++,4294967295<y&&(y=0))),Ue=U,qe=y}p("jspb.utils.splitInt64",lt,void 0);function Mt(y){var M=0>y;y=2*Math.abs(y),Pe(y),y=Ue;var U=qe;M&&(y==0?U==0?U=y=4294967295:(U--,y=4294967295):y--),Ue=y,qe=U}p("jspb.utils.splitZigzag64",Mt,void 0);function Ze(y){var M=0>y?1:0;if(y=M?-y:y,y===0)0<1/y?Ue=qe=0:(qe=0,Ue=2147483648);else if(isNaN(y))qe=0,Ue=2147483647;else if(34028234663852886e22<y)qe=0,Ue=(M<<31|2139095040)>>>0;else if(11754943508222875e-54>y)y=Math.round(y/Math.pow(2,-149)),qe=0,Ue=(M<<31|y)>>>0;else{var U=Math.floor(Math.log(y)/Math.LN2);y*=Math.pow(2,-U),y=Math.round(8388608*y),16777216<=y&&++U,qe=0,Ue=(M<<31|U+127<<23|y&8388607)>>>0}}p("jspb.utils.splitFloat32",Ze,void 0);function _t(y){var M=0>y?1:0;if(y=M?-y:y,y===0)qe=0<1/y?0:2147483648,Ue=0;else if(isNaN(y))qe=2147483647,Ue=4294967295;else if(17976931348623157e292<y)qe=(M<<31|2146435072)>>>0,Ue=0;else if(22250738585072014e-324>y)y/=Math.pow(2,-1074),qe=(M<<31|y/4294967296)>>>0,Ue=y>>>0;else{var U=y,Q=0;if(2<=U)for(;2<=U&&1023>Q;)Q++,U/=2;else for(;1>U&&-1022<Q;)U*=2,Q--;y*=Math.pow(2,-Q),qe=(M<<31|Q+1023<<20|1048576*y&1048575)>>>0,Ue=4503599627370496*y>>>0}}p("jspb.utils.splitFloat64",_t,void 0);function Ve(y){var M=y.charCodeAt(4),U=y.charCodeAt(5),Q=y.charCodeAt(6),ye=y.charCodeAt(7);Ue=y.charCodeAt(0)+(y.charCodeAt(1)<<8)+(y.charCodeAt(2)<<16)+(y.charCodeAt(3)<<24)>>>0,qe=M+(U<<8)+(Q<<16)+(ye<<24)>>>0}p("jspb.utils.splitHash64",Ve,void 0);function ot(y,M){return 4294967296*M+(y>>>0)}p("jspb.utils.joinUint64",ot,void 0);function Qe(y,M){var U=M&2147483648;return U&&(y=~y+1>>>0,M=~M>>>0,y==0&&(M=M+1>>>0)),y=ot(y,M),U?-y:y}p("jspb.utils.joinInt64",Qe,void 0);function mt(y,M,U){var Q=M>>31;return U(y<<1^Q,(M<<1|y>>>31)^Q)}p("jspb.utils.toZigzag64",mt,void 0);function _e(y,M){return zt(y,M,Qe)}p("jspb.utils.joinZigzag64",_e,void 0);function zt(y,M,U){var Q=-(y&1);return U((y>>>1|M<<31)^Q,M>>>1^Q)}p("jspb.utils.fromZigzag64",zt,void 0);function kt(y){var M=2*(y>>31)+1,U=y>>>23&255;return y&=8388607,U==255?y?NaN:1/0*M:U==0?M*Math.pow(2,-149)*y:M*Math.pow(2,U-150)*(y+Math.pow(2,23))}p("jspb.utils.joinFloat32",kt,void 0);function Vt(y,M){var U=2*(M>>31)+1,Q=M>>>20&2047;return y=4294967296*(M&1048575)+y,Q==2047?y?NaN:1/0*U:Q==0?U*Math.pow(2,-1074)*y:U*Math.pow(2,Q-1075)*(y+4503599627370496)}p("jspb.utils.joinFloat64",Vt,void 0);function gt(y,M){return String.fromCharCode(y>>>0&255,y>>>8&255,y>>>16&255,y>>>24&255,M>>>0&255,M>>>8&255,M>>>16&255,M>>>24&255)}p("jspb.utils.joinHash64",gt,void 0),p("jspb.utils.DIGITS","0123456789abcdef".split(""),void 0);function ge(y,M){function U(ye,Oe){return ye=ye?String(ye):"",Oe?"0000000".slice(ye.length)+ye:ye}if(2097151>=M)return""+ot(y,M);var Q=(y>>>24|M<<8)>>>0&16777215;return M=M>>16&65535,y=(y&16777215)+6777216*Q+6710656*M,Q+=8147497*M,M*=2,1e7<=y&&(Q+=Math.floor(y/1e7),y%=1e7),1e7<=Q&&(M+=Math.floor(Q/1e7),Q%=1e7),U(M,0)+U(Q,M)+U(y,1)}p("jspb.utils.joinUnsignedDecimalString",ge,void 0);function ie(y,M){var U=M&2147483648;return U&&(y=~y+1>>>0,M=~M+(y==0?1:0)>>>0),y=ge(y,M),U?"-"+y:y}p("jspb.utils.joinSignedDecimalString",ie,void 0);function Ie(y,M){Ve(y),y=Ue;var U=qe;return M?ie(y,U):ge(y,U)}p("jspb.utils.hash64ToDecimalString",Ie,void 0),p("jspb.utils.hash64ArrayToDecimalStrings",function(y,M){for(var U=Array(y.length),Q=0;Q<y.length;Q++)U[Q]=Ie(y[Q],M);return U},void 0);function we(y){function M(et,ht){for(var Jt=0;8>Jt&&(et!==1||0<ht);Jt++)ht=et*ye[Jt]+ht,ye[Jt]=ht&255,ht>>>=8}function U(){for(var et=0;8>et;et++)ye[et]=~ye[et]&255}B(0<y.length);var Q=!1;y[0]==="-"&&(Q=!0,y=y.slice(1));for(var ye=[0,0,0,0,0,0,0,0],Oe=0;Oe<y.length;Oe++)M(10,y.charCodeAt(Oe)-48);return Q&&(U(),M(1,1)),be(ye)}p("jspb.utils.decimalStringToHash64",we,void 0),p("jspb.utils.splitDecimalString",function(y){Ve(we(y))},void 0);function K(y){return String.fromCharCode(10>y?48+y:87+y)}function j(y){return 97<=y?y-97+10:y-48}p("jspb.utils.hash64ToHexString",function(y){var M=Array(18);M[0]="0",M[1]="x";for(var U=0;8>U;U++){var Q=y.charCodeAt(7-U);M[2*U+2]=K(Q>>4),M[2*U+3]=K(Q&15)}return M.join("")},void 0),p("jspb.utils.hexStringToHash64",function(y){y=y.toLowerCase(),B(y.length==18),B(y[0]=="0"),B(y[1]=="x");for(var M="",U=0;8>U;U++)M=String.fromCharCode(16*j(y.charCodeAt(2*U+2))+j(y.charCodeAt(2*U+3)))+M;return M},void 0),p("jspb.utils.hash64ToNumber",function(y,M){Ve(y),y=Ue;var U=qe;return M?Qe(y,U):ot(y,U)},void 0),p("jspb.utils.numberToHash64",function(y){return lt(y),gt(Ue,qe)},void 0),p("jspb.utils.countVarints",function(y,M,U){for(var Q=0,ye=M;ye<U;ye++)Q+=y[ye]>>7;return U-M-Q},void 0),p("jspb.utils.countVarintFields",function(y,M,U,Q){var ye=0;if(Q*=8,128>Q)for(;M<U&&y[M++]==Q;)for(ye++;;){var Oe=y[M++];if((Oe&128)==0)break}else for(;M<U;){for(Oe=Q;128<Oe;){if(y[M]!=(Oe&127|128))return ye;M++,Oe>>=7}if(y[M++]!=Oe)break;for(ye++;Oe=y[M++],(Oe&128)!=0;);}return ye},void 0);function $(y,M,U,Q,ye){var Oe=0;if(128>Q)for(;M<U&&y[M++]==Q;)Oe++,M+=ye;else for(;M<U;){for(var et=Q;128<et;){if(y[M++]!=(et&127|128))return Oe;et>>=7}if(y[M++]!=et)break;Oe++,M+=ye}return Oe}p("jspb.utils.countFixed32Fields",function(y,M,U,Q){return $(y,M,U,8*Q+5,4)},void 0),p("jspb.utils.countFixed64Fields",function(y,M,U,Q){return $(y,M,U,8*Q+1,8)},void 0),p("jspb.utils.countDelimitedFields",function(y,M,U,Q){var ye=0;for(Q=8*Q+2;M<U;){for(var Oe=Q;128<Oe;){if(y[M++]!=(Oe&127|128))return ye;Oe>>=7}if(y[M++]!=Oe)break;ye++;for(var et=0,ht=1;Oe=y[M++],et+=(Oe&127)*ht,ht*=128,(Oe&128)!=0;);M+=et}return ye},void 0),p("jspb.utils.debugBytesToTextFormat",function(y){var M='"';if(y){y=ce(y);for(var U=0;U<y.length;U++)M+="\\x",16>y[U]&&(M+="0"),M+=y[U].toString(16)}return M+'"'},void 0),p("jspb.utils.debugScalarToTextFormat",function(y){if(typeof y=="string"){y=String(y);for(var M=['"'],U=0;U<y.length;U++){var Q=y.charAt(U),ye=Q.charCodeAt(0),Oe=U+1,et;(et=Ee[Q])||(31<ye&&127>ye||(ye=Q,ye in oe?Q=oe[ye]:ye in Ee?Q=oe[ye]=Ee[ye]:(et=ye.charCodeAt(0),31<et&&127>et?Q=ye:(256>et?(Q="\\x",(16>et||256<et)&&(Q+="0")):(Q="\\u",4096>et&&(Q+="0")),Q+=et.toString(16).toUpperCase()),Q=oe[ye]=Q)),et=Q),M[Oe]=et}M.push('"'),y=M.join("")}else y=y.toString();return y},void 0),p("jspb.utils.stringToByteArray",function(y){for(var M=new Uint8Array(y.length),U=0;U<y.length;U++){var Q=y.charCodeAt(U);if(255<Q)throw Error("Conversion error: string contains codepoint outside of byte range");M[U]=Q}return M},void 0);function ce(y){return y.constructor===Uint8Array?y:y.constructor===ArrayBuffer?new Uint8Array(y):y.constructor===Array?new Uint8Array(y):y.constructor===String?De(y):y instanceof Uint8Array?new Uint8Array(y.buffer,y.byteOffset,y.byteLength):(Y("Type not convertible to Uint8Array."),new Uint8Array(0))}p("jspb.utils.byteSourceToUint8Array",ce,void 0);function le(y,M,U){this.b=null,this.a=this.c=this.h=0,this.v=!1,y&&this.H(y,M,U)}p("jspb.BinaryDecoder",le,void 0);var Re=[];le.getInstanceCacheLength=function(){return Re.length};function Me(y,M,U){if(Re.length){var Q=Re.pop();return y&&Q.H(y,M,U),Q}return new le(y,M,U)}le.alloc=Me,le.prototype.Ca=function(){this.clear(),100>Re.length&&Re.push(this)},le.prototype.free=le.prototype.Ca,le.prototype.clone=function(){return Me(this.b,this.h,this.c-this.h)},le.prototype.clone=le.prototype.clone,le.prototype.clear=function(){this.b=null,this.a=this.c=this.h=0,this.v=!1},le.prototype.clear=le.prototype.clear,le.prototype.Y=function(){return this.b},le.prototype.getBuffer=le.prototype.Y,le.prototype.H=function(y,M,U){this.b=ce(y),this.h=M!==void 0?M:0,this.c=U!==void 0?this.h+U:this.b.length,this.a=this.h},le.prototype.setBlock=le.prototype.H,le.prototype.Db=function(){return this.c},le.prototype.getEnd=le.prototype.Db,le.prototype.setEnd=function(y){this.c=y},le.prototype.setEnd=le.prototype.setEnd,le.prototype.reset=function(){this.a=this.h},le.prototype.reset=le.prototype.reset,le.prototype.B=function(){return this.a},le.prototype.getCursor=le.prototype.B,le.prototype.Ma=function(y){this.a=y},le.prototype.setCursor=le.prototype.Ma,le.prototype.advance=function(y){this.a+=y,B(this.a<=this.c)},le.prototype.advance=le.prototype.advance,le.prototype.ya=function(){return this.a==this.c},le.prototype.atEnd=le.prototype.ya,le.prototype.Qb=function(){return this.a>this.c},le.prototype.pastEnd=le.prototype.Qb,le.prototype.getError=function(){return this.v||0>this.a||this.a>this.c},le.prototype.getError=le.prototype.getError,le.prototype.w=function(y){for(var M=128,U=0,Q=0,ye=0;4>ye&&128<=M;ye++)M=this.b[this.a++],U|=(M&127)<<7*ye;if(128<=M&&(M=this.b[this.a++],U|=(M&127)<<28,Q|=(M&127)>>4),128<=M)for(ye=0;5>ye&&128<=M;ye++)M=this.b[this.a++],Q|=(M&127)<<7*ye+3;if(128>M)return y(U>>>0,Q>>>0);Y("Failed to read varint, encoding is invalid."),this.v=!0},le.prototype.readSplitVarint64=le.prototype.w,le.prototype.ea=function(y){return this.w(function(M,U){return zt(M,U,y)})},le.prototype.readSplitZigzagVarint64=le.prototype.ea,le.prototype.ta=function(y){var M=this.b,U=this.a;this.a+=8;for(var Q=0,ye=0,Oe=U+7;Oe>=U;Oe--)Q=Q<<8|M[Oe],ye=ye<<8|M[Oe+4];return y(Q,ye)},le.prototype.readSplitFixed64=le.prototype.ta,le.prototype.kb=function(){for(;this.b[this.a]&128;)this.a++;this.a++},le.prototype.skipVarint=le.prototype.kb,le.prototype.mb=function(y){for(;128<y;)this.a--,y>>>=7;this.a--},le.prototype.unskipVarint=le.prototype.mb,le.prototype.o=function(){var y=this.b,M=y[this.a],U=M&127;return 128>M?(this.a+=1,B(this.a<=this.c),U):(M=y[this.a+1],U|=(M&127)<<7,128>M?(this.a+=2,B(this.a<=this.c),U):(M=y[this.a+2],U|=(M&127)<<14,128>M?(this.a+=3,B(this.a<=this.c),U):(M=y[this.a+3],U|=(M&127)<<21,128>M?(this.a+=4,B(this.a<=this.c),U):(M=y[this.a+4],U|=(M&15)<<28,128>M?(this.a+=5,B(this.a<=this.c),U>>>0):(this.a+=5,128<=y[this.a++]&&128<=y[this.a++]&&128<=y[this.a++]&&128<=y[this.a++]&&128<=y[this.a++]&&B(!1),B(this.a<=this.c),U)))))},le.prototype.readUnsignedVarint32=le.prototype.o,le.prototype.da=function(){return~~this.o()},le.prototype.readSignedVarint32=le.prototype.da,le.prototype.O=function(){return this.o().toString()},le.prototype.Ea=function(){return this.da().toString()},le.prototype.readSignedVarint32String=le.prototype.Ea,le.prototype.Ia=function(){var y=this.o();return y>>>1^-(y&1)},le.prototype.readZigzagVarint32=le.prototype.Ia,le.prototype.Ga=function(){return this.w(ot)},le.prototype.readUnsignedVarint64=le.prototype.Ga,le.prototype.Ha=function(){return this.w(ge)},le.prototype.readUnsignedVarint64String=le.prototype.Ha,le.prototype.sa=function(){return this.w(Qe)},le.prototype.readSignedVarint64=le.prototype.sa,le.prototype.Fa=function(){return this.w(ie)},le.prototype.readSignedVarint64String=le.prototype.Fa,le.prototype.Ja=function(){return this.w(_e)},le.prototype.readZigzagVarint64=le.prototype.Ja,le.prototype.fb=function(){return this.ea(gt)},le.prototype.readZigzagVarintHash64=le.prototype.fb,le.prototype.Ka=function(){return this.ea(ie)},le.prototype.readZigzagVarint64String=le.prototype.Ka,le.prototype.Gc=function(){var y=this.b[this.a];return this.a+=1,B(this.a<=this.c),y},le.prototype.readUint8=le.prototype.Gc,le.prototype.Ec=function(){var y=this.b[this.a],M=this.b[this.a+1];return this.a+=2,B(this.a<=this.c),y<<0|M<<8},le.prototype.readUint16=le.prototype.Ec,le.prototype.m=function(){var y=this.b[this.a],M=this.b[this.a+1],U=this.b[this.a+2],Q=this.b[this.a+3];return this.a+=4,B(this.a<=this.c),(y<<0|M<<8|U<<16|Q<<24)>>>0},le.prototype.readUint32=le.prototype.m,le.prototype.ga=function(){var y=this.m(),M=this.m();return ot(y,M)},le.prototype.readUint64=le.prototype.ga,le.prototype.ha=function(){var y=this.m(),M=this.m();return ge(y,M)},le.prototype.readUint64String=le.prototype.ha,le.prototype.Xb=function(){var y=this.b[this.a];return this.a+=1,B(this.a<=this.c),y<<24>>24},le.prototype.readInt8=le.prototype.Xb,le.prototype.Vb=function(){var y=this.b[this.a],M=this.b[this.a+1];return this.a+=2,B(this.a<=this.c),(y<<0|M<<8)<<16>>16},le.prototype.readInt16=le.prototype.Vb,le.prototype.P=function(){var y=this.b[this.a],M=this.b[this.a+1],U=this.b[this.a+2],Q=this.b[this.a+3];return this.a+=4,B(this.a<=this.c),y<<0|M<<8|U<<16|Q<<24},le.prototype.readInt32=le.prototype.P,le.prototype.ba=function(){var y=this.m(),M=this.m();return Qe(y,M)},le.prototype.readInt64=le.prototype.ba,le.prototype.ca=function(){var y=this.m(),M=this.m();return ie(y,M)},le.prototype.readInt64String=le.prototype.ca,le.prototype.aa=function(){var y=this.m();return kt(y)},le.prototype.readFloat=le.prototype.aa,le.prototype.Z=function(){var y=this.m(),M=this.m();return Vt(y,M)},le.prototype.readDouble=le.prototype.Z,le.prototype.pa=function(){return!!this.b[this.a++]},le.prototype.readBool=le.prototype.pa,le.prototype.ra=function(){return this.da()},le.prototype.readEnum=le.prototype.ra,le.prototype.fa=function(y){var M=this.b,U=this.a;y=U+y;for(var Q=[],ye="";U<y;){var Oe=M[U++];if(128>Oe)Q.push(Oe);else{if(192>Oe)continue;if(224>Oe){var et=M[U++];Q.push((Oe&31)<<6|et&63)}else if(240>Oe){et=M[U++];var ht=M[U++];Q.push((Oe&15)<<12|(et&63)<<6|ht&63)}else if(248>Oe){et=M[U++],ht=M[U++];var Jt=M[U++];Oe=(Oe&7)<<18|(et&63)<<12|(ht&63)<<6|Jt&63,Oe-=65536,Q.push((Oe>>10&1023)+55296,(Oe&1023)+56320)}}8192<=Q.length&&(ye+=String.fromCharCode.apply(null,Q),Q.length=0)}return ye+=be(Q),this.a=U,ye},le.prototype.readString=le.prototype.fa,le.prototype.Dc=function(){var y=this.o();return this.fa(y)},le.prototype.readStringWithLength=le.prototype.Dc,le.prototype.qa=function(y){if(0>y||this.a+y>this.b.length)return this.v=!0,Y("Invalid byte length!"),new Uint8Array(0);var M=this.b.subarray(this.a,this.a+y);return this.a+=y,B(this.a<=this.c),M},le.prototype.readBytes=le.prototype.qa,le.prototype.ia=function(){return this.w(gt)},le.prototype.readVarintHash64=le.prototype.ia,le.prototype.$=function(){var y=this.b,M=this.a,U=y[M],Q=y[M+1],ye=y[M+2],Oe=y[M+3],et=y[M+4],ht=y[M+5],Jt=y[M+6];return y=y[M+7],this.a+=8,String.fromCharCode(U,Q,ye,Oe,et,ht,Jt,y)},le.prototype.readFixedHash64=le.prototype.$;function ue(y,M,U){this.a=Me(y,M,U),this.O=this.a.B(),this.b=this.c=-1,this.h=!1,this.v=null}p("jspb.BinaryReader",ue,void 0);var vt=[];ue.clearInstanceCache=function(){vt=[]},ue.getInstanceCacheLength=function(){return vt.length};function ft(y,M,U){if(vt.length){var Q=vt.pop();return y&&Q.a.H(y,M,U),Q}return new ue(y,M,U)}ue.alloc=ft,ue.prototype.zb=ft,ue.prototype.alloc=ue.prototype.zb,ue.prototype.Ca=function(){this.a.clear(),this.b=this.c=-1,this.h=!1,this.v=null,100>vt.length&&vt.push(this)},ue.prototype.free=ue.prototype.Ca,ue.prototype.Fb=function(){return this.O},ue.prototype.getFieldCursor=ue.prototype.Fb,ue.prototype.B=function(){return this.a.B()},ue.prototype.getCursor=ue.prototype.B,ue.prototype.Y=function(){return this.a.Y()},ue.prototype.getBuffer=ue.prototype.Y,ue.prototype.Hb=function(){return this.c},ue.prototype.getFieldNumber=ue.prototype.Hb,ue.prototype.Lb=function(){return this.b},ue.prototype.getWireType=ue.prototype.Lb,ue.prototype.Mb=function(){return this.b==2},ue.prototype.isDelimited=ue.prototype.Mb,ue.prototype.bb=function(){return this.b==4},ue.prototype.isEndGroup=ue.prototype.bb,ue.prototype.getError=function(){return this.h||this.a.getError()},ue.prototype.getError=ue.prototype.getError,ue.prototype.H=function(y,M,U){this.a.H(y,M,U),this.b=this.c=-1},ue.prototype.setBlock=ue.prototype.H,ue.prototype.reset=function(){this.a.reset(),this.b=this.c=-1},ue.prototype.reset=ue.prototype.reset,ue.prototype.advance=function(y){this.a.advance(y)},ue.prototype.advance=ue.prototype.advance,ue.prototype.oa=function(){if(this.a.ya())return!1;if(this.getError())return Y("Decoder hit an error"),!1;this.O=this.a.B();var y=this.a.o(),M=y>>>3;return y&=7,y!=0&&y!=5&&y!=1&&y!=2&&y!=3&&y!=4?(Y("Invalid wire type: %s (at position %s)",y,this.O),this.h=!0,!1):(this.c=M,this.b=y,!0)},ue.prototype.nextField=ue.prototype.oa,ue.prototype.Oa=function(){this.a.mb(this.c<<3|this.b)},ue.prototype.unskipHeader=ue.prototype.Oa,ue.prototype.Lc=function(){var y=this.c;for(this.Oa();this.oa()&&this.c==y;)this.C();this.a.ya()||this.Oa()},ue.prototype.skipMatchingFields=ue.prototype.Lc,ue.prototype.lb=function(){this.b!=0?(Y("Invalid wire type for skipVarintField"),this.C()):this.a.kb()},ue.prototype.skipVarintField=ue.prototype.lb,ue.prototype.gb=function(){if(this.b!=2)Y("Invalid wire type for skipDelimitedField"),this.C();else{var y=this.a.o();this.a.advance(y)}},ue.prototype.skipDelimitedField=ue.prototype.gb,ue.prototype.hb=function(){this.b!=5?(Y("Invalid wire type for skipFixed32Field"),this.C()):this.a.advance(4)},ue.prototype.skipFixed32Field=ue.prototype.hb,ue.prototype.ib=function(){this.b!=1?(Y("Invalid wire type for skipFixed64Field"),this.C()):this.a.advance(8)},ue.prototype.skipFixed64Field=ue.prototype.ib,ue.prototype.jb=function(){var y=this.c;do{if(!this.oa()){Y("Unmatched start-group tag: stream EOF"),this.h=!0;break}if(this.b==4){this.c!=y&&(Y("Unmatched end-group tag"),this.h=!0);break}this.C()}while(!0)},ue.prototype.skipGroup=ue.prototype.jb,ue.prototype.C=function(){switch(this.b){case 0:this.lb();break;case 1:this.ib();break;case 2:this.gb();break;case 5:this.hb();break;case 3:this.jb();break;default:Y("Invalid wire encoding for field.")}},ue.prototype.skipField=ue.prototype.C,ue.prototype.Hc=function(y,M){this.v===null&&(this.v={}),B(!this.v[y]),this.v[y]=M},ue.prototype.registerReadCallback=ue.prototype.Hc,ue.prototype.Ic=function(y){return B(this.v!==null),y=this.v[y],B(y),y(this)},ue.prototype.runReadCallback=ue.prototype.Ic,ue.prototype.Yb=function(y,M){B(this.b==2);var U=this.a.c,Q=this.a.o();Q=this.a.B()+Q,this.a.setEnd(Q),M(y,this),this.a.Ma(Q),this.a.setEnd(U)},ue.prototype.readMessage=ue.prototype.Yb,ue.prototype.Ub=function(y,M,U){B(this.b==3),B(this.c==y),U(M,this),this.h||this.b==4||(Y("Group submessage did not end with an END_GROUP tag"),this.h=!0)},ue.prototype.readGroup=ue.prototype.Ub,ue.prototype.Gb=function(){B(this.b==2);var y=this.a.o(),M=this.a.B(),U=M+y;return y=Me(this.a.Y(),M,y),this.a.Ma(U),y},ue.prototype.getFieldDecoder=ue.prototype.Gb,ue.prototype.P=function(){return B(this.b==0),this.a.da()},ue.prototype.readInt32=ue.prototype.P,ue.prototype.Wb=function(){return B(this.b==0),this.a.Ea()},ue.prototype.readInt32String=ue.prototype.Wb,ue.prototype.ba=function(){return B(this.b==0),this.a.sa()},ue.prototype.readInt64=ue.prototype.ba,ue.prototype.ca=function(){return B(this.b==0),this.a.Fa()},ue.prototype.readInt64String=ue.prototype.ca,ue.prototype.m=function(){return B(this.b==0),this.a.o()},ue.prototype.readUint32=ue.prototype.m,ue.prototype.Fc=function(){return B(this.b==0),this.a.O()},ue.prototype.readUint32String=ue.prototype.Fc,ue.prototype.ga=function(){return B(this.b==0),this.a.Ga()},ue.prototype.readUint64=ue.prototype.ga,ue.prototype.ha=function(){return B(this.b==0),this.a.Ha()},ue.prototype.readUint64String=ue.prototype.ha,ue.prototype.zc=function(){return B(this.b==0),this.a.Ia()},ue.prototype.readSint32=ue.prototype.zc,ue.prototype.Ac=function(){return B(this.b==0),this.a.Ja()},ue.prototype.readSint64=ue.prototype.Ac,ue.prototype.Bc=function(){return B(this.b==0),this.a.Ka()},ue.prototype.readSint64String=ue.prototype.Bc,ue.prototype.Rb=function(){return B(this.b==5),this.a.m()},ue.prototype.readFixed32=ue.prototype.Rb,ue.prototype.Sb=function(){return B(this.b==1),this.a.ga()},ue.prototype.readFixed64=ue.prototype.Sb,ue.prototype.Tb=function(){return B(this.b==1),this.a.ha()},ue.prototype.readFixed64String=ue.prototype.Tb,ue.prototype.vc=function(){return B(this.b==5),this.a.P()},ue.prototype.readSfixed32=ue.prototype.vc,ue.prototype.wc=function(){return B(this.b==5),this.a.P().toString()},ue.prototype.readSfixed32String=ue.prototype.wc,ue.prototype.xc=function(){return B(this.b==1),this.a.ba()},ue.prototype.readSfixed64=ue.prototype.xc,ue.prototype.yc=function(){return B(this.b==1),this.a.ca()},ue.prototype.readSfixed64String=ue.prototype.yc,ue.prototype.aa=function(){return B(this.b==5),this.a.aa()},ue.prototype.readFloat=ue.prototype.aa,ue.prototype.Z=function(){return B(this.b==1),this.a.Z()},ue.prototype.readDouble=ue.prototype.Z,ue.prototype.pa=function(){return B(this.b==0),!!this.a.o()},ue.prototype.readBool=ue.prototype.pa,ue.prototype.ra=function(){return B(this.b==0),this.a.sa()},ue.prototype.readEnum=ue.prototype.ra,ue.prototype.fa=function(){B(this.b==2);var y=this.a.o();return this.a.fa(y)},ue.prototype.readString=ue.prototype.fa,ue.prototype.qa=function(){B(this.b==2);var y=this.a.o();return this.a.qa(y)},ue.prototype.readBytes=ue.prototype.qa,ue.prototype.ia=function(){return B(this.b==0),this.a.ia()},ue.prototype.readVarintHash64=ue.prototype.ia,ue.prototype.Cc=function(){return B(this.b==0),this.a.fb()},ue.prototype.readSintHash64=ue.prototype.Cc,ue.prototype.w=function(y){return B(this.b==0),this.a.w(y)},ue.prototype.readSplitVarint64=ue.prototype.w,ue.prototype.ea=function(y){return B(this.b==0),this.a.w(function(M,U){return zt(M,U,y)})},ue.prototype.readSplitZigzagVarint64=ue.prototype.ea,ue.prototype.$=function(){return B(this.b==1),this.a.$()},ue.prototype.readFixedHash64=ue.prototype.$,ue.prototype.ta=function(y){return B(this.b==1),this.a.ta(y)},ue.prototype.readSplitFixed64=ue.prototype.ta;function ct(y,M){B(y.b==2);var U=y.a.o();U=y.a.B()+U;for(var Q=[];y.a.B()<U;)Q.push(M.call(y.a));return Q}ue.prototype.gc=function(){return ct(this,this.a.da)},ue.prototype.readPackedInt32=ue.prototype.gc,ue.prototype.hc=function(){return ct(this,this.a.Ea)},ue.prototype.readPackedInt32String=ue.prototype.hc,ue.prototype.ic=function(){return ct(this,this.a.sa)},ue.prototype.readPackedInt64=ue.prototype.ic,ue.prototype.jc=function(){return ct(this,this.a.Fa)},ue.prototype.readPackedInt64String=ue.prototype.jc,ue.prototype.qc=function(){return ct(this,this.a.o)},ue.prototype.readPackedUint32=ue.prototype.qc,ue.prototype.rc=function(){return ct(this,this.a.O)},ue.prototype.readPackedUint32String=ue.prototype.rc,ue.prototype.sc=function(){return ct(this,this.a.Ga)},ue.prototype.readPackedUint64=ue.prototype.sc,ue.prototype.tc=function(){return ct(this,this.a.Ha)},ue.prototype.readPackedUint64String=ue.prototype.tc,ue.prototype.nc=function(){return ct(this,this.a.Ia)},ue.prototype.readPackedSint32=ue.prototype.nc,ue.prototype.oc=function(){return ct(this,this.a.Ja)},ue.prototype.readPackedSint64=ue.prototype.oc,ue.prototype.pc=function(){return ct(this,this.a.Ka)},ue.prototype.readPackedSint64String=ue.prototype.pc,ue.prototype.bc=function(){return ct(this,this.a.m)},ue.prototype.readPackedFixed32=ue.prototype.bc,ue.prototype.cc=function(){return ct(this,this.a.ga)},ue.prototype.readPackedFixed64=ue.prototype.cc,ue.prototype.dc=function(){return ct(this,this.a.ha)},ue.prototype.readPackedFixed64String=ue.prototype.dc,ue.prototype.kc=function(){return ct(this,this.a.P)},ue.prototype.readPackedSfixed32=ue.prototype.kc,ue.prototype.lc=function(){return ct(this,this.a.ba)},ue.prototype.readPackedSfixed64=ue.prototype.lc,ue.prototype.mc=function(){return ct(this,this.a.ca)},ue.prototype.readPackedSfixed64String=ue.prototype.mc,ue.prototype.fc=function(){return ct(this,this.a.aa)},ue.prototype.readPackedFloat=ue.prototype.fc,ue.prototype.$b=function(){return ct(this,this.a.Z)},ue.prototype.readPackedDouble=ue.prototype.$b,ue.prototype.Zb=function(){return ct(this,this.a.pa)},ue.prototype.readPackedBool=ue.prototype.Zb,ue.prototype.ac=function(){return ct(this,this.a.ra)},ue.prototype.readPackedEnum=ue.prototype.ac,ue.prototype.uc=function(){return ct(this,this.a.ia)},ue.prototype.readPackedVarintHash64=ue.prototype.uc,ue.prototype.ec=function(){return ct(this,this.a.$)},ue.prototype.readPackedFixedHash64=ue.prototype.ec;function Rt(y,M,U,Q,ye){this.ma=y,this.Ba=M,this.la=U,this.Na=Q,this.na=ye}p("jspb.ExtensionFieldInfo",Rt,void 0);function Le(y,M,U,Q,ye,Oe){this.Za=y,this.za=M,this.Aa=U,this.Wa=Q,this.Ab=ye,this.Nb=Oe}p("jspb.ExtensionFieldBinaryInfo",Le,void 0),Rt.prototype.F=function(){return!!this.la},Rt.prototype.isMessageType=Rt.prototype.F;function $e(){}p("jspb.Message",$e,void 0),$e.GENERATE_TO_OBJECT=!0,$e.GENERATE_FROM_OBJECT=!0;var At=typeof Uint8Array=="function";$e.prototype.Ib=function(){return this.b},$e.prototype.getJsPbMessageId=$e.prototype.Ib,$e.initialize=function(y,M,U,Q,ye,Oe){y.f=null,M||(M=U?[U]:[]),y.b=U?String(U):void 0,y.D=U===0?-1:0,y.u=M;e:{if(U=y.u.length,M=-1,U&&(M=U-1,U=y.u[M],!(U===null||typeof U!="object"||Array.isArray(U)||At&&U instanceof Uint8Array))){y.G=M-y.D,y.i=U;break e}-1<Q?(y.G=Math.max(Q,M+1-y.D),y.i=null):y.G=Number.MAX_VALUE}if(y.a={},ye)for(Q=0;Q<ye.length;Q++)M=ye[Q],M<y.G?(M+=y.D,y.u[M]=y.u[M]||Lt):(bt(y),y.i[M]=y.i[M]||Lt);if(Oe&&Oe.length)for(Q=0;Q<Oe.length;Q++)ns(y,Oe[Q])};var Lt=Object.freeze?Object.freeze([]):[];function bt(y){var M=y.G+y.D;y.u[M]||(y.i=y.u[M]={})}function tt(y,M,U){for(var Q=[],ye=0;ye<y.length;ye++)Q[ye]=M.call(y[ye],U,y[ye]);return Q}$e.toObjectList=tt,$e.toObjectExtension=function(y,M,U,Q,ye){for(var Oe in U){var et=U[Oe],ht=Q.call(y,et);if(ht!=null){for(var Jt in et.Ba)if(et.Ba.hasOwnProperty(Jt))break;M[Jt]=et.Na?et.na?tt(ht,et.Na,ye):et.Na(ye,ht):ht}}},$e.serializeBinaryExtensions=function(y,M,U,Q){for(var ye in U){var Oe=U[ye],et=Oe.Za;if(!Oe.Aa)throw Error("Message extension present that was generated without binary serialization support");var ht=Q.call(y,et);if(ht!=null)if(et.F())if(Oe.Wa)Oe.Aa.call(M,et.ma,ht,Oe.Wa);else throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");else Oe.Aa.call(M,et.ma,ht)}},$e.readBinaryExtension=function(y,M,U,Q,ye){var Oe=U[M.c];if(Oe){if(U=Oe.Za,!Oe.za)throw Error("Deserializing extension whose generated code does not support binary format");if(U.F()){var et=new U.la;Oe.za.call(M,et,Oe.Ab)}else et=Oe.za.call(M);U.na&&!Oe.Nb?(M=Q.call(y,U))?M.push(et):ye.call(y,U,[et]):ye.call(y,U,et)}else M.C()};function Dt(y,M){if(M<y.G){M+=y.D;var U=y.u[M];return U===Lt?y.u[M]=[]:U}if(y.i)return U=y.i[M],U===Lt?y.i[M]=[]:U}$e.getField=Dt,$e.getRepeatedField=function(y,M){return Dt(y,M)};function an(y,M){return y=Dt(y,M),y==null?y:+y}$e.getOptionalFloatingPointField=an;function An(y,M){return y=Dt(y,M),y==null?y:!!y}$e.getBooleanField=An,$e.getRepeatedFloatingPointField=function(y,M){var U=Dt(y,M);if(y.a||(y.a={}),!y.a[M]){for(var Q=0;Q<U.length;Q++)U[Q]=+U[Q];y.a[M]=!0}return U},$e.getRepeatedBooleanField=function(y,M){var U=Dt(y,M);if(y.a||(y.a={}),!y.a[M]){for(var Q=0;Q<U.length;Q++)U[Q]=!!U[Q];y.a[M]=!0}return U};function kn(y){return y==null||typeof y=="string"?y:At&&y instanceof Uint8Array?ae(y):(Y("Cannot coerce to b64 string: "+g(y)),null)}$e.bytesAsB64=kn;function Wr(y){return y==null||y instanceof Uint8Array?y:typeof y=="string"?De(y):(Y("Cannot coerce to Uint8Array: "+g(y)),null)}$e.bytesAsU8=Wr,$e.bytesListAsB64=function(y){return pi(y),y.length&&typeof y[0]!="string"?O(y,kn):y},$e.bytesListAsU8=function(y){return pi(y),!y.length||y[0]instanceof Uint8Array?y:O(y,Wr)};function pi(y){if(y&&1<y.length){var M=g(y[0]);R(y,function(U){g(U)!=M&&Y("Inconsistent type in JSPB repeated field array. Got "+g(U)+" expected "+M)})}}function Ws(y,M,U){return y=Dt(y,M),y??U}$e.getFieldWithDefault=Ws,$e.getBooleanFieldWithDefault=function(y,M,U){return y=An(y,M),y??U},$e.getFloatingPointFieldWithDefault=function(y,M,U){return y=an(y,M),y??U},$e.getFieldProto3=Ws,$e.getMapField=function(y,M,U,Q){if(y.f||(y.f={}),M in y.f)return y.f[M];var ye=Dt(y,M);if(!ye){if(U)return;ye=[],Zr(y,M,ye)}return y.f[M]=new re(ye,Q)};function Zr(y,M,U){return q(y,$e),M<y.G?y.u[M+y.D]=U:(bt(y),y.i[M]=U),y}$e.setField=Zr,$e.setProto3IntField=function(y,M,U){return Ts(y,M,U,0)},$e.setProto3FloatField=function(y,M,U){return Ts(y,M,U,0)},$e.setProto3BooleanField=function(y,M,U){return Ts(y,M,U,!1)},$e.setProto3StringField=function(y,M,U){return Ts(y,M,U,"")},$e.setProto3BytesField=function(y,M,U){return Ts(y,M,U,"")},$e.setProto3EnumField=function(y,M,U){return Ts(y,M,U,0)},$e.setProto3StringIntField=function(y,M,U){return Ts(y,M,U,"0")};function Ts(y,M,U,Q){return q(y,$e),U!==Q?Zr(y,M,U):M<y.G?y.u[M+y.D]=null:(bt(y),delete y.i[M]),y}$e.addToRepeatedField=function(y,M,U,Q){return q(y,$e),M=Dt(y,M),Q!=null?M.splice(Q,0,U):M.push(U),y};function Cs(y,M,U,Q){return q(y,$e),(U=ns(y,U))&&U!==M&&Q!==void 0&&(y.f&&U in y.f&&(y.f[U]=void 0),Zr(y,U,void 0)),Zr(y,M,Q)}$e.setOneofField=Cs;function ns(y,M){for(var U,Q,ye=0;ye<M.length;ye++){var Oe=M[ye],et=Dt(y,Oe);et!=null&&(U=Oe,Q=et,Zr(y,Oe,void 0))}return U?(Zr(y,U,Q),U):0}$e.computeOneofCase=ns,$e.getWrapperField=function(y,M,U,Q){if(y.f||(y.f={}),!y.f[U]){var ye=Dt(y,U);(Q||ye)&&(y.f[U]=new M(ye))}return y.f[U]},$e.getRepeatedWrapperField=function(y,M,U){return Hi(y,M,U),M=y.f[U],M==Lt&&(M=y.f[U]=[]),M};function Hi(y,M,U){if(y.f||(y.f={}),!y.f[U]){for(var Q=Dt(y,U),ye=[],Oe=0;Oe<Q.length;Oe++)ye[Oe]=new M(Q[Oe]);y.f[U]=ye}}$e.setWrapperField=function(y,M,U){q(y,$e),y.f||(y.f={});var Q=U&&U.g();return y.f[M]=U,Zr(y,M,Q)},$e.setOneofWrapperField=function(y,M,U,Q){q(y,$e),y.f||(y.f={});var ye=Q&&Q.g();return y.f[M]=Q,Cs(y,M,U,ye)},$e.setRepeatedWrapperField=function(y,M,U){q(y,$e),y.f||(y.f={}),U=U||[];for(var Q=[],ye=0;ye<U.length;ye++)Q[ye]=U[ye].g();return y.f[M]=U,Zr(y,M,Q)},$e.addToRepeatedWrapperField=function(y,M,U,Q,ye){Hi(y,Q,M);var Oe=y.f[M];return Oe||(Oe=y.f[M]=[]),U=U||new Q,y=Dt(y,M),ye!=null?(Oe.splice(ye,0,U),y.splice(ye,0,U.g())):(Oe.push(U),y.push(U.g())),U},$e.toMap=function(y,M,U,Q){for(var ye={},Oe=0;Oe<y.length;Oe++)ye[M.call(y[Oe])]=U?U.call(y[Oe],Q,y[Oe]):y[Oe];return ye};function Ti(y){if(y.f)for(var M in y.f){var U=y.f[M];if(Array.isArray(U))for(var Q=0;Q<U.length;Q++)U[Q]&&U[Q].g();else U&&U.g()}}$e.prototype.g=function(){return Ti(this),this.u},$e.prototype.toArray=$e.prototype.g,$e.prototype.toString=function(){return Ti(this),this.u.toString()},$e.prototype.getExtension=function(y){if(this.i){this.f||(this.f={});var M=y.ma;if(y.na){if(y.F())return this.f[M]||(this.f[M]=O(this.i[M]||[],function(U){return new y.la(U)})),this.f[M]}else if(y.F())return!this.f[M]&&this.i[M]&&(this.f[M]=new y.la(this.i[M])),this.f[M];return this.i[M]}},$e.prototype.getExtension=$e.prototype.getExtension,$e.prototype.Kc=function(y,M){this.f||(this.f={}),bt(this);var U=y.ma;return y.na?(M=M||[],y.F()?(this.f[U]=M,this.i[U]=O(M,function(Q){return Q.g()})):this.i[U]=M):y.F()?(this.f[U]=M,this.i[U]=M&&M.g()):this.i[U]=M,this},$e.prototype.setExtension=$e.prototype.Kc,$e.difference=function(y,M){if(!(y instanceof M.constructor))throw Error("Messages have different types.");var U=y.g();M=M.g();var Q=[],ye=0,Oe=U.length>M.length?U.length:M.length;for(y.b&&(Q[0]=y.b,ye=1);ye<Oe;ye++)Xn(U[ye],M[ye])||(Q[ye]=M[ye]);return new y.constructor(Q)},$e.equals=function(y,M){return y==M||!(!y||!M)&&y instanceof M.constructor&&Xn(y.g(),M.g())};function Ci(y,M){y=y||{},M=M||{};var U={},Q;for(Q in y)U[Q]=0;for(Q in M)U[Q]=0;for(Q in U)if(!Xn(y[Q],M[Q]))return!1;return!0}$e.compareExtensions=Ci;function Xn(y,M){if(y==M)return!0;if(!b(y)||!b(M))return typeof y=="number"&&isNaN(y)||typeof M=="number"&&isNaN(M)?String(y)==String(M):!1;if(y.constructor!=M.constructor)return!1;if(At&&y.constructor===Uint8Array){if(y.length!=M.length)return!1;for(var U=0;U<y.length;U++)if(y[U]!=M[U])return!1;return!0}if(y.constructor===Array){var Q=void 0,ye=void 0,Oe=Math.max(y.length,M.length);for(U=0;U<Oe;U++){var et=y[U],ht=M[U];if(et&&et.constructor==Object&&(B(Q===void 0),B(U===y.length-1),Q=et,et=void 0),ht&&ht.constructor==Object&&(B(ye===void 0),B(U===M.length-1),ye=ht,ht=void 0),!Xn(et,ht))return!1}return Q||ye?(Q=Q||{},ye=ye||{},Ci(Q,ye)):!0}if(y.constructor===Object)return Ci(y,M);throw Error("Invalid type in JSPB array")}$e.compareFields=Xn,$e.prototype.Bb=function(){return yr(this)},$e.prototype.cloneMessage=$e.prototype.Bb,$e.prototype.clone=function(){return yr(this)},$e.prototype.clone=$e.prototype.clone,$e.clone=function(y){return yr(y)};function yr(y){return new y.constructor(mi(y.g()))}$e.copyInto=function(y,M){q(y,$e),q(M,$e),B(y.constructor==M.constructor,"Copy source and target message should have the same type."),y=yr(y);for(var U=M.g(),Q=y.g(),ye=U.length=0;ye<Q.length;ye++)U[ye]=Q[ye];M.f=y.f,M.i=y.i};function mi(y){if(Array.isArray(y)){for(var M=Array(y.length),U=0;U<y.length;U++){var Q=y[U];Q!=null&&(M[U]=typeof Q=="object"?mi(B(Q)):Q)}return M}if(At&&y instanceof Uint8Array)return new Uint8Array(y);M={};for(U in y)Q=y[U],Q!=null&&(M[U]=typeof Q=="object"?mi(B(Q)):Q);return M}$e.registerMessageType=function(y,M){M.we=y};var pr={dump:function(y){return q(y,$e,"jspb.Message instance expected"),B(y.getExtension,"Only unobfuscated and unoptimized compilation modes supported."),pr.X(y)}};p("jspb.debug.dump",pr.dump,void 0),pr.X=function(y){var M=g(y);if(M=="number"||M=="string"||M=="boolean"||M=="null"||M=="undefined"||typeof Uint8Array<"u"&&y instanceof Uint8Array)return y;if(M=="array")return V(y),O(y,pr.X);if(y instanceof re){var U={};y=y.entries();for(var Q=y.next();!Q.done;Q=y.next())U[Q.value[0]]=pr.X(Q.value[1]);return U}q(y,$e,"Only messages expected: "+y),M=y.constructor;var ye={$name:M.name||M.displayName};for(ht in M.prototype){var Oe=/^get([A-Z]\w*)/.exec(ht);if(Oe&&ht!="getExtension"&&ht!="getJsPbMessageId"){var et="has"+Oe[1];(!y[et]||y[et]())&&(et=y[ht](),ye[pr.$a(Oe[1])]=pr.X(et))}}if(y.extensionObject_)return ye.$extensions="Recursive dumping of extensions not supported in compiled code. Switch to uncompiled or dump extension object directly",ye;for(Q in M.extensions)if(/^\d+$/.test(Q)){et=M.extensions[Q];var ht=y.getExtension(et);Oe=void 0,et=et.Ba;var Jt=[],or=0;for(Oe in et)Jt[or++]=Oe;Oe=Jt[0],ht!=null&&(U||(U=ye.$extensions={}),U[pr.$a(Oe)]=pr.X(ht))}return ye},pr.$a=function(y){return y.replace(/^[A-Z]/,function(M){return M.toLowerCase()})};function wt(){this.a=[]}p("jspb.BinaryEncoder",wt,void 0),wt.prototype.length=function(){return this.a.length},wt.prototype.length=wt.prototype.length,wt.prototype.end=function(){var y=this.a;return this.a=[],y},wt.prototype.end=wt.prototype.end,wt.prototype.l=function(y,M){for(B(y==Math.floor(y)),B(M==Math.floor(M)),B(0<=y&&4294967296>y),B(0<=M&&4294967296>M);0<M||127<y;)this.a.push(y&127|128),y=(y>>>7|M<<25)>>>0,M>>>=7;this.a.push(y)},wt.prototype.writeSplitVarint64=wt.prototype.l,wt.prototype.A=function(y,M){B(y==Math.floor(y)),B(M==Math.floor(M)),B(0<=y&&4294967296>y),B(0<=M&&4294967296>M),this.s(y),this.s(M)},wt.prototype.writeSplitFixed64=wt.prototype.A,wt.prototype.j=function(y){for(B(y==Math.floor(y)),B(0<=y&&4294967296>y);127<y;)this.a.push(y&127|128),y>>>=7;this.a.push(y)},wt.prototype.writeUnsignedVarint32=wt.prototype.j,wt.prototype.M=function(y){if(B(y==Math.floor(y)),B(-2147483648<=y&&2147483648>y),0<=y)this.j(y);else{for(var M=0;9>M;M++)this.a.push(y&127|128),y>>=7;this.a.push(1)}},wt.prototype.writeSignedVarint32=wt.prototype.M,wt.prototype.va=function(y){B(y==Math.floor(y)),B(0<=y&&18446744073709552e3>y),lt(y),this.l(Ue,qe)},wt.prototype.writeUnsignedVarint64=wt.prototype.va,wt.prototype.ua=function(y){B(y==Math.floor(y)),B(-9223372036854776e3<=y&&9223372036854776e3>y),lt(y),this.l(Ue,qe)},wt.prototype.writeSignedVarint64=wt.prototype.ua,wt.prototype.wa=function(y){B(y==Math.floor(y)),B(-2147483648<=y&&2147483648>y),this.j((y<<1^y>>31)>>>0)},wt.prototype.writeZigzagVarint32=wt.prototype.wa,wt.prototype.xa=function(y){B(y==Math.floor(y)),B(-9223372036854776e3<=y&&9223372036854776e3>y),Mt(y),this.l(Ue,qe)},wt.prototype.writeZigzagVarint64=wt.prototype.xa,wt.prototype.Ta=function(y){this.W(we(y))},wt.prototype.writeZigzagVarint64String=wt.prototype.Ta,wt.prototype.W=function(y){var M=this;Ve(y),mt(Ue,qe,function(U,Q){M.l(U>>>0,Q>>>0)})},wt.prototype.writeZigzagVarintHash64=wt.prototype.W,wt.prototype.be=function(y){B(y==Math.floor(y)),B(0<=y&&256>y),this.a.push(y>>>0&255)},wt.prototype.writeUint8=wt.prototype.be,wt.prototype.ae=function(y){B(y==Math.floor(y)),B(0<=y&&65536>y),this.a.push(y>>>0&255),this.a.push(y>>>8&255)},wt.prototype.writeUint16=wt.prototype.ae,wt.prototype.s=function(y){B(y==Math.floor(y)),B(0<=y&&4294967296>y),this.a.push(y>>>0&255),this.a.push(y>>>8&255),this.a.push(y>>>16&255),this.a.push(y>>>24&255)},wt.prototype.writeUint32=wt.prototype.s,wt.prototype.V=function(y){B(y==Math.floor(y)),B(0<=y&&18446744073709552e3>y),Pe(y),this.s(Ue),this.s(qe)},wt.prototype.writeUint64=wt.prototype.V,wt.prototype.Qc=function(y){B(y==Math.floor(y)),B(-128<=y&&128>y),this.a.push(y>>>0&255)},wt.prototype.writeInt8=wt.prototype.Qc,wt.prototype.Pc=function(y){B(y==Math.floor(y)),B(-32768<=y&&32768>y),this.a.push(y>>>0&255),this.a.push(y>>>8&255)},wt.prototype.writeInt16=wt.prototype.Pc,wt.prototype.S=function(y){B(y==Math.floor(y)),B(-2147483648<=y&&2147483648>y),this.a.push(y>>>0&255),this.a.push(y>>>8&255),this.a.push(y>>>16&255),this.a.push(y>>>24&255)},wt.prototype.writeInt32=wt.prototype.S,wt.prototype.T=function(y){B(y==Math.floor(y)),B(-9223372036854776e3<=y&&9223372036854776e3>y),lt(y),this.A(Ue,qe)},wt.prototype.writeInt64=wt.prototype.T,wt.prototype.ka=function(y){B(y==Math.floor(y)),B(-9223372036854776e3<=+y&&9223372036854776e3>+y),Ve(we(y)),this.A(Ue,qe)},wt.prototype.writeInt64String=wt.prototype.ka,wt.prototype.L=function(y){B(y===1/0||y===-1/0||isNaN(y)||-34028234663852886e22<=y&&34028234663852886e22>=y),Ze(y),this.s(Ue)},wt.prototype.writeFloat=wt.prototype.L,wt.prototype.J=function(y){B(y===1/0||y===-1/0||isNaN(y)||-17976931348623157e292<=y&&17976931348623157e292>=y),_t(y),this.s(Ue),this.s(qe)},wt.prototype.writeDouble=wt.prototype.J,wt.prototype.I=function(y){B(typeof y=="boolean"||typeof y=="number"),this.a.push(y?1:0)},wt.prototype.writeBool=wt.prototype.I,wt.prototype.R=function(y){B(y==Math.floor(y)),B(-2147483648<=y&&2147483648>y),this.M(y)},wt.prototype.writeEnum=wt.prototype.R,wt.prototype.ja=function(y){this.a.push.apply(this.a,y)},wt.prototype.writeBytes=wt.prototype.ja,wt.prototype.N=function(y){Ve(y),this.l(Ue,qe)},wt.prototype.writeVarintHash64=wt.prototype.N,wt.prototype.K=function(y){Ve(y),this.s(Ue),this.s(qe)},wt.prototype.writeFixedHash64=wt.prototype.K,wt.prototype.U=function(y){var M=this.a.length;z(y);for(var U=0;U<y.length;U++){var Q=y.charCodeAt(U);if(128>Q)this.a.push(Q);else if(2048>Q)this.a.push(Q>>6|192),this.a.push(Q&63|128);else if(65536>Q)if(55296<=Q&&56319>=Q&&U+1<y.length){var ye=y.charCodeAt(U+1);56320<=ye&&57343>=ye&&(Q=1024*(Q-55296)+ye-56320+65536,this.a.push(Q>>18|240),this.a.push(Q>>12&63|128),this.a.push(Q>>6&63|128),this.a.push(Q&63|128),U++)}else this.a.push(Q>>12|224),this.a.push(Q>>6&63|128),this.a.push(Q&63|128)}return this.a.length-M},wt.prototype.writeString=wt.prototype.U;function Gt(y,M){this.lo=y,this.hi=M}p("jspb.arith.UInt64",Gt,void 0),Gt.prototype.cmp=function(y){return this.hi<y.hi||this.hi==y.hi&&this.lo<y.lo?-1:this.hi==y.hi&&this.lo==y.lo?0:1},Gt.prototype.cmp=Gt.prototype.cmp,Gt.prototype.La=function(){return new Gt((this.lo>>>1|(this.hi&1)<<31)>>>0,this.hi>>>1>>>0)},Gt.prototype.rightShift=Gt.prototype.La,Gt.prototype.Da=function(){return new Gt(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},Gt.prototype.leftShift=Gt.prototype.Da,Gt.prototype.cb=function(){return!!(this.hi&2147483648)},Gt.prototype.msb=Gt.prototype.cb,Gt.prototype.Ob=function(){return!!(this.lo&1)},Gt.prototype.lsb=Gt.prototype.Ob,Gt.prototype.Ua=function(){return this.lo==0&&this.hi==0},Gt.prototype.zero=Gt.prototype.Ua,Gt.prototype.add=function(y){return new Gt((this.lo+y.lo&4294967295)>>>0>>>0,((this.hi+y.hi&4294967295)>>>0)+(4294967296<=this.lo+y.lo?1:0)>>>0)},Gt.prototype.add=Gt.prototype.add,Gt.prototype.sub=function(y){return new Gt((this.lo-y.lo&4294967295)>>>0>>>0,((this.hi-y.hi&4294967295)>>>0)-(0>this.lo-y.lo?1:0)>>>0)},Gt.prototype.sub=Gt.prototype.sub;function Ca(y,M){var U=y&65535;y>>>=16;var Q=M&65535,ye=M>>>16;for(M=U*Q+65536*(U*ye&65535)+65536*(y*Q&65535),U=y*ye+(U*ye>>>16)+(y*Q>>>16);4294967296<=M;)M-=4294967296,U+=1;return new Gt(M>>>0,U>>>0)}Gt.mul32x32=Ca,Gt.prototype.eb=function(y){var M=Ca(this.lo,y);return y=Ca(this.hi,y),y.hi=y.lo,y.lo=0,M.add(y)},Gt.prototype.mul=Gt.prototype.eb,Gt.prototype.Xa=function(y){if(y==0)return[];var M=new Gt(0,0),U=new Gt(this.lo,this.hi);y=new Gt(y,0);for(var Q=new Gt(1,0);!y.cb();)y=y.Da(),Q=Q.Da();for(;!Q.Ua();)0>=y.cmp(U)&&(M=M.add(Q),U=U.sub(y)),y=y.La(),Q=Q.La();return[M,U]},Gt.prototype.div=Gt.prototype.Xa,Gt.prototype.toString=function(){for(var y="",M=this;!M.Ua();){M=M.Xa(10);var U=M[0];y=M[1].lo+y,M=U}return y==""&&(y="0"),y},Gt.prototype.toString=Gt.prototype.toString;function ri(y){for(var M=new Gt(0,0),U=new Gt(0,0),Q=0;Q<y.length;Q++){if("0">y[Q]||"9"<y[Q])return null;U.lo=parseInt(y[Q],10),M=M.eb(10).add(U)}return M}Gt.fromString=ri,Gt.prototype.clone=function(){return new Gt(this.lo,this.hi)},Gt.prototype.clone=Gt.prototype.clone;function rr(y,M){this.lo=y,this.hi=M}p("jspb.arith.Int64",rr,void 0),rr.prototype.add=function(y){return new rr((this.lo+y.lo&4294967295)>>>0>>>0,((this.hi+y.hi&4294967295)>>>0)+(4294967296<=this.lo+y.lo?1:0)>>>0)},rr.prototype.add=rr.prototype.add,rr.prototype.sub=function(y){return new rr((this.lo-y.lo&4294967295)>>>0>>>0,((this.hi-y.hi&4294967295)>>>0)-(0>this.lo-y.lo?1:0)>>>0)},rr.prototype.sub=rr.prototype.sub,rr.prototype.clone=function(){return new rr(this.lo,this.hi)},rr.prototype.clone=rr.prototype.clone,rr.prototype.toString=function(){var y=(this.hi&2147483648)!=0,M=new Gt(this.lo,this.hi);return y&&(M=new Gt(0,0).sub(M)),(y?"-":"")+M.toString()},rr.prototype.toString=rr.prototype.toString;function rs(y){var M=0<y.length&&y[0]=="-";return M&&(y=y.substring(1)),y=ri(y),y===null?null:(M&&(y=new Gt(0,0).sub(y)),new rr(y.lo,y.hi))}rr.fromString=rs;function ve(){this.c=[],this.b=0,this.a=new wt,this.h=[]}p("jspb.BinaryWriter",ve,void 0);function $s(y,M){var U=y.a.end();y.c.push(U),y.c.push(M),y.b+=U.length+M.length}function de(y,M){return Be(y,M,2),M=y.a.end(),y.c.push(M),y.b+=M.length,M.push(y.b),M}function Ae(y,M){var U=M.pop();for(U=y.b+y.a.length()-U,B(0<=U);127<U;)M.push(U&127|128),U>>>=7,y.b++;M.push(U),y.b++}ve.prototype.pb=function(y,M,U){$s(this,y.subarray(M,U))},ve.prototype.writeSerializedMessage=ve.prototype.pb,ve.prototype.Pb=function(y,M,U){y!=null&&M!=null&&U!=null&&this.pb(y,M,U)},ve.prototype.maybeWriteSerializedMessage=ve.prototype.Pb,ve.prototype.reset=function(){this.c=[],this.a.end(),this.b=0,this.h=[]},ve.prototype.reset=ve.prototype.reset,ve.prototype.ab=function(){B(this.h.length==0);for(var y=new Uint8Array(this.b+this.a.length()),M=this.c,U=M.length,Q=0,ye=0;ye<U;ye++){var Oe=M[ye];y.set(Oe,Q),Q+=Oe.length}return M=this.a.end(),y.set(M,Q),Q+=M.length,B(Q==y.length),this.c=[y],y},ve.prototype.getResultBuffer=ve.prototype.ab,ve.prototype.Kb=function(y){return ae(this.ab(),y)},ve.prototype.getResultBase64String=ve.prototype.Kb,ve.prototype.Va=function(y){this.h.push(de(this,y))},ve.prototype.beginSubMessage=ve.prototype.Va,ve.prototype.Ya=function(){B(0<=this.h.length),Ae(this,this.h.pop())},ve.prototype.endSubMessage=ve.prototype.Ya;function Be(y,M,U){B(1<=M&&M==Math.floor(M)),y.a.j(8*M+U)}ve.prototype.Nc=function(y,M,U){switch(y){case 1:this.J(M,U);break;case 2:this.L(M,U);break;case 3:this.T(M,U);break;case 4:this.V(M,U);break;case 5:this.S(M,U);break;case 6:this.Qa(M,U);break;case 7:this.Pa(M,U);break;case 8:this.I(M,U);break;case 9:this.U(M,U);break;case 10:Y("Group field type not supported in writeAny()");break;case 11:Y("Message field type not supported in writeAny()");break;case 12:this.ja(M,U);break;case 13:this.s(M,U);break;case 14:this.R(M,U);break;case 15:this.Ra(M,U);break;case 16:this.Sa(M,U);break;case 17:this.rb(M,U);break;case 18:this.sb(M,U);break;case 30:this.K(M,U);break;case 31:this.N(M,U);break;default:Y("Invalid field type in writeAny()")}},ve.prototype.writeAny=ve.prototype.Nc;function ze(y,M,U){U!=null&&(Be(y,M,0),y.a.j(U))}function _(y,M,U){U!=null&&(Be(y,M,0),y.a.M(U))}ve.prototype.S=function(y,M){M!=null&&(B(-2147483648<=M&&2147483648>M),_(this,y,M))},ve.prototype.writeInt32=ve.prototype.S,ve.prototype.ob=function(y,M){M!=null&&(M=parseInt(M,10),B(-2147483648<=M&&2147483648>M),_(this,y,M))},ve.prototype.writeInt32String=ve.prototype.ob,ve.prototype.T=function(y,M){M!=null&&(B(-9223372036854776e3<=M&&9223372036854776e3>M),M!=null&&(Be(this,y,0),this.a.ua(M)))},ve.prototype.writeInt64=ve.prototype.T,ve.prototype.ka=function(y,M){M!=null&&(M=rs(M),Be(this,y,0),this.a.l(M.lo,M.hi))},ve.prototype.writeInt64String=ve.prototype.ka,ve.prototype.s=function(y,M){M!=null&&(B(0<=M&&4294967296>M),ze(this,y,M))},ve.prototype.writeUint32=ve.prototype.s,ve.prototype.ub=function(y,M){M!=null&&(M=parseInt(M,10),B(0<=M&&4294967296>M),ze(this,y,M))},ve.prototype.writeUint32String=ve.prototype.ub,ve.prototype.V=function(y,M){M!=null&&(B(0<=M&&18446744073709552e3>M),M!=null&&(Be(this,y,0),this.a.va(M)))},ve.prototype.writeUint64=ve.prototype.V,ve.prototype.vb=function(y,M){M!=null&&(M=ri(M),Be(this,y,0),this.a.l(M.lo,M.hi))},ve.prototype.writeUint64String=ve.prototype.vb,ve.prototype.rb=function(y,M){M!=null&&(B(-2147483648<=M&&2147483648>M),M!=null&&(Be(this,y,0),this.a.wa(M)))},ve.prototype.writeSint32=ve.prototype.rb,ve.prototype.sb=function(y,M){M!=null&&(B(-9223372036854776e3<=M&&9223372036854776e3>M),M!=null&&(Be(this,y,0),this.a.xa(M)))},ve.prototype.writeSint64=ve.prototype.sb,ve.prototype.$d=function(y,M){M!=null&&M!=null&&(Be(this,y,0),this.a.W(M))},ve.prototype.writeSintHash64=ve.prototype.$d,ve.prototype.Zd=function(y,M){M!=null&&M!=null&&(Be(this,y,0),this.a.Ta(M))},ve.prototype.writeSint64String=ve.prototype.Zd,ve.prototype.Pa=function(y,M){M!=null&&(B(0<=M&&4294967296>M),Be(this,y,5),this.a.s(M))},ve.prototype.writeFixed32=ve.prototype.Pa,ve.prototype.Qa=function(y,M){M!=null&&(B(0<=M&&18446744073709552e3>M),Be(this,y,1),this.a.V(M))},ve.prototype.writeFixed64=ve.prototype.Qa,ve.prototype.nb=function(y,M){M!=null&&(M=ri(M),Be(this,y,1),this.a.A(M.lo,M.hi))},ve.prototype.writeFixed64String=ve.prototype.nb,ve.prototype.Ra=function(y,M){M!=null&&(B(-2147483648<=M&&2147483648>M),Be(this,y,5),this.a.S(M))},ve.prototype.writeSfixed32=ve.prototype.Ra,ve.prototype.Sa=function(y,M){M!=null&&(B(-9223372036854776e3<=M&&9223372036854776e3>M),Be(this,y,1),this.a.T(M))},ve.prototype.writeSfixed64=ve.prototype.Sa,ve.prototype.qb=function(y,M){M!=null&&(M=rs(M),Be(this,y,1),this.a.A(M.lo,M.hi))},ve.prototype.writeSfixed64String=ve.prototype.qb,ve.prototype.L=function(y,M){M!=null&&(Be(this,y,5),this.a.L(M))},ve.prototype.writeFloat=ve.prototype.L,ve.prototype.J=function(y,M){M!=null&&(Be(this,y,1),this.a.J(M))},ve.prototype.writeDouble=ve.prototype.J,ve.prototype.I=function(y,M){M!=null&&(B(typeof M=="boolean"||typeof M=="number"),Be(this,y,0),this.a.I(M))},ve.prototype.writeBool=ve.prototype.I,ve.prototype.R=function(y,M){M!=null&&(B(-2147483648<=M&&2147483648>M),Be(this,y,0),this.a.M(M))},ve.prototype.writeEnum=ve.prototype.R,ve.prototype.U=function(y,M){M!=null&&(y=de(this,y),this.a.U(M),Ae(this,y))},ve.prototype.writeString=ve.prototype.U,ve.prototype.ja=function(y,M){M!=null&&(M=ce(M),Be(this,y,2),this.a.j(M.length),$s(this,M))},ve.prototype.writeBytes=ve.prototype.ja,ve.prototype.Rc=function(y,M,U){M!=null&&(y=de(this,y),U(M,this),Ae(this,y))},ve.prototype.writeMessage=ve.prototype.Rc,ve.prototype.Sc=function(y,M,U){M!=null&&(Be(this,1,3),Be(this,2,0),this.a.M(y),y=de(this,3),U(M,this),Ae(this,y),Be(this,1,4))},ve.prototype.writeMessageSet=ve.prototype.Sc,ve.prototype.Oc=function(y,M,U){M!=null&&(Be(this,y,3),U(M,this),Be(this,y,4))},ve.prototype.writeGroup=ve.prototype.Oc,ve.prototype.K=function(y,M){M!=null&&(B(M.length==8),Be(this,y,1),this.a.K(M))},ve.prototype.writeFixedHash64=ve.prototype.K,ve.prototype.N=function(y,M){M!=null&&(B(M.length==8),Be(this,y,0),this.a.N(M))},ve.prototype.writeVarintHash64=ve.prototype.N,ve.prototype.A=function(y,M,U){Be(this,y,1),this.a.A(M,U)},ve.prototype.writeSplitFixed64=ve.prototype.A,ve.prototype.l=function(y,M,U){Be(this,y,0),this.a.l(M,U)},ve.prototype.writeSplitVarint64=ve.prototype.l,ve.prototype.tb=function(y,M,U){Be(this,y,0);var Q=this.a;mt(M,U,function(ye,Oe){Q.l(ye>>>0,Oe>>>0)})},ve.prototype.writeSplitZigzagVarint64=ve.prototype.tb,ve.prototype.Ed=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)_(this,y,M[U])},ve.prototype.writeRepeatedInt32=ve.prototype.Ed,ve.prototype.Fd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.ob(y,M[U])},ve.prototype.writeRepeatedInt32String=ve.prototype.Fd,ve.prototype.Gd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++){var Q=M[U];Q!=null&&(Be(this,y,0),this.a.ua(Q))}},ve.prototype.writeRepeatedInt64=ve.prototype.Gd,ve.prototype.Qd=function(y,M,U,Q){if(M!=null)for(var ye=0;ye<M.length;ye++)this.A(y,U(M[ye]),Q(M[ye]))},ve.prototype.writeRepeatedSplitFixed64=ve.prototype.Qd,ve.prototype.Rd=function(y,M,U,Q){if(M!=null)for(var ye=0;ye<M.length;ye++)this.l(y,U(M[ye]),Q(M[ye]))},ve.prototype.writeRepeatedSplitVarint64=ve.prototype.Rd,ve.prototype.Sd=function(y,M,U,Q){if(M!=null)for(var ye=0;ye<M.length;ye++)this.tb(y,U(M[ye]),Q(M[ye]))},ve.prototype.writeRepeatedSplitZigzagVarint64=ve.prototype.Sd,ve.prototype.Hd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.ka(y,M[U])},ve.prototype.writeRepeatedInt64String=ve.prototype.Hd,ve.prototype.Ud=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)ze(this,y,M[U])},ve.prototype.writeRepeatedUint32=ve.prototype.Ud,ve.prototype.Vd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.ub(y,M[U])},ve.prototype.writeRepeatedUint32String=ve.prototype.Vd,ve.prototype.Wd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++){var Q=M[U];Q!=null&&(Be(this,y,0),this.a.va(Q))}},ve.prototype.writeRepeatedUint64=ve.prototype.Wd,ve.prototype.Xd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.vb(y,M[U])},ve.prototype.writeRepeatedUint64String=ve.prototype.Xd,ve.prototype.Md=function(y,M){if(M!=null)for(var U=0;U<M.length;U++){var Q=M[U];Q!=null&&(Be(this,y,0),this.a.wa(Q))}},ve.prototype.writeRepeatedSint32=ve.prototype.Md,ve.prototype.Nd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++){var Q=M[U];Q!=null&&(Be(this,y,0),this.a.xa(Q))}},ve.prototype.writeRepeatedSint64=ve.prototype.Nd,ve.prototype.Od=function(y,M){if(M!=null)for(var U=0;U<M.length;U++){var Q=M[U];Q!=null&&(Be(this,y,0),this.a.Ta(Q))}},ve.prototype.writeRepeatedSint64String=ve.prototype.Od,ve.prototype.Pd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++){var Q=M[U];Q!=null&&(Be(this,y,0),this.a.W(Q))}},ve.prototype.writeRepeatedSintHash64=ve.prototype.Pd,ve.prototype.yd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.Pa(y,M[U])},ve.prototype.writeRepeatedFixed32=ve.prototype.yd,ve.prototype.zd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.Qa(y,M[U])},ve.prototype.writeRepeatedFixed64=ve.prototype.zd,ve.prototype.Ad=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.nb(y,M[U])},ve.prototype.writeRepeatedFixed64String=ve.prototype.Ad,ve.prototype.Jd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.Ra(y,M[U])},ve.prototype.writeRepeatedSfixed32=ve.prototype.Jd,ve.prototype.Kd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.Sa(y,M[U])},ve.prototype.writeRepeatedSfixed64=ve.prototype.Kd,ve.prototype.Ld=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.qb(y,M[U])},ve.prototype.writeRepeatedSfixed64String=ve.prototype.Ld,ve.prototype.Cd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.L(y,M[U])},ve.prototype.writeRepeatedFloat=ve.prototype.Cd,ve.prototype.wd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.J(y,M[U])},ve.prototype.writeRepeatedDouble=ve.prototype.wd,ve.prototype.ud=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.I(y,M[U])},ve.prototype.writeRepeatedBool=ve.prototype.ud,ve.prototype.xd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.R(y,M[U])},ve.prototype.writeRepeatedEnum=ve.prototype.xd,ve.prototype.Td=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.U(y,M[U])},ve.prototype.writeRepeatedString=ve.prototype.Td,ve.prototype.vd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.ja(y,M[U])},ve.prototype.writeRepeatedBytes=ve.prototype.vd,ve.prototype.Id=function(y,M,U){if(M!=null)for(var Q=0;Q<M.length;Q++){var ye=de(this,y);U(M[Q],this),Ae(this,ye)}},ve.prototype.writeRepeatedMessage=ve.prototype.Id,ve.prototype.Dd=function(y,M,U){if(M!=null)for(var Q=0;Q<M.length;Q++)Be(this,y,3),U(M[Q],this),Be(this,y,4)},ve.prototype.writeRepeatedGroup=ve.prototype.Dd,ve.prototype.Bd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.K(y,M[U])},ve.prototype.writeRepeatedFixedHash64=ve.prototype.Bd,ve.prototype.Yd=function(y,M){if(M!=null)for(var U=0;U<M.length;U++)this.N(y,M[U])},ve.prototype.writeRepeatedVarintHash64=ve.prototype.Yd,ve.prototype.ad=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.M(M[U]);Ae(this,y)}},ve.prototype.writePackedInt32=ve.prototype.ad,ve.prototype.bd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.M(parseInt(M[U],10));Ae(this,y)}},ve.prototype.writePackedInt32String=ve.prototype.bd,ve.prototype.cd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.ua(M[U]);Ae(this,y)}},ve.prototype.writePackedInt64=ve.prototype.cd,ve.prototype.md=function(y,M,U,Q){if(M!=null){y=de(this,y);for(var ye=0;ye<M.length;ye++)this.a.A(U(M[ye]),Q(M[ye]));Ae(this,y)}},ve.prototype.writePackedSplitFixed64=ve.prototype.md,ve.prototype.nd=function(y,M,U,Q){if(M!=null){y=de(this,y);for(var ye=0;ye<M.length;ye++)this.a.l(U(M[ye]),Q(M[ye]));Ae(this,y)}},ve.prototype.writePackedSplitVarint64=ve.prototype.nd,ve.prototype.od=function(y,M,U,Q){if(M!=null){y=de(this,y);for(var ye=this.a,Oe=0;Oe<M.length;Oe++)mt(U(M[Oe]),Q(M[Oe]),function(et,ht){ye.l(et>>>0,ht>>>0)});Ae(this,y)}},ve.prototype.writePackedSplitZigzagVarint64=ve.prototype.od,ve.prototype.dd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++){var Q=rs(M[U]);this.a.l(Q.lo,Q.hi)}Ae(this,y)}},ve.prototype.writePackedInt64String=ve.prototype.dd,ve.prototype.pd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.j(M[U]);Ae(this,y)}},ve.prototype.writePackedUint32=ve.prototype.pd,ve.prototype.qd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.j(parseInt(M[U],10));Ae(this,y)}},ve.prototype.writePackedUint32String=ve.prototype.qd,ve.prototype.rd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.va(M[U]);Ae(this,y)}},ve.prototype.writePackedUint64=ve.prototype.rd,ve.prototype.sd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++){var Q=ri(M[U]);this.a.l(Q.lo,Q.hi)}Ae(this,y)}},ve.prototype.writePackedUint64String=ve.prototype.sd,ve.prototype.hd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.wa(M[U]);Ae(this,y)}},ve.prototype.writePackedSint32=ve.prototype.hd,ve.prototype.jd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.xa(M[U]);Ae(this,y)}},ve.prototype.writePackedSint64=ve.prototype.jd,ve.prototype.kd=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.W(we(M[U]));Ae(this,y)}},ve.prototype.writePackedSint64String=ve.prototype.kd,ve.prototype.ld=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.W(M[U]);Ae(this,y)}},ve.prototype.writePackedSintHash64=ve.prototype.ld,ve.prototype.Wc=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(4*M.length),y=0;y<M.length;y++)this.a.s(M[y])},ve.prototype.writePackedFixed32=ve.prototype.Wc,ve.prototype.Xc=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(8*M.length),y=0;y<M.length;y++)this.a.V(M[y])},ve.prototype.writePackedFixed64=ve.prototype.Xc,ve.prototype.Yc=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(8*M.length),y=0;y<M.length;y++){var U=ri(M[y]);this.a.A(U.lo,U.hi)}},ve.prototype.writePackedFixed64String=ve.prototype.Yc,ve.prototype.ed=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(4*M.length),y=0;y<M.length;y++)this.a.S(M[y])},ve.prototype.writePackedSfixed32=ve.prototype.ed,ve.prototype.fd=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(8*M.length),y=0;y<M.length;y++)this.a.T(M[y])},ve.prototype.writePackedSfixed64=ve.prototype.fd,ve.prototype.gd=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(8*M.length),y=0;y<M.length;y++)this.a.ka(M[y])},ve.prototype.writePackedSfixed64String=ve.prototype.gd,ve.prototype.$c=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(4*M.length),y=0;y<M.length;y++)this.a.L(M[y])},ve.prototype.writePackedFloat=ve.prototype.$c,ve.prototype.Uc=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(8*M.length),y=0;y<M.length;y++)this.a.J(M[y])},ve.prototype.writePackedDouble=ve.prototype.Uc,ve.prototype.Tc=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(M.length),y=0;y<M.length;y++)this.a.I(M[y])},ve.prototype.writePackedBool=ve.prototype.Tc,ve.prototype.Vc=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.R(M[U]);Ae(this,y)}},ve.prototype.writePackedEnum=ve.prototype.Vc,ve.prototype.Zc=function(y,M){if(M!=null&&M.length)for(Be(this,y,2),this.a.j(8*M.length),y=0;y<M.length;y++)this.a.K(M[y])},ve.prototype.writePackedFixedHash64=ve.prototype.Zc,ve.prototype.td=function(y,M){if(M!=null&&M.length){y=de(this,y);for(var U=0;U<M.length;U++)this.a.N(M[U]);Ae(this,y)}},ve.prototype.writePackedVarintHash64=ve.prototype.td,n.debug=pr,n.Map=re,n.Message=$e,n.BinaryReader=ue,n.BinaryWriter=ve,n.ExtensionFieldInfo=Rt,n.ExtensionFieldBinaryInfo=Le,n.exportSymbol=S,n.inherits=w,n.object={extend:k},n.typeOf=g})(vy)),vy}var W=Ike(),xt;(function(n){var o,c,d,g,S,E;const l=class l extends W.Message{constructor(D){super();Ge(this,o,[]);W.Message.initialize(this,Array.isArray(D)?D:[],0,-1,[],X(this,o)),!Array.isArray(D)&&typeof D=="object"&&"value"in D&&D.value!=null&&(this.value=D.value)}get value(){return W.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set value(D){W.Message.setField(this,1,D)}static fromObject(D){const I=new l({});return D.value!=null&&(I.value=D.value),I}toObject(){const D={};return this.value!=null&&(D.value=this.value),D}serialize(D){const I=D||new W.BinaryWriter;if(this.value.length&&I.writeBytes(1,this.value),!D)return I.getResultBuffer()}static deserialize(D){const I=D instanceof W.BinaryReader?D:new W.BinaryReader(D),B=new l;for(;I.nextField()&&!I.isEndGroup();)switch(I.getFieldNumber()){case 1:B.value=I.readBytes();break;default:I.skipField()}return B}serializeBinary(){return this.serialize()}static deserializeBinary(D){return l.deserialize(D)}};o=new WeakMap;let e=l;n.ProtoLocation=e;const f=class f extends W.Message{constructor(D){super();Ge(this,c,[]);W.Message.initialize(this,Array.isArray(D)?D:[],0,-1,[],X(this,c)),!Array.isArray(D)&&typeof D=="object"&&"value"in D&&D.value!=null&&(this.value=D.value)}get value(){return W.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set value(D){W.Message.setField(this,1,D)}static fromObject(D){const I=new f({});return D.value!=null&&(I.value=D.value),I}toObject(){const D={};return this.value!=null&&(D.value=this.value),D}serialize(D){const I=D||new W.BinaryWriter;if(this.value.length&&I.writeBytes(1,this.value),!D)return I.getResultBuffer()}static deserialize(D){const I=D instanceof W.BinaryReader?D:new W.BinaryReader(D),B=new f;for(;I.nextField()&&!I.isEndGroup();)switch(I.getFieldNumber()){case 1:B.value=I.readBytes();break;default:I.skipField()}return B}serializeBinary(){return this.serialize()}static deserializeBinary(D){return f.deserialize(D)}};c=new WeakMap;let t=f;n.ProtoHash=t;const p=class p extends W.Message{constructor(D){super();Ge(this,d,[]);W.Message.initialize(this,Array.isArray(D)?D:[],0,-1,[1],X(this,d)),!Array.isArray(D)&&typeof D=="object"&&"hashes"in D&&D.hashes!=null&&(this.hashes=D.hashes)}get hashes(){return W.Message.getRepeatedWrapperField(this,t,1)}set hashes(D){W.Message.setRepeatedWrapperField(this,1,D)}static fromObject(D){const I=new p({});return D.hashes!=null&&(I.hashes=D.hashes.map(B=>t.fromObject(B))),I}toObject(){const D={};return this.hashes!=null&&(D.hashes=this.hashes.map(I=>I.toObject())),D}serialize(D){const I=D||new W.BinaryWriter;if(this.hashes.length&&I.writeRepeatedMessage(1,this.hashes,B=>B.serialize(I)),!D)return I.getResultBuffer()}static deserialize(D){const I=D instanceof W.BinaryReader?D:new W.BinaryReader(D),B=new p;for(;I.nextField()&&!I.isEndGroup();)switch(I.getFieldNumber()){case 1:I.readMessage(B.hashes,()=>W.Message.addToRepeatedWrapperField(B,1,t.deserialize(I),t));break;default:I.skipField()}return B}serializeBinary(){return this.serialize()}static deserializeBinary(D){return p.deserialize(D)}};d=new WeakMap;let r=p;n.ProtoHashes=r;const b=class b extends W.Message{constructor(D){super();Ge(this,g,[]);W.Message.initialize(this,Array.isArray(D)?D:[],0,-1,[],X(this,g)),!Array.isArray(D)&&typeof D=="object"&&"value"in D&&D.value!=null&&(this.value=D.value)}get value(){return W.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set value(D){W.Message.setField(this,1,D)}static fromObject(D){const I=new b({});return D.value!=null&&(I.value=D.value),I}toObject(){const D={};return this.value!=null&&(D.value=this.value),D}serialize(D){const I=D||new W.BinaryWriter;if(this.value.length&&I.writeBytes(1,this.value),!D)return I.getResultBuffer()}static deserialize(D){const I=D instanceof W.BinaryReader?D:new W.BinaryReader(D),B=new b;for(;I.nextField()&&!I.isEndGroup();)switch(I.getFieldNumber()){case 1:B.value=I.readBytes();break;default:I.skipField()}return B}serializeBinary(){return this.serialize()}static deserializeBinary(D){return b.deserialize(D)}};g=new WeakMap;let i=b;n.ProtoAddress=i;const w=class w extends W.Message{constructor(D){super();Ge(this,S,[]);W.Message.initialize(this,Array.isArray(D)?D:[],0,-1,[],X(this,S)),!Array.isArray(D)&&typeof D=="object"&&"value"in D&&D.value!=null&&(this.value=D.value)}get value(){return W.Message.getFieldWithDefault(this,1,0)}set value(D){W.Message.setField(this,1,D)}static fromObject(D){const I=new w({});return D.value!=null&&(I.value=D.value),I}toObject(){const D={};return this.value!=null&&(D.value=this.value),D}serialize(D){const I=D||new W.BinaryWriter;if(this.value!=0&&I.writeUint64(1,this.value),!D)return I.getResultBuffer()}static deserialize(D){const I=D instanceof W.BinaryReader?D:new W.BinaryReader(D),B=new w;for(;I.nextField()&&!I.isEndGroup();)switch(I.getFieldNumber()){case 1:B.value=I.readUint64();break;default:I.skipField()}return B}serializeBinary(){return this.serialize()}static deserializeBinary(D){return w.deserialize(D)}};S=new WeakMap;let s=w;n.ProtoNumber=s;const k=class k extends W.Message{constructor(D){super();Ge(this,E,[]);W.Message.initialize(this,Array.isArray(D)?D:[],0,-1,[1],X(this,E)),!Array.isArray(D)&&typeof D=="object"&&"locations"in D&&D.locations!=null&&(this.locations=D.locations)}get locations(){return W.Message.getRepeatedWrapperField(this,e,1)}set locations(D){W.Message.setRepeatedWrapperField(this,1,D)}static fromObject(D){const I=new k({});return D.locations!=null&&(I.locations=D.locations.map(B=>e.fromObject(B))),I}toObject(){const D={};return this.locations!=null&&(D.locations=this.locations.map(I=>I.toObject())),D}serialize(D){const I=D||new W.BinaryWriter;if(this.locations.length&&I.writeRepeatedMessage(1,this.locations,B=>B.serialize(I)),!D)return I.getResultBuffer()}static deserialize(D){const I=D instanceof W.BinaryReader?D:new W.BinaryReader(D),B=new k;for(;I.nextField()&&!I.isEndGroup();)switch(I.getFieldNumber()){case 1:I.readMessage(B.locations,()=>W.Message.addToRepeatedWrapperField(B,1,e.deserialize(I),e));break;default:I.skipField()}return B}serializeBinary(){return this.serialize()}static deserializeBinary(D){return k.deserialize(D)}};E=new WeakMap;let a=k;n.ProtoLocations=a})(xt||(xt={}));var kO;(function(n){var ee,ae,dt,Ue,Pe,Mt,_t,ot,mt,zt,Vt,ge,Ie,K,$,le,Me,vt,ct,Le,At,bt,Dt,An,Wr,Ws,Ts,ns,Ti,Xn,mi,wt,Ca,rr,ve,de;const xe=class xe extends W.Message{constructor(_){super();Ge(this,ee,[[2],[3],[4],[5],[6],[8],[9],[13],[15],[16],[17],[18],[19],[20],[21],[22],[23],[24],[25],[26],[27],[28],[29],[30],[31],[32],[33],[34],[35],[36]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1,7,10,11,12,14],X(this,ee)),!Array.isArray(_)&&typeof _=="object"&&("parent_hash"in _&&_.parent_hash!=null&&(this.parent_hash=_.parent_hash),"uncle_hash"in _&&_.uncle_hash!=null&&(this.uncle_hash=_.uncle_hash),"evm_root"in _&&_.evm_root!=null&&(this.evm_root=_.evm_root),"tx_hash"in _&&_.tx_hash!=null&&(this.tx_hash=_.tx_hash),"outbound_etx_hash"in _&&_.outbound_etx_hash!=null&&(this.outbound_etx_hash=_.outbound_etx_hash),"etx_rollup_hash"in _&&_.etx_rollup_hash!=null&&(this.etx_rollup_hash=_.etx_rollup_hash),"manifest_hash"in _&&_.manifest_hash!=null&&(this.manifest_hash=_.manifest_hash),"receipt_hash"in _&&_.receipt_hash!=null&&(this.receipt_hash=_.receipt_hash),"difficulty"in _&&_.difficulty!=null&&(this.difficulty=_.difficulty),"parent_entropy"in _&&_.parent_entropy!=null&&(this.parent_entropy=_.parent_entropy),"parent_delta_entropy"in _&&_.parent_delta_entropy!=null&&(this.parent_delta_entropy=_.parent_delta_entropy),"parent_uncled_delta_entropy"in _&&_.parent_uncled_delta_entropy!=null&&(this.parent_uncled_delta_entropy=_.parent_uncled_delta_entropy),"uncled_entropy"in _&&_.uncled_entropy!=null&&(this.uncled_entropy=_.uncled_entropy),"number"in _&&_.number!=null&&(this.number=_.number),"gas_limit"in _&&_.gas_limit!=null&&(this.gas_limit=_.gas_limit),"gas_used"in _&&_.gas_used!=null&&(this.gas_used=_.gas_used),"base_fee"in _&&_.base_fee!=null&&(this.base_fee=_.base_fee),"location"in _&&_.location!=null&&(this.location=_.location),"extra"in _&&_.extra!=null&&(this.extra=_.extra),"mix_hash"in _&&_.mix_hash!=null&&(this.mix_hash=_.mix_hash),"nonce"in _&&_.nonce!=null&&(this.nonce=_.nonce),"utxo_root"in _&&_.utxo_root!=null&&(this.utxo_root=_.utxo_root),"etx_set_root"in _&&_.etx_set_root!=null&&(this.etx_set_root=_.etx_set_root),"efficiency_score"in _&&_.efficiency_score!=null&&(this.efficiency_score=_.efficiency_score),"threshold_count"in _&&_.threshold_count!=null&&(this.threshold_count=_.threshold_count),"expansion_number"in _&&_.expansion_number!=null&&(this.expansion_number=_.expansion_number),"etx_eligible_slices"in _&&_.etx_eligible_slices!=null&&(this.etx_eligible_slices=_.etx_eligible_slices),"prime_terminus_hash"in _&&_.prime_terminus_hash!=null&&(this.prime_terminus_hash=_.prime_terminus_hash),"interlink_root_hash"in _&&_.interlink_root_hash!=null&&(this.interlink_root_hash=_.interlink_root_hash),"state_limit"in _&&_.state_limit!=null&&(this.state_limit=_.state_limit),"state_used"in _&&_.state_used!=null&&(this.state_used=_.state_used),"quai_state_size"in _&&_.quai_state_size!=null&&(this.quai_state_size=_.quai_state_size),"secondary_coinbase"in _&&_.secondary_coinbase!=null&&(this.secondary_coinbase=_.secondary_coinbase),"exchange_rate"in _&&_.exchange_rate!=null&&(this.exchange_rate=_.exchange_rate),"quai_to_qi"in _&&_.quai_to_qi!=null&&(this.quai_to_qi=_.quai_to_qi),"qi_to_quai"in _&&_.qi_to_quai!=null&&(this.qi_to_quai=_.qi_to_quai))}get parent_hash(){return W.Message.getRepeatedWrapperField(this,xt.ProtoHash,1)}set parent_hash(_){W.Message.setRepeatedWrapperField(this,1,_)}get uncle_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,2)}set uncle_hash(_){W.Message.setOneofWrapperField(this,2,X(this,ee)[0],_)}get has_uncle_hash(){return W.Message.getField(this,2)!=null}get evm_root(){return W.Message.getWrapperField(this,xt.ProtoHash,3)}set evm_root(_){W.Message.setOneofWrapperField(this,3,X(this,ee)[1],_)}get has_evm_root(){return W.Message.getField(this,3)!=null}get tx_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,4)}set tx_hash(_){W.Message.setOneofWrapperField(this,4,X(this,ee)[2],_)}get has_tx_hash(){return W.Message.getField(this,4)!=null}get outbound_etx_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,5)}set outbound_etx_hash(_){W.Message.setOneofWrapperField(this,5,X(this,ee)[3],_)}get has_outbound_etx_hash(){return W.Message.getField(this,5)!=null}get etx_rollup_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,6)}set etx_rollup_hash(_){W.Message.setOneofWrapperField(this,6,X(this,ee)[4],_)}get has_etx_rollup_hash(){return W.Message.getField(this,6)!=null}get manifest_hash(){return W.Message.getRepeatedWrapperField(this,xt.ProtoHash,7)}set manifest_hash(_){W.Message.setRepeatedWrapperField(this,7,_)}get receipt_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,8)}set receipt_hash(_){W.Message.setOneofWrapperField(this,8,X(this,ee)[5],_)}get has_receipt_hash(){return W.Message.getField(this,8)!=null}get difficulty(){return W.Message.getFieldWithDefault(this,9,new Uint8Array(0))}set difficulty(_){W.Message.setOneofField(this,9,X(this,ee)[6],_)}get has_difficulty(){return W.Message.getField(this,9)!=null}get parent_entropy(){return W.Message.getFieldWithDefault(this,10,[])}set parent_entropy(_){W.Message.setField(this,10,_)}get parent_delta_entropy(){return W.Message.getFieldWithDefault(this,11,[])}set parent_delta_entropy(_){W.Message.setField(this,11,_)}get parent_uncled_delta_entropy(){return W.Message.getFieldWithDefault(this,12,[])}set parent_uncled_delta_entropy(_){W.Message.setField(this,12,_)}get uncled_entropy(){return W.Message.getFieldWithDefault(this,13,new Uint8Array(0))}set uncled_entropy(_){W.Message.setOneofField(this,13,X(this,ee)[7],_)}get has_uncled_entropy(){return W.Message.getField(this,13)!=null}get number(){return W.Message.getFieldWithDefault(this,14,[])}set number(_){W.Message.setField(this,14,_)}get gas_limit(){return W.Message.getFieldWithDefault(this,15,0)}set gas_limit(_){W.Message.setOneofField(this,15,X(this,ee)[8],_)}get has_gas_limit(){return W.Message.getField(this,15)!=null}get gas_used(){return W.Message.getFieldWithDefault(this,16,0)}set gas_used(_){W.Message.setOneofField(this,16,X(this,ee)[9],_)}get has_gas_used(){return W.Message.getField(this,16)!=null}get base_fee(){return W.Message.getFieldWithDefault(this,17,new Uint8Array(0))}set base_fee(_){W.Message.setOneofField(this,17,X(this,ee)[10],_)}get has_base_fee(){return W.Message.getField(this,17)!=null}get location(){return W.Message.getWrapperField(this,xt.ProtoLocation,18)}set location(_){W.Message.setOneofWrapperField(this,18,X(this,ee)[11],_)}get has_location(){return W.Message.getField(this,18)!=null}get extra(){return W.Message.getFieldWithDefault(this,19,new Uint8Array(0))}set extra(_){W.Message.setOneofField(this,19,X(this,ee)[12],_)}get has_extra(){return W.Message.getField(this,19)!=null}get mix_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,20)}set mix_hash(_){W.Message.setOneofWrapperField(this,20,X(this,ee)[13],_)}get has_mix_hash(){return W.Message.getField(this,20)!=null}get nonce(){return W.Message.getFieldWithDefault(this,21,0)}set nonce(_){W.Message.setOneofField(this,21,X(this,ee)[14],_)}get has_nonce(){return W.Message.getField(this,21)!=null}get utxo_root(){return W.Message.getWrapperField(this,xt.ProtoHash,22)}set utxo_root(_){W.Message.setOneofWrapperField(this,22,X(this,ee)[15],_)}get has_utxo_root(){return W.Message.getField(this,22)!=null}get etx_set_root(){return W.Message.getWrapperField(this,xt.ProtoHash,23)}set etx_set_root(_){W.Message.setOneofWrapperField(this,23,X(this,ee)[16],_)}get has_etx_set_root(){return W.Message.getField(this,23)!=null}get efficiency_score(){return W.Message.getFieldWithDefault(this,24,0)}set efficiency_score(_){W.Message.setOneofField(this,24,X(this,ee)[17],_)}get has_efficiency_score(){return W.Message.getField(this,24)!=null}get threshold_count(){return W.Message.getFieldWithDefault(this,25,0)}set threshold_count(_){W.Message.setOneofField(this,25,X(this,ee)[18],_)}get has_threshold_count(){return W.Message.getField(this,25)!=null}get expansion_number(){return W.Message.getFieldWithDefault(this,26,0)}set expansion_number(_){W.Message.setOneofField(this,26,X(this,ee)[19],_)}get has_expansion_number(){return W.Message.getField(this,26)!=null}get etx_eligible_slices(){return W.Message.getWrapperField(this,xt.ProtoHash,27)}set etx_eligible_slices(_){W.Message.setOneofWrapperField(this,27,X(this,ee)[20],_)}get has_etx_eligible_slices(){return W.Message.getField(this,27)!=null}get prime_terminus_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,28)}set prime_terminus_hash(_){W.Message.setOneofWrapperField(this,28,X(this,ee)[21],_)}get has_prime_terminus_hash(){return W.Message.getField(this,28)!=null}get interlink_root_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,29)}set interlink_root_hash(_){W.Message.setOneofWrapperField(this,29,X(this,ee)[22],_)}get has_interlink_root_hash(){return W.Message.getField(this,29)!=null}get state_limit(){return W.Message.getFieldWithDefault(this,30,0)}set state_limit(_){W.Message.setOneofField(this,30,X(this,ee)[23],_)}get has_state_limit(){return W.Message.getField(this,30)!=null}get state_used(){return W.Message.getFieldWithDefault(this,31,0)}set state_used(_){W.Message.setOneofField(this,31,X(this,ee)[24],_)}get has_state_used(){return W.Message.getField(this,31)!=null}get quai_state_size(){return W.Message.getFieldWithDefault(this,32,new Uint8Array(0))}set quai_state_size(_){W.Message.setOneofField(this,32,X(this,ee)[25],_)}get has_quai_state_size(){return W.Message.getField(this,32)!=null}get secondary_coinbase(){return W.Message.getFieldWithDefault(this,33,new Uint8Array(0))}set secondary_coinbase(_){W.Message.setOneofField(this,33,X(this,ee)[26],_)}get has_secondary_coinbase(){return W.Message.getField(this,33)!=null}get exchange_rate(){return W.Message.getFieldWithDefault(this,34,new Uint8Array(0))}set exchange_rate(_){W.Message.setOneofField(this,34,X(this,ee)[27],_)}get has_exchange_rate(){return W.Message.getField(this,34)!=null}get quai_to_qi(){return W.Message.getFieldWithDefault(this,35,new Uint8Array(0))}set quai_to_qi(_){W.Message.setOneofField(this,35,X(this,ee)[28],_)}get has_quai_to_qi(){return W.Message.getField(this,35)!=null}get qi_to_quai(){return W.Message.getFieldWithDefault(this,36,new Uint8Array(0))}set qi_to_quai(_){W.Message.setOneofField(this,36,X(this,ee)[29],_)}get has_qi_to_quai(){return W.Message.getField(this,36)!=null}get _uncle_hash(){return{0:"none",2:"uncle_hash"}[W.Message.computeOneofCase(this,[2])]}get _evm_root(){return{0:"none",3:"evm_root"}[W.Message.computeOneofCase(this,[3])]}get _tx_hash(){return{0:"none",4:"tx_hash"}[W.Message.computeOneofCase(this,[4])]}get _outbound_etx_hash(){return{0:"none",5:"outbound_etx_hash"}[W.Message.computeOneofCase(this,[5])]}get _etx_rollup_hash(){return{0:"none",6:"etx_rollup_hash"}[W.Message.computeOneofCase(this,[6])]}get _receipt_hash(){return{0:"none",8:"receipt_hash"}[W.Message.computeOneofCase(this,[8])]}get _difficulty(){return{0:"none",9:"difficulty"}[W.Message.computeOneofCase(this,[9])]}get _uncled_entropy(){return{0:"none",13:"uncled_entropy"}[W.Message.computeOneofCase(this,[13])]}get _gas_limit(){return{0:"none",15:"gas_limit"}[W.Message.computeOneofCase(this,[15])]}get _gas_used(){return{0:"none",16:"gas_used"}[W.Message.computeOneofCase(this,[16])]}get _base_fee(){return{0:"none",17:"base_fee"}[W.Message.computeOneofCase(this,[17])]}get _location(){return{0:"none",18:"location"}[W.Message.computeOneofCase(this,[18])]}get _extra(){return{0:"none",19:"extra"}[W.Message.computeOneofCase(this,[19])]}get _mix_hash(){return{0:"none",20:"mix_hash"}[W.Message.computeOneofCase(this,[20])]}get _nonce(){return{0:"none",21:"nonce"}[W.Message.computeOneofCase(this,[21])]}get _utxo_root(){return{0:"none",22:"utxo_root"}[W.Message.computeOneofCase(this,[22])]}get _etx_set_root(){return{0:"none",23:"etx_set_root"}[W.Message.computeOneofCase(this,[23])]}get _efficiency_score(){return{0:"none",24:"efficiency_score"}[W.Message.computeOneofCase(this,[24])]}get _threshold_count(){return{0:"none",25:"threshold_count"}[W.Message.computeOneofCase(this,[25])]}get _expansion_number(){return{0:"none",26:"expansion_number"}[W.Message.computeOneofCase(this,[26])]}get _etx_eligible_slices(){return{0:"none",27:"etx_eligible_slices"}[W.Message.computeOneofCase(this,[27])]}get _prime_terminus_hash(){return{0:"none",28:"prime_terminus_hash"}[W.Message.computeOneofCase(this,[28])]}get _interlink_root_hash(){return{0:"none",29:"interlink_root_hash"}[W.Message.computeOneofCase(this,[29])]}get _state_limit(){return{0:"none",30:"state_limit"}[W.Message.computeOneofCase(this,[30])]}get _state_used(){return{0:"none",31:"state_used"}[W.Message.computeOneofCase(this,[31])]}get _quai_state_size(){return{0:"none",32:"quai_state_size"}[W.Message.computeOneofCase(this,[32])]}get _secondary_coinbase(){return{0:"none",33:"secondary_coinbase"}[W.Message.computeOneofCase(this,[33])]}get _exchange_rate(){return{0:"none",34:"exchange_rate"}[W.Message.computeOneofCase(this,[34])]}get _quai_to_qi(){return{0:"none",35:"quai_to_qi"}[W.Message.computeOneofCase(this,[35])]}get _qi_to_quai(){return{0:"none",36:"qi_to_quai"}[W.Message.computeOneofCase(this,[36])]}static fromObject(_){const y=new xe({});return _.parent_hash!=null&&(y.parent_hash=_.parent_hash.map(M=>xt.ProtoHash.fromObject(M))),_.uncle_hash!=null&&(y.uncle_hash=xt.ProtoHash.fromObject(_.uncle_hash)),_.evm_root!=null&&(y.evm_root=xt.ProtoHash.fromObject(_.evm_root)),_.tx_hash!=null&&(y.tx_hash=xt.ProtoHash.fromObject(_.tx_hash)),_.outbound_etx_hash!=null&&(y.outbound_etx_hash=xt.ProtoHash.fromObject(_.outbound_etx_hash)),_.etx_rollup_hash!=null&&(y.etx_rollup_hash=xt.ProtoHash.fromObject(_.etx_rollup_hash)),_.manifest_hash!=null&&(y.manifest_hash=_.manifest_hash.map(M=>xt.ProtoHash.fromObject(M))),_.receipt_hash!=null&&(y.receipt_hash=xt.ProtoHash.fromObject(_.receipt_hash)),_.difficulty!=null&&(y.difficulty=_.difficulty),_.parent_entropy!=null&&(y.parent_entropy=_.parent_entropy),_.parent_delta_entropy!=null&&(y.parent_delta_entropy=_.parent_delta_entropy),_.parent_uncled_delta_entropy!=null&&(y.parent_uncled_delta_entropy=_.parent_uncled_delta_entropy),_.uncled_entropy!=null&&(y.uncled_entropy=_.uncled_entropy),_.number!=null&&(y.number=_.number),_.gas_limit!=null&&(y.gas_limit=_.gas_limit),_.gas_used!=null&&(y.gas_used=_.gas_used),_.base_fee!=null&&(y.base_fee=_.base_fee),_.location!=null&&(y.location=xt.ProtoLocation.fromObject(_.location)),_.extra!=null&&(y.extra=_.extra),_.mix_hash!=null&&(y.mix_hash=xt.ProtoHash.fromObject(_.mix_hash)),_.nonce!=null&&(y.nonce=_.nonce),_.utxo_root!=null&&(y.utxo_root=xt.ProtoHash.fromObject(_.utxo_root)),_.etx_set_root!=null&&(y.etx_set_root=xt.ProtoHash.fromObject(_.etx_set_root)),_.efficiency_score!=null&&(y.efficiency_score=_.efficiency_score),_.threshold_count!=null&&(y.threshold_count=_.threshold_count),_.expansion_number!=null&&(y.expansion_number=_.expansion_number),_.etx_eligible_slices!=null&&(y.etx_eligible_slices=xt.ProtoHash.fromObject(_.etx_eligible_slices)),_.prime_terminus_hash!=null&&(y.prime_terminus_hash=xt.ProtoHash.fromObject(_.prime_terminus_hash)),_.interlink_root_hash!=null&&(y.interlink_root_hash=xt.ProtoHash.fromObject(_.interlink_root_hash)),_.state_limit!=null&&(y.state_limit=_.state_limit),_.state_used!=null&&(y.state_used=_.state_used),_.quai_state_size!=null&&(y.quai_state_size=_.quai_state_size),_.secondary_coinbase!=null&&(y.secondary_coinbase=_.secondary_coinbase),_.exchange_rate!=null&&(y.exchange_rate=_.exchange_rate),_.quai_to_qi!=null&&(y.quai_to_qi=_.quai_to_qi),_.qi_to_quai!=null&&(y.qi_to_quai=_.qi_to_quai),y}toObject(){const _={};return this.parent_hash!=null&&(_.parent_hash=this.parent_hash.map(y=>y.toObject())),this.uncle_hash!=null&&(_.uncle_hash=this.uncle_hash.toObject()),this.evm_root!=null&&(_.evm_root=this.evm_root.toObject()),this.tx_hash!=null&&(_.tx_hash=this.tx_hash.toObject()),this.outbound_etx_hash!=null&&(_.outbound_etx_hash=this.outbound_etx_hash.toObject()),this.etx_rollup_hash!=null&&(_.etx_rollup_hash=this.etx_rollup_hash.toObject()),this.manifest_hash!=null&&(_.manifest_hash=this.manifest_hash.map(y=>y.toObject())),this.receipt_hash!=null&&(_.receipt_hash=this.receipt_hash.toObject()),this.difficulty!=null&&(_.difficulty=this.difficulty),this.parent_entropy!=null&&(_.parent_entropy=this.parent_entropy),this.parent_delta_entropy!=null&&(_.parent_delta_entropy=this.parent_delta_entropy),this.parent_uncled_delta_entropy!=null&&(_.parent_uncled_delta_entropy=this.parent_uncled_delta_entropy),this.uncled_entropy!=null&&(_.uncled_entropy=this.uncled_entropy),this.number!=null&&(_.number=this.number),this.gas_limit!=null&&(_.gas_limit=this.gas_limit),this.gas_used!=null&&(_.gas_used=this.gas_used),this.base_fee!=null&&(_.base_fee=this.base_fee),this.location!=null&&(_.location=this.location.toObject()),this.extra!=null&&(_.extra=this.extra),this.mix_hash!=null&&(_.mix_hash=this.mix_hash.toObject()),this.nonce!=null&&(_.nonce=this.nonce),this.utxo_root!=null&&(_.utxo_root=this.utxo_root.toObject()),this.etx_set_root!=null&&(_.etx_set_root=this.etx_set_root.toObject()),this.efficiency_score!=null&&(_.efficiency_score=this.efficiency_score),this.threshold_count!=null&&(_.threshold_count=this.threshold_count),this.expansion_number!=null&&(_.expansion_number=this.expansion_number),this.etx_eligible_slices!=null&&(_.etx_eligible_slices=this.etx_eligible_slices.toObject()),this.prime_terminus_hash!=null&&(_.prime_terminus_hash=this.prime_terminus_hash.toObject()),this.interlink_root_hash!=null&&(_.interlink_root_hash=this.interlink_root_hash.toObject()),this.state_limit!=null&&(_.state_limit=this.state_limit),this.state_used!=null&&(_.state_used=this.state_used),this.quai_state_size!=null&&(_.quai_state_size=this.quai_state_size),this.secondary_coinbase!=null&&(_.secondary_coinbase=this.secondary_coinbase),this.exchange_rate!=null&&(_.exchange_rate=this.exchange_rate),this.quai_to_qi!=null&&(_.quai_to_qi=this.quai_to_qi),this.qi_to_quai!=null&&(_.qi_to_quai=this.qi_to_quai),_}serialize(_){const y=_||new W.BinaryWriter;if(this.parent_hash.length&&y.writeRepeatedMessage(1,this.parent_hash,M=>M.serialize(y)),this.has_uncle_hash&&y.writeMessage(2,this.uncle_hash,()=>this.uncle_hash.serialize(y)),this.has_evm_root&&y.writeMessage(3,this.evm_root,()=>this.evm_root.serialize(y)),this.has_tx_hash&&y.writeMessage(4,this.tx_hash,()=>this.tx_hash.serialize(y)),this.has_outbound_etx_hash&&y.writeMessage(5,this.outbound_etx_hash,()=>this.outbound_etx_hash.serialize(y)),this.has_etx_rollup_hash&&y.writeMessage(6,this.etx_rollup_hash,()=>this.etx_rollup_hash.serialize(y)),this.manifest_hash.length&&y.writeRepeatedMessage(7,this.manifest_hash,M=>M.serialize(y)),this.has_receipt_hash&&y.writeMessage(8,this.receipt_hash,()=>this.receipt_hash.serialize(y)),this.has_difficulty&&y.writeBytes(9,this.difficulty),this.parent_entropy.length&&y.writeRepeatedBytes(10,this.parent_entropy),this.parent_delta_entropy.length&&y.writeRepeatedBytes(11,this.parent_delta_entropy),this.parent_uncled_delta_entropy.length&&y.writeRepeatedBytes(12,this.parent_uncled_delta_entropy),this.has_uncled_entropy&&y.writeBytes(13,this.uncled_entropy),this.number.length&&y.writeRepeatedBytes(14,this.number),this.has_gas_limit&&y.writeUint64(15,this.gas_limit),this.has_gas_used&&y.writeUint64(16,this.gas_used),this.has_base_fee&&y.writeBytes(17,this.base_fee),this.has_location&&y.writeMessage(18,this.location,()=>this.location.serialize(y)),this.has_extra&&y.writeBytes(19,this.extra),this.has_mix_hash&&y.writeMessage(20,this.mix_hash,()=>this.mix_hash.serialize(y)),this.has_nonce&&y.writeUint64(21,this.nonce),this.has_utxo_root&&y.writeMessage(22,this.utxo_root,()=>this.utxo_root.serialize(y)),this.has_etx_set_root&&y.writeMessage(23,this.etx_set_root,()=>this.etx_set_root.serialize(y)),this.has_efficiency_score&&y.writeUint64(24,this.efficiency_score),this.has_threshold_count&&y.writeUint64(25,this.threshold_count),this.has_expansion_number&&y.writeUint64(26,this.expansion_number),this.has_etx_eligible_slices&&y.writeMessage(27,this.etx_eligible_slices,()=>this.etx_eligible_slices.serialize(y)),this.has_prime_terminus_hash&&y.writeMessage(28,this.prime_terminus_hash,()=>this.prime_terminus_hash.serialize(y)),this.has_interlink_root_hash&&y.writeMessage(29,this.interlink_root_hash,()=>this.interlink_root_hash.serialize(y)),this.has_state_limit&&y.writeUint64(30,this.state_limit),this.has_state_used&&y.writeUint64(31,this.state_used),this.has_quai_state_size&&y.writeBytes(32,this.quai_state_size),this.has_secondary_coinbase&&y.writeBytes(33,this.secondary_coinbase),this.has_exchange_rate&&y.writeBytes(34,this.exchange_rate),this.has_quai_to_qi&&y.writeBytes(35,this.quai_to_qi),this.has_qi_to_quai&&y.writeBytes(36,this.qi_to_quai),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new xe;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.parent_hash,()=>W.Message.addToRepeatedWrapperField(M,1,xt.ProtoHash.deserialize(y),xt.ProtoHash));break;case 2:y.readMessage(M.uncle_hash,()=>M.uncle_hash=xt.ProtoHash.deserialize(y));break;case 3:y.readMessage(M.evm_root,()=>M.evm_root=xt.ProtoHash.deserialize(y));break;case 4:y.readMessage(M.tx_hash,()=>M.tx_hash=xt.ProtoHash.deserialize(y));break;case 5:y.readMessage(M.outbound_etx_hash,()=>M.outbound_etx_hash=xt.ProtoHash.deserialize(y));break;case 6:y.readMessage(M.etx_rollup_hash,()=>M.etx_rollup_hash=xt.ProtoHash.deserialize(y));break;case 7:y.readMessage(M.manifest_hash,()=>W.Message.addToRepeatedWrapperField(M,7,xt.ProtoHash.deserialize(y),xt.ProtoHash));break;case 8:y.readMessage(M.receipt_hash,()=>M.receipt_hash=xt.ProtoHash.deserialize(y));break;case 9:M.difficulty=y.readBytes();break;case 10:W.Message.addToRepeatedField(M,10,y.readBytes());break;case 11:W.Message.addToRepeatedField(M,11,y.readBytes());break;case 12:W.Message.addToRepeatedField(M,12,y.readBytes());break;case 13:M.uncled_entropy=y.readBytes();break;case 14:W.Message.addToRepeatedField(M,14,y.readBytes());break;case 15:M.gas_limit=y.readUint64();break;case 16:M.gas_used=y.readUint64();break;case 17:M.base_fee=y.readBytes();break;case 18:y.readMessage(M.location,()=>M.location=xt.ProtoLocation.deserialize(y));break;case 19:M.extra=y.readBytes();break;case 20:y.readMessage(M.mix_hash,()=>M.mix_hash=xt.ProtoHash.deserialize(y));break;case 21:M.nonce=y.readUint64();break;case 22:y.readMessage(M.utxo_root,()=>M.utxo_root=xt.ProtoHash.deserialize(y));break;case 23:y.readMessage(M.etx_set_root,()=>M.etx_set_root=xt.ProtoHash.deserialize(y));break;case 24:M.efficiency_score=y.readUint64();break;case 25:M.threshold_count=y.readUint64();break;case 26:M.expansion_number=y.readUint64();break;case 27:y.readMessage(M.etx_eligible_slices,()=>M.etx_eligible_slices=xt.ProtoHash.deserialize(y));break;case 28:y.readMessage(M.prime_terminus_hash,()=>M.prime_terminus_hash=xt.ProtoHash.deserialize(y));break;case 29:y.readMessage(M.interlink_root_hash,()=>M.interlink_root_hash=xt.ProtoHash.deserialize(y));break;case 30:M.state_limit=y.readUint64();break;case 31:M.state_used=y.readUint64();break;case 32:M.quai_state_size=y.readBytes();break;case 33:M.secondary_coinbase=y.readBytes();break;case 34:M.exchange_rate=y.readBytes();break;case 35:M.quai_to_qi=y.readBytes();break;case 36:M.qi_to_quai=y.readBytes();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return xe.deserialize(_)}};ee=new WeakMap;let e=xe;n.ProtoHeader=e;const De=class De extends W.Message{constructor(_){super();Ge(this,ae,[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10],[11],[12],[13],[14],[15],[16],[17],[18],[19],[20],[21],[22]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,ae)),!Array.isArray(_)&&typeof _=="object"&&("type"in _&&_.type!=null&&(this.type=_.type),"to"in _&&_.to!=null&&(this.to=_.to),"nonce"in _&&_.nonce!=null&&(this.nonce=_.nonce),"value"in _&&_.value!=null&&(this.value=_.value),"gas"in _&&_.gas!=null&&(this.gas=_.gas),"data"in _&&_.data!=null&&(this.data=_.data),"chain_id"in _&&_.chain_id!=null&&(this.chain_id=_.chain_id),"gas_price"in _&&_.gas_price!=null&&(this.gas_price=_.gas_price),"access_list"in _&&_.access_list!=null&&(this.access_list=_.access_list),"v"in _&&_.v!=null&&(this.v=_.v),"r"in _&&_.r!=null&&(this.r=_.r),"s"in _&&_.s!=null&&(this.s=_.s),"originating_tx_hash"in _&&_.originating_tx_hash!=null&&(this.originating_tx_hash=_.originating_tx_hash),"etx_index"in _&&_.etx_index!=null&&(this.etx_index=_.etx_index),"tx_ins"in _&&_.tx_ins!=null&&(this.tx_ins=_.tx_ins),"tx_outs"in _&&_.tx_outs!=null&&(this.tx_outs=_.tx_outs),"signature"in _&&_.signature!=null&&(this.signature=_.signature),"etx_sender"in _&&_.etx_sender!=null&&(this.etx_sender=_.etx_sender),"parent_hash"in _&&_.parent_hash!=null&&(this.parent_hash=_.parent_hash),"mix_hash"in _&&_.mix_hash!=null&&(this.mix_hash=_.mix_hash),"work_nonce"in _&&_.work_nonce!=null&&(this.work_nonce=_.work_nonce),"etx_type"in _&&_.etx_type!=null&&(this.etx_type=_.etx_type))}get type(){return W.Message.getFieldWithDefault(this,1,0)}set type(_){W.Message.setOneofField(this,1,X(this,ae)[0],_)}get has_type(){return W.Message.getField(this,1)!=null}get to(){return W.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set to(_){W.Message.setOneofField(this,2,X(this,ae)[1],_)}get has_to(){return W.Message.getField(this,2)!=null}get nonce(){return W.Message.getFieldWithDefault(this,3,0)}set nonce(_){W.Message.setOneofField(this,3,X(this,ae)[2],_)}get has_nonce(){return W.Message.getField(this,3)!=null}get value(){return W.Message.getFieldWithDefault(this,4,new Uint8Array(0))}set value(_){W.Message.setOneofField(this,4,X(this,ae)[3],_)}get has_value(){return W.Message.getField(this,4)!=null}get gas(){return W.Message.getFieldWithDefault(this,5,0)}set gas(_){W.Message.setOneofField(this,5,X(this,ae)[4],_)}get has_gas(){return W.Message.getField(this,5)!=null}get data(){return W.Message.getFieldWithDefault(this,6,new Uint8Array(0))}set data(_){W.Message.setOneofField(this,6,X(this,ae)[5],_)}get has_data(){return W.Message.getField(this,6)!=null}get chain_id(){return W.Message.getFieldWithDefault(this,7,new Uint8Array(0))}set chain_id(_){W.Message.setOneofField(this,7,X(this,ae)[6],_)}get has_chain_id(){return W.Message.getField(this,7)!=null}get gas_price(){return W.Message.getFieldWithDefault(this,8,new Uint8Array(0))}set gas_price(_){W.Message.setOneofField(this,8,X(this,ae)[7],_)}get has_gas_price(){return W.Message.getField(this,8)!=null}get access_list(){return W.Message.getWrapperField(this,a,9)}set access_list(_){W.Message.setOneofWrapperField(this,9,X(this,ae)[8],_)}get has_access_list(){return W.Message.getField(this,9)!=null}get v(){return W.Message.getFieldWithDefault(this,10,new Uint8Array(0))}set v(_){W.Message.setOneofField(this,10,X(this,ae)[9],_)}get has_v(){return W.Message.getField(this,10)!=null}get r(){return W.Message.getFieldWithDefault(this,11,new Uint8Array(0))}set r(_){W.Message.setOneofField(this,11,X(this,ae)[10],_)}get has_r(){return W.Message.getField(this,11)!=null}get s(){return W.Message.getFieldWithDefault(this,12,new Uint8Array(0))}set s(_){W.Message.setOneofField(this,12,X(this,ae)[11],_)}get has_s(){return W.Message.getField(this,12)!=null}get originating_tx_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,13)}set originating_tx_hash(_){W.Message.setOneofWrapperField(this,13,X(this,ae)[12],_)}get has_originating_tx_hash(){return W.Message.getField(this,13)!=null}get etx_index(){return W.Message.getFieldWithDefault(this,14,0)}set etx_index(_){W.Message.setOneofField(this,14,X(this,ae)[13],_)}get has_etx_index(){return W.Message.getField(this,14)!=null}get tx_ins(){return W.Message.getWrapperField(this,Y,15)}set tx_ins(_){W.Message.setOneofWrapperField(this,15,X(this,ae)[14],_)}get has_tx_ins(){return W.Message.getField(this,15)!=null}get tx_outs(){return W.Message.getWrapperField(this,q,16)}set tx_outs(_){W.Message.setOneofWrapperField(this,16,X(this,ae)[15],_)}get has_tx_outs(){return W.Message.getField(this,16)!=null}get signature(){return W.Message.getFieldWithDefault(this,17,new Uint8Array(0))}set signature(_){W.Message.setOneofField(this,17,X(this,ae)[16],_)}get has_signature(){return W.Message.getField(this,17)!=null}get etx_sender(){return W.Message.getFieldWithDefault(this,18,new Uint8Array(0))}set etx_sender(_){W.Message.setOneofField(this,18,X(this,ae)[17],_)}get has_etx_sender(){return W.Message.getField(this,18)!=null}get parent_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,19)}set parent_hash(_){W.Message.setOneofWrapperField(this,19,X(this,ae)[18],_)}get has_parent_hash(){return W.Message.getField(this,19)!=null}get mix_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,20)}set mix_hash(_){W.Message.setOneofWrapperField(this,20,X(this,ae)[19],_)}get has_mix_hash(){return W.Message.getField(this,20)!=null}get work_nonce(){return W.Message.getFieldWithDefault(this,21,0)}set work_nonce(_){W.Message.setOneofField(this,21,X(this,ae)[20],_)}get has_work_nonce(){return W.Message.getField(this,21)!=null}get etx_type(){return W.Message.getFieldWithDefault(this,22,0)}set etx_type(_){W.Message.setOneofField(this,22,X(this,ae)[21],_)}get has_etx_type(){return W.Message.getField(this,22)!=null}get _type(){return{0:"none",1:"type"}[W.Message.computeOneofCase(this,[1])]}get _to(){return{0:"none",2:"to"}[W.Message.computeOneofCase(this,[2])]}get _nonce(){return{0:"none",3:"nonce"}[W.Message.computeOneofCase(this,[3])]}get _value(){return{0:"none",4:"value"}[W.Message.computeOneofCase(this,[4])]}get _gas(){return{0:"none",5:"gas"}[W.Message.computeOneofCase(this,[5])]}get _data(){return{0:"none",6:"data"}[W.Message.computeOneofCase(this,[6])]}get _chain_id(){return{0:"none",7:"chain_id"}[W.Message.computeOneofCase(this,[7])]}get _gas_price(){return{0:"none",8:"gas_price"}[W.Message.computeOneofCase(this,[8])]}get _access_list(){return{0:"none",9:"access_list"}[W.Message.computeOneofCase(this,[9])]}get _v(){return{0:"none",10:"v"}[W.Message.computeOneofCase(this,[10])]}get _r(){return{0:"none",11:"r"}[W.Message.computeOneofCase(this,[11])]}get _s(){return{0:"none",12:"s"}[W.Message.computeOneofCase(this,[12])]}get _originating_tx_hash(){return{0:"none",13:"originating_tx_hash"}[W.Message.computeOneofCase(this,[13])]}get _etx_index(){return{0:"none",14:"etx_index"}[W.Message.computeOneofCase(this,[14])]}get _tx_ins(){return{0:"none",15:"tx_ins"}[W.Message.computeOneofCase(this,[15])]}get _tx_outs(){return{0:"none",16:"tx_outs"}[W.Message.computeOneofCase(this,[16])]}get _signature(){return{0:"none",17:"signature"}[W.Message.computeOneofCase(this,[17])]}get _etx_sender(){return{0:"none",18:"etx_sender"}[W.Message.computeOneofCase(this,[18])]}get _parent_hash(){return{0:"none",19:"parent_hash"}[W.Message.computeOneofCase(this,[19])]}get _mix_hash(){return{0:"none",20:"mix_hash"}[W.Message.computeOneofCase(this,[20])]}get _work_nonce(){return{0:"none",21:"work_nonce"}[W.Message.computeOneofCase(this,[21])]}get _etx_type(){return{0:"none",22:"etx_type"}[W.Message.computeOneofCase(this,[22])]}static fromObject(_){const y=new De({});return _.type!=null&&(y.type=_.type),_.to!=null&&(y.to=_.to),_.nonce!=null&&(y.nonce=_.nonce),_.value!=null&&(y.value=_.value),_.gas!=null&&(y.gas=_.gas),_.data!=null&&(y.data=_.data),_.chain_id!=null&&(y.chain_id=_.chain_id),_.gas_price!=null&&(y.gas_price=_.gas_price),_.access_list!=null&&(y.access_list=a.fromObject(_.access_list)),_.v!=null&&(y.v=_.v),_.r!=null&&(y.r=_.r),_.s!=null&&(y.s=_.s),_.originating_tx_hash!=null&&(y.originating_tx_hash=xt.ProtoHash.fromObject(_.originating_tx_hash)),_.etx_index!=null&&(y.etx_index=_.etx_index),_.tx_ins!=null&&(y.tx_ins=Y.fromObject(_.tx_ins)),_.tx_outs!=null&&(y.tx_outs=q.fromObject(_.tx_outs)),_.signature!=null&&(y.signature=_.signature),_.etx_sender!=null&&(y.etx_sender=_.etx_sender),_.parent_hash!=null&&(y.parent_hash=xt.ProtoHash.fromObject(_.parent_hash)),_.mix_hash!=null&&(y.mix_hash=xt.ProtoHash.fromObject(_.mix_hash)),_.work_nonce!=null&&(y.work_nonce=_.work_nonce),_.etx_type!=null&&(y.etx_type=_.etx_type),y}toObject(){const _={};return this.type!=null&&(_.type=this.type),this.to!=null&&(_.to=this.to),this.nonce!=null&&(_.nonce=this.nonce),this.value!=null&&(_.value=this.value),this.gas!=null&&(_.gas=this.gas),this.data!=null&&(_.data=this.data),this.chain_id!=null&&(_.chain_id=this.chain_id),this.gas_price!=null&&(_.gas_price=this.gas_price),this.access_list!=null&&(_.access_list=this.access_list.toObject()),this.v!=null&&(_.v=this.v),this.r!=null&&(_.r=this.r),this.s!=null&&(_.s=this.s),this.originating_tx_hash!=null&&(_.originating_tx_hash=this.originating_tx_hash.toObject()),this.etx_index!=null&&(_.etx_index=this.etx_index),this.tx_ins!=null&&(_.tx_ins=this.tx_ins.toObject()),this.tx_outs!=null&&(_.tx_outs=this.tx_outs.toObject()),this.signature!=null&&(_.signature=this.signature),this.etx_sender!=null&&(_.etx_sender=this.etx_sender),this.parent_hash!=null&&(_.parent_hash=this.parent_hash.toObject()),this.mix_hash!=null&&(_.mix_hash=this.mix_hash.toObject()),this.work_nonce!=null&&(_.work_nonce=this.work_nonce),this.etx_type!=null&&(_.etx_type=this.etx_type),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_type&&y.writeUint64(1,this.type),this.has_to&&y.writeBytes(2,this.to),this.has_nonce&&y.writeUint64(3,this.nonce),this.has_value&&y.writeBytes(4,this.value),this.has_gas&&y.writeUint64(5,this.gas),this.has_data&&y.writeBytes(6,this.data),this.has_chain_id&&y.writeBytes(7,this.chain_id),this.has_gas_price&&y.writeBytes(8,this.gas_price),this.has_access_list&&y.writeMessage(9,this.access_list,()=>this.access_list.serialize(y)),this.has_v&&y.writeBytes(10,this.v),this.has_r&&y.writeBytes(11,this.r),this.has_s&&y.writeBytes(12,this.s),this.has_originating_tx_hash&&y.writeMessage(13,this.originating_tx_hash,()=>this.originating_tx_hash.serialize(y)),this.has_etx_index&&y.writeUint32(14,this.etx_index),this.has_tx_ins&&y.writeMessage(15,this.tx_ins,()=>this.tx_ins.serialize(y)),this.has_tx_outs&&y.writeMessage(16,this.tx_outs,()=>this.tx_outs.serialize(y)),this.has_signature&&y.writeBytes(17,this.signature),this.has_etx_sender&&y.writeBytes(18,this.etx_sender),this.has_parent_hash&&y.writeMessage(19,this.parent_hash,()=>this.parent_hash.serialize(y)),this.has_mix_hash&&y.writeMessage(20,this.mix_hash,()=>this.mix_hash.serialize(y)),this.has_work_nonce&&y.writeUint64(21,this.work_nonce),this.has_etx_type&&y.writeUint64(22,this.etx_type),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new De;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:M.type=y.readUint64();break;case 2:M.to=y.readBytes();break;case 3:M.nonce=y.readUint64();break;case 4:M.value=y.readBytes();break;case 5:M.gas=y.readUint64();break;case 6:M.data=y.readBytes();break;case 7:M.chain_id=y.readBytes();break;case 8:M.gas_price=y.readBytes();break;case 9:y.readMessage(M.access_list,()=>M.access_list=a.deserialize(y));break;case 10:M.v=y.readBytes();break;case 11:M.r=y.readBytes();break;case 12:M.s=y.readBytes();break;case 13:y.readMessage(M.originating_tx_hash,()=>M.originating_tx_hash=xt.ProtoHash.deserialize(y));break;case 14:M.etx_index=y.readUint32();break;case 15:y.readMessage(M.tx_ins,()=>M.tx_ins=Y.deserialize(y));break;case 16:y.readMessage(M.tx_outs,()=>M.tx_outs=q.deserialize(y));break;case 17:M.signature=y.readBytes();break;case 18:M.etx_sender=y.readBytes();break;case 19:y.readMessage(M.parent_hash,()=>M.parent_hash=xt.ProtoHash.deserialize(y));break;case 20:y.readMessage(M.mix_hash,()=>M.mix_hash=xt.ProtoHash.deserialize(y));break;case 21:M.work_nonce=y.readUint64();break;case 22:M.etx_type=y.readUint64();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return De.deserialize(_)}};ae=new WeakMap;let t=De;n.ProtoTransaction=t;const Ne=class Ne extends W.Message{constructor(_){super();Ge(this,dt,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,dt)),!Array.isArray(_)&&typeof _=="object"&&"transactions"in _&&_.transactions!=null&&(this.transactions=_.transactions)}get transactions(){return W.Message.getRepeatedWrapperField(this,t,1)}set transactions(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new Ne({});return _.transactions!=null&&(y.transactions=_.transactions.map(M=>t.fromObject(M))),y}toObject(){const _={};return this.transactions!=null&&(_.transactions=this.transactions.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.transactions.length&&y.writeRepeatedMessage(1,this.transactions,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Ne;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.transactions,()=>W.Message.addToRepeatedWrapperField(M,1,t.deserialize(y),t));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Ne.deserialize(_)}};dt=new WeakMap;let r=Ne;n.ProtoTransactions=r;const qe=class qe extends W.Message{constructor(_){super();Ge(this,Ue,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Ue)),!Array.isArray(_)&&typeof _=="object"&&"headers"in _&&_.headers!=null&&(this.headers=_.headers)}get headers(){return W.Message.getRepeatedWrapperField(this,e,1)}set headers(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new qe({});return _.headers!=null&&(y.headers=_.headers.map(M=>e.fromObject(M))),y}toObject(){const _={};return this.headers!=null&&(_.headers=this.headers.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.headers.length&&y.writeRepeatedMessage(1,this.headers,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new qe;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.headers,()=>W.Message.addToRepeatedWrapperField(M,1,e.deserialize(y),e));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return qe.deserialize(_)}};Ue=new WeakMap;let i=qe;n.ProtoHeaders=i;const lt=class lt extends W.Message{constructor(_){super();Ge(this,Pe,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Pe)),!Array.isArray(_)&&typeof _=="object"&&"manifest"in _&&_.manifest!=null&&(this.manifest=_.manifest)}get manifest(){return W.Message.getRepeatedWrapperField(this,xt.ProtoHash,1)}set manifest(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new lt({});return _.manifest!=null&&(y.manifest=_.manifest.map(M=>xt.ProtoHash.fromObject(M))),y}toObject(){const _={};return this.manifest!=null&&(_.manifest=this.manifest.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.manifest.length&&y.writeRepeatedMessage(1,this.manifest,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new lt;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.manifest,()=>W.Message.addToRepeatedWrapperField(M,1,xt.ProtoHash.deserialize(y),xt.ProtoHash));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return lt.deserialize(_)}};Pe=new WeakMap;let s=lt;n.ProtoManifest=s;const Ze=class Ze extends W.Message{constructor(_){super();Ge(this,Mt,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Mt)),!Array.isArray(_)&&typeof _=="object"&&"access_tuples"in _&&_.access_tuples!=null&&(this.access_tuples=_.access_tuples)}get access_tuples(){return W.Message.getRepeatedWrapperField(this,w,1)}set access_tuples(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new Ze({});return _.access_tuples!=null&&(y.access_tuples=_.access_tuples.map(M=>w.fromObject(M))),y}toObject(){const _={};return this.access_tuples!=null&&(_.access_tuples=this.access_tuples.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.access_tuples.length&&y.writeRepeatedMessage(1,this.access_tuples,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Ze;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.access_tuples,()=>W.Message.addToRepeatedWrapperField(M,1,w.deserialize(y),w));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Ze.deserialize(_)}};Mt=new WeakMap;let a=Ze;n.ProtoAccessList=a;const Ve=class Ve extends W.Message{constructor(_){super();Ge(this,_t,[[1],[2],[3],[4],[5],[6],[7],[8],[9],[10],[11],[12]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,_t)),!Array.isArray(_)&&typeof _=="object"&&("header_hash"in _&&_.header_hash!=null&&(this.header_hash=_.header_hash),"parent_hash"in _&&_.parent_hash!=null&&(this.parent_hash=_.parent_hash),"number"in _&&_.number!=null&&(this.number=_.number),"difficulty"in _&&_.difficulty!=null&&(this.difficulty=_.difficulty),"tx_hash"in _&&_.tx_hash!=null&&(this.tx_hash=_.tx_hash),"nonce"in _&&_.nonce!=null&&(this.nonce=_.nonce),"location"in _&&_.location!=null&&(this.location=_.location),"mix_hash"in _&&_.mix_hash!=null&&(this.mix_hash=_.mix_hash),"time"in _&&_.time!=null&&(this.time=_.time),"prime_terminus_number"in _&&_.prime_terminus_number!=null&&(this.prime_terminus_number=_.prime_terminus_number),"lock"in _&&_.lock!=null&&(this.lock=_.lock),"primary_coinbase"in _&&_.primary_coinbase!=null&&(this.primary_coinbase=_.primary_coinbase))}get header_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,1)}set header_hash(_){W.Message.setOneofWrapperField(this,1,X(this,_t)[0],_)}get has_header_hash(){return W.Message.getField(this,1)!=null}get parent_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,2)}set parent_hash(_){W.Message.setOneofWrapperField(this,2,X(this,_t)[1],_)}get has_parent_hash(){return W.Message.getField(this,2)!=null}get number(){return W.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set number(_){W.Message.setOneofField(this,3,X(this,_t)[2],_)}get has_number(){return W.Message.getField(this,3)!=null}get difficulty(){return W.Message.getFieldWithDefault(this,4,new Uint8Array(0))}set difficulty(_){W.Message.setOneofField(this,4,X(this,_t)[3],_)}get has_difficulty(){return W.Message.getField(this,4)!=null}get tx_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,5)}set tx_hash(_){W.Message.setOneofWrapperField(this,5,X(this,_t)[4],_)}get has_tx_hash(){return W.Message.getField(this,5)!=null}get nonce(){return W.Message.getFieldWithDefault(this,6,0)}set nonce(_){W.Message.setOneofField(this,6,X(this,_t)[5],_)}get has_nonce(){return W.Message.getField(this,6)!=null}get location(){return W.Message.getWrapperField(this,xt.ProtoLocation,7)}set location(_){W.Message.setOneofWrapperField(this,7,X(this,_t)[6],_)}get has_location(){return W.Message.getField(this,7)!=null}get mix_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,8)}set mix_hash(_){W.Message.setOneofWrapperField(this,8,X(this,_t)[7],_)}get has_mix_hash(){return W.Message.getField(this,8)!=null}get time(){return W.Message.getFieldWithDefault(this,9,0)}set time(_){W.Message.setOneofField(this,9,X(this,_t)[8],_)}get has_time(){return W.Message.getField(this,9)!=null}get prime_terminus_number(){return W.Message.getFieldWithDefault(this,10,new Uint8Array(0))}set prime_terminus_number(_){W.Message.setOneofField(this,10,X(this,_t)[9],_)}get has_prime_terminus_number(){return W.Message.getField(this,10)!=null}get lock(){return W.Message.getFieldWithDefault(this,11,0)}set lock(_){W.Message.setOneofField(this,11,X(this,_t)[10],_)}get has_lock(){return W.Message.getField(this,11)!=null}get primary_coinbase(){return W.Message.getWrapperField(this,xt.ProtoAddress,12)}set primary_coinbase(_){W.Message.setOneofWrapperField(this,12,X(this,_t)[11],_)}get has_primary_coinbase(){return W.Message.getField(this,12)!=null}get _header_hash(){return{0:"none",1:"header_hash"}[W.Message.computeOneofCase(this,[1])]}get _parent_hash(){return{0:"none",2:"parent_hash"}[W.Message.computeOneofCase(this,[2])]}get _number(){return{0:"none",3:"number"}[W.Message.computeOneofCase(this,[3])]}get _difficulty(){return{0:"none",4:"difficulty"}[W.Message.computeOneofCase(this,[4])]}get _tx_hash(){return{0:"none",5:"tx_hash"}[W.Message.computeOneofCase(this,[5])]}get _nonce(){return{0:"none",6:"nonce"}[W.Message.computeOneofCase(this,[6])]}get _location(){return{0:"none",7:"location"}[W.Message.computeOneofCase(this,[7])]}get _mix_hash(){return{0:"none",8:"mix_hash"}[W.Message.computeOneofCase(this,[8])]}get _time(){return{0:"none",9:"time"}[W.Message.computeOneofCase(this,[9])]}get _prime_terminus_number(){return{0:"none",10:"prime_terminus_number"}[W.Message.computeOneofCase(this,[10])]}get _lock(){return{0:"none",11:"lock"}[W.Message.computeOneofCase(this,[11])]}get _primary_coinbase(){return{0:"none",12:"primary_coinbase"}[W.Message.computeOneofCase(this,[12])]}static fromObject(_){const y=new Ve({});return _.header_hash!=null&&(y.header_hash=xt.ProtoHash.fromObject(_.header_hash)),_.parent_hash!=null&&(y.parent_hash=xt.ProtoHash.fromObject(_.parent_hash)),_.number!=null&&(y.number=_.number),_.difficulty!=null&&(y.difficulty=_.difficulty),_.tx_hash!=null&&(y.tx_hash=xt.ProtoHash.fromObject(_.tx_hash)),_.nonce!=null&&(y.nonce=_.nonce),_.location!=null&&(y.location=xt.ProtoLocation.fromObject(_.location)),_.mix_hash!=null&&(y.mix_hash=xt.ProtoHash.fromObject(_.mix_hash)),_.time!=null&&(y.time=_.time),_.prime_terminus_number!=null&&(y.prime_terminus_number=_.prime_terminus_number),_.lock!=null&&(y.lock=_.lock),_.primary_coinbase!=null&&(y.primary_coinbase=xt.ProtoAddress.fromObject(_.primary_coinbase)),y}toObject(){const _={};return this.header_hash!=null&&(_.header_hash=this.header_hash.toObject()),this.parent_hash!=null&&(_.parent_hash=this.parent_hash.toObject()),this.number!=null&&(_.number=this.number),this.difficulty!=null&&(_.difficulty=this.difficulty),this.tx_hash!=null&&(_.tx_hash=this.tx_hash.toObject()),this.nonce!=null&&(_.nonce=this.nonce),this.location!=null&&(_.location=this.location.toObject()),this.mix_hash!=null&&(_.mix_hash=this.mix_hash.toObject()),this.time!=null&&(_.time=this.time),this.prime_terminus_number!=null&&(_.prime_terminus_number=this.prime_terminus_number),this.lock!=null&&(_.lock=this.lock),this.primary_coinbase!=null&&(_.primary_coinbase=this.primary_coinbase.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_header_hash&&y.writeMessage(1,this.header_hash,()=>this.header_hash.serialize(y)),this.has_parent_hash&&y.writeMessage(2,this.parent_hash,()=>this.parent_hash.serialize(y)),this.has_number&&y.writeBytes(3,this.number),this.has_difficulty&&y.writeBytes(4,this.difficulty),this.has_tx_hash&&y.writeMessage(5,this.tx_hash,()=>this.tx_hash.serialize(y)),this.has_nonce&&y.writeUint64(6,this.nonce),this.has_location&&y.writeMessage(7,this.location,()=>this.location.serialize(y)),this.has_mix_hash&&y.writeMessage(8,this.mix_hash,()=>this.mix_hash.serialize(y)),this.has_time&&y.writeUint64(9,this.time),this.has_prime_terminus_number&&y.writeBytes(10,this.prime_terminus_number),this.has_lock&&y.writeUint32(11,this.lock),this.has_primary_coinbase&&y.writeMessage(12,this.primary_coinbase,()=>this.primary_coinbase.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Ve;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.header_hash,()=>M.header_hash=xt.ProtoHash.deserialize(y));break;case 2:y.readMessage(M.parent_hash,()=>M.parent_hash=xt.ProtoHash.deserialize(y));break;case 3:M.number=y.readBytes();break;case 4:M.difficulty=y.readBytes();break;case 5:y.readMessage(M.tx_hash,()=>M.tx_hash=xt.ProtoHash.deserialize(y));break;case 6:M.nonce=y.readUint64();break;case 7:y.readMessage(M.location,()=>M.location=xt.ProtoLocation.deserialize(y));break;case 8:y.readMessage(M.mix_hash,()=>M.mix_hash=xt.ProtoHash.deserialize(y));break;case 9:M.time=y.readUint64();break;case 10:M.prime_terminus_number=y.readBytes();break;case 11:M.lock=y.readUint32();break;case 12:y.readMessage(M.primary_coinbase,()=>M.primary_coinbase=xt.ProtoAddress.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Ve.deserialize(_)}};_t=new WeakMap;let o=Ve;n.ProtoWorkObjectHeader=o;const Qe=class Qe extends W.Message{constructor(_){super();Ge(this,ot,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,ot)),!Array.isArray(_)&&typeof _=="object"&&"wo_headers"in _&&_.wo_headers!=null&&(this.wo_headers=_.wo_headers)}get wo_headers(){return W.Message.getRepeatedWrapperField(this,o,1)}set wo_headers(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new Qe({});return _.wo_headers!=null&&(y.wo_headers=_.wo_headers.map(M=>o.fromObject(M))),y}toObject(){const _={};return this.wo_headers!=null&&(_.wo_headers=this.wo_headers.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.wo_headers.length&&y.writeRepeatedMessage(1,this.wo_headers,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Qe;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.wo_headers,()=>W.Message.addToRepeatedWrapperField(M,1,o.deserialize(y),o));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Qe.deserialize(_)}};ot=new WeakMap;let l=Qe;n.ProtoWorkObjectHeaders=l;const _e=class _e extends W.Message{constructor(_){super();Ge(this,mt,[[1],[2],[3],[4],[5],[6]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,mt)),!Array.isArray(_)&&typeof _=="object"&&("header"in _&&_.header!=null&&(this.header=_.header),"transactions"in _&&_.transactions!=null&&(this.transactions=_.transactions),"uncles"in _&&_.uncles!=null&&(this.uncles=_.uncles),"outbound_etxs"in _&&_.outbound_etxs!=null&&(this.outbound_etxs=_.outbound_etxs),"manifest"in _&&_.manifest!=null&&(this.manifest=_.manifest),"interlink_hashes"in _&&_.interlink_hashes!=null&&(this.interlink_hashes=_.interlink_hashes))}get header(){return W.Message.getWrapperField(this,e,1)}set header(_){W.Message.setOneofWrapperField(this,1,X(this,mt)[0],_)}get has_header(){return W.Message.getField(this,1)!=null}get transactions(){return W.Message.getWrapperField(this,r,2)}set transactions(_){W.Message.setOneofWrapperField(this,2,X(this,mt)[1],_)}get has_transactions(){return W.Message.getField(this,2)!=null}get uncles(){return W.Message.getWrapperField(this,l,3)}set uncles(_){W.Message.setOneofWrapperField(this,3,X(this,mt)[2],_)}get has_uncles(){return W.Message.getField(this,3)!=null}get outbound_etxs(){return W.Message.getWrapperField(this,r,4)}set outbound_etxs(_){W.Message.setOneofWrapperField(this,4,X(this,mt)[3],_)}get has_outbound_etxs(){return W.Message.getField(this,4)!=null}get manifest(){return W.Message.getWrapperField(this,s,5)}set manifest(_){W.Message.setOneofWrapperField(this,5,X(this,mt)[4],_)}get has_manifest(){return W.Message.getField(this,5)!=null}get interlink_hashes(){return W.Message.getWrapperField(this,xt.ProtoHashes,6)}set interlink_hashes(_){W.Message.setOneofWrapperField(this,6,X(this,mt)[5],_)}get has_interlink_hashes(){return W.Message.getField(this,6)!=null}get _header(){return{0:"none",1:"header"}[W.Message.computeOneofCase(this,[1])]}get _transactions(){return{0:"none",2:"transactions"}[W.Message.computeOneofCase(this,[2])]}get _uncles(){return{0:"none",3:"uncles"}[W.Message.computeOneofCase(this,[3])]}get _outbound_etxs(){return{0:"none",4:"outbound_etxs"}[W.Message.computeOneofCase(this,[4])]}get _manifest(){return{0:"none",5:"manifest"}[W.Message.computeOneofCase(this,[5])]}get _interlink_hashes(){return{0:"none",6:"interlink_hashes"}[W.Message.computeOneofCase(this,[6])]}static fromObject(_){const y=new _e({});return _.header!=null&&(y.header=e.fromObject(_.header)),_.transactions!=null&&(y.transactions=r.fromObject(_.transactions)),_.uncles!=null&&(y.uncles=l.fromObject(_.uncles)),_.outbound_etxs!=null&&(y.outbound_etxs=r.fromObject(_.outbound_etxs)),_.manifest!=null&&(y.manifest=s.fromObject(_.manifest)),_.interlink_hashes!=null&&(y.interlink_hashes=xt.ProtoHashes.fromObject(_.interlink_hashes)),y}toObject(){const _={};return this.header!=null&&(_.header=this.header.toObject()),this.transactions!=null&&(_.transactions=this.transactions.toObject()),this.uncles!=null&&(_.uncles=this.uncles.toObject()),this.outbound_etxs!=null&&(_.outbound_etxs=this.outbound_etxs.toObject()),this.manifest!=null&&(_.manifest=this.manifest.toObject()),this.interlink_hashes!=null&&(_.interlink_hashes=this.interlink_hashes.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_header&&y.writeMessage(1,this.header,()=>this.header.serialize(y)),this.has_transactions&&y.writeMessage(2,this.transactions,()=>this.transactions.serialize(y)),this.has_uncles&&y.writeMessage(3,this.uncles,()=>this.uncles.serialize(y)),this.has_outbound_etxs&&y.writeMessage(4,this.outbound_etxs,()=>this.outbound_etxs.serialize(y)),this.has_manifest&&y.writeMessage(5,this.manifest,()=>this.manifest.serialize(y)),this.has_interlink_hashes&&y.writeMessage(6,this.interlink_hashes,()=>this.interlink_hashes.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new _e;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.header,()=>M.header=e.deserialize(y));break;case 2:y.readMessage(M.transactions,()=>M.transactions=r.deserialize(y));break;case 3:y.readMessage(M.uncles,()=>M.uncles=l.deserialize(y));break;case 4:y.readMessage(M.outbound_etxs,()=>M.outbound_etxs=r.deserialize(y));break;case 5:y.readMessage(M.manifest,()=>M.manifest=s.deserialize(y));break;case 6:y.readMessage(M.interlink_hashes,()=>M.interlink_hashes=xt.ProtoHashes.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return _e.deserialize(_)}};mt=new WeakMap;let c=_e;n.ProtoWorkObjectBody=c;const kt=class kt extends W.Message{constructor(_){super();Ge(this,zt,[[1],[2],[3]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,zt)),!Array.isArray(_)&&typeof _=="object"&&("wo_header"in _&&_.wo_header!=null&&(this.wo_header=_.wo_header),"wo_body"in _&&_.wo_body!=null&&(this.wo_body=_.wo_body),"tx"in _&&_.tx!=null&&(this.tx=_.tx))}get wo_header(){return W.Message.getWrapperField(this,o,1)}set wo_header(_){W.Message.setOneofWrapperField(this,1,X(this,zt)[0],_)}get has_wo_header(){return W.Message.getField(this,1)!=null}get wo_body(){return W.Message.getWrapperField(this,c,2)}set wo_body(_){W.Message.setOneofWrapperField(this,2,X(this,zt)[1],_)}get has_wo_body(){return W.Message.getField(this,2)!=null}get tx(){return W.Message.getWrapperField(this,t,3)}set tx(_){W.Message.setOneofWrapperField(this,3,X(this,zt)[2],_)}get has_tx(){return W.Message.getField(this,3)!=null}get _wo_header(){return{0:"none",1:"wo_header"}[W.Message.computeOneofCase(this,[1])]}get _wo_body(){return{0:"none",2:"wo_body"}[W.Message.computeOneofCase(this,[2])]}get _tx(){return{0:"none",3:"tx"}[W.Message.computeOneofCase(this,[3])]}static fromObject(_){const y=new kt({});return _.wo_header!=null&&(y.wo_header=o.fromObject(_.wo_header)),_.wo_body!=null&&(y.wo_body=c.fromObject(_.wo_body)),_.tx!=null&&(y.tx=t.fromObject(_.tx)),y}toObject(){const _={};return this.wo_header!=null&&(_.wo_header=this.wo_header.toObject()),this.wo_body!=null&&(_.wo_body=this.wo_body.toObject()),this.tx!=null&&(_.tx=this.tx.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_wo_header&&y.writeMessage(1,this.wo_header,()=>this.wo_header.serialize(y)),this.has_wo_body&&y.writeMessage(2,this.wo_body,()=>this.wo_body.serialize(y)),this.has_tx&&y.writeMessage(3,this.tx,()=>this.tx.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new kt;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.wo_header,()=>M.wo_header=o.deserialize(y));break;case 2:y.readMessage(M.wo_body,()=>M.wo_body=c.deserialize(y));break;case 3:y.readMessage(M.tx,()=>M.tx=t.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return kt.deserialize(_)}};zt=new WeakMap;let f=kt;n.ProtoWorkObject=f;const gt=class gt extends W.Message{constructor(_){super();Ge(this,Vt,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Vt)),!Array.isArray(_)&&typeof _=="object"&&"work_objects"in _&&_.work_objects!=null&&(this.work_objects=_.work_objects)}get work_objects(){return W.Message.getRepeatedWrapperField(this,f,1)}set work_objects(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new gt({});return _.work_objects!=null&&(y.work_objects=_.work_objects.map(M=>f.fromObject(M))),y}toObject(){const _={};return this.work_objects!=null&&(_.work_objects=this.work_objects.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.work_objects.length&&y.writeRepeatedMessage(1,this.work_objects,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new gt;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.work_objects,()=>W.Message.addToRepeatedWrapperField(M,1,f.deserialize(y),f));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return gt.deserialize(_)}};Vt=new WeakMap;let d=gt;n.ProtoWorkObjects=d;const ie=class ie extends W.Message{constructor(_){super();Ge(this,ge,[[1]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,ge)),!Array.isArray(_)&&typeof _=="object"&&"work_object"in _&&_.work_object!=null&&(this.work_object=_.work_object)}get work_object(){return W.Message.getWrapperField(this,f,1)}set work_object(_){W.Message.setOneofWrapperField(this,1,X(this,ge)[0],_)}get has_work_object(){return W.Message.getField(this,1)!=null}get _work_object(){return{0:"none",1:"work_object"}[W.Message.computeOneofCase(this,[1])]}static fromObject(_){const y=new ie({});return _.work_object!=null&&(y.work_object=f.fromObject(_.work_object)),y}toObject(){const _={};return this.work_object!=null&&(_.work_object=this.work_object.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_work_object&&y.writeMessage(1,this.work_object,()=>this.work_object.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new ie;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.work_object,()=>M.work_object=f.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return ie.deserialize(_)}};ge=new WeakMap;let p=ie;n.ProtoWorkObjectBlockView=p;const we=class we extends W.Message{constructor(_){super();Ge(this,Ie,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Ie)),!Array.isArray(_)&&typeof _=="object"&&"work_objects"in _&&_.work_objects!=null&&(this.work_objects=_.work_objects)}get work_objects(){return W.Message.getRepeatedWrapperField(this,p,1)}set work_objects(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new we({});return _.work_objects!=null&&(y.work_objects=_.work_objects.map(M=>p.fromObject(M))),y}toObject(){const _={};return this.work_objects!=null&&(_.work_objects=this.work_objects.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.work_objects.length&&y.writeRepeatedMessage(1,this.work_objects,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new we;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.work_objects,()=>W.Message.addToRepeatedWrapperField(M,1,p.deserialize(y),p));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return we.deserialize(_)}};Ie=new WeakMap;let g=we;n.ProtoWorkObjectBlocksView=g;const j=class j extends W.Message{constructor(_){super();Ge(this,K,[[1]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,K)),!Array.isArray(_)&&typeof _=="object"&&"work_object"in _&&_.work_object!=null&&(this.work_object=_.work_object)}get work_object(){return W.Message.getWrapperField(this,f,1)}set work_object(_){W.Message.setOneofWrapperField(this,1,X(this,K)[0],_)}get has_work_object(){return W.Message.getField(this,1)!=null}get _work_object(){return{0:"none",1:"work_object"}[W.Message.computeOneofCase(this,[1])]}static fromObject(_){const y=new j({});return _.work_object!=null&&(y.work_object=f.fromObject(_.work_object)),y}toObject(){const _={};return this.work_object!=null&&(_.work_object=this.work_object.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_work_object&&y.writeMessage(1,this.work_object,()=>this.work_object.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new j;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.work_object,()=>M.work_object=f.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return j.deserialize(_)}};K=new WeakMap;let b=j;n.ProtoWorkObjectHeaderView=b;const ce=class ce extends W.Message{constructor(_){super();Ge(this,$,[[1]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,$)),!Array.isArray(_)&&typeof _=="object"&&"work_object"in _&&_.work_object!=null&&(this.work_object=_.work_object)}get work_object(){return W.Message.getWrapperField(this,f,1)}set work_object(_){W.Message.setOneofWrapperField(this,1,X(this,$)[0],_)}get has_work_object(){return W.Message.getField(this,1)!=null}get _work_object(){return{0:"none",1:"work_object"}[W.Message.computeOneofCase(this,[1])]}static fromObject(_){const y=new ce({});return _.work_object!=null&&(y.work_object=f.fromObject(_.work_object)),y}toObject(){const _={};return this.work_object!=null&&(_.work_object=this.work_object.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_work_object&&y.writeMessage(1,this.work_object,()=>this.work_object.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new ce;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.work_object,()=>M.work_object=f.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return ce.deserialize(_)}};$=new WeakMap;let S=ce;n.ProtoWorkObjectShareView=S;const Re=class Re extends W.Message{constructor(_){super();Ge(this,le,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[2],X(this,le)),!Array.isArray(_)&&typeof _=="object"&&("address"in _&&_.address!=null&&(this.address=_.address),"storage_key"in _&&_.storage_key!=null&&(this.storage_key=_.storage_key))}get address(){return W.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set address(_){W.Message.setField(this,1,_)}get storage_key(){return W.Message.getRepeatedWrapperField(this,xt.ProtoHash,2)}set storage_key(_){W.Message.setRepeatedWrapperField(this,2,_)}static fromObject(_){const y=new Re({});return _.address!=null&&(y.address=_.address),_.storage_key!=null&&(y.storage_key=_.storage_key.map(M=>xt.ProtoHash.fromObject(M))),y}toObject(){const _={};return this.address!=null&&(_.address=this.address),this.storage_key!=null&&(_.storage_key=this.storage_key.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.address.length&&y.writeBytes(1,this.address),this.storage_key.length&&y.writeRepeatedMessage(2,this.storage_key,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Re;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:M.address=y.readBytes();break;case 2:y.readMessage(M.storage_key,()=>W.Message.addToRepeatedWrapperField(M,2,xt.ProtoHash.deserialize(y),xt.ProtoHash));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Re.deserialize(_)}};le=new WeakMap;let w=Re;n.ProtoAccessTuple=w;const ue=class ue extends W.Message{constructor(_){super();Ge(this,Me,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,Me)),!Array.isArray(_)&&typeof _=="object"&&("post_state_or_status"in _&&_.post_state_or_status!=null&&(this.post_state_or_status=_.post_state_or_status),"cumulative_gas_used"in _&&_.cumulative_gas_used!=null&&(this.cumulative_gas_used=_.cumulative_gas_used),"logs"in _&&_.logs!=null&&(this.logs=_.logs),"tx_hash"in _&&_.tx_hash!=null&&(this.tx_hash=_.tx_hash),"contract_address"in _&&_.contract_address!=null&&(this.contract_address=_.contract_address),"gas_used"in _&&_.gas_used!=null&&(this.gas_used=_.gas_used),"outbound_etxs"in _&&_.outbound_etxs!=null&&(this.outbound_etxs=_.outbound_etxs))}get post_state_or_status(){return W.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set post_state_or_status(_){W.Message.setField(this,1,_)}get cumulative_gas_used(){return W.Message.getFieldWithDefault(this,2,0)}set cumulative_gas_used(_){W.Message.setField(this,2,_)}get logs(){return W.Message.getWrapperField(this,O,3)}set logs(_){W.Message.setWrapperField(this,3,_)}get has_logs(){return W.Message.getField(this,3)!=null}get tx_hash(){return W.Message.getWrapperField(this,xt.ProtoHash,4)}set tx_hash(_){W.Message.setWrapperField(this,4,_)}get has_tx_hash(){return W.Message.getField(this,4)!=null}get contract_address(){return W.Message.getWrapperField(this,xt.ProtoAddress,5)}set contract_address(_){W.Message.setWrapperField(this,5,_)}get has_contract_address(){return W.Message.getField(this,5)!=null}get gas_used(){return W.Message.getFieldWithDefault(this,6,0)}set gas_used(_){W.Message.setField(this,6,_)}get outbound_etxs(){return W.Message.getWrapperField(this,r,7)}set outbound_etxs(_){W.Message.setWrapperField(this,7,_)}get has_outbound_etxs(){return W.Message.getField(this,7)!=null}static fromObject(_){const y=new ue({});return _.post_state_or_status!=null&&(y.post_state_or_status=_.post_state_or_status),_.cumulative_gas_used!=null&&(y.cumulative_gas_used=_.cumulative_gas_used),_.logs!=null&&(y.logs=O.fromObject(_.logs)),_.tx_hash!=null&&(y.tx_hash=xt.ProtoHash.fromObject(_.tx_hash)),_.contract_address!=null&&(y.contract_address=xt.ProtoAddress.fromObject(_.contract_address)),_.gas_used!=null&&(y.gas_used=_.gas_used),_.outbound_etxs!=null&&(y.outbound_etxs=r.fromObject(_.outbound_etxs)),y}toObject(){const _={};return this.post_state_or_status!=null&&(_.post_state_or_status=this.post_state_or_status),this.cumulative_gas_used!=null&&(_.cumulative_gas_used=this.cumulative_gas_used),this.logs!=null&&(_.logs=this.logs.toObject()),this.tx_hash!=null&&(_.tx_hash=this.tx_hash.toObject()),this.contract_address!=null&&(_.contract_address=this.contract_address.toObject()),this.gas_used!=null&&(_.gas_used=this.gas_used),this.outbound_etxs!=null&&(_.outbound_etxs=this.outbound_etxs.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.post_state_or_status.length&&y.writeBytes(1,this.post_state_or_status),this.cumulative_gas_used!=0&&y.writeUint64(2,this.cumulative_gas_used),this.has_logs&&y.writeMessage(3,this.logs,()=>this.logs.serialize(y)),this.has_tx_hash&&y.writeMessage(4,this.tx_hash,()=>this.tx_hash.serialize(y)),this.has_contract_address&&y.writeMessage(5,this.contract_address,()=>this.contract_address.serialize(y)),this.gas_used!=0&&y.writeUint64(6,this.gas_used),this.has_outbound_etxs&&y.writeMessage(7,this.outbound_etxs,()=>this.outbound_etxs.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new ue;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:M.post_state_or_status=y.readBytes();break;case 2:M.cumulative_gas_used=y.readUint64();break;case 3:y.readMessage(M.logs,()=>M.logs=O.deserialize(y));break;case 4:y.readMessage(M.tx_hash,()=>M.tx_hash=xt.ProtoHash.deserialize(y));break;case 5:y.readMessage(M.contract_address,()=>M.contract_address=xt.ProtoAddress.deserialize(y));break;case 6:M.gas_used=y.readUint64();break;case 7:y.readMessage(M.outbound_etxs,()=>M.outbound_etxs=r.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return ue.deserialize(_)}};Me=new WeakMap;let E=ue;n.ProtoReceiptForStorage=E;const ft=class ft extends W.Message{constructor(_){super();Ge(this,vt,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,vt)),!Array.isArray(_)&&typeof _=="object"&&"receipts"in _&&_.receipts!=null&&(this.receipts=_.receipts)}get receipts(){return W.Message.getRepeatedWrapperField(this,E,1)}set receipts(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new ft({});return _.receipts!=null&&(y.receipts=_.receipts.map(M=>E.fromObject(M))),y}toObject(){const _={};return this.receipts!=null&&(_.receipts=this.receipts.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.receipts.length&&y.writeRepeatedMessage(1,this.receipts,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new ft;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.receipts,()=>W.Message.addToRepeatedWrapperField(M,1,E.deserialize(y),E));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return ft.deserialize(_)}};vt=new WeakMap;let k=ft;n.ProtoReceiptsForStorage=k;const Rt=class Rt extends W.Message{constructor(_){super();Ge(this,ct,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[2],X(this,ct)),!Array.isArray(_)&&typeof _=="object"&&("address"in _&&_.address!=null&&(this.address=_.address),"topics"in _&&_.topics!=null&&(this.topics=_.topics),"data"in _&&_.data!=null&&(this.data=_.data))}get address(){return W.Message.getWrapperField(this,xt.ProtoAddress,1)}set address(_){W.Message.setWrapperField(this,1,_)}get has_address(){return W.Message.getField(this,1)!=null}get topics(){return W.Message.getRepeatedWrapperField(this,xt.ProtoHash,2)}set topics(_){W.Message.setRepeatedWrapperField(this,2,_)}get data(){return W.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set data(_){W.Message.setField(this,3,_)}static fromObject(_){const y=new Rt({});return _.address!=null&&(y.address=xt.ProtoAddress.fromObject(_.address)),_.topics!=null&&(y.topics=_.topics.map(M=>xt.ProtoHash.fromObject(M))),_.data!=null&&(y.data=_.data),y}toObject(){const _={};return this.address!=null&&(_.address=this.address.toObject()),this.topics!=null&&(_.topics=this.topics.map(y=>y.toObject())),this.data!=null&&(_.data=this.data),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_address&&y.writeMessage(1,this.address,()=>this.address.serialize(y)),this.topics.length&&y.writeRepeatedMessage(2,this.topics,M=>M.serialize(y)),this.data.length&&y.writeBytes(3,this.data),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Rt;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.address,()=>M.address=xt.ProtoAddress.deserialize(y));break;case 2:y.readMessage(M.topics,()=>W.Message.addToRepeatedWrapperField(M,2,xt.ProtoHash.deserialize(y),xt.ProtoHash));break;case 3:M.data=y.readBytes();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Rt.deserialize(_)}};ct=new WeakMap;let R=Rt;n.ProtoLogForStorage=R;const $e=class $e extends W.Message{constructor(_){super();Ge(this,Le,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Le)),!Array.isArray(_)&&typeof _=="object"&&"logs"in _&&_.logs!=null&&(this.logs=_.logs)}get logs(){return W.Message.getRepeatedWrapperField(this,R,1)}set logs(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new $e({});return _.logs!=null&&(y.logs=_.logs.map(M=>R.fromObject(M))),y}toObject(){const _={};return this.logs!=null&&(_.logs=this.logs.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.logs.length&&y.writeRepeatedMessage(1,this.logs,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new $e;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.logs,()=>W.Message.addToRepeatedWrapperField(M,1,R.deserialize(y),R));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return $e.deserialize(_)}};Le=new WeakMap;let O=$e;n.ProtoLogsForStorage=O;const Lt=class Lt extends W.Message{constructor(_){super();Ge(this,At,[[1],[2]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,At)),!Array.isArray(_)&&typeof _=="object"&&("wo"in _&&_.wo!=null&&(this.wo=_.wo),"termini"in _&&_.termini!=null&&(this.termini=_.termini))}get wo(){return W.Message.getWrapperField(this,f,1)}set wo(_){W.Message.setOneofWrapperField(this,1,X(this,At)[0],_)}get has_wo(){return W.Message.getField(this,1)!=null}get termini(){return W.Message.getWrapperField(this,I,2)}set termini(_){W.Message.setOneofWrapperField(this,2,X(this,At)[1],_)}get has_termini(){return W.Message.getField(this,2)!=null}get _wo(){return{0:"none",1:"wo"}[W.Message.computeOneofCase(this,[1])]}get _termini(){return{0:"none",2:"termini"}[W.Message.computeOneofCase(this,[2])]}static fromObject(_){const y=new Lt({});return _.wo!=null&&(y.wo=f.fromObject(_.wo)),_.termini!=null&&(y.termini=I.fromObject(_.termini)),y}toObject(){const _={};return this.wo!=null&&(_.wo=this.wo.toObject()),this.termini!=null&&(_.termini=this.termini.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_wo&&y.writeMessage(1,this.wo,()=>this.wo.serialize(y)),this.has_termini&&y.writeMessage(2,this.termini,()=>this.termini.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Lt;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.wo,()=>M.wo=f.deserialize(y));break;case 2:y.readMessage(M.termini,()=>M.termini=I.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Lt.deserialize(_)}};At=new WeakMap;let D=Lt;n.ProtoPendingHeader=D;const tt=class tt extends W.Message{constructor(_){super();Ge(this,bt,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1,2],X(this,bt)),!Array.isArray(_)&&typeof _=="object"&&("dom_termini"in _&&_.dom_termini!=null&&(this.dom_termini=_.dom_termini),"sub_termini"in _&&_.sub_termini!=null&&(this.sub_termini=_.sub_termini))}get dom_termini(){return W.Message.getRepeatedWrapperField(this,xt.ProtoHash,1)}set dom_termini(_){W.Message.setRepeatedWrapperField(this,1,_)}get sub_termini(){return W.Message.getRepeatedWrapperField(this,xt.ProtoHash,2)}set sub_termini(_){W.Message.setRepeatedWrapperField(this,2,_)}static fromObject(_){const y=new tt({});return _.dom_termini!=null&&(y.dom_termini=_.dom_termini.map(M=>xt.ProtoHash.fromObject(M))),_.sub_termini!=null&&(y.sub_termini=_.sub_termini.map(M=>xt.ProtoHash.fromObject(M))),y}toObject(){const _={};return this.dom_termini!=null&&(_.dom_termini=this.dom_termini.map(y=>y.toObject())),this.sub_termini!=null&&(_.sub_termini=this.sub_termini.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.dom_termini.length&&y.writeRepeatedMessage(1,this.dom_termini,M=>M.serialize(y)),this.sub_termini.length&&y.writeRepeatedMessage(2,this.sub_termini,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new tt;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.dom_termini,()=>W.Message.addToRepeatedWrapperField(M,1,xt.ProtoHash.deserialize(y),xt.ProtoHash));break;case 2:y.readMessage(M.sub_termini,()=>W.Message.addToRepeatedWrapperField(M,2,xt.ProtoHash.deserialize(y),xt.ProtoHash));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return tt.deserialize(_)}};bt=new WeakMap;let I=tt;n.ProtoTermini=I;const an=class an extends W.Message{constructor(_){super();Ge(this,Dt,[[1]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,Dt)),!Array.isArray(_)&&typeof _=="object"&&"etx_hashes"in _&&_.etx_hashes!=null&&(this.etx_hashes=_.etx_hashes)}get etx_hashes(){return W.Message.getFieldWithDefault(this,1,new Uint8Array(0))}set etx_hashes(_){W.Message.setOneofField(this,1,X(this,Dt)[0],_)}get has_etx_hashes(){return W.Message.getField(this,1)!=null}get _etx_hashes(){return{0:"none",1:"etx_hashes"}[W.Message.computeOneofCase(this,[1])]}static fromObject(_){const y=new an({});return _.etx_hashes!=null&&(y.etx_hashes=_.etx_hashes),y}toObject(){const _={};return this.etx_hashes!=null&&(_.etx_hashes=this.etx_hashes),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_etx_hashes&&y.writeBytes(1,this.etx_hashes),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new an;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:M.etx_hashes=y.readBytes();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return an.deserialize(_)}};Dt=new WeakMap;let B=an;n.ProtoEtxSet=B;const kn=class kn extends W.Message{constructor(_){super();Ge(this,An,[[1],[2]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,An)),!Array.isArray(_)&&typeof _=="object"&&("header"in _&&_.header!=null&&(this.header=_.header),"outbound_etxs"in _&&_.outbound_etxs!=null&&(this.outbound_etxs=_.outbound_etxs))}get header(){return W.Message.getWrapperField(this,f,1)}set header(_){W.Message.setOneofWrapperField(this,1,X(this,An)[0],_)}get has_header(){return W.Message.getField(this,1)!=null}get outbound_etxs(){return W.Message.getWrapperField(this,r,2)}set outbound_etxs(_){W.Message.setOneofWrapperField(this,2,X(this,An)[1],_)}get has_outbound_etxs(){return W.Message.getField(this,2)!=null}get _header(){return{0:"none",1:"header"}[W.Message.computeOneofCase(this,[1])]}get _outbound_etxs(){return{0:"none",2:"outbound_etxs"}[W.Message.computeOneofCase(this,[2])]}static fromObject(_){const y=new kn({});return _.header!=null&&(y.header=f.fromObject(_.header)),_.outbound_etxs!=null&&(y.outbound_etxs=r.fromObject(_.outbound_etxs)),y}toObject(){const _={};return this.header!=null&&(_.header=this.header.toObject()),this.outbound_etxs!=null&&(_.outbound_etxs=this.outbound_etxs.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_header&&y.writeMessage(1,this.header,()=>this.header.serialize(y)),this.has_outbound_etxs&&y.writeMessage(2,this.outbound_etxs,()=>this.outbound_etxs.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new kn;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.header,()=>M.header=f.deserialize(y));break;case 2:y.readMessage(M.outbound_etxs,()=>M.outbound_etxs=r.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return kn.deserialize(_)}};An=new WeakMap;let z=kn;n.ProtoPendingEtxs=z;const pi=class pi extends W.Message{constructor(_){super();Ge(this,Wr,[[1],[2]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,Wr)),!Array.isArray(_)&&typeof _=="object"&&("header"in _&&_.header!=null&&(this.header=_.header),"etxs_rollup"in _&&_.etxs_rollup!=null&&(this.etxs_rollup=_.etxs_rollup))}get header(){return W.Message.getWrapperField(this,f,1)}set header(_){W.Message.setOneofWrapperField(this,1,X(this,Wr)[0],_)}get has_header(){return W.Message.getField(this,1)!=null}get etxs_rollup(){return W.Message.getWrapperField(this,r,2)}set etxs_rollup(_){W.Message.setOneofWrapperField(this,2,X(this,Wr)[1],_)}get has_etxs_rollup(){return W.Message.getField(this,2)!=null}get _header(){return{0:"none",1:"header"}[W.Message.computeOneofCase(this,[1])]}get _etxs_rollup(){return{0:"none",2:"etxs_rollup"}[W.Message.computeOneofCase(this,[2])]}static fromObject(_){const y=new pi({});return _.header!=null&&(y.header=f.fromObject(_.header)),_.etxs_rollup!=null&&(y.etxs_rollup=r.fromObject(_.etxs_rollup)),y}toObject(){const _={};return this.header!=null&&(_.header=this.header.toObject()),this.etxs_rollup!=null&&(_.etxs_rollup=this.etxs_rollup.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_header&&y.writeMessage(1,this.header,()=>this.header.serialize(y)),this.has_etxs_rollup&&y.writeMessage(2,this.etxs_rollup,()=>this.etxs_rollup.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new pi;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.header,()=>M.header=f.deserialize(y));break;case 2:y.readMessage(M.etxs_rollup,()=>M.etxs_rollup=r.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return pi.deserialize(_)}};Wr=new WeakMap;let V=pi;n.ProtoPendingEtxsRollup=V;const Zr=class Zr extends W.Message{constructor(_){super();Ge(this,Ws,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Ws)),!Array.isArray(_)&&typeof _=="object"&&"tx_ins"in _&&_.tx_ins!=null&&(this.tx_ins=_.tx_ins)}get tx_ins(){return W.Message.getRepeatedWrapperField(this,J,1)}set tx_ins(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new Zr({});return _.tx_ins!=null&&(y.tx_ins=_.tx_ins.map(M=>J.fromObject(M))),y}toObject(){const _={};return this.tx_ins!=null&&(_.tx_ins=this.tx_ins.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.tx_ins.length&&y.writeRepeatedMessage(1,this.tx_ins,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Zr;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.tx_ins,()=>W.Message.addToRepeatedWrapperField(M,1,J.deserialize(y),J));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Zr.deserialize(_)}};Ws=new WeakMap;let Y=Zr;n.ProtoTxIns=Y;const Cs=class Cs extends W.Message{constructor(_){super();Ge(this,Ts,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,Ts)),!Array.isArray(_)&&typeof _=="object"&&"tx_outs"in _&&_.tx_outs!=null&&(this.tx_outs=_.tx_outs)}get tx_outs(){return W.Message.getRepeatedWrapperField(this,fe,1)}set tx_outs(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new Cs({});return _.tx_outs!=null&&(y.tx_outs=_.tx_outs.map(M=>fe.fromObject(M))),y}toObject(){const _={};return this.tx_outs!=null&&(_.tx_outs=this.tx_outs.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.tx_outs.length&&y.writeRepeatedMessage(1,this.tx_outs,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Cs;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.tx_outs,()=>W.Message.addToRepeatedWrapperField(M,1,fe.deserialize(y),fe));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Cs.deserialize(_)}};Ts=new WeakMap;let q=Cs;n.ProtoTxOuts=q;const Hi=class Hi extends W.Message{constructor(_){super();Ge(this,ns,[[1],[2]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,ns)),!Array.isArray(_)&&typeof _=="object"&&("previous_out_point"in _&&_.previous_out_point!=null&&(this.previous_out_point=_.previous_out_point),"pub_key"in _&&_.pub_key!=null&&(this.pub_key=_.pub_key))}get previous_out_point(){return W.Message.getWrapperField(this,re,1)}set previous_out_point(_){W.Message.setOneofWrapperField(this,1,X(this,ns)[0],_)}get has_previous_out_point(){return W.Message.getField(this,1)!=null}get pub_key(){return W.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set pub_key(_){W.Message.setOneofField(this,2,X(this,ns)[1],_)}get has_pub_key(){return W.Message.getField(this,2)!=null}get _previous_out_point(){return{0:"none",1:"previous_out_point"}[W.Message.computeOneofCase(this,[1])]}get _pub_key(){return{0:"none",2:"pub_key"}[W.Message.computeOneofCase(this,[2])]}static fromObject(_){const y=new Hi({});return _.previous_out_point!=null&&(y.previous_out_point=re.fromObject(_.previous_out_point)),_.pub_key!=null&&(y.pub_key=_.pub_key),y}toObject(){const _={};return this.previous_out_point!=null&&(_.previous_out_point=this.previous_out_point.toObject()),this.pub_key!=null&&(_.pub_key=this.pub_key),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_previous_out_point&&y.writeMessage(1,this.previous_out_point,()=>this.previous_out_point.serialize(y)),this.has_pub_key&&y.writeBytes(2,this.pub_key),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Hi;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.previous_out_point,()=>M.previous_out_point=re.deserialize(y));break;case 2:M.pub_key=y.readBytes();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Hi.deserialize(_)}};ns=new WeakMap;let J=Hi;n.ProtoTxIn=J;const Ci=class Ci extends W.Message{constructor(_){super();Ge(this,Ti,[[1],[2]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,Ti)),!Array.isArray(_)&&typeof _=="object"&&("hash"in _&&_.hash!=null&&(this.hash=_.hash),"index"in _&&_.index!=null&&(this.index=_.index))}get hash(){return W.Message.getWrapperField(this,xt.ProtoHash,1)}set hash(_){W.Message.setOneofWrapperField(this,1,X(this,Ti)[0],_)}get has_hash(){return W.Message.getField(this,1)!=null}get index(){return W.Message.getFieldWithDefault(this,2,0)}set index(_){W.Message.setOneofField(this,2,X(this,Ti)[1],_)}get has_index(){return W.Message.getField(this,2)!=null}get _hash(){return{0:"none",1:"hash"}[W.Message.computeOneofCase(this,[1])]}get _index(){return{0:"none",2:"index"}[W.Message.computeOneofCase(this,[2])]}static fromObject(_){const y=new Ci({});return _.hash!=null&&(y.hash=xt.ProtoHash.fromObject(_.hash)),_.index!=null&&(y.index=_.index),y}toObject(){const _={};return this.hash!=null&&(_.hash=this.hash.toObject()),this.index!=null&&(_.index=this.index),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_hash&&y.writeMessage(1,this.hash,()=>this.hash.serialize(y)),this.has_index&&y.writeUint32(2,this.index),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Ci;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.hash,()=>M.hash=xt.ProtoHash.deserialize(y));break;case 2:M.index=y.readUint32();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Ci.deserialize(_)}};Ti=new WeakMap;let re=Ci;n.ProtoOutPoint=re;const yr=class yr extends W.Message{constructor(_){super();Ge(this,Xn,[[1],[2],[3]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,Xn)),!Array.isArray(_)&&typeof _=="object"&&("denomination"in _&&_.denomination!=null&&(this.denomination=_.denomination),"address"in _&&_.address!=null&&(this.address=_.address),"lock"in _&&_.lock!=null&&(this.lock=_.lock))}get denomination(){return W.Message.getFieldWithDefault(this,1,0)}set denomination(_){W.Message.setOneofField(this,1,X(this,Xn)[0],_)}get has_denomination(){return W.Message.getField(this,1)!=null}get address(){return W.Message.getFieldWithDefault(this,2,new Uint8Array(0))}set address(_){W.Message.setOneofField(this,2,X(this,Xn)[1],_)}get has_address(){return W.Message.getField(this,2)!=null}get lock(){return W.Message.getFieldWithDefault(this,3,new Uint8Array(0))}set lock(_){W.Message.setOneofField(this,3,X(this,Xn)[2],_)}get has_lock(){return W.Message.getField(this,3)!=null}get _denomination(){return{0:"none",1:"denomination"}[W.Message.computeOneofCase(this,[1])]}get _address(){return{0:"none",2:"address"}[W.Message.computeOneofCase(this,[2])]}get _lock(){return{0:"none",3:"lock"}[W.Message.computeOneofCase(this,[3])]}static fromObject(_){const y=new yr({});return _.denomination!=null&&(y.denomination=_.denomination),_.address!=null&&(y.address=_.address),_.lock!=null&&(y.lock=_.lock),y}toObject(){const _={};return this.denomination!=null&&(_.denomination=this.denomination),this.address!=null&&(_.address=this.address),this.lock!=null&&(_.lock=this.lock),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_denomination&&y.writeUint32(1,this.denomination),this.has_address&&y.writeBytes(2,this.address),this.has_lock&&y.writeBytes(3,this.lock),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new yr;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:M.denomination=y.readUint32();break;case 2:M.address=y.readBytes();break;case 3:M.lock=y.readBytes();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return yr.deserialize(_)}};Xn=new WeakMap;let fe=yr;n.ProtoTxOut=fe;const pr=class pr extends W.Message{constructor(_){super();Ge(this,mi,[[1],[2],[3]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,mi)),!Array.isArray(_)&&typeof _=="object"&&("hash"in _&&_.hash!=null&&(this.hash=_.hash),"index"in _&&_.index!=null&&(this.index=_.index),"denomination"in _&&_.denomination!=null&&(this.denomination=_.denomination))}get hash(){return W.Message.getWrapperField(this,xt.ProtoHash,1)}set hash(_){W.Message.setOneofWrapperField(this,1,X(this,mi)[0],_)}get has_hash(){return W.Message.getField(this,1)!=null}get index(){return W.Message.getFieldWithDefault(this,2,0)}set index(_){W.Message.setOneofField(this,2,X(this,mi)[1],_)}get has_index(){return W.Message.getField(this,2)!=null}get denomination(){return W.Message.getFieldWithDefault(this,3,0)}set denomination(_){W.Message.setOneofField(this,3,X(this,mi)[2],_)}get has_denomination(){return W.Message.getField(this,3)!=null}get _hash(){return{0:"none",1:"hash"}[W.Message.computeOneofCase(this,[1])]}get _index(){return{0:"none",2:"index"}[W.Message.computeOneofCase(this,[2])]}get _denomination(){return{0:"none",3:"denomination"}[W.Message.computeOneofCase(this,[3])]}static fromObject(_){const y=new pr({});return _.hash!=null&&(y.hash=xt.ProtoHash.fromObject(_.hash)),_.index!=null&&(y.index=_.index),_.denomination!=null&&(y.denomination=_.denomination),y}toObject(){const _={};return this.hash!=null&&(_.hash=this.hash.toObject()),this.index!=null&&(_.index=this.index),this.denomination!=null&&(_.denomination=this.denomination),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_hash&&y.writeMessage(1,this.hash,()=>this.hash.serialize(y)),this.has_index&&y.writeUint32(2,this.index),this.has_denomination&&y.writeUint32(3,this.denomination),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new pr;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.hash,()=>M.hash=xt.ProtoHash.deserialize(y));break;case 2:M.index=y.readUint32();break;case 3:M.denomination=y.readUint32();break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return pr.deserialize(_)}};mi=new WeakMap;let ne=pr;n.ProtoOutPointAndDenomination=ne;const Gt=class Gt extends W.Message{constructor(_){super();Ge(this,wt,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,wt)),!Array.isArray(_)&&typeof _=="object"&&"out_points"in _&&_.out_points!=null&&(this.out_points=_.out_points),this.out_points||(this.out_points=new Map)}get out_points(){return W.Message.getField(this,1)}set out_points(_){W.Message.setField(this,1,_)}static fromObject(_){const y=new Gt({});return typeof _.out_points=="object"&&(y.out_points=new Map(Object.entries(_.out_points).map(([M,U])=>[M,ne.fromObject(U)]))),y}toObject(){const _={};return this.out_points!=null&&(_.out_points=Object.fromEntries(Array.from(this.out_points).map(([y,M])=>[y,M.toObject()]))),_}serialize(_){const y=_||new W.BinaryWriter;for(const[M,U]of this.out_points)y.writeMessage(1,this.out_points,()=>{y.writeString(1,M),y.writeMessage(2,U,()=>U.serialize(y))});if(!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Gt;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M,()=>W.Map.deserializeBinary(M.out_points,y,y.readString,()=>{let U;return y.readMessage(M,()=>U=ne.deserialize(y)),U}));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Gt.deserialize(_)}};wt=new WeakMap;let te=Gt;n.ProtoAddressOutPoints=te;const ri=class ri extends W.Message{constructor(_){super();Ge(this,Ca,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,Ca)),!Array.isArray(_)&&typeof _=="object"&&"entries"in _&&_.entries!=null&&(this.entries=_.entries),this.entries||(this.entries=new Map)}get entries(){return W.Message.getField(this,1)}set entries(_){W.Message.setField(this,1,_)}static fromObject(_){const y=new ri({});return typeof _.entries=="object"&&(y.entries=new Map(Object.entries(_.entries).map(([M,U])=>[M,te.fromObject(U)]))),y}toObject(){const _={};return this.entries!=null&&(_.entries=Object.fromEntries(Array.from(this.entries).map(([y,M])=>[y,M.toObject()]))),_}serialize(_){const y=_||new W.BinaryWriter;for(const[M,U]of this.entries)y.writeMessage(1,this.entries,()=>{y.writeString(1,M),y.writeMessage(2,U,()=>U.serialize(y))});if(!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new ri;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M,()=>W.Map.deserializeBinary(M.entries,y,y.readString,()=>{let U;return y.readMessage(M,()=>U=te.deserialize(y)),U}));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return ri.deserialize(_)}};Ca=new WeakMap;let se=ri;n.ProtoOutPointsMap=se;const rs=class rs extends W.Message{constructor(_){super();Ge(this,rr,[[1],[2]]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[],X(this,rr)),!Array.isArray(_)&&typeof _=="object"&&("outpoint"in _&&_.outpoint!=null&&(this.outpoint=_.outpoint),"sutxo"in _&&_.sutxo!=null&&(this.sutxo=_.sutxo))}get outpoint(){return W.Message.getWrapperField(this,re,1)}set outpoint(_){W.Message.setOneofWrapperField(this,1,X(this,rr)[0],_)}get has_outpoint(){return W.Message.getField(this,1)!=null}get sutxo(){return W.Message.getWrapperField(this,fe,2)}set sutxo(_){W.Message.setOneofWrapperField(this,2,X(this,rr)[1],_)}get has_sutxo(){return W.Message.getField(this,2)!=null}get _outpoint(){return{0:"none",1:"outpoint"}[W.Message.computeOneofCase(this,[1])]}get _sutxo(){return{0:"none",2:"sutxo"}[W.Message.computeOneofCase(this,[2])]}static fromObject(_){const y=new rs({});return _.outpoint!=null&&(y.outpoint=re.fromObject(_.outpoint)),_.sutxo!=null&&(y.sutxo=fe.fromObject(_.sutxo)),y}toObject(){const _={};return this.outpoint!=null&&(_.outpoint=this.outpoint.toObject()),this.sutxo!=null&&(_.sutxo=this.sutxo.toObject()),_}serialize(_){const y=_||new W.BinaryWriter;if(this.has_outpoint&&y.writeMessage(1,this.outpoint,()=>this.outpoint.serialize(y)),this.has_sutxo&&y.writeMessage(2,this.sutxo,()=>this.sutxo.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new rs;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.outpoint,()=>M.outpoint=re.deserialize(y));break;case 2:y.readMessage(M.sutxo,()=>M.sutxo=fe.deserialize(y));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return rs.deserialize(_)}};rr=new WeakMap;let be=rs;n.ProtoSpentUTXO=be;const $s=class $s extends W.Message{constructor(_){super();Ge(this,ve,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,ve)),!Array.isArray(_)&&typeof _=="object"&&"sutxos"in _&&_.sutxos!=null&&(this.sutxos=_.sutxos)}get sutxos(){return W.Message.getRepeatedWrapperField(this,be,1)}set sutxos(_){W.Message.setRepeatedWrapperField(this,1,_)}static fromObject(_){const y=new $s({});return _.sutxos!=null&&(y.sutxos=_.sutxos.map(M=>be.fromObject(M))),y}toObject(){const _={};return this.sutxos!=null&&(_.sutxos=this.sutxos.map(y=>y.toObject())),_}serialize(_){const y=_||new W.BinaryWriter;if(this.sutxos.length&&y.writeRepeatedMessage(1,this.sutxos,M=>M.serialize(y)),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new $s;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:y.readMessage(M.sutxos,()=>W.Message.addToRepeatedWrapperField(M,1,be.deserialize(y),be));break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return $s.deserialize(_)}};ve=new WeakMap;let Ee=$s;n.ProtoSpentUTXOs=Ee;const Ae=class Ae extends W.Message{constructor(_){super();Ge(this,de,[]);W.Message.initialize(this,Array.isArray(_)?_:[],0,-1,[1],X(this,de)),!Array.isArray(_)&&typeof _=="object"&&"keys"in _&&_.keys!=null&&(this.keys=_.keys)}get keys(){return W.Message.getFieldWithDefault(this,1,[])}set keys(_){W.Message.setField(this,1,_)}static fromObject(_){const y=new Ae({});return _.keys!=null&&(y.keys=_.keys),y}toObject(){const _={};return this.keys!=null&&(_.keys=this.keys),_}serialize(_){const y=_||new W.BinaryWriter;if(this.keys.length&&y.writeRepeatedBytes(1,this.keys),!_)return y.getResultBuffer()}static deserialize(_){const y=_ instanceof W.BinaryReader?_:new W.BinaryReader(_),M=new Ae;for(;y.nextField()&&!y.isEndGroup();)switch(y.getFieldNumber()){case 1:W.Message.addToRepeatedField(M,1,y.readBytes());break;default:y.skipField()}return M}serializeBinary(){return this.serialize()}static deserializeBinary(_){return Ae.deserialize(_)}};de=new WeakMap;let oe=Ae;n.ProtoKeys=oe})(kO||(kO={}));function Z8(n){const e=kO.ProtoTransaction.fromObject(n);return Ft(e.serialize())}function NU(n){var r;const t=kO.ProtoTransaction.deserialize(n).toObject();return((r=t.to)==null?void 0:r.length)==0&&(t.to=null),t}function Nke(n,e,t,r,i){je(!1,`invalid codepoint at offset ${e}; ${n}`,"bytes",t)}function rie(n,e,t,r,i){if(n==="BAD_PREFIX"||n==="UNEXPECTED_CONTINUE"){let s=0;for(let a=e+1;a<t.length&&t[a]>>6===2;a++)s++;return s}return n==="OVERRUN"?t.length-e-1:0}function Lke(n,e,t,r,i){return n==="OVERLONG"?(je(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),rie(n,e,t))}const Bke=Object.freeze({error:Nke,ignore:rie,replace:Lke});function Fke(n,e){e==null&&(e=Bke.error);const t=ln(n,"bytes"),r=[];let i=0;for(;i<t.length;){const s=t[i++];if(s>>7===0){r.push(s);continue}let a=null,o=null;if((s&224)===192)a=1,o=127;else if((s&240)===224)a=2,o=2047;else if((s&248)===240)a=3,o=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,t,r):i+=e("BAD_PREFIX",i-1,t,r);continue}if(i-1+a>=t.length){i+=e("OVERRUN",i-1,t,r);continue}let l=s&(1<<8-a-1)-1;for(let c=0;c<a;c++){const f=t[i];if((f&192)!=128){i+=e("MISSING_CONTINUE",i,t,r),l=null;break}l=l<<6|f&63,i++}if(l!==null){if(l>1114111){i+=e("OUT_OF_RANGE",i-1-a,t,r,l);continue}if(l>=55296&&l<=57343){i+=e("UTF16_SURROGATE",i-1-a,t,r,l);continue}if(l<=o){i+=e("OVERLONG",i-1-a,t,r,l);continue}r.push(l)}}return r}function Au(n,e){e!=null&&(Tke(e),n=n.normalize(e));const t=[];for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192),t.push(i&63|128);else if((i&64512)==55296){r++;const s=n.charCodeAt(r);je(r<n.length&&(s&64512)===56320,"invalid surrogate pair","str",n);const a=65536+((i&1023)<<10)+(s&1023);t.push(a>>18|240),t.push(a>>12&63|128),t.push(a>>6&63|128),t.push(a&63|128)}else t.push(i>>12|224),t.push(i>>6&63|128),t.push(i&63|128)}return new Uint8Array(t)}function zke(n){return n.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function iie(n,e){return zke(Fke(n,e))}function sie(n){async function e(t,r){const i=t.url.split(":")[0].toLowerCase();Nt(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Nt(i==="https"||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s;if(r){const d=new AbortController;s=d.signal,r.addListener(()=>{d.abort()})}const a={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:s},o=await fetch(t.url,a),l={};o.headers.forEach((d,p)=>{l[p.toLowerCase()]=d});const c=await o.arrayBuffer(),f=c==null?null:new Uint8Array(c);return{statusCode:o.status,statusMessage:o.statusText,headers:l,body:f}}return e}const Uke=12,jke=250;let L$=sie();const Hke=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),Vke=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let E6=!1;async function aie(n,e){try{const t=n.match(Hke);if(!t)throw new Error("invalid data");return new j0(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?Oke(t[3]):$ke(t[3]))}catch{return new j0(599,"BAD REQUEST (invalid data: URI)",{},null,new dc(n))}}function oie(n){async function e(t,r){try{const i=t.match(Vke);if(!i)throw new Error("invalid link");return new dc(`${n}${i[2]}`)}catch{return new j0(599,"BAD REQUEST (invalid IPFS URI)",{},null,new dc(t))}}return e}const Wk={data:aie,ipfs:oie("https://gateway.ipfs.io/ipfs/")},lie=new WeakMap;var cv,_0;class Wke{constructor(e){Ge(this,cv);Ge(this,_0);ke(this,cv,[]),ke(this,_0,!1),lie.set(e,()=>{if(!X(this,_0)){ke(this,_0,!0);for(const t of X(this,cv))setTimeout(()=>{t()},0);ke(this,cv,[])}})}addListener(e){Nt(!X(this,_0),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),X(this,cv).push(e)}get cancelled(){return X(this,_0)}checkSignal(){Nt(!this.cancelled,"cancelled","CANCELLED",{})}}cv=new WeakMap,_0=new WeakMap;function $k(n){if(n==null)throw new Error("missing signal; should not happen");return n.checkSignal(),n}var s_,a_,hf,lp,o_,l_,va,lc,cp,uv,fv,dv,Td,up,w0,hv,gM;const ZP=class ZP{constructor(e){Ge(this,hv);Ge(this,s_);Ge(this,a_);Ge(this,hf);Ge(this,lp);Ge(this,o_);Ge(this,l_);Ge(this,va);Ge(this,lc);Ge(this,cp);Ge(this,uv);Ge(this,fv);Ge(this,dv);Ge(this,Td);Ge(this,up);Ge(this,w0);ke(this,l_,String(e)),ke(this,s_,!1),ke(this,a_,!0),ke(this,hf,{}),ke(this,lp,""),ke(this,o_,3e4),ke(this,up,{slotInterval:jke,maxAttempts:Uke}),ke(this,w0,null)}get url(){return X(this,l_)}set url(e){ke(this,l_,String(e))}get body(){return X(this,va)==null?null:new Uint8Array(X(this,va))}set body(e){if(e==null)ke(this,va,void 0),ke(this,lc,void 0);else if(typeof e=="string")ke(this,va,Au(e)),ke(this,lc,"text/plain");else if(e instanceof Uint8Array)ke(this,va,e),ke(this,lc,"application/octet-stream");else if(typeof e=="object")ke(this,va,Au(JSON.stringify(e))),ke(this,lc,"application/json");else throw new Error("invalid body")}hasBody(){return X(this,va)!=null}get method(){return X(this,lp)?X(this,lp):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),ke(this,lp,String(e).toUpperCase())}get headers(){const e=Object.assign({},X(this,hf));return X(this,cp)&&(e.authorization=`Basic ${Pke(Au(X(this,cp)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&X(this,lc)&&(e["content-type"]=X(this,lc)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){X(this,hf)[String(e).toLowerCase()]=String(t)}clearHeaders(){ke(this,hf,{})}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return X(this,cp)||null}setCredentials(e,t){je(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),ke(this,cp,`${e}:${t}`)}get allowGzip(){return X(this,a_)}set allowGzip(e){ke(this,a_,!!e)}get allowInsecureAuthentication(){return!!X(this,s_)}set allowInsecureAuthentication(e){ke(this,s_,!!e)}get timeout(){return X(this,o_)}set timeout(e){je(e>=0,"timeout must be non-zero","timeout",e),ke(this,o_,e)}get preflightFunc(){return X(this,uv)||null}set preflightFunc(e){ke(this,uv,e)}get processFunc(){return X(this,fv)||null}set processFunc(e){ke(this,fv,e)}get retryFunc(){return X(this,dv)||null}set retryFunc(e){ke(this,dv,e)}get getUrlFunc(){return X(this,w0)||L$}set getUrlFunc(e){ke(this,w0,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${X(this,va)?Ft(X(this,va)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(X(this,up).slotInterval=e.slotInterval),e.maxAttempts!=null&&(X(this,up).maxAttempts=e.maxAttempts)}send(){return Nt(X(this,Td)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),ke(this,Td,new Wke(this)),Tt(this,hv,gM).call(this,0,B$()+this.timeout,0,this,new j0(0,"",{},null,this))}cancel(){Nt(X(this,Td)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=lie.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Nt(this.method==="GET"&&(t!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new ZP(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,ke(i,hf,Object.assign({},X(this,hf))),X(this,va)&&ke(i,va,new Uint8Array(X(this,va))),ke(i,lc,X(this,lc)),i}clone(){const e=new ZP(this.url);return ke(e,lp,X(this,lp)),X(this,va)&&ke(e,va,X(this,va)),ke(e,lc,X(this,lc)),ke(e,hf,Object.assign({},X(this,hf))),ke(e,cp,X(this,cp)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),ke(e,uv,X(this,uv)),ke(e,fv,X(this,fv)),ke(e,dv,X(this,dv)),ke(e,w0,X(this,w0)),e}static lockConfig(){E6=!0}static getGateway(e){return Wk[e.toLowerCase()]||null}static registerGateway(e,t){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(E6)throw new Error("gateways locked");Wk[e]=t}static registerGetUrl(e){if(E6)throw new Error("gateways locked");L$=e}static createGetUrlFunc(e){return sie()}static createDataGateway(){return aie}static createIpfsGatewayFunc(e){return oie(e)}};s_=new WeakMap,a_=new WeakMap,hf=new WeakMap,lp=new WeakMap,o_=new WeakMap,l_=new WeakMap,va=new WeakMap,lc=new WeakMap,cp=new WeakMap,uv=new WeakMap,fv=new WeakMap,dv=new WeakMap,Td=new WeakMap,up=new WeakMap,w0=new WeakMap,hv=new WeakSet,gM=async function(e,t,r,i,s){var f,d,p;if(e>=X(this,up).maxAttempts)return s.makeServerError("exceeded maximum retry limit");Nt(B$()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await Gke(r);let a=this.clone();const o=(a.url.split(":")[0]||"").toLowerCase();if(o in Wk){const g=await Wk[o](a.url,$k(X(i,Td)));if(g instanceof j0){let b=g;if(this.processFunc){$k(X(i,Td));try{b=await this.processFunc(a,b)}catch(S){(S.throttle==null||typeof S.stall!="number")&&b.makeServerError("error in post-processing function",S).assertOk()}}return b}a=g}this.preflightFunc&&(a=await this.preflightFunc(a));const l=await this.getUrlFunc(a,$k(X(i,Td)));let c=new j0(l.statusCode,l.statusMessage,l.headers,l.body,i);if(c.statusCode===301||c.statusCode===302){try{const g=c.headers.location||"";return Tt(f=a.redirect(g),hv,gM).call(f,e+1,t,0,i,c)}catch{}return c}else if(c.statusCode===429&&(this.retryFunc==null||await this.retryFunc(a,c,e))){const g=c.headers["retry-after"];let b=X(this,up).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof g=="string"&&g.match(/^[1-9][0-9]*$/)&&(b=parseInt(g)),Tt(d=a.clone(),hv,gM).call(d,e+1,t,b,i,c)}if(this.processFunc){$k(X(i,Td));try{c=await this.processFunc(a,c)}catch(g){(g.throttle==null||typeof g.stall!="number")&&c.makeServerError("error in post-processing function",g).assertOk();let b=X(this,up).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return g.stall>=0&&(b=g.stall),Tt(p=a.clone(),hv,gM).call(p,e+1,t,b,i,c)}}return c};let dc=ZP;var aT,oT,lT,pf,c_,pv;const d9=class d9{constructor(e,t,r,i,s){Ge(this,aT);Ge(this,oT);Ge(this,lT);Ge(this,pf);Ge(this,c_);Ge(this,pv);ke(this,aT,e),ke(this,oT,t),ke(this,lT,Object.keys(r).reduce((a,o)=>(a[o.toLowerCase()]=String(r[o]),a),{})),ke(this,pf,i==null?null:new Uint8Array(i)),ke(this,c_,s||null),ke(this,pv,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${X(this,pf)?Ft(X(this,pf)):"null"}>`}get statusCode(){return X(this,aT)}get statusMessage(){return X(this,oT)}get headers(){return Object.assign({},X(this,lT))}get body(){return X(this,pf)==null?null:new Uint8Array(X(this,pf))}get bodyText(){try{return X(this,pf)==null?"":iie(X(this,pf))}catch{Nt(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Nt(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,t=Object.keys(e);let r=0;return{next:()=>{if(r<t.length){const i=t[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new d9(599,r,this.headers,this.body,X(this,c_)||void 0);return ke(i,pv,{message:e,error:t}),i}throwThrottleError(e,t){t==null?t=-1:je(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);const r=new Error(e||"throttling requests");throw Cn(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return X(this,pf)!=null}get request(){return X(this,c_)}ok(){return X(this,pv).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=X(this,pv);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`),Nt(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t})}};aT=new WeakMap,oT=new WeakMap,lT=new WeakMap,pf=new WeakMap,c_=new WeakMap,pv=new WeakMap;let j0=d9;function B$(){return new Date().getTime()}function $ke(n){return Au(n.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))}function Gke(n){return new Promise(e=>setTimeout(e,n))}const qke=BigInt(-1),lf=BigInt(0),L1=BigInt(1),Yke=BigInt(5),Jb={};let Y1="0000";for(;Y1.length<80;)Y1+=Y1;function xy(n){let e=Y1;for(;e.length<n;)e+=e;return BigInt("1"+e.substring(0,n))}function jE(n,e,t){const r=BigInt(e.width);if(e.signed){const i=L1<<r-L1;Nt(t==null||n>=-i&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n>lf?n=CO(Zy(n,r),r):n=-CO(Zy(-n,r),r)}else{const i=L1<<r;Nt(t==null||n>=0&&n<i,"overflow","NUMERIC_FAULT",{operation:t,fault:"overflow",value:n}),n=(n%i+i)%i&i-L1}return n}function M6(n){typeof n=="number"&&(n=`fixed128x${n}`);let e=!0,t=128,r=18;if(typeof n=="string"){if(n!=="fixed")if(n==="ufixed")e=!1;else{const s=n.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);je(s,"invalid fixed format","format",n),e=s[1]!=="u",t=parseInt(s[2]),r=parseInt(s[3])}}else if(n){const s=n,a=(o,l,c)=>s[o]==null?c:(je(typeof s[o]===l,"invalid fixed format ("+o+" not "+l+")","format."+o,s[o]),s[o]);e=a("signed","boolean",e),t=a("width","number",t),r=a("decimals","number",r)}je(t%8===0,"invalid FixedNumber width (not byte aligned)","format.width",t),je(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(t)+"x"+String(r);return{signed:e,width:t,decimals:r,name:i}}function Xke(n,e){let t="";n<lf&&(t="-",n*=qke);let r=n.toString();if(e===0)return t+r;for(;r.length<=e;)r=Y1+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return t+r}var mf,Kr,Go,zr,Cy,np,Q8,eB,tB,nB;const m0=class m0{constructor(e,t,r){Ge(this,zr);me(this,"format");Ge(this,mf);Ge(this,Kr);Ge(this,Go);me(this,"_value");IT(e,Jb,"FixedNumber"),ke(this,Kr,t),ke(this,mf,r);const i=Xke(t,r.decimals);Cn(this,{format:r.name,_value:i}),ke(this,Go,xy(r.decimals))}get signed(){return X(this,mf).signed}get width(){return X(this,mf).width}get decimals(){return X(this,mf).decimals}get value(){return X(this,Kr)}addUnsafe(e){return Tt(this,zr,Q8).call(this,e)}add(e){return Tt(this,zr,Q8).call(this,e,"add")}subUnsafe(e){return Tt(this,zr,eB).call(this,e)}sub(e){return Tt(this,zr,eB).call(this,e,"sub")}mulUnsafe(e){return Tt(this,zr,tB).call(this,e)}mul(e){return Tt(this,zr,tB).call(this,e,"mul")}mulSignal(e){Tt(this,zr,Cy).call(this,e);const t=X(this,Kr)*X(e,Kr);return Nt(t%X(this,Go)===lf,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Tt(this,zr,np).call(this,t/X(this,Go),"mulSignal")}divUnsafe(e){return Tt(this,zr,nB).call(this,e)}div(e){return Tt(this,zr,nB).call(this,e,"div")}divSignal(e){Nt(X(e,Kr)!==lf,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Tt(this,zr,Cy).call(this,e);const t=X(this,Kr)*X(this,Go);return Nt(t%X(e,Kr)===lf,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Tt(this,zr,np).call(this,t/X(e,Kr),"divSignal")}cmp(e){let t=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=xy(i):i<0&&(t*=xy(-i)),t<r?-1:t>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=X(this,Kr);return X(this,Kr)<lf&&(e-=X(this,Go)-L1),e=X(this,Kr)/X(this,Go)*X(this,Go),Tt(this,zr,np).call(this,e,"floor")}ceiling(){let e=X(this,Kr);return X(this,Kr)>lf&&(e+=X(this,Go)-L1),e=X(this,Kr)/X(this,Go)*X(this,Go),Tt(this,zr,np).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const t=this.decimals-e,r=Yke*xy(t-1);let i=this.value+r;const s=xy(t);return i=i/s*s,jE(i,X(this,mf),"round"),new m0(Jb,i,X(this,mf))}isZero(){return X(this,Kr)===lf}isNegative(){return X(this,Kr)<lf}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return m0.fromString(this.toString(),e)}static fromValue(e,t,r){const i=t==null?0:Sn(t),s=M6(r);let a=$t(e,"value");const o=i-s.decimals;if(o>0){const l=xy(o);Nt(a%l===lf,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),a/=l}else o<0&&(a*=xy(-o));return jE(a,s,"fromValue"),new m0(Jb,a,s)}static fromString(e,t){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);je(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=M6(t),s=r[2]||"0";let a=r[3]||"";for(;a.length<i.decimals;)a+=Y1;Nt(a.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),a=a.substring(0,i.decimals);const o=BigInt(r[1]+s+a);return jE(o,i,"fromString"),new m0(Jb,o,i)}static fromBytes(e,t){let r=Sp(ln(e,"value"));const i=M6(t);return i.signed&&(r=CO(r,i.width)),jE(r,i,"fromBytes"),new m0(Jb,r,i)}};mf=new WeakMap,Kr=new WeakMap,Go=new WeakMap,zr=new WeakSet,Cy=function(e){je(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},np=function(e,t){return e=jE(e,X(this,mf),t),new m0(Jb,e,X(this,mf))},Q8=function(e,t){return Tt(this,zr,Cy).call(this,e),Tt(this,zr,np).call(this,X(this,Kr)+X(e,Kr),t)},eB=function(e,t){return Tt(this,zr,Cy).call(this,e),Tt(this,zr,np).call(this,X(this,Kr)-X(e,Kr),t)},tB=function(e,t){return Tt(this,zr,Cy).call(this,e),Tt(this,zr,np).call(this,X(this,Kr)*X(e,Kr)/X(this,Go),t)},nB=function(e,t){return Nt(X(e,Kr)!==lf,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Tt(this,zr,Cy).call(this,e),Tt(this,zr,np).call(this,X(this,Kr)*X(this,Go)/X(e,Kr),t)};let RO=m0;function Kke(n,e){let t=18;return t=Sn(e,"unit"),RO.fromValue(n,t,{decimals:t,width:512}).toString()}function Jke(n,e){je(typeof n=="string","value must be a string","value",n);let t=18;return t=Sn(e,"unit"),RO.fromString(n,{decimals:t,width:512}).value}function Zke(n){return Kke(n,18)}function Qke(n){return Jke(n,18)}function eRe(n){const e=ln(n,"randomBytes");e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=Ft(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")}var ws;(function(n){n.Cyprus1="0x00",n.Cyprus2="0x01",n.Cyprus3="0x02",n.Paxos1="0x10",n.Paxos2="0x11",n.Paxos3="0x12",n.Hydra1="0x20",n.Hydra2="0x21",n.Hydra3="0x22"})(ws||(ws={}));var F$;(function(n){n[n.Quai=0]="Quai",n[n.Qi=1]="Qi"})(F$||(F$={}));function tRe(n){switch(n){case"0x00":return ws.Cyprus1;case"0x01":return ws.Cyprus2;case"0x02":return ws.Cyprus3;case"0x10":return ws.Paxos1;case"0x11":return ws.Paxos2;case"0x12":return ws.Paxos3;case"0x20":return ws.Hydra1;case"0x21":return ws.Hydra2;case"0x22":return ws.Hydra3;default:throw new Error(`Invalid zone: ${n}`)}}const cie=[{name:"Cyprus One",nickname:"cyprus1",shard:"zone-0-0",context:2,byte:"0x00"},{name:"Cyprus Two",nickname:"cyprus2",shard:"zone-0-1",context:2,byte:"0x01"},{name:"Cyprus Three",nickname:"cyprus3",shard:"zone-0-2",context:2,byte:"0x02"},{name:"Paxos One",nickname:"paxos1",shard:"zone-1-0",context:2,byte:"0x10"},{name:"Paxos Two",nickname:"paxos2",shard:"zone-1-1",context:2,byte:"0x11"},{name:"Paxos Three",nickname:"paxos3",shard:"zone-1-2",context:2,byte:"0x12"},{name:"Hydra One",nickname:"hydra1",shard:"zone-2-0",context:2,byte:"0x20"},{name:"Hydra Two",nickname:"hydra2",shard:"zone-2-1",context:2,byte:"0x21"},{name:"Hydra Three",nickname:"hydra3",shard:"zone-2-2",context:2,byte:"0x22"}];function wa(n){var e;return tRe(((e=cie.find(t=>t.name==n||t.byte==n||t.nickname==n||t.shard==n))==null?void 0:e.byte)||"")}function hc(n){if(!Number.isSafeInteger(n)||n<0)throw new Error(`Wrong positive integer: ${n}`)}function LU(n,...e){if(!(n instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(n.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${n.length}`)}function uie(n){if(typeof n!="function"||typeof n.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");hc(n.outputLen),hc(n.blockLen)}function Q_(n,e=!0){if(n.destroyed)throw new Error("Hash instance has been destroyed");if(e&&n.finished)throw new Error("Hash#digest() has already been called")}function fie(n,e){LU(n);const t=e.outputLen;if(n.length<t)throw new Error(`digestInto() expects output buffer of length at least ${t}`)}const A6=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const die=n=>n instanceof Uint8Array,KR=n=>new Uint32Array(n.buffer,n.byteOffset,Math.floor(n.byteLength/4)),JR=n=>new DataView(n.buffer,n.byteOffset,n.byteLength),xd=(n,e)=>n<<32-e|n>>>e,nRe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!nRe)throw new Error("Non little-endian hardware is not supported");const rRe=async()=>{};async function z$(n,e,t){let r=Date.now();for(let i=0;i<n;i++){t(i);const s=Date.now()-r;s>=0&&s<e||(await rRe(),r+=s)}}function iRe(n){if(typeof n!="string")throw new Error(`utf8ToBytes expected string, got ${typeof n}`);return new Uint8Array(new TextEncoder().encode(n))}function ew(n){if(typeof n=="string"&&(n=iRe(n)),!die(n))throw new Error(`expected Uint8Array, got ${typeof n}`);return n}function sRe(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!die(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}class BU{clone(){return this._cloneInto()}}const aRe={}.toString;function hie(n,e){if(e!==void 0&&aRe.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(n,e)}function FU(n){const e=r=>n().update(ew(r)).digest(),t=n();return e.outputLen=t.outputLen,e.blockLen=t.blockLen,e.create=()=>n(),e}function oRe(n=32){if(A6&&typeof A6.getRandomValues=="function")return A6.getRandomValues(new Uint8Array(n));throw new Error("crypto.getRandomValues must be defined")}class pie extends BU{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,uie(e);const r=ew(t);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(e){return Q_(this),this.iHash.update(e),this}digestInto(e){Q_(this),LU(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const zU=(n,e,t)=>new pie(n,e).update(t).digest();zU.create=(n,e)=>new pie(n,e);function lRe(n,e,t,r){uie(n);const i=hie({dkLen:32,asyncTick:10},r),{c:s,dkLen:a,asyncTick:o}=i;if(hc(s),hc(a),hc(o),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const l=ew(e),c=ew(t),f=new Uint8Array(a),d=zU.create(n,l),p=d._cloneInto().update(c);return{c:s,dkLen:a,asyncTick:o,DK:f,PRF:d,PRFSalt:p}}function cRe(n,e,t,r,i){return n.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),t}function UU(n,e,t,r){const{c:i,dkLen:s,DK:a,PRF:o,PRFSalt:l}=lRe(n,e,t,r);let c;const f=new Uint8Array(4),d=JR(f),p=new Uint8Array(o.outputLen);for(let g=1,b=0;b<s;g++,b+=o.outputLen){const S=a.subarray(b,b+o.outputLen);d.setInt32(0,g,!1),(c=l._cloneInto(c)).update(f).digestInto(p),S.set(p.subarray(0,S.length));for(let w=1;w<i;w++){o._cloneInto(c).update(p).digestInto(p);for(let E=0;E<S.length;E++)S[E]^=p[E]}}return cRe(o,l,a,c,p)}function uRe(n,e,t,r){if(typeof n.setBigUint64=="function")return n.setBigUint64(e,t,r);const i=BigInt(32),s=BigInt(4294967295),a=Number(t>>i&s),o=Number(t&s),l=r?4:0,c=r?0:4;n.setUint32(e+l,a,r),n.setUint32(e+c,o,r)}class mie extends BU{constructor(e,t,r,i){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=JR(this.buffer)}update(e){Q_(this);const{view:t,buffer:r,blockLen:i}=this;e=ew(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const l=JR(e);for(;i<=s-a;a+=i)this.process(l,a);continue}r.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Q_(this),fie(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:i,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(r,0),a=0);for(let d=a;d<i;d++)t[d]=0;uRe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const o=JR(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,f=this.get();if(c>f.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<c;d++)o.setUint32(4*d,f[d],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%t&&e.buffer.set(r),e}}const fRe=(n,e,t)=>n&e^~n&t,dRe=(n,e,t)=>n&e^n&t^e&t,hRe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),n0=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),r0=new Uint32Array(64);class pRe extends mie{constructor(){super(64,32,8,!1),this.A=n0[0]|0,this.B=n0[1]|0,this.C=n0[2]|0,this.D=n0[3]|0,this.E=n0[4]|0,this.F=n0[5]|0,this.G=n0[6]|0,this.H=n0[7]|0}get(){const{A:e,B:t,C:r,D:i,E:s,F:a,G:o,H:l}=this;return[e,t,r,i,s,a,o,l]}set(e,t,r,i,s,a,o,l){this.A=e|0,this.B=t|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,t){for(let d=0;d<16;d++,t+=4)r0[d]=e.getUint32(t,!1);for(let d=16;d<64;d++){const p=r0[d-15],g=r0[d-2],b=xd(p,7)^xd(p,18)^p>>>3,S=xd(g,17)^xd(g,19)^g>>>10;r0[d]=S+r0[d-7]+b+r0[d-16]|0}let{A:r,B:i,C:s,D:a,E:o,F:l,G:c,H:f}=this;for(let d=0;d<64;d++){const p=xd(o,6)^xd(o,11)^xd(o,25),g=f+p+fRe(o,l,c)+hRe[d]+r0[d]|0,S=(xd(r,2)^xd(r,13)^xd(r,22))+dRe(r,i,s)|0;f=c,c=l,l=o,o=a+g|0,a=s,s=i,i=r,r=g+S|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,c=c+this.G|0,f=f+this.H|0,this.set(r,i,s,a,o,l,c,f)}roundClean(){r0.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const aI=FU(()=>new pRe),Gk=BigInt(2**32-1),rB=BigInt(32);function gie(n,e=!1){return e?{h:Number(n&Gk),l:Number(n>>rB&Gk)}:{h:Number(n>>rB&Gk)|0,l:Number(n&Gk)|0}}function yie(n,e=!1){let t=new Uint32Array(n.length),r=new Uint32Array(n.length);for(let i=0;i<n.length;i++){const{h:s,l:a}=gie(n[i],e);[t[i],r[i]]=[s,a]}return[t,r]}const mRe=(n,e)=>BigInt(n>>>0)<<rB|BigInt(e>>>0),gRe=(n,e,t)=>n>>>t,yRe=(n,e,t)=>n<<32-t|e>>>t,vRe=(n,e,t)=>n>>>t|e<<32-t,xRe=(n,e,t)=>n<<32-t|e>>>t,bRe=(n,e,t)=>n<<64-t|e>>>t-32,_Re=(n,e,t)=>n>>>t-32|e<<64-t,wRe=(n,e)=>e,SRe=(n,e)=>n,vie=(n,e,t)=>n<<t|e>>>32-t,xie=(n,e,t)=>e<<t|n>>>32-t,bie=(n,e,t)=>e<<t-32|n>>>64-t,_ie=(n,e,t)=>n<<t-32|e>>>64-t;function ERe(n,e,t,r){const i=(e>>>0)+(r>>>0);return{h:n+t+(i/2**32|0)|0,l:i|0}}const MRe=(n,e,t)=>(n>>>0)+(e>>>0)+(t>>>0),ARe=(n,e,t,r)=>e+t+r+(n/2**32|0)|0,TRe=(n,e,t,r)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0),CRe=(n,e,t,r,i)=>e+t+r+i+(n/2**32|0)|0,kRe=(n,e,t,r,i)=>(n>>>0)+(e>>>0)+(t>>>0)+(r>>>0)+(i>>>0),RRe=(n,e,t,r,i,s)=>e+t+r+i+s+(n/2**32|0)|0,Yn={fromBig:gie,split:yie,toBig:mRe,shrSH:gRe,shrSL:yRe,rotrSH:vRe,rotrSL:xRe,rotrBH:bRe,rotrBL:_Re,rotr32H:wRe,rotr32L:SRe,rotlSH:vie,rotlSL:xie,rotlBH:bie,rotlBL:_ie,add:ERe,add3L:MRe,add3H:ARe,add4L:TRe,add4H:CRe,add5H:RRe,add5L:kRe},[ORe,PRe]=Yn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(n=>BigInt(n))),i0=new Uint32Array(80),s0=new Uint32Array(80);class DRe extends mie{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:i,Ch:s,Cl:a,Dh:o,Dl:l,Eh:c,El:f,Fh:d,Fl:p,Gh:g,Gl:b,Hh:S,Hl:w}=this;return[e,t,r,i,s,a,o,l,c,f,d,p,g,b,S,w]}set(e,t,r,i,s,a,o,l,c,f,d,p,g,b,S,w){this.Ah=e|0,this.Al=t|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=c|0,this.El=f|0,this.Fh=d|0,this.Fl=p|0,this.Gh=g|0,this.Gl=b|0,this.Hh=S|0,this.Hl=w|0}process(e,t){for(let R=0;R<16;R++,t+=4)i0[R]=e.getUint32(t),s0[R]=e.getUint32(t+=4);for(let R=16;R<80;R++){const O=i0[R-15]|0,D=s0[R-15]|0,I=Yn.rotrSH(O,D,1)^Yn.rotrSH(O,D,8)^Yn.shrSH(O,D,7),B=Yn.rotrSL(O,D,1)^Yn.rotrSL(O,D,8)^Yn.shrSL(O,D,7),z=i0[R-2]|0,V=s0[R-2]|0,Y=Yn.rotrSH(z,V,19)^Yn.rotrBH(z,V,61)^Yn.shrSH(z,V,6),q=Yn.rotrSL(z,V,19)^Yn.rotrBL(z,V,61)^Yn.shrSL(z,V,6),J=Yn.add4L(B,q,s0[R-7],s0[R-16]),re=Yn.add4H(J,I,Y,i0[R-7],i0[R-16]);i0[R]=re|0,s0[R]=J|0}let{Ah:r,Al:i,Bh:s,Bl:a,Ch:o,Cl:l,Dh:c,Dl:f,Eh:d,El:p,Fh:g,Fl:b,Gh:S,Gl:w,Hh:E,Hl:k}=this;for(let R=0;R<80;R++){const O=Yn.rotrSH(d,p,14)^Yn.rotrSH(d,p,18)^Yn.rotrBH(d,p,41),D=Yn.rotrSL(d,p,14)^Yn.rotrSL(d,p,18)^Yn.rotrBL(d,p,41),I=d&g^~d&S,B=p&b^~p&w,z=Yn.add5L(k,D,B,PRe[R],s0[R]),V=Yn.add5H(z,E,O,I,ORe[R],i0[R]),Y=z|0,q=Yn.rotrSH(r,i,28)^Yn.rotrBH(r,i,34)^Yn.rotrBH(r,i,39),J=Yn.rotrSL(r,i,28)^Yn.rotrBL(r,i,34)^Yn.rotrBL(r,i,39),re=r&s^r&o^s&o,fe=i&a^i&l^a&l;E=S|0,k=w|0,S=g|0,w=b|0,g=d|0,b=p|0,{h:d,l:p}=Yn.add(c|0,f|0,V|0,Y|0),c=o|0,f=l|0,o=s|0,l=a|0,s=r|0,a=i|0;const ne=Yn.add3L(Y,J,fe);r=Yn.add3H(ne,V,q,re),i=ne|0}({h:r,l:i}=Yn.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:a}=Yn.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l}=Yn.add(this.Ch|0,this.Cl|0,o|0,l|0),{h:c,l:f}=Yn.add(this.Dh|0,this.Dl|0,c|0,f|0),{h:d,l:p}=Yn.add(this.Eh|0,this.El|0,d|0,p|0),{h:g,l:b}=Yn.add(this.Fh|0,this.Fl|0,g|0,b|0),{h:S,l:w}=Yn.add(this.Gh|0,this.Gl|0,S|0,w|0),{h:E,l:k}=Yn.add(this.Hh|0,this.Hl|0,E|0,k|0),this.set(r,i,s,a,o,l,c,f,d,p,g,b,S,w,E,k)}roundClean(){i0.fill(0),s0.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const IRe=FU(()=>new DRe);function NRe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const U$=NRe(),j$=U$.crypto||U$.msCrypto;function LRe(n,e,t,r,i){const s={sha256:aI,sha512:IRe}[i];return je(s!=null,"invalid pbkdf2 algorithm","algorithm",i),UU(s,n,e,{c:t,dkLen:r})}function BRe(n){Nt(j$!=null,"platform does not support secure random numbers","UNSUPPORTED_OPERATION",{operation:"randomBytes"}),je(Number.isInteger(n)&&n>0&&n<=1024,"invalid length","length",n);const e=new Uint8Array(n);return j$.getRandomValues(e),e}const[wie,Sie,Eie]=[[],[],[]],FRe=BigInt(0),HE=BigInt(1),zRe=BigInt(2),URe=BigInt(7),jRe=BigInt(256),HRe=BigInt(113);for(let n=0,e=HE,t=1,r=0;n<24;n++){[t,r]=[r,(2*t+3*r)%5],wie.push(2*(5*r+t)),Sie.push((n+1)*(n+2)/2%64);let i=FRe;for(let s=0;s<7;s++)e=(e<<HE^(e>>URe)*HRe)%jRe,e&zRe&&(i^=HE<<(HE<<BigInt(s))-HE);Eie.push(i)}const[VRe,WRe]=yie(Eie,!0),H$=(n,e,t)=>t>32?bie(n,e,t):vie(n,e,t),V$=(n,e,t)=>t>32?_ie(n,e,t):xie(n,e,t);function $Re(n,e=24){const t=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)t[a]=n[a]^n[a+10]^n[a+20]^n[a+30]^n[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,c=t[l],f=t[l+1],d=H$(c,f,1)^t[o],p=V$(c,f,1)^t[o+1];for(let g=0;g<50;g+=10)n[a+g]^=d,n[a+g+1]^=p}let i=n[2],s=n[3];for(let a=0;a<24;a++){const o=Sie[a],l=H$(i,s,o),c=V$(i,s,o),f=wie[a];i=n[f],s=n[f+1],n[f]=l,n[f+1]=c}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)t[o]=n[a+o];for(let o=0;o<10;o++)n[a+o]^=~t[(o+2)%10]&t[(o+4)%10]}n[0]^=VRe[r],n[1]^=WRe[r]}t.fill(0)}class jU extends BU{constructor(e,t,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,hc(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=KR(this.state)}keccak(){$Re(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Q_(this);const{blockLen:t,state:r}=this;e=ew(e);const i=e.length;for(let s=0;s<i;){const a=Math.min(t-this.pos,i-s);for(let o=0;o<a;o++)r[this.pos++]^=e[s++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:i}=this;e[r]^=t,(t&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Q_(this,!1),LU(e),this.finish();const t=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,s-i);e.set(t.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return hc(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(fie(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new jU(t,r,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const GRe=(n,e,t)=>FU(()=>new jU(e,n,t)),qRe=GRe(1,136,256/8);let Mie=!1;const Aie=function(n){return qRe(n)};let Tie=Aie;function Bi(n){const e=ln(n,"data");return Ft(Tie(e))}Bi._=Aie;Bi.lock=function(){Mie=!0};Bi.register=function(n){if(Mie)throw new TypeError("keccak256 is locked");Tie=n};Object.freeze(Bi);let Cie=!1;const kie=function(n,e,t,r,i){return LRe(n,e,t,r,i)};let Rie=kie;function Iw(n,e,t,r,i){const s=ln(n,"password"),a=ln(e,"salt");return Ft(Rie(s,a,t,r,i))}Iw._=kie;Iw.lock=function(){Cie=!0};Iw.register=function(n){if(Cie)throw new Error("pbkdf2 is locked");Rie=n};Object.freeze(Iw);let Oie=!1;const Pie=function(n){return new Uint8Array(BRe(n))};let Die=Pie;function H0(n){return Die(n)}H0._=Pie;H0.lock=function(){Oie=!0};H0.register=function(n){if(Oie)throw new Error("randomBytes is locked");Die=n};Object.freeze(H0);const Ar=(n,e)=>n<<e|n>>>32-e;function W$(n,e,t,r,i,s){let a=n[e++]^t[r++],o=n[e++]^t[r++],l=n[e++]^t[r++],c=n[e++]^t[r++],f=n[e++]^t[r++],d=n[e++]^t[r++],p=n[e++]^t[r++],g=n[e++]^t[r++],b=n[e++]^t[r++],S=n[e++]^t[r++],w=n[e++]^t[r++],E=n[e++]^t[r++],k=n[e++]^t[r++],R=n[e++]^t[r++],O=n[e++]^t[r++],D=n[e++]^t[r++],I=a,B=o,z=l,V=c,Y=f,q=d,J=p,re=g,fe=b,ne=S,te=w,se=E,be=k,Ee=R,oe=O,ee=D;for(let xe=0;xe<8;xe+=2)Y^=Ar(I+be|0,7),fe^=Ar(Y+I|0,9),be^=Ar(fe+Y|0,13),I^=Ar(be+fe|0,18),ne^=Ar(q+B|0,7),Ee^=Ar(ne+q|0,9),B^=Ar(Ee+ne|0,13),q^=Ar(B+Ee|0,18),oe^=Ar(te+J|0,7),z^=Ar(oe+te|0,9),J^=Ar(z+oe|0,13),te^=Ar(J+z|0,18),V^=Ar(ee+se|0,7),re^=Ar(V+ee|0,9),se^=Ar(re+V|0,13),ee^=Ar(se+re|0,18),B^=Ar(I+V|0,7),z^=Ar(B+I|0,9),V^=Ar(z+B|0,13),I^=Ar(V+z|0,18),J^=Ar(q+Y|0,7),re^=Ar(J+q|0,9),Y^=Ar(re+J|0,13),q^=Ar(Y+re|0,18),se^=Ar(te+ne|0,7),fe^=Ar(se+te|0,9),ne^=Ar(fe+se|0,13),te^=Ar(ne+fe|0,18),be^=Ar(ee+oe|0,7),Ee^=Ar(be+ee|0,9),oe^=Ar(Ee+be|0,13),ee^=Ar(oe+Ee|0,18);i[s++]=a+I|0,i[s++]=o+B|0,i[s++]=l+z|0,i[s++]=c+V|0,i[s++]=f+Y|0,i[s++]=d+q|0,i[s++]=p+J|0,i[s++]=g+re|0,i[s++]=b+fe|0,i[s++]=S+ne|0,i[s++]=w+te|0,i[s++]=E+se|0,i[s++]=k+be|0,i[s++]=R+Ee|0,i[s++]=O+oe|0,i[s++]=D+ee|0}function X1(n,e,t,r,i){let s=r+0,a=r+16*i;for(let o=0;o<16;o++)t[a+o]=n[e+(2*i-1)*16+o];for(let o=0;o<i;o++,s+=16,e+=16)W$(t,a,n,e,t,s),o>0&&(a+=16),W$(t,s,n,e+=16,t,a)}function Iie(n,e,t){const r=hie({dkLen:32,asyncTick:10,maxmem:1073742848},t),{N:i,r:s,p:a,dkLen:o,asyncTick:l,maxmem:c,onProgress:f}=r;if(hc(i),hc(s),hc(a),hc(o),hc(l),hc(c),f!==void 0&&typeof f!="function")throw new Error("progressCb should be function");const d=128*s,p=d/4;if(i<=1||(i&i-1)!==0||i>=2**(d/8)||i>2**32)throw new Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(a<0||a>(2**32-1)*32/d)throw new Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(o<0||o>(2**32-1)*32)throw new Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");const g=d*(i+a);if(g>c)throw new Error(`Scrypt: parameters too large, ${g} (128 * r * (N + p)) > ${c} (maxmem)`);const b=UU(aI,n,e,{c:1,dkLen:d*a}),S=KR(b),w=KR(new Uint8Array(d*i)),E=KR(new Uint8Array(d));let k=()=>{};if(f){const R=2*i*a,O=Math.max(Math.floor(R/1e4),1);let D=0;k=()=>{D++,f&&(!(D%O)||D===R)&&f(D/R)}}return{N:i,r:s,p:a,dkLen:o,blockSize32:p,V:w,B32:S,B:b,tmp:E,blockMixCb:k,asyncTick:l}}function Nie(n,e,t,r,i){const s=UU(aI,n,t,{c:1,dkLen:e});return t.fill(0),r.fill(0),i.fill(0),s}function YRe(n,e,t){const{N:r,r:i,p:s,dkLen:a,blockSize32:o,V:l,B32:c,B:f,tmp:d,blockMixCb:p}=Iie(n,e,t);for(let g=0;g<s;g++){const b=o*g;for(let S=0;S<o;S++)l[S]=c[b+S];for(let S=0,w=0;S<r-1;S++)X1(l,w,l,w+=o,i),p();X1(l,(r-1)*o,c,b,i),p();for(let S=0;S<r;S++){const w=c[b+o-16]%r;for(let E=0;E<o;E++)d[E]=c[b+E]^l[w*o+E];X1(d,0,c,b,i),p()}}return Nie(n,a,f,l,d)}async function XRe(n,e,t){const{N:r,r:i,p:s,dkLen:a,blockSize32:o,V:l,B32:c,B:f,tmp:d,blockMixCb:p,asyncTick:g}=Iie(n,e,t);for(let b=0;b<s;b++){const S=o*b;for(let E=0;E<o;E++)l[E]=c[S+E];let w=0;await z$(r-1,g,()=>{X1(l,w,l,w+=o,i),p()}),X1(l,(r-1)*o,c,S,i),p(),await z$(r,g,()=>{const E=c[S+o-16]%r;for(let k=0;k<o;k++)d[k]=c[S+k]^l[E*o+k];X1(d,0,c,S,i),p()})}return Nie(n,a,f,l,d)}let Lie=!1,Bie=!1;const Fie=async function(n,e,t,r,i,s,a){return await XRe(n,e,{N:t,r,p:i,dkLen:s,onProgress:a})},zie=function(n,e,t,r,i,s){return YRe(n,e,{N:t,r,p:i,dkLen:s})};let Uie=Fie,jie=zie;async function Nw(n,e,t,r,i,s,a){const o=ln(n,"passwd"),l=ln(e,"salt");return Ft(await Uie(o,l,t,r,i,s,a))}Nw._=Fie;Nw.lock=function(){Bie=!0};Nw.register=function(n){if(Bie)throw new Error("scrypt is locked");Uie=n};Object.freeze(Nw);function Lw(n,e,t,r,i,s){const a=ln(n,"passwd"),o=ln(e,"salt");return Ft(jie(a,o,t,r,i,s))}Lw._=zie;Lw.lock=function(){Lie=!0};Lw.register=function(n){if(Lie)throw new Error("scryptSync is locked");jie=n};Object.freeze(Lw);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const KRe=BigInt(1),JRe=BigInt(2),oI=n=>n instanceof Uint8Array,ZRe=Array.from({length:256},(n,e)=>e.toString(16).padStart(2,"0"));function tw(n){if(!oI(n))throw new Error("Uint8Array expected");let e="";for(let t=0;t<n.length;t++)e+=ZRe[n[t]];return e}function HU(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);return BigInt(n===""?"0":`0x${n}`)}function SA(n){if(typeof n!="string")throw new Error("hex string expected, got "+typeof n);const e=n.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const t=new Uint8Array(e/2);for(let r=0;r<t.length;r++){const i=r*2,s=n.slice(i,i+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");t[r]=a}return t}function Bv(n){return HU(tw(n))}function VU(n){if(!oI(n))throw new Error("Uint8Array expected");return HU(tw(Uint8Array.from(n).reverse()))}function nw(n,e){return SA(n.toString(16).padStart(e*2,"0"))}function WU(n,e){return nw(n,e).reverse()}function ff(n,e,t){let r;if(typeof e=="string")try{r=SA(e)}catch(s){throw new Error(`${n} must be valid hex string, got "${e}". Cause: ${s}`)}else if(oI(e))r=Uint8Array.from(e);else throw new Error(`${n} must be hex string or Uint8Array`);const i=r.length;if(typeof t=="number"&&i!==t)throw new Error(`${n} expected ${t} bytes, got ${i}`);return r}function EA(...n){const e=new Uint8Array(n.reduce((r,i)=>r+i.length,0));let t=0;return n.forEach(r=>{if(!oI(r))throw new Error("Uint8Array expected");e.set(r,t),t+=r.length}),e}const $U=n=>(JRe<<BigInt(n-1))-KRe,T6=n=>new Uint8Array(n),$$=n=>Uint8Array.from(n);function Hie(n,e,t){if(typeof n!="number"||n<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof t!="function")throw new Error("hmacFn must be a function");let r=T6(n),i=T6(n),s=0;const a=()=>{r.fill(1),i.fill(0),s=0},o=(...d)=>t(i,r,...d),l=(d=T6())=>{i=o($$([0]),d),r=o(),d.length!==0&&(i=o($$([1]),d),r=o())},c=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const p=[];for(;d<e;){r=o();const g=r.slice();p.push(g),d+=r.length}return EA(...p)};return(d,p)=>{a(),l(d);let g;for(;!(g=p(c()));)l();return a(),g}}const QRe={bigint:n=>typeof n=="bigint",function:n=>typeof n=="function",boolean:n=>typeof n=="boolean",string:n=>typeof n=="string",stringOrUint8Array:n=>typeof n=="string"||n instanceof Uint8Array,isSafeInteger:n=>Number.isSafeInteger(n),array:n=>Array.isArray(n),field:(n,e)=>e.Fp.isValid(n),hash:n=>typeof n=="function"&&Number.isSafeInteger(n.outputLen)};function NT(n,e,t={}){const r=(i,s,a)=>{const o=QRe[s];if(typeof o!="function")throw new Error(`Invalid validator "${s}", expected function`);const l=n[i];if(!(a&&l===void 0)&&!o(l,n))throw new Error(`Invalid param ${String(i)}=${l} (${typeof l}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(t))r(i,s,!0);return n}const e2e=Object.freeze(Object.defineProperty({__proto__:null,bitMask:$U,bytesToHex:tw,bytesToNumberBE:Bv,bytesToNumberLE:VU,concatBytes:EA,createHmacDrbg:Hie,ensureBytes:ff,hexToBytes:SA,hexToNumber:HU,numberToBytesBE:nw,numberToBytesLE:WU,validateObject:NT},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Sa=BigInt(0),Ss=BigInt(1),Fy=BigInt(2),t2e=BigInt(3),iB=BigInt(4),G$=BigInt(5),q$=BigInt(8);BigInt(9);BigInt(16);function Bl(n,e){const t=n%e;return t>=Sa?t:e+t}function n2e(n,e,t){if(t<=Sa||e<Sa)throw new Error("Expected power/modulo > 0");if(t===Ss)return Sa;let r=Ss;for(;e>Sa;)e&Ss&&(r=r*n%t),n=n*n%t,e>>=Ss;return r}function tu(n,e,t){let r=n;for(;e-- >Sa;)r*=r,r%=t;return r}function sB(n,e){if(n===Sa||e<=Sa)throw new Error(`invert: expected positive integers, got n=${n} mod=${e}`);let t=Bl(n,e),r=e,i=Sa,s=Ss;for(;t!==Sa;){const o=r/t,l=r%t,c=i-s*o;r=t,t=l,i=s,s=c}if(r!==Ss)throw new Error("invert: does not exist");return Bl(i,e)}function r2e(n){const e=(n-Ss)/Fy;let t,r,i;for(t=n-Ss,r=0;t%Fy===Sa;t/=Fy,r++);for(i=Fy;i<n&&n2e(i,e,n)!==n-Ss;i++);if(r===1){const a=(n+Ss)/iB;return function(l,c){const f=l.pow(c,a);if(!l.eql(l.sqr(f),c))throw new Error("Cannot find square root");return f}}const s=(t+Ss)/Fy;return function(o,l){if(o.pow(l,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,f=o.pow(o.mul(o.ONE,i),t),d=o.pow(l,s),p=o.pow(l,t);for(;!o.eql(p,o.ONE);){if(o.eql(p,o.ZERO))return o.ZERO;let g=1;for(let S=o.sqr(p);g<c&&!o.eql(S,o.ONE);g++)S=o.sqr(S);const b=o.pow(f,Ss<<BigInt(c-g-1));f=o.sqr(b),d=o.mul(d,b),p=o.mul(p,f),c=g}return d}}function i2e(n){if(n%iB===t2e){const e=(n+Ss)/iB;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(n%q$===G$){const e=(n-G$)/q$;return function(r,i){const s=r.mul(i,Fy),a=r.pow(s,e),o=r.mul(i,a),l=r.mul(r.mul(o,Fy),a),c=r.mul(o,r.sub(l,r.ONE));if(!r.eql(r.sqr(c),i))throw new Error("Cannot find square root");return c}}return r2e(n)}const s2e=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function a2e(n){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t=s2e.reduce((r,i)=>(r[i]="function",r),e);return NT(n,t)}function o2e(n,e,t){if(t<Sa)throw new Error("Expected power > 0");if(t===Sa)return n.ONE;if(t===Ss)return e;let r=n.ONE,i=e;for(;t>Sa;)t&Ss&&(r=n.mul(r,i)),i=n.sqr(i),t>>=Ss;return r}function l2e(n,e){const t=new Array(e.length),r=e.reduce((s,a,o)=>n.is0(a)?s:(t[o]=s,n.mul(s,a)),n.ONE),i=n.inv(r);return e.reduceRight((s,a,o)=>n.is0(a)?s:(t[o]=n.mul(s,t[o]),n.mul(s,a)),i),t}function Vie(n,e){const t=e!==void 0?e:n.toString(2).length,r=Math.ceil(t/8);return{nBitLength:t,nByteLength:r}}function c2e(n,e,t=!1,r={}){if(n<=Sa)throw new Error(`Expected Field ORDER > 0, got ${n}`);const{nBitLength:i,nByteLength:s}=Vie(n,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const a=i2e(n),o=Object.freeze({ORDER:n,BITS:i,BYTES:s,MASK:$U(i),ZERO:Sa,ONE:Ss,create:l=>Bl(l,n),isValid:l=>{if(typeof l!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof l}`);return Sa<=l&&l<n},is0:l=>l===Sa,isOdd:l=>(l&Ss)===Ss,neg:l=>Bl(-l,n),eql:(l,c)=>l===c,sqr:l=>Bl(l*l,n),add:(l,c)=>Bl(l+c,n),sub:(l,c)=>Bl(l-c,n),mul:(l,c)=>Bl(l*c,n),pow:(l,c)=>o2e(o,l,c),div:(l,c)=>Bl(l*sB(c,n),n),sqrN:l=>l*l,addN:(l,c)=>l+c,subN:(l,c)=>l-c,mulN:(l,c)=>l*c,inv:l=>sB(l,n),sqrt:r.sqrt||(l=>a(o,l)),invertBatch:l=>l2e(o,l),cmov:(l,c,f)=>f?c:l,toBytes:l=>t?WU(l,s):nw(l,s),fromBytes:l=>{if(l.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${l.length}`);return t?VU(l):Bv(l)}});return Object.freeze(o)}function Wie(n){if(typeof n!="bigint")throw new Error("field order must be bigint");const e=n.toString(2).length;return Math.ceil(e/8)}function $ie(n){const e=Wie(n);return e+Math.ceil(e/2)}function u2e(n,e,t=!1){const r=n.length,i=Wie(e),s=$ie(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const a=t?Bv(n):VU(n),o=Bl(a,e-Ss)+Ss;return t?WU(o,i):nw(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const f2e=BigInt(0),C6=BigInt(1);function d2e(n,e){const t=(i,s)=>{const a=s.negate();return i?a:s},r=i=>{const s=Math.ceil(e/i)+1,a=2**(i-1);return{windows:s,windowSize:a}};return{constTimeNegate:t,unsafeLadder(i,s){let a=n.ZERO,o=i;for(;s>f2e;)s&C6&&(a=a.add(o)),o=o.double(),s>>=C6;return a},precomputeWindow(i,s){const{windows:a,windowSize:o}=r(s),l=[];let c=i,f=c;for(let d=0;d<a;d++){f=c,l.push(f);for(let p=1;p<o;p++)f=f.add(c),l.push(f);c=f.double()}return l},wNAF(i,s,a){const{windows:o,windowSize:l}=r(i);let c=n.ZERO,f=n.BASE;const d=BigInt(2**i-1),p=2**i,g=BigInt(i);for(let b=0;b<o;b++){const S=b*l;let w=Number(a&d);a>>=g,w>l&&(w-=p,a+=C6);const E=S,k=S+Math.abs(w)-1,R=b%2!==0,O=w<0;w===0?f=f.add(t(R,s[E])):c=c.add(t(O,s[k]))}return{p:c,f}},wNAFCached(i,s,a,o){const l=i._WINDOW_SIZE||1;let c=s.get(i);return c||(c=this.precomputeWindow(i,l),l!==1&&s.set(i,o(c))),this.wNAF(l,c,a)}}}function Gie(n){return a2e(n.Fp),NT(n,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Vie(n.n,n.nBitLength),...n,p:n.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h2e(n){const e=Gie(n);NT(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:t,Fp:r,a:i}=e;if(t){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof t!="object"||typeof t.beta!="bigint"||typeof t.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:p2e,hexToBytes:m2e}=e2e,Qy={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(n){const{Err:e}=Qy;if(n.length<2||n[0]!==2)throw new e("Invalid signature integer tag");const t=n[1],r=n.subarray(2,t+2);if(!t||r.length!==t)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:p2e(r),l:n.subarray(t+2)}},toSig(n){const{Err:e}=Qy,t=typeof n=="string"?m2e(n):n;if(!(t instanceof Uint8Array))throw new Error("ui8a expected");let r=t.length;if(r<2||t[0]!=48)throw new e("Invalid signature tag");if(t[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Qy._parseInt(t.subarray(2)),{d:a,l:o}=Qy._parseInt(s);if(o.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(n){const e=c=>Number.parseInt(c[0],16)&8?"00"+c:c,t=c=>{const f=c.toString(16);return f.length&1?`0${f}`:f},r=e(t(n.s)),i=e(t(n.r)),s=r.length/2,a=i.length/2,o=t(s),l=t(a);return`30${t(a+s+4)}02${l}${i}02${o}${r}`}},_p=BigInt(0),mu=BigInt(1);BigInt(2);const Y$=BigInt(3);BigInt(4);function g2e(n){const e=h2e(n),{Fp:t}=e,r=e.toBytes||((b,S,w)=>{const E=S.toAffine();return EA(Uint8Array.from([4]),t.toBytes(E.x),t.toBytes(E.y))}),i=e.fromBytes||(b=>{const S=b.subarray(1),w=t.fromBytes(S.subarray(0,t.BYTES)),E=t.fromBytes(S.subarray(t.BYTES,2*t.BYTES));return{x:w,y:E}});function s(b){const{a:S,b:w}=e,E=t.sqr(b),k=t.mul(E,b);return t.add(t.add(k,t.mul(b,S)),w)}if(!t.eql(t.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function a(b){return typeof b=="bigint"&&_p<b&&b<e.n}function o(b){if(!a(b))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(b){const{allowedPrivateKeyLengths:S,nByteLength:w,wrapPrivateKey:E,n:k}=e;if(S&&typeof b!="bigint"){if(b instanceof Uint8Array&&(b=tw(b)),typeof b!="string"||!S.includes(b.length))throw new Error("Invalid key");b=b.padStart(w*2,"0")}let R;try{R=typeof b=="bigint"?b:Bv(ff("private key",b,w))}catch{throw new Error(`private key must be ${w} bytes, hex or bigint, not ${typeof b}`)}return E&&(R=Bl(R,k)),o(R),R}const c=new Map;function f(b){if(!(b instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(S,w,E){if(this.px=S,this.py=w,this.pz=E,S==null||!t.isValid(S))throw new Error("x required");if(w==null||!t.isValid(w))throw new Error("y required");if(E==null||!t.isValid(E))throw new Error("z required")}static fromAffine(S){const{x:w,y:E}=S||{};if(!S||!t.isValid(w)||!t.isValid(E))throw new Error("invalid affine point");if(S instanceof d)throw new Error("projective point not allowed");const k=R=>t.eql(R,t.ZERO);return k(w)&&k(E)?d.ZERO:new d(w,E,t.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const w=t.invertBatch(S.map(E=>E.pz));return S.map((E,k)=>E.toAffine(w[k])).map(d.fromAffine)}static fromHex(S){const w=d.fromAffine(i(ff("pointHex",S)));return w.assertValidity(),w}static fromPrivateKey(S){return d.BASE.multiply(l(S))}_setWindowSize(S){this._WINDOW_SIZE=S,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!t.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:S,y:w}=this.toAffine();if(!t.isValid(S)||!t.isValid(w))throw new Error("bad point: x or y not FE");const E=t.sqr(w),k=s(S);if(!t.eql(E,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:S}=this.toAffine();if(t.isOdd)return!t.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){f(S);const{px:w,py:E,pz:k}=this,{px:R,py:O,pz:D}=S,I=t.eql(t.mul(w,D),t.mul(R,k)),B=t.eql(t.mul(E,D),t.mul(O,k));return I&&B}negate(){return new d(this.px,t.neg(this.py),this.pz)}double(){const{a:S,b:w}=e,E=t.mul(w,Y$),{px:k,py:R,pz:O}=this;let D=t.ZERO,I=t.ZERO,B=t.ZERO,z=t.mul(k,k),V=t.mul(R,R),Y=t.mul(O,O),q=t.mul(k,R);return q=t.add(q,q),B=t.mul(k,O),B=t.add(B,B),D=t.mul(S,B),I=t.mul(E,Y),I=t.add(D,I),D=t.sub(V,I),I=t.add(V,I),I=t.mul(D,I),D=t.mul(q,D),B=t.mul(E,B),Y=t.mul(S,Y),q=t.sub(z,Y),q=t.mul(S,q),q=t.add(q,B),B=t.add(z,z),z=t.add(B,z),z=t.add(z,Y),z=t.mul(z,q),I=t.add(I,z),Y=t.mul(R,O),Y=t.add(Y,Y),z=t.mul(Y,q),D=t.sub(D,z),B=t.mul(Y,V),B=t.add(B,B),B=t.add(B,B),new d(D,I,B)}add(S){f(S);const{px:w,py:E,pz:k}=this,{px:R,py:O,pz:D}=S;let I=t.ZERO,B=t.ZERO,z=t.ZERO;const V=e.a,Y=t.mul(e.b,Y$);let q=t.mul(w,R),J=t.mul(E,O),re=t.mul(k,D),fe=t.add(w,E),ne=t.add(R,O);fe=t.mul(fe,ne),ne=t.add(q,J),fe=t.sub(fe,ne),ne=t.add(w,k);let te=t.add(R,D);return ne=t.mul(ne,te),te=t.add(q,re),ne=t.sub(ne,te),te=t.add(E,k),I=t.add(O,D),te=t.mul(te,I),I=t.add(J,re),te=t.sub(te,I),z=t.mul(V,ne),I=t.mul(Y,re),z=t.add(I,z),I=t.sub(J,z),z=t.add(J,z),B=t.mul(I,z),J=t.add(q,q),J=t.add(J,q),re=t.mul(V,re),ne=t.mul(Y,ne),J=t.add(J,re),re=t.sub(q,re),re=t.mul(V,re),ne=t.add(ne,re),q=t.mul(J,ne),B=t.add(B,q),q=t.mul(te,ne),I=t.mul(fe,I),I=t.sub(I,q),q=t.mul(fe,J),z=t.mul(te,z),z=t.add(z,q),new d(I,B,z)}subtract(S){return this.add(S.negate())}is0(){return this.equals(d.ZERO)}wNAF(S){return g.wNAFCached(this,c,S,w=>{const E=t.invertBatch(w.map(k=>k.pz));return w.map((k,R)=>k.toAffine(E[R])).map(d.fromAffine)})}multiplyUnsafe(S){const w=d.ZERO;if(S===_p)return w;if(o(S),S===mu)return this;const{endo:E}=e;if(!E)return g.unsafeLadder(this,S);let{k1neg:k,k1:R,k2neg:O,k2:D}=E.splitScalar(S),I=w,B=w,z=this;for(;R>_p||D>_p;)R&mu&&(I=I.add(z)),D&mu&&(B=B.add(z)),z=z.double(),R>>=mu,D>>=mu;return k&&(I=I.negate()),O&&(B=B.negate()),B=new d(t.mul(B.px,E.beta),B.py,B.pz),I.add(B)}multiply(S){o(S);let w=S,E,k;const{endo:R}=e;if(R){const{k1neg:O,k1:D,k2neg:I,k2:B}=R.splitScalar(w);let{p:z,f:V}=this.wNAF(D),{p:Y,f:q}=this.wNAF(B);z=g.constTimeNegate(O,z),Y=g.constTimeNegate(I,Y),Y=new d(t.mul(Y.px,R.beta),Y.py,Y.pz),E=z.add(Y),k=V.add(q)}else{const{p:O,f:D}=this.wNAF(w);E=O,k=D}return d.normalizeZ([E,k])[0]}multiplyAndAddUnsafe(S,w,E){const k=d.BASE,R=(D,I)=>I===_p||I===mu||!D.equals(k)?D.multiplyUnsafe(I):D.multiply(I),O=R(this,w).add(R(S,E));return O.is0()?void 0:O}toAffine(S){const{px:w,py:E,pz:k}=this,R=this.is0();S==null&&(S=R?t.ONE:t.inv(k));const O=t.mul(w,S),D=t.mul(E,S),I=t.mul(k,S);if(R)return{x:t.ZERO,y:t.ZERO};if(!t.eql(I,t.ONE))throw new Error("invZ was invalid");return{x:O,y:D}}isTorsionFree(){const{h:S,isTorsionFree:w}=e;if(S===mu)return!0;if(w)return w(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:S,clearCofactor:w}=e;return S===mu?this:w?w(d,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return this.assertValidity(),r(d,this,S)}toHex(S=!0){return tw(this.toRawBytes(S))}}d.BASE=new d(e.Gx,e.Gy,t.ONE),d.ZERO=new d(t.ZERO,t.ONE,t.ZERO);const p=e.nBitLength,g=d2e(d,e.endo?Math.ceil(p/2):p);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}function y2e(n){const e=Gie(n);return NT(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function v2e(n){const e=y2e(n),{Fp:t,n:r}=e,i=t.BYTES+1,s=2*t.BYTES+1;function a(ne){return _p<ne&&ne<t.ORDER}function o(ne){return Bl(ne,r)}function l(ne){return sB(ne,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:f,weierstrassEquation:d,isWithinCurveOrder:p}=g2e({...e,toBytes(ne,te,se){const be=te.toAffine(),Ee=t.toBytes(be.x),oe=EA;return se?oe(Uint8Array.from([te.hasEvenY()?2:3]),Ee):oe(Uint8Array.from([4]),Ee,t.toBytes(be.y))},fromBytes(ne){const te=ne.length,se=ne[0],be=ne.subarray(1);if(te===i&&(se===2||se===3)){const Ee=Bv(be);if(!a(Ee))throw new Error("Point is not on curve");const oe=d(Ee);let ee=t.sqrt(oe);const xe=(ee&mu)===mu;return(se&1)===1!==xe&&(ee=t.neg(ee)),{x:Ee,y:ee}}else if(te===s&&se===4){const Ee=t.fromBytes(be.subarray(0,t.BYTES)),oe=t.fromBytes(be.subarray(t.BYTES,2*t.BYTES));return{x:Ee,y:oe}}else throw new Error(`Point of length ${te} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),g=ne=>tw(nw(ne,e.nByteLength));function b(ne){const te=r>>mu;return ne>te}function S(ne){return b(ne)?o(-ne):ne}const w=(ne,te,se)=>Bv(ne.slice(te,se));class E{constructor(te,se,be){this.r=te,this.s=se,this.recovery=be,this.assertValidity()}static fromCompact(te){const se=e.nByteLength;return te=ff("compactSignature",te,se*2),new E(w(te,0,se),w(te,se,2*se))}static fromDER(te){const{r:se,s:be}=Qy.toSig(ff("DER",te));return new E(se,be)}assertValidity(){if(!p(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!p(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(te){return new E(this.r,this.s,te)}recoverPublicKey(te){const{r:se,s:be,recovery:Ee}=this,oe=B(ff("msgHash",te));if(Ee==null||![0,1,2,3].includes(Ee))throw new Error("recovery id invalid");const ee=Ee===2||Ee===3?se+e.n:se;if(ee>=t.ORDER)throw new Error("recovery id 2 or 3 invalid");const xe=(Ee&1)===0?"02":"03",ae=c.fromHex(xe+g(ee)),De=l(ee),dt=o(-oe*De),Ne=o(be*De),Ue=c.BASE.multiplyAndAddUnsafe(ae,dt,Ne);if(!Ue)throw new Error("point at infinify");return Ue.assertValidity(),Ue}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return SA(this.toDERHex())}toDERHex(){return Qy.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return SA(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const k={isValidPrivateKey(ne){try{return f(ne),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const ne=$ie(e.n);return u2e(e.randomBytes(ne),e.n)},precompute(ne=8,te=c.BASE){return te._setWindowSize(ne),te.multiply(BigInt(3)),te}};function R(ne,te=!0){return c.fromPrivateKey(ne).toRawBytes(te)}function O(ne){const te=ne instanceof Uint8Array,se=typeof ne=="string",be=(te||se)&&ne.length;return te?be===i||be===s:se?be===2*i||be===2*s:ne instanceof c}function D(ne,te,se=!0){if(O(ne))throw new Error("first arg must be private key");if(!O(te))throw new Error("second arg must be public key");return c.fromHex(te).multiply(f(ne)).toRawBytes(se)}const I=e.bits2int||function(ne){const te=Bv(ne),se=ne.length*8-e.nBitLength;return se>0?te>>BigInt(se):te},B=e.bits2int_modN||function(ne){return o(I(ne))},z=$U(e.nBitLength);function V(ne){if(typeof ne!="bigint")throw new Error("bigint expected");if(!(_p<=ne&&ne<z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return nw(ne,e.nByteLength)}function Y(ne,te,se=q){if(["recovered","canonical"].some(Pe=>Pe in se))throw new Error("sign() legacy options not supported");const{hash:be,randomBytes:Ee}=e;let{lowS:oe,prehash:ee,extraEntropy:xe}=se;oe==null&&(oe=!0),ne=ff("msgHash",ne),ee&&(ne=ff("prehashed msgHash",be(ne)));const ae=B(ne),De=f(te),dt=[V(De),V(ae)];if(xe!=null){const Pe=xe===!0?Ee(t.BYTES):xe;dt.push(ff("extraEntropy",Pe))}const Ne=EA(...dt),Ue=ae;function qe(Pe){const lt=I(Pe);if(!p(lt))return;const Mt=l(lt),Ze=c.BASE.multiply(lt).toAffine(),_t=o(Ze.x);if(_t===_p)return;const Ve=o(Mt*o(Ue+_t*De));if(Ve===_p)return;let ot=(Ze.x===_t?0:2)|Number(Ze.y&mu),Qe=Ve;return oe&&b(Ve)&&(Qe=S(Ve),ot^=1),new E(_t,Qe,ot)}return{seed:Ne,k2sig:qe}}const q={lowS:e.lowS,prehash:!1},J={lowS:e.lowS,prehash:!1};function re(ne,te,se=q){const{seed:be,k2sig:Ee}=Y(ne,te,se),oe=e;return Hie(oe.hash.outputLen,oe.nByteLength,oe.hmac)(be,Ee)}c.BASE._setWindowSize(8);function fe(ne,te,se,be=J){var Ze;const Ee=ne;if(te=ff("msgHash",te),se=ff("publicKey",se),"strict"in be)throw new Error("options.strict was renamed to lowS");const{lowS:oe,prehash:ee}=be;let xe,ae;try{if(typeof Ee=="string"||Ee instanceof Uint8Array)try{xe=E.fromDER(Ee)}catch(_t){if(!(_t instanceof Qy.Err))throw _t;xe=E.fromCompact(Ee)}else if(typeof Ee=="object"&&typeof Ee.r=="bigint"&&typeof Ee.s=="bigint"){const{r:_t,s:Ve}=Ee;xe=new E(_t,Ve)}else throw new Error("PARSE");ae=c.fromHex(se)}catch(_t){if(_t.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(oe&&xe.hasHighS())return!1;ee&&(te=e.hash(te));const{r:De,s:dt}=xe,Ne=B(te),Ue=l(dt),qe=o(Ne*Ue),Pe=o(De*Ue),lt=(Ze=c.BASE.multiplyAndAddUnsafe(ae,qe,Pe))==null?void 0:Ze.toAffine();return lt?o(lt.x)===De:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:D,sign:re,verify:fe,ProjectivePoint:c,Signature:E,utils:k}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function x2e(n){return{hash:n,hmac:(e,...t)=>zU(n,e,sRe(...t)),randomBytes:oRe}}function b2e(n,e){const t=r=>v2e({...n,...x2e(r)});return Object.freeze({...t(e),create:t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qie=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),X$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_2e=BigInt(1),aB=BigInt(2),K$=(n,e)=>(n+e/aB)/e;function w2e(n){const e=qie,t=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),c=n*n*n%e,f=c*c*n%e,d=tu(f,t,e)*f%e,p=tu(d,t,e)*f%e,g=tu(p,aB,e)*c%e,b=tu(g,i,e)*g%e,S=tu(b,s,e)*b%e,w=tu(S,o,e)*S%e,E=tu(w,l,e)*w%e,k=tu(E,o,e)*S%e,R=tu(k,t,e)*f%e,O=tu(R,a,e)*b%e,D=tu(O,r,e)*c%e,I=tu(D,aB,e);if(!oB.eql(oB.sqr(I),n))throw new Error("Cannot find square root");return I}const oB=c2e(qie,void 0,void 0,{sqrt:w2e}),u0=b2e({a:BigInt(0),b:BigInt(7),Fp:oB,n:X$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:n=>{const e=X$,t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_2e*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=t,a=BigInt("0x100000000000000000000000000000000"),o=K$(s*n,e),l=K$(-r*n,e);let c=Bl(n-o*t-l*i,e),f=Bl(-o*r-l*s,e);const d=c>a,p=f>a;if(d&&(c=e-c),p&&(f=e-f),c>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+n);return{k1neg:d,k1:c,k2neg:p,k2:f}}}},aI);BigInt(0);u0.ProjectivePoint;const J$="0x0000000000000000000000000000000000000000",Z$="0x0000000000000000000000000000000000000000000000000000000000000000",S2e=`Ethereum Signed Message:
`;var ei;(function(n){n.Cyprus="0x0",n.Cyprus1="0x00",n.Cyprus2="0x01",n.Cyprus3="0x02",n.Paxos="0x1",n.Paxos1="0x10",n.Paxos2="0x11",n.Paxos3="0x12",n.Hydra="0x2",n.Hydra1="0x20",n.Hydra2="0x21",n.Hydra3="0x22",n.Prime="0x"})(ei||(ei={}));function E2e(n){switch(n){case"0x":return ei.Prime;case"0x0":return ei.Cyprus;case"0x1":return ei.Paxos;case"0x2":return ei.Hydra;case"0x00":return ei.Cyprus1;case"0x01":return ei.Cyprus2;case"0x02":return ei.Cyprus3;case"0x10":return ei.Paxos1;case"0x11":return ei.Paxos2;case"0x12":return ei.Paxos3;case"0x20":return ei.Hydra1;case"0x21":return ei.Hydra2;case"0x22":return ei.Hydra3;default:throw new Error("Invalid shard")}}const Yie=[...cie,{name:"Cyprus",nickname:"cyprus",shard:"region-0",context:2,byte:"0x0"},{name:"Paxos",nickname:"paxos",shard:"region-1",context:2,byte:"0x1"},{name:"Hydra",nickname:"hydra",shard:"region-2",context:2,byte:"0x2"},{name:"Prime",nickname:"prime",shard:"prime",context:2,byte:"0x"}];function jr(n){var e;return E2e(((e=Yie.find(t=>t.name==n||t.byte==n||t.nickname==n||t.shard==n))==null?void 0:e.byte)||"")}function VE(n,e){var t;return((t=Yie.find(r=>r.byte==n))==null?void 0:t[e])||""}const Q$=BigInt(0),eG=BigInt(1),tG=BigInt(2),nG=BigInt(27),rG=BigInt(28),qk=BigInt(35),Zb={};function iG(n){return J_(Z_(n),32)}var u_,f_,d_,mv;const cf=class cf{constructor(e,t,r,i){Ge(this,u_);Ge(this,f_);Ge(this,d_);Ge(this,mv);IT(e,Zb,"Signature"),ke(this,u_,t),ke(this,f_,r),ke(this,d_,i),ke(this,mv,null)}get r(){return X(this,u_)}set r(e){je(I1(e)===32,"invalid r","value",e),ke(this,u_,Ft(e))}get s(){return X(this,f_)}set s(e){je(I1(e)===32,"invalid s","value",e);const t=Ft(e);je(parseInt(t.substring(0,3))<8,"non-canonical s","value",t),ke(this,f_,t)}get v(){return X(this,d_)}set v(e){const t=Sn(e,"value");je(t===27||t===28,"invalid v","v",e),ke(this,d_,t)}get networkV(){return X(this,mv)}get legacyChainId(){const e=this.networkV;return e==null?null:cf.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=ln(this.s);return this.yParity&&(e[0]|=128),Ft(e)}get compactSerialized(){return js([this.r,this.yParityAndS])}get serialized(){return js([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new cf(Zb,this.r,this.s,this.v);return this.networkV&&ke(e,mv,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const t=$t(e,"v");return t==nG||t==rG?Q$:(je(t>=qk,"invalid EIP-155 v","v",e),(t-qk)/tG)}static getChainIdV(e,t){return $t(e)*tG+BigInt(35+t-27)}static getNormalizedV(e){const t=$t(e);return t===Q$||t===nG?27:t===eG||t===rG?28:(je(t>=qk,"invalid v","v",e),t&eG?27:28)}static from(e){function t(c,f){je(c,f,"signature",e)}if(e==null)return new cf(Zb,Z$,Z$,27);if(typeof e=="string"){const c=ln(e,"signature");if(c.length===64){const f=Ft(c.slice(0,32)),d=c.slice(32,64),p=d[0]&128?28:27;return d[0]&=127,new cf(Zb,f,Ft(d),p)}if(c.length===65){const f=Ft(c.slice(0,32)),d=c.slice(32,64);t((d[0]&128)===0,"non-canonical s");const p=cf.getNormalizedV(c[64]);return new cf(Zb,f,Ft(d),p)}t(!1,"invalid raw signature length")}if(e instanceof cf)return e.clone();const r=e.r;t(r!=null,"missing r");const i=iG(r),s=(function(c,f){if(c!=null)return iG(c);if(f!=null){t(hs(f,32),"invalid yParityAndS");const d=ln(f);return d[0]&=127,Ft(d)}t(!1,"missing s")})(e.s,e.yParityAndS);t((ln(s)[0]&128)==0,"non-canonical s");const{networkV:a,v:o}=(function(c,f,d){if(c!=null){const p=$t(c);return{networkV:p>=qk?p:void 0,v:cf.getNormalizedV(p)}}if(f!=null)return t(hs(f,32),"invalid yParityAndS"),{v:ln(f)[0]&128?28:27};if(d!=null){switch(d){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")})(e.v,e.yParityAndS,e.yParity),l=new cf(Zb,i,s,o);return a&&ke(l,mv,a),t(!("yParity"in e&&e.yParity!==l.yParity),"yParity mismatch"),t(!("yParityAndS"in e&&e.yParityAndS!==l.yParityAndS),"yParityAndS mismatch"),l}};u_=new WeakMap,f_=new WeakMap,d_=new WeakMap,mv=new WeakMap;let eg=cf;var S0,gv;const Hy=class Hy{constructor(e,t){Ge(this,S0);Ge(this,gv);je(I1(e)===32,"invalid private key","privateKey","[REDACTED]"),ke(this,S0,Ft(e)),t&&(je(I1(t)===33,"invalid public key","compressedPub",t),ke(this,gv,Ft(t)))}get privateKey(){return X(this,S0)}get publicKey(){const e=Hy.computePublicKey(this.compressedPublicKey,!1);return Object.defineProperty(this,"publicKey",{value:e}),e}get compressedPublicKey(){return X(this,gv)||ke(this,gv,Hy.computePublicKey(X(this,S0),!0)),X(this,gv)}sign(e){je(I1(e)===32,"invalid digest length","digest",e);const t=u0.sign(Xa(e),Xa(X(this,S0)),{lowS:!0});return eg.from({r:Q0("0x"+t.r.toString(16),32),s:Q0("0x"+t.s.toString(16),32),v:t.recovery?28:27})}computeSharedSecret(e){const t=Hy.computePublicKey(e);return Ft(u0.getSharedSecret(Xa(X(this,S0)),ln(t),!1))}static computePublicKey(e,t){let r=ln(e,"key");if(r.length===32){const s=u0.getPublicKey(r,!!t);return Ft(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=u0.ProjectivePoint.fromHex(r);return Ft(i.toRawBytes(t))}static recoverPublicKey(e,t){je(I1(e)===32,"invalid digest length","digest",e);const r=eg.from(t);let i=u0.Signature.fromCompact(Xa(js([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(Xa(e));return je(s!=null,"invalid signautre for digest","signature",t),"0x"+s.toHex(!1)}static addPoints(e,t,r){const i=u0.ProjectivePoint.fromHex(Hy.computePublicKey(e).substring(2)),s=u0.ProjectivePoint.fromHex(Hy.computePublicKey(t).substring(2));return"0x"+i.add(s).toHex(!!r)}};S0=new WeakMap,gv=new WeakMap;let MA=Hy;function V0(n){n=n.toLowerCase();const e=n.substring(2).split(""),t=new Uint8Array(40);for(let i=0;i<40;i++)t[i]=e[i].charCodeAt(0);const r=ln(Bi(t));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}function Ir(n){if(je(typeof n=="string","invalid address","address",n),n.match(/^(0x)?[0-9a-fA-F]{40}$/)){n.startsWith("0x")||(n="0x"+n);const e=V0(n);return je(!n.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===n,"invalid address checksum","address",n),e}je(!1,"invalid address string format","address",n)}function sG(n,e,t){const r=J_(Q0(Sp(e)),8);return Ir(Ty(Bi(js([Ir(n),r,kke(t)])),12))}function tg(n){let e;return typeof n=="string"?e=MA.computePublicKey(n,!1):e=n.publicKey,Ir(Bi("0x"+e.substring(4)).substring(26))}function M2e(n,e){return tg(MA.recoverPublicKey(n,e))}function Xie(n){return n&&typeof n.getAddress=="function"}async function aG(n,e){const t=await e;return(t==null||t==="0x0000000000000000000000000000000000000000")&&je(!1,"invalid AddressLike value; did not resolve to a value address","target",n),t}function ra(n){if(typeof n=="string"){if(n.match(/^0x[0-9a-f]{40}$/i))return n}else{if(Xie(n))return aG(n,n.getAddress());if(n&&typeof n.then=="function")return aG(n,n)}je(!1,"unsupported addressable value","target",n)}function zp(n){je(typeof n=="string","address must be string","address",n),je(!!n.match(/^(0x)?[0-9a-fA-F]{40}$/),"invalid address string format","address",n),je(V0(n)===n,"invalid address checksum","address",n)}function ng(n){const e=n.substring(4,6);return parseInt(e,16).toString(2).padStart(8,"0")[0]==="1"}function k6(n){return!ng(n)}function Gl(n){try{return wa(n.slice(0,4))}catch{return null}}function A2e(n,e){if(n===null||e===null)return 0;const t=ng(n),r=ng(e);switch(!0){case(t&&r):return 2;case(t&&!r):return 1;default:return 0}}function Kie(n){const e=n.slice(2);if(e.length>2)throw new Error(`Invalid zone: ${n}`);return e.length===0?[]:e.split("").map(Number)}function OO(n){if(n.length>2)throw new Error("Invalid location");return wa(`0x${n.join("")}`)}const tl=32,lB=new Uint8Array(tl),T2e=["then"],Yk={};function WE(n,e){const t=new Error(`deferred error during ABI decoding triggered accessing ${n}`);throw t.error=e,t}var E0;const JM=class JM extends Array{constructor(...t){const r=t[0];let i=t[1],s=(t[2]||[]).slice(),a=!0;r!==Yk&&(i=t,s=[],a=!1);super(i.length);Ge(this,E0);i.forEach((l,c)=>{this[c]=l});const o=s.reduce((l,c)=>(typeof c=="string"&&l.set(c,(l.get(c)||0)+1),l),new Map);if(ke(this,E0,Object.freeze(i.map((l,c)=>{const f=s[c];return f!=null&&o.get(f)===1?f:null}))),!!a)return Object.freeze(this),new Proxy(this,{get:(l,c,f)=>{if(typeof c=="string"){if(c.match(/^[0-9]+$/)){const p=Sn(c,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const g=l[p];return g instanceof Error&&WE(`index ${p}`,g),g}if(T2e.indexOf(c)>=0)return Reflect.get(l,c,f);const d=l[c];if(d instanceof Function)return function(...p){return d.apply(this===f?l:this,p)};if(!(c in l))return l.getValue.apply(this===f?l:this,[c])}return Reflect.get(l,c,f)}})}toArray(){const t=[];return this.forEach((r,i)=>{r instanceof Error&&WE(`index ${i}`,r),t.push(r)}),t}toObject(){return X(this,E0).reduce((t,r,i)=>(Nt(r!=null,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),r in t||(t[r]=this.getValue(r)),t),{})}slice(t,r){t==null&&(t=0),t<0&&(t+=this.length,t<0&&(t=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=[],s=[];for(let a=t;a<r;a++)i.push(this[a]),s.push(X(this,E0)[a]);return new JM(Yk,i,s)}filter(t,r){const i=[],s=[];for(let a=0;a<this.length;a++){const o=this[a];o instanceof Error&&WE(`index ${a}`,o),t.call(r,o,a,this)&&(i.push(o),s.push(X(this,E0)[a]))}return new JM(Yk,i,s)}map(t,r){const i=[];for(let s=0;s<this.length;s++){const a=this[s];a instanceof Error&&WE(`index ${s}`,a),i.push(t.call(r,a,s,this))}return i}getValue(t){const r=X(this,E0).indexOf(t);if(r===-1)return;const i=this[r];return i instanceof Error&&WE(`property ${JSON.stringify(t)}`,i.error),i}static fromItems(t,r){return new JM(Yk,t,r)}};E0=new WeakMap;let PO=JM;function oG(n){let e=Z_(n);return Nt(e.length<=tl,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:tl,offset:e.length}),e.length!==tl&&(e=Xa(js([lB.slice(e.length%tl),e]))),e}class Xp{constructor(e,t,r,i){me(this,"name");me(this,"type");me(this,"localName");me(this,"dynamic");Cn(this,{name:e,type:t,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){je(!1,e,this.localName,t)}}var fp,yv,h_,ZR;class cB{constructor(){Ge(this,h_);Ge(this,fp);Ge(this,yv);ke(this,fp,[]),ke(this,yv,0)}get data(){return js(X(this,fp))}get length(){return X(this,yv)}appendWriter(e){return Tt(this,h_,ZR).call(this,Xa(e.data))}writeBytes(e){let t=Xa(e);const r=t.length%tl;return r&&(t=Xa(js([t,lB.slice(r)]))),Tt(this,h_,ZR).call(this,t)}writeValue(e){return Tt(this,h_,ZR).call(this,oG(e))}writeUpdatableValue(){const e=X(this,fp).length;return X(this,fp).push(lB),ke(this,yv,X(this,yv)+tl),t=>{X(this,fp)[e]=oG(t)}}}fp=new WeakMap,yv=new WeakMap,h_=new WeakSet,ZR=function(e){return X(this,fp).push(e),ke(this,yv,X(this,yv)+e.length),e.length};var Dl,cc,vv,xv,M0,ux,fB,Jie;const h9=class h9{constructor(e,t,r){Ge(this,ux);me(this,"allowLoose");Ge(this,Dl);Ge(this,cc);Ge(this,vv);Ge(this,xv);Ge(this,M0);Cn(this,{allowLoose:!!t}),ke(this,Dl,Xa(e)),ke(this,vv,0),ke(this,xv,null),ke(this,M0,r??1024),ke(this,cc,0)}get data(){return Ft(X(this,Dl))}get dataLength(){return X(this,Dl).length}get consumed(){return X(this,cc)}get bytes(){return new Uint8Array(X(this,Dl))}subReader(e){const t=new h9(X(this,Dl).slice(X(this,cc)+e),this.allowLoose,X(this,M0));return ke(t,xv,this),t}readBytes(e,t){const r=Tt(this,ux,Jie).call(this,0,e,!!t);return Tt(this,ux,fB).call(this,e),ke(this,cc,X(this,cc)+r.length),r.slice(0,e)}readValue(){return Sp(this.readBytes(tl))}readIndex(){return Dke(this.readBytes(tl))}};Dl=new WeakMap,cc=new WeakMap,vv=new WeakMap,xv=new WeakMap,M0=new WeakMap,ux=new WeakSet,fB=function(e){var t;if(X(this,xv))return Tt(t=X(this,xv),ux,fB).call(t,e);ke(this,vv,X(this,vv)+e),Nt(X(this,M0)<1||X(this,vv)<=X(this,M0)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${X(this,M0)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Xa(X(this,Dl)),offset:X(this,cc),length:e,info:{bytesRead:X(this,vv),dataLength:this.dataLength}})},Jie=function(e,t,r){let i=Math.ceil(t/tl)*tl;return X(this,cc)+i>X(this,Dl).length&&(this.allowLoose&&r&&X(this,cc)+t<=X(this,Dl).length?i=t:Nt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Xa(X(this,Dl)),length:X(this,Dl).length,offset:X(this,cc)+i})),X(this,Dl).slice(X(this,cc),X(this,cc)+i)};let uB=h9;const rp={};function Yt(n,e){let t=!1;return e<0&&(t=!0,e*=-1),new ko(rp,`${t?"":"u"}int${e}`,n,{signed:t,width:e})}function Tr(n,e){return new ko(rp,`bytes${e||""}`,n,{size:e})}const lG=Symbol.for("_quais_typed");var bv;const sp=class sp{constructor(e,t,r,i){me(this,"type");me(this,"value");Ge(this,bv);me(this,"_typedSymbol");i==null&&(i=null),IT(rp,e,"Typed"),Cn(this,{_typedSymbol:lG,type:t,value:r}),ke(this,bv,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return X(this,bv)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return X(this,bv)===!0?-1:X(this,bv)===!1?this.value.length:null}static from(e,t){return new sp(rp,e,t)}static uint8(e){return Yt(e,8)}static uint16(e){return Yt(e,16)}static uint24(e){return Yt(e,24)}static uint32(e){return Yt(e,32)}static uint40(e){return Yt(e,40)}static uint48(e){return Yt(e,48)}static uint56(e){return Yt(e,56)}static uint64(e){return Yt(e,64)}static uint72(e){return Yt(e,72)}static uint80(e){return Yt(e,80)}static uint88(e){return Yt(e,88)}static uint96(e){return Yt(e,96)}static uint104(e){return Yt(e,104)}static uint112(e){return Yt(e,112)}static uint120(e){return Yt(e,120)}static uint128(e){return Yt(e,128)}static uint136(e){return Yt(e,136)}static uint144(e){return Yt(e,144)}static uint152(e){return Yt(e,152)}static uint160(e){return Yt(e,160)}static uint168(e){return Yt(e,168)}static uint176(e){return Yt(e,176)}static uint184(e){return Yt(e,184)}static uint192(e){return Yt(e,192)}static uint200(e){return Yt(e,200)}static uint208(e){return Yt(e,208)}static uint216(e){return Yt(e,216)}static uint224(e){return Yt(e,224)}static uint232(e){return Yt(e,232)}static uint240(e){return Yt(e,240)}static uint248(e){return Yt(e,248)}static uint256(e){return Yt(e,256)}static uint(e){return Yt(e,256)}static int8(e){return Yt(e,-8)}static int16(e){return Yt(e,-16)}static int24(e){return Yt(e,-24)}static int32(e){return Yt(e,-32)}static int40(e){return Yt(e,-40)}static int48(e){return Yt(e,-48)}static int56(e){return Yt(e,-56)}static int64(e){return Yt(e,-64)}static int72(e){return Yt(e,-72)}static int80(e){return Yt(e,-80)}static int88(e){return Yt(e,-88)}static int96(e){return Yt(e,-96)}static int104(e){return Yt(e,-104)}static int112(e){return Yt(e,-112)}static int120(e){return Yt(e,-120)}static int128(e){return Yt(e,-128)}static int136(e){return Yt(e,-136)}static int144(e){return Yt(e,-144)}static int152(e){return Yt(e,-152)}static int160(e){return Yt(e,-160)}static int168(e){return Yt(e,-168)}static int176(e){return Yt(e,-176)}static int184(e){return Yt(e,-184)}static int192(e){return Yt(e,-192)}static int200(e){return Yt(e,-200)}static int208(e){return Yt(e,-208)}static int216(e){return Yt(e,-216)}static int224(e){return Yt(e,-224)}static int232(e){return Yt(e,-232)}static int240(e){return Yt(e,-240)}static int248(e){return Yt(e,-248)}static int256(e){return Yt(e,-256)}static int(e){return Yt(e,-256)}static bytes1(e){return Tr(e,1)}static bytes2(e){return Tr(e,2)}static bytes3(e){return Tr(e,3)}static bytes4(e){return Tr(e,4)}static bytes5(e){return Tr(e,5)}static bytes6(e){return Tr(e,6)}static bytes7(e){return Tr(e,7)}static bytes8(e){return Tr(e,8)}static bytes9(e){return Tr(e,9)}static bytes10(e){return Tr(e,10)}static bytes11(e){return Tr(e,11)}static bytes12(e){return Tr(e,12)}static bytes13(e){return Tr(e,13)}static bytes14(e){return Tr(e,14)}static bytes15(e){return Tr(e,15)}static bytes16(e){return Tr(e,16)}static bytes17(e){return Tr(e,17)}static bytes18(e){return Tr(e,18)}static bytes19(e){return Tr(e,19)}static bytes20(e){return Tr(e,20)}static bytes21(e){return Tr(e,21)}static bytes22(e){return Tr(e,22)}static bytes23(e){return Tr(e,23)}static bytes24(e){return Tr(e,24)}static bytes25(e){return Tr(e,25)}static bytes26(e){return Tr(e,26)}static bytes27(e){return Tr(e,27)}static bytes28(e){return Tr(e,28)}static bytes29(e){return Tr(e,29)}static bytes30(e){return Tr(e,30)}static bytes31(e){return Tr(e,31)}static bytes32(e){return Tr(e,32)}static address(e){return new sp(rp,"address",e)}static bool(e){return new sp(rp,"bool",!!e)}static bytes(e){return new sp(rp,"bytes",e)}static string(e){return new sp(rp,"string",e)}static array(e,t){throw new Error("not implemented yet")}static tuple(e,t){throw new Error("not implemented yet")}static overrides(e){return new sp(rp,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===lG}static dereference(e,t){if(sp.isTyped(e)){if(e.type!==t)throw new Error(`invalid type: expected ${t}, got ${e.type}`);return e.value}return e}};bv=new WeakMap;let ko=sp;class C2e extends Xp{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=ko.dereference(t,"string");try{r=Ir(r)}catch(i){return this._throwError(i.message,t)}return e.writeValue(r)}decode(e){return Ir(Q0(e.readValue(),20))}}class k2e extends Xp{constructor(t){super(t.name,t.type,"_",t.dynamic);me(this,"coder");this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,r){return this.coder.encode(t,r)}decode(t){return this.coder.decode(t)}}function Zie(n,e,t){let r=[];if(Array.isArray(t))r=t;else if(t&&typeof t=="object"){let l={};r=e.map(c=>{const f=c.localName;return Nt(f,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),Nt(!l[f],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:c},value:t}),l[f]=!0,t[f]})}else je(!1,"invalid tuple value","tuple",t);je(e.length===r.length,"types/value length mismatch","tuple",t);let i=new cB,s=new cB,a=[];e.forEach((l,c)=>{let f=r[c];if(l.dynamic){let d=s.length;l.encode(s,f);let p=i.writeUpdatableValue();a.push(g=>{p(g+d)})}else l.encode(i,f)}),a.forEach(l=>{l(i.length)});let o=n.appendWriter(i);return o+=n.appendWriter(s),o}function Qie(n,e){let t=[],r=[],i=n.subReader(0);return e.forEach(s=>{let a=null;if(s.dynamic){let o=n.readIndex(),l=i.subReader(o);try{a=s.decode(l)}catch(c){if(vu(c,"BUFFER_OVERRUN"))throw c;a=c,a.baseType=s.name,a.name=s.localName,a.type=s.type}}else try{a=s.decode(n)}catch(o){if(vu(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=s.name,a.name=s.localName,a.type=s.type}if(a==null)throw new Error("investigate");t.push(a),r.push(s.localName||null)}),PO.fromItems(t,r)}class R2e extends Xp{constructor(t,r,i){const s=t.type+"["+(r>=0?r:"")+"]",a=r===-1||t.dynamic;super("array",s,i,a);me(this,"coder");me(this,"length");Cn(this,{coder:t,length:r})}defaultValue(){const t=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(t);return r}encode(t,r){const i=ko.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,t.writeValue(i.length)),Zre(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<i.length;o++)a.push(this.coder);return Zie(t,a,i)}decode(t){let r=this.length;r===-1&&(r=t.readIndex(),Nt(r*tl<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:r*tl,length:t.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new k2e(this.coder));return Qie(t,i)}}class O2e extends Xp{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){const r=ko.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class ese extends Xp{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){t=Xa(t);let r=e.writeValue(t.length);return r+=e.writeBytes(t),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class P2e extends ese{constructor(e){super("bytes",e)}decode(e){return Ft(super.decode(e))}}class D2e extends Xp{constructor(t,r){let i="bytes"+String(t);super(i,i,r,!1);me(this,"size");Cn(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(t,r){let i=Xa(ko.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),t.writeBytes(i)}decode(t){return Ft(t.readBytes(this.size))}}const I2e=new Uint8Array([]);class N2e extends Xp{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return t!=null&&this._throwError("not null",t),e.writeBytes(I2e)}decode(e){return e.readBytes(0),null}}const L2e=BigInt(0),B2e=BigInt(1),F2e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class z2e extends Xp{constructor(t,r,i){const s=(r?"int":"uint")+t*8;super(s,s,i,!1);me(this,"size");me(this,"signed");Cn(this,{size:t,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,r){let i=$t(ko.dereference(r,this.type)),s=Zy(F2e,tl*8);if(this.signed){let a=Zy(s,this.size*8-1);(i>a||i<-(a+B2e))&&this._throwError("value out-of-bounds",r),i=nie(i,8*tl)}else(i<L2e||i>Zy(s,this.size*8))&&this._throwError("value out-of-bounds",r);return t.writeValue(i)}decode(t){let r=Zy(t.readValue(),this.size*8);return this.signed&&(r=CO(r,this.size*8)),r}}class U2e extends ese{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,Au(ko.dereference(t,"string")))}decode(e){return iie(super.decode(e))}}class Xk extends Xp{constructor(t,r){let i=!1;const s=[];t.forEach(o=>{o.dynamic&&(i=!0),s.push(o.type)});const a="tuple("+s.join(",")+")";super("tuple",a,r,i);me(this,"coders");Cn(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach(i=>{t.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const a=s.localName;return a&&(i[a]||(i[a]=0),i[a]++),i},{});return this.coders.forEach((i,s)=>{let a=i.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),t[a]==null&&(t[a]=t[s]))}),Object.freeze(t)}encode(t,r){const i=ko.dereference(r,"tuple");return Zie(t,this.coders,i)}decode(t){return Qie(t,this.coders)}}function Zv(n){return Bi(Au(n))}function j2e(n){return typeof n=="string"&&(n=Au(n)),Bi(js([Au(S2e),Au(String(n.length)),n]))}const tse=new Uint8Array(32);tse.fill(0);const H2e=BigInt(-1),nse=BigInt(0),rse=BigInt(1),V2e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function W2e(n){const e=ln(n),t=e.length%32;return t?js([e,tse.slice(t)]):Ft(e)}const $2e=Q0(rse,32),G2e=Q0(nse,32),cG={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},R6=["name","version","chainId","verifyingContract","salt"];function uG(n){return function(e){return je(typeof e=="string",`invalid domain value for ${JSON.stringify(n)}`,`domain.${n}`,e),e}}const q2e={name:uG("name"),version:uG("version"),chainId:function(n){const e=$t(n,"domain.chainId");return je(e>=0,"invalid chain ID","domain.chainId",n),Number.isSafeInteger(e)?Number(e):pu(e)},verifyingContract:function(n){try{return Ir(n)}catch{}je(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",n)},salt:function(n){const e=ln(n,"domain.salt");return je(e.length===32,'invalid domain value "salt"',"domain.salt",n),Ft(e)}};function O6(n){{const e=n.match(/^(u?)int(\d*)$/);if(e){const t=e[1]==="",r=parseInt(e[2]||"256");je(r%8===0&&r!==0&&r<=256&&(e[2]==null||e[2]===String(r)),"invalid numeric width","type",n);const i=Zy(V2e,t?r-1:r),s=t?(i+rse)*H2e:nse;return function(a){const o=$t(a,"value");return je(o>=s&&o<=i,`value out-of-bounds for ${n}`,"value",o),Q0(t?nie(o,256):o,32)}}}{const e=n.match(/^bytes(\d+)$/);if(e){const t=parseInt(e[1]);return je(t!==0&&t<=32&&e[1]===String(t),"invalid bytes width","type",n),function(r){const i=ln(r);return je(i.length===t,`invalid length for ${n}`,"value",r),W2e(r)}}}switch(n){case"address":return function(e){return J_(Ir(e),32)};case"bool":return function(e){return e?$2e:G2e};case"bytes":return function(e){return Bi(e)};case"string":return function(e){return Zv(e)}}return null}function fG(n,e){return`${n}(${e.map(({name:t,type:r})=>r+" "+t).join(",")})`}var cT,dp,p_,QP,ise;const uf=class uf{constructor(e){Ge(this,QP);me(this,"primaryType");Ge(this,cT);Ge(this,dp);Ge(this,p_);ke(this,cT,JSON.stringify(e)),ke(this,dp,new Map),ke(this,p_,new Map);const t=new Map,r=new Map,i=new Map;Object.keys(e).forEach(o=>{t.set(o,new Set),r.set(o,[]),i.set(o,new Set)});for(const o in e){const l=new Set;for(const c of e[o]){je(!l.has(c.name),`duplicate variable name ${JSON.stringify(c.name)} in ${JSON.stringify(o)}`,"types",e),l.add(c.name);const f=c.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;je(f!==o,`circular type reference to ${JSON.stringify(f)}`,"types",e),!O6(f)&&(je(r.has(f),`unknown type ${JSON.stringify(f)}`,"types",e),r.get(f).push(o),t.get(o).add(f))}}const s=Array.from(r.keys()).filter(o=>r.get(o).length===0);je(s.length!==0,"missing primary type","types",e),je(s.length===1,`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),Cn(this,{primaryType:s[0]});function a(o,l){je(!l.has(o),`circular type reference to ${JSON.stringify(o)}`,"types",e),l.add(o);for(const c of t.get(o))if(r.has(c)){a(c,l);for(const f of l)i.get(f).add(c)}l.delete(o)}a(this.primaryType,new Set);for(const[o,l]of i){const c=Array.from(l);c.sort(),X(this,dp).set(o,fG(o,e[o])+c.map(f=>fG(f,e[f])).join(""))}}get types(){return JSON.parse(X(this,cT))}getEncoder(e){let t=X(this,p_).get(e);return t||(t=Tt(this,QP,ise).call(this,e),X(this,p_).set(e,t)),t}encodeType(e){const t=X(this,dp).get(e);return je(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return Bi(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(O6(e))return r(e,t);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i)return je(!i[3]||parseInt(i[3])===t.length,`array length mismatch; expected length ${parseInt(i[3])}`,"value",t),t.map(a=>this._visit(i[1],a,r));const s=this.types[e];if(s)return s.reduce((a,{name:o,type:l})=>(a[o]=this._visit(l,t[o],r),a),{});je(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new uf(e)}static getPrimaryType(e){return uf.from(e).primaryType}static hashStruct(e,t,r){return uf.from(t).hashStruct(e,r)}static hashDomain(e){const t=[];for(const r in e){if(e[r]==null)continue;const i=cG[r];je(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:i})}return t.sort((r,i)=>R6.indexOf(r.name)-R6.indexOf(i.name)),uf.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return js(["0x1901",uf.hashDomain(e),uf.from(t).hash(r)])}static hash(e,t,r){return Bi(uf.encode(e,t,r))}static getPayload(e,t,r){uf.hashDomain(e);const i={},s=[];R6.forEach(l=>{const c=e[l];c!=null&&(i[l]=q2e[l](c),s.push({name:l,type:cG[l]}))});const a=uf.from(t),o=Object.assign({},t);return je(o.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",t),o.EIP712Domain=s,a.encode(r),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(r,(l,c)=>{if(l.match(/^bytes(\d*)/))return Ft(ln(c));if(l.match(/^u?int/))return $t(c).toString();switch(l){case"address":return c.toLowerCase();case"bool":return!!c;case"string":return je(typeof c=="string","invalid string","value",c),c}je(!1,"unsupported type","type",l)})}}};cT=new WeakMap,dp=new WeakMap,p_=new WeakMap,QP=new WeakSet,ise=function(e){{const i=O6(e);if(i)return i}const t=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(t){const i=t[1],s=this.getEncoder(i);return a=>{je(!t[3]||parseInt(t[3])===a.length,`array length mismatch; expected length ${parseInt(t[3])}`,"value",a);let o=a.map(s);return X(this,dp).has(i)&&(o=o.map(Bi)),Bi(js(o))}}const r=this.types[e];if(r){const i=Zv(X(this,dp).get(e));return s=>{const a=r.map(({name:o,type:l})=>{const c=this.getEncoder(l)(s[o]);return X(this,dp).has(l)?Bi(c):c});return a.unshift(i),js(a)}}je(!1,`unknown type: ${e}`,"type",e)};let DO=uf;function nl(n){const e=new Set;return n.forEach(t=>e.add(t)),Object.freeze(e)}const Y2e="external public payable",X2e=nl(Y2e.split(" ")),sse="constant external internal payable private public pure view",K2e=nl(sse.split(" ")),ase="constructor error event fallback function receive struct",ose=nl(ase.split(" ")),lse="calldata memory storage payable indexed",J2e=nl(lse.split(" ")),Z2e="tuple returns",Q2e=[ase,lse,Z2e,sse].join(" "),eOe=nl(Q2e.split(" ")),tOe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},nOe=new RegExp("^(\\s*)"),rOe=new RegExp("^([0-9]+)"),iOe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),cse=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),use=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Va,gf,uT,dB;const eD=class eD{constructor(e){Ge(this,uT);Ge(this,Va);Ge(this,gf);ke(this,Va,0),ke(this,gf,e.slice())}get offset(){return X(this,Va)}get length(){return X(this,gf).length-X(this,Va)}clone(){return new eD(X(this,gf))}reset(){ke(this,Va,0)}popKeyword(e){const t=this.peek();if(t.type!=="KEYWORD"||!e.has(t.text))throw new Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e)throw new Error(`expected ${e}; got ${JSON.stringify(this.peek())}`);return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=Tt(this,uT,dB).call(this,X(this,Va)+1,e.match+1);return ke(this,Va,e.match+1),t}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const t=[];for(;X(this,Va)<e.match-1;){const r=this.peek().linkNext;t.push(Tt(this,uT,dB).call(this,X(this,Va)+1,r)),ke(this,Va,r)}return ke(this,Va,e.match+1),t}peek(){if(X(this,Va)>=X(this,gf).length)throw new Error("out-of-bounds");return X(this,gf)[X(this,Va)]}peekKeyword(e){const t=this.peekType("KEYWORD");return t!=null&&e.has(t)?t:null}peekType(e){if(this.length===0)return null;const t=this.peek();return t.type===e?t.text:null}pop(){const e=this.peek();return SE(this,Va)._++,e}toString(){const e=[];for(let t=X(this,Va);t<X(this,gf).length;t++){const r=X(this,gf)[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Va=new WeakMap,gf=new WeakMap,uT=new WeakSet,dB=function(e=0,t=0){return new eD(X(this,gf).slice(e,t).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Pf=eD;function pg(n){const e=[],t=a=>{const o=s<n.length?JSON.stringify(n[s]):"$EOI";throw new Error(`invalid token ${o} at ${s}: ${a}`)},r=[],i=[];let s=0;for(;s<n.length;){let a=n.substring(s),o=a.match(nOe);o&&(s+=o[1].length,a=n.substring(s));const l={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(l);const c=tOe[a[0]]||"";if(c){if(l.type=c,l.text=a[0],s++,c==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(c=="CLOSE_PAREN")r.length===0&&t("no matching open bracket"),l.match=r.pop(),e[l.match].match=e.length-1,l.depth--,l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1;else if(c==="COMMA")l.linkBack=i.pop(),e[l.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(c==="OPEN_BRACKET")l.type="BRACKET";else if(c==="CLOSE_BRACKET"){let f=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;f=d+f,e[e.length-1].value=Sn(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=f}continue}if(o=a.match(iOe),o){if(l.text=o[1],s+=l.text.length,eOe.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(use)){l.type="TYPE";continue}l.type="ID";continue}if(o=a.match(rOe),o){l.text=o[1],l.type="NUMBER",s+=l.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new Pf(e.map(a=>Object.freeze(a)))}function dG(n,e){const t=[];for(const r in e.keys())n.has(r)&&t.push(r);if(t.length>1)throw new Error(`conflicting types: ${t.join(", ")}`)}function lI(n,e){if(e.peekKeyword(ose)){const t=e.pop().text;if(t!==n)throw new Error(`expected ${n}, got ${t}`)}return e.popType("ID")}function Up(n,e){const t=new Set;for(;;){const r=n.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(n.pop(),t.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);t.add(r)}return Object.freeze(t)}function fse(n){const e=Up(n,K2e);return dG(e,nl("constant payable nonpayable".split(" "))),dG(e,nl("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function kp(n,e){return n.popParams().map(t=>Za.from(t,e))}function dse(n){if(n.peekType("AT")){if(n.pop(),n.peekType("NUMBER"))return $t(n.pop().text);throw new Error("invalid gas")}return null}function Qv(n){if(n.length)throw new Error(`unexpected tokens: ${n.toString()}`)}const sOe=new RegExp(/^(.*)\[([0-9]*)\]$/);function hG(n){const e=n.match(use);if(je(e,"invalid type","type",n),n==="uint")return"uint256";if(n==="int")return"int256";if(e[2]){const t=parseInt(e[2]);je(t!==0&&t<=32,"invalid bytes length","type",n)}else if(e[3]){const t=parseInt(e[3]);je(t!==0&&t<=256&&t%8===0,"invalid numeric width","type",n)}return n}const Zi={},Yl=Symbol.for("_quais_internal"),pG="_ParamTypeInternal",mG="_ErrorInternal",gG="_EventInternal",yG="_ConstructorInternal",vG="_FallbackInternal",xG="_FunctionInternal",bG="_StructInternal";var m_,QR;const lu=class lu{constructor(e,t,r,i,s,a,o,l){Ge(this,m_);me(this,"name");me(this,"type");me(this,"baseType");me(this,"indexed");me(this,"components");me(this,"arrayLength");me(this,"arrayChildren");if(IT(e,Zi,"ParamType"),Object.defineProperty(this,Yl,{value:pG}),a&&(a=Object.freeze(a.slice())),i==="array"){if(o==null||l==null)throw new Error("")}else if(o!=null||l!=null)throw new Error("");if(i==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");Cn(this,{name:t,type:r,baseType:i,indexed:s,components:a,arrayLength:o,arrayChildren:l})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let t="";return this.isArray()?(t+=this.arrayChildren.format(e),t+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?t+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":t+=this.type,e!=="sighash"&&(this.indexed===!0&&(t+=" indexed"),e==="full"&&this.name&&(t+=" "+this.name)),t}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,t))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,t))}return t(this.type,e)}async walkAsync(e,t){const r=[],i=[e];return Tt(this,m_,QR).call(this,r,e,t,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,t){if(lu.isParamType(e))return e;if(typeof e=="string")try{return lu.from(pg(e),t)}catch{je(!1,"invalid param type","obj",e)}else if(e instanceof Pf){let o="",l="",c=null;Up(e,nl(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(l="tuple",c=e.popParams().map(S=>lu.from(S)),o=`tuple(${c.map(S=>S.format()).join(",")})`):(o=hG(e.popType("TYPE")),l=o);let f=null,d=null;for(;e.length&&e.peekType("BRACKET");){const S=e.pop();f=new lu(Zi,"",o,l,null,c,d,f),d=S.value,o+=S.text,l="array",c=null}let p=null;if(Up(e,J2e).has("indexed")){if(!t)throw new Error("");p=!0}const b=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new lu(Zi,b,o,l,p,c,d,f)}const r=e.name;je(!r||typeof r=="string"&&r.match(cse),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(je(t,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type;const a=s.match(sOe);if(a){const o=parseInt(a[2]||"-1"),l=lu.from({type:a[1],components:e.components});return new lu(Zi,r||"",s,"array",i,null,o,l)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const o=e.components!=null?e.components.map(c=>lu.from(c)):null;return new lu(Zi,r||"",s,"tuple",i,o,null,null)}return s=hG(e.type),new lu(Zi,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[Yl]===pG}};m_=new WeakSet,QR=function(e,t,r,i){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=t.slice();o.forEach((l,c)=>{var f;Tt(f=a,m_,QR).call(f,e,l,r,d=>{o[c]=d})}),i(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(t))o=t.slice();else{if(t==null||typeof t!="object")throw new Error("invalid tuple value");o=a.map(l=>{if(!l.name)throw new Error("cannot use object value with unnamed components");if(!(l.name in t))throw new Error(`missing value for component ${l.name}`);return t[l.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((l,c)=>{var f;Tt(f=a[c],m_,QR).call(f,e,l,r,d=>{o[c]=d})}),i(o);return}const s=r(this.type,t);s.then?e.push((async function(){i(await s)})()):i(s)};let Za=lu;class ex{constructor(e,t,r){me(this,"type");me(this,"inputs");IT(e,Zi,"Fragment"),r=Object.freeze(r.slice()),Cn(this,{type:t,inputs:r})}static from(e){if(typeof e=="string"){try{ex.from(JSON.parse(e))}catch{}return ex.from(pg(e))}if(e instanceof Pf)switch(e.peekKeyword(ose)){case"constructor":return Ep.from(e);case"error":return Ul.from(e);case"event":return Bd.from(e);case"fallback":case"receive":return ap.from(e);case"function":return Fd.from(e);case"struct":return Fv.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ep.from(e);case"error":return Ul.from(e);case"event":return Bd.from(e);case"fallback":case"receive":return ap.from(e);case"function":return Fd.from(e);case"struct":return Fv.from(e)}Nt(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}je(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ep.isFragment(e)}static isError(e){return Ul.isFragment(e)}static isEvent(e){return Bd.isFragment(e)}static isFunction(e){return Fd.isFragment(e)}static isStruct(e){return Fv.isFragment(e)}}class cI extends ex{constructor(t,r,i,s){super(t,r,s);me(this,"name");je(typeof i=="string"&&i.match(cse),"invalid identifier","name",i),s=Object.freeze(s.slice()),Cn(this,{name:i})}}function AA(n,e){return"("+e.map(t=>t.format(n)).join(n==="full"?", ":",")+")"}class Ul extends cI{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,Yl,{value:mG})}get selector(){return Zv(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const t=[];return e!=="sighash"&&t.push("error"),t.push(this.name+AA(e,this.inputs)),t.join(" ")}static from(e){if(Ul.isFragment(e))return e;if(typeof e=="string")return Ul.from(pg(e));if(e instanceof Pf){const t=lI("error",e),r=kp(e);return Qv(e),new Ul(Zi,t,r)}return new Ul(Zi,e.name,e.inputs?e.inputs.map(Za.from):[])}static isFragment(e){return e&&e[Yl]===mG}}class Bd extends cI{constructor(t,r,i,s){super(t,"event",r,i);me(this,"anonymous");Object.defineProperty(this,Yl,{value:gG}),Cn(this,{anonymous:s})}get topicHash(){return Zv(this.format("sighash"))}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("event"),r.push(this.name+AA(t,this.inputs)),t!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(t,r){return r=(r||[]).map(s=>Za.from(s)),new Bd(Zi,t,r,!1).topicHash}static from(t){if(Bd.isFragment(t))return t;if(typeof t=="string")try{return Bd.from(pg(t))}catch{je(!1,"invalid event fragment","obj",t)}else if(t instanceof Pf){const r=lI("event",t),i=kp(t,!0),s=!!Up(t,nl(["anonymous"])).has("anonymous");return Qv(t),new Bd(Zi,r,i,s)}return new Bd(Zi,t.name,t.inputs?t.inputs.map(r=>Za.from(r,!0)):[],!!t.anonymous)}static isFragment(t){return t&&t[Yl]===gG}}class Ep extends ex{constructor(t,r,i,s,a){super(t,r,i);me(this,"payable");me(this,"gas");Object.defineProperty(this,Yl,{value:yG}),Cn(this,{payable:s,gas:a})}format(t){if(Nt(t!=null&&t!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),t==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t)))});const r=[`constructor${AA(t,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(t){if(Ep.isFragment(t))return t;if(typeof t=="string")try{return Ep.from(pg(t))}catch{je(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Pf){Up(t,nl(["constructor"]));const r=kp(t),i=!!Up(t,X2e).has("payable"),s=dse(t);return Qv(t),new Ep(Zi,"constructor",r,i,s)}return new Ep(Zi,"constructor",t.inputs?t.inputs.map(Za.from):[],!!t.payable,t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Yl]===yG}}class ap extends ex{constructor(t,r,i){super(t,"fallback",r);me(this,"payable");Object.defineProperty(this,Yl,{value:vG}),Cn(this,{payable:i})}format(t){const r=this.inputs.length===0?"receive":"fallback";if(t==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(t){if(ap.isFragment(t))return t;if(typeof t=="string")try{return ap.from(pg(t))}catch{je(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Pf){const r=t.toString(),i=t.peekKeyword(nl(["fallback","receive"]));if(je(i,"type must be fallback or receive","obj",r),t.popKeyword(nl(["fallback","receive"]))==="receive"){const l=kp(t);return je(l.length===0,"receive cannot have arguments","obj.inputs",l),Up(t,nl(["payable"])),Qv(t),new ap(Zi,[],!0)}let a=kp(t);a.length?je(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(l=>l.format("minimal")).join(", ")):a=[Za.from("bytes")];const o=fse(t);if(je(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Up(t,nl(["returns"])).has("returns")){const l=kp(t);je(l.length===1&&l[0].type==="bytes","invalid fallback outputs","obj.outputs",l.map(c=>c.format("minimal")).join(", "))}return Qv(t),new ap(Zi,a,o==="payable")}if(t.type==="receive")return new ap(Zi,[],!0);if(t.type==="fallback"){const r=[Za.from("bytes")],i=t.stateMutability==="payable";return new ap(Zi,r,i)}je(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Yl]===vG}}class Fd extends cI{constructor(t,r,i,s,a,o){super(t,"function",r,s);me(this,"constant");me(this,"outputs");me(this,"stateMutability");me(this,"payable");me(this,"gas");Object.defineProperty(this,Yl,{value:xG}),a=Object.freeze(a.slice()),Cn(this,{constant:i==="view"||i==="pure",gas:o,outputs:a,payable:i==="payable",stateMutability:i})}get selector(){return Zv(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(t))),outputs:this.outputs.map(i=>JSON.parse(i.format(t)))});const r=[];return t!=="sighash"&&r.push("function"),r.push(this.name+AA(t,this.inputs)),t!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(AA(t,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(t,r){return r=(r||[]).map(s=>Za.from(s)),new Fd(Zi,t,"view",r,[],null).selector}static from(t){if(Fd.isFragment(t))return t;if(typeof t=="string")try{return Fd.from(pg(t))}catch{je(!1,"invalid function fragment","obj",t)}else if(t instanceof Pf){const i=lI("function",t),s=kp(t),a=fse(t);let o=[];Up(t,nl(["returns"])).has("returns")&&(o=kp(t));const l=dse(t);return Qv(t),new Fd(Zi,i,a,s,o,l)}let r=t.stateMutability;return r==null&&(r="payable",typeof t.constant=="boolean"?(r="view",t.constant||(r="payable",typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable"))):typeof t.payable=="boolean"&&!t.payable&&(r="nonpayable")),new Fd(Zi,t.name,r,t.inputs?t.inputs.map(Za.from):[],t.outputs?t.outputs.map(Za.from):[],t.gas!=null?t.gas:null)}static isFragment(t){return t&&t[Yl]===xG}}class Fv extends cI{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,Yl,{value:bG})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Fv.from(pg(e))}catch{je(!1,"invalid struct fragment","obj",e)}else if(e instanceof Pf){const t=lI("struct",e),r=kp(e);return Qv(e),new Fv(Zi,t,r)}return new Fv(Zi,e.name,e.inputs?e.inputs.map(Za.from):[])}static isFragment(e){return e&&e[Yl]===bG}}const zf=new Map;zf.set(0,"GENERIC_PANIC");zf.set(1,"ASSERT_FALSE");zf.set(17,"OVERFLOW");zf.set(18,"DIVIDE_BY_ZERO");zf.set(33,"ENUM_RANGE_ERROR");zf.set(34,"BAD_STORAGE_DATA");zf.set(49,"STACK_UNDERFLOW");zf.set(50,"ARRAY_RANGE_ERROR");zf.set(65,"OUT_OF_MEMORY");zf.set(81,"UNINITIALIZED_FUNCTION_CALL");const aOe=new RegExp(/^bytes([0-9]*)$/),oOe=new RegExp(/^(u?int)([0-9]*)$/);let P6=null,_G=1024;function lOe(n,e,t,r){let i="missing revert data",s=null;const a=null;let o=null;if(t){i="execution reverted";const c=ln(t);if(t=Ft(t),c.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(c.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Ft(c.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],c.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Ft(c.slice(0,4))==="0x4e487b71")try{const f=Number(r.decode(["uint256"],c.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[f]},s=`Panic due to ${zf.get(f)||"UNKNOWN"}(${f})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const l={to:e.to?Ir(e.to):null,data:e.data||"0x"};return e.from&&(l.from=Ir(e.from)),Ji(i,"CALL_EXCEPTION",{action:n,data:t,reason:s,transaction:l,invocation:a,revert:o})}var A0,v1;const tD=class tD{constructor(){Ge(this,A0)}getDefaultValue(e){const t=e.map(i=>Tt(this,A0,v1).call(this,Za.from(i)));return new Xk(t,"_").defaultValue()}encode(e,t){Zre(t.length,e.length,"types/values length mismatch");const r=e.map(a=>Tt(this,A0,v1).call(this,Za.from(a))),i=new Xk(r,"_"),s=new cB;return i.encode(s,t),s.data}decode(e,t,r){const i=e.map(a=>Tt(this,A0,v1).call(this,Za.from(a)));return new Xk(i,"_").decode(new uB(t,r,_G))}static _setDefaultMaxInflation(e){je(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),_G=e}static defaultAbiCoder(){return P6==null&&(P6=new tD),P6}static getBuiltinCallException(e,t,r){return lOe(e,t,r,tD.defaultAbiCoder())}};A0=new WeakSet,v1=function(e){if(e.isArray())return new R2e(Tt(this,A0,v1).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Xk(e.components.map(r=>Tt(this,A0,v1).call(this,r)),e.name);switch(e.baseType){case"address":return new C2e(e.name);case"bool":return new O2e(e.name);case"string":return new U2e(e.name);case"bytes":return new P2e(e.name);case"":return new N2e(e.name)}let t=e.type.match(oOe);if(t){const r=parseInt(t[2]||"256");return je(r!==0&&r<=256&&r%8===0,"invalid "+t[1]+" bit length","param",e),new z2e(r/8,t[1]==="int",e.name)}if(t=e.type.match(aOe),t){const r=parseInt(t[1]);return je(r!==0&&r<=32,"invalid bytes length","param",e),new D2e(r,e.name)}je(!1,"invalid type","type",e.type)};let TA=tD;class cOe{constructor(e,t,r){me(this,"fragment");me(this,"name");me(this,"signature");me(this,"topic");me(this,"args");const i=e.name,s=e.format();Cn(this,{fragment:e,name:i,signature:s,topic:t,args:r})}}class uOe{constructor(e,t,r,i){me(this,"fragment");me(this,"name");me(this,"args");me(this,"signature");me(this,"selector");me(this,"value");const s=e.name,a=e.format();Cn(this,{fragment:e,name:s,args:r,signature:a,selector:t,value:i})}}class fOe{constructor(e,t,r){me(this,"fragment");me(this,"name");me(this,"args");me(this,"signature");me(this,"selector");const i=e.name,s=e.format();Cn(this,{fragment:e,name:i,args:r,signature:s,selector:t})}}class wG{constructor(e){me(this,"hash");me(this,"_isIndexed");Cn(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const SG={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},EG={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:n=>`reverted with reason string ${JSON.stringify(n)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:n=>{let e="unknown panic code";return n>=0&&n<=255&&SG[n.toString()]&&(e=SG[n.toString()]),`reverted with panic code 0x${n.toString(16)} (${e})`}}};var Cd,kd,Rd,vo,th,e2,t2;const j1=class j1{constructor(e){Ge(this,th);me(this,"fragments");me(this,"deploy");me(this,"fallback");me(this,"receive");Ge(this,Cd);Ge(this,kd);Ge(this,Rd);Ge(this,vo);let t=[];typeof e=="string"?t=JSON.parse(e):t=e,ke(this,Rd,new Map),ke(this,Cd,new Map),ke(this,kd,new Map);const r=[];for(const a of t)try{r.push(ex.from(a))}catch(o){console.log("Error parsing ABI fragment",o)}Cn(this,{fragments:Object.freeze(r)});let i=null,s=!1;ke(this,vo,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let l;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Cn(this,{deploy:a});return;case"fallback":a.inputs.length===0?s=!0:(je(!i||a.payable!==i.payable,"conflicting fallback fragments",`fragments[${o}]`,a),i=a,s=i.payable);return;case"function":l=X(this,Rd);break;case"event":l=X(this,kd);break;case"error":l=X(this,Cd);break;default:return}const c=a.format();l.has(c)||l.set(c,a)}),this.deploy||Cn(this,{deploy:Ep.from("constructor()")}),Cn(this,{fallback:i,receive:s})}format(e){const t=e?"minimal":"full";return this.fragments.map(i=>i.format(t))}formatJson(){const e=this.fragments.map(t=>t.format("json"));return JSON.stringify(e.map(t=>JSON.parse(t)))}getAbiCoder(){return TA.defaultAbiCoder()}getFunctionName(e){const t=Tt(this,th,e2).call(this,e,null,!1);return je(t,"no matching function","key",e),t.name}hasFunction(e){return!!Tt(this,th,e2).call(this,e,null,!1)}getFunction(e,t){return Tt(this,th,e2).call(this,e,t||null,!0)}forEachFunction(e){const t=Array.from(X(this,Rd).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(X(this,Rd).get(i),r)}}getEventName(e){const t=Tt(this,th,t2).call(this,e,null,!1);return je(t,"no matching event","key",e),t.name}hasEvent(e){return!!Tt(this,th,t2).call(this,e,null,!1)}getEvent(e,t){return Tt(this,th,t2).call(this,e,t||null,!0)}forEachEvent(e){const t=Array.from(X(this,kd).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(X(this,kd).get(i),r)}}getError(e,t){if(hs(e)){const i=e.toLowerCase();if(EG[i])return Ul.from(EG[i].signature);for(const s of X(this,Cd).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,a]of X(this,Cd))s.split("(")[0]===e&&i.push(a);if(i.length===0)return e==="Error"?Ul.from("error Error(string)"):e==="Panic"?Ul.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(a=>JSON.stringify(a.format())).join(", ");je(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Ul.from(e).format(),e==="Error(string)")return Ul.from("error Error(string)");if(e==="Panic(uint256)")return Ul.from("error Panic(uint256)");const r=X(this,Cd).get(e);return r||null}forEachError(e){const t=Array.from(X(this,Cd).keys());t.sort((r,i)=>r.localeCompare(i));for(let r=0;r<t.length;r++){const i=t[r];e(X(this,Cd).get(i),r)}}_decodeParams(e,t){return X(this,vo).decode(e,t)}_encodeParams(e,t){return X(this,vo).encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);je(r,"unknown error","fragment",e),e=r}return je(Ty(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ty(t,4))}encodeErrorResult(e,t){if(typeof e=="string"){const r=this.getError(e);je(r,"unknown error","fragment",e),e=r}return js([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);je(r,"unknown function","fragment",e),e=r}return je(Ty(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,Ty(t,4))}encodeFunctionData(e,t){if(typeof e=="string"){const r=this.getFunction(e);je(r,"unknown function","fragment",e),e=r}return js([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if(typeof e=="string"){const s=this.getFunction(e);je(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=Xa(t);if(i.length%32===0)try{return X(this,vo).decode(e.outputs,i)}catch{r="could not decode result data"}Nt(!1,r,"BAD_DATA",{value:Ft(i),info:{method:e.name,signature:e.format()}})}makeError(e,t){const r=ln(e,"data"),i=TA.getBuiltinCallException("call",t,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const o=Ft(r.slice(0,4)),l=this.getError(o);if(l)try{const c=X(this,vo).decode(l.inputs,r.slice(4));i.revert={name:l.name,signature:l.format(),args:c},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(t);return a&&(i.invocation={method:a.name,signature:a.signature,args:a.args}),i}encodeFunctionResult(e,t){if(typeof e=="string"){const r=this.getFunction(e);je(r,"unknown function","fragment",e),e=r}return Ft(X(this,vo).encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if(typeof e=="string"){const s=this.getEvent(e);je(s,"unknown event","eventFragment",e),e=s}Nt(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,a)=>s.type==="string"?Zv(a):s.type==="bytes"?Bi(Ft(a)):(s.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":s.type.match(/^u?int/)?a=Q0(a):s.type.match(/^bytes/)?a=Rke(a,32):s.type==="address"&&X(this,vo).encode(["address"],[a]),J_(Ft(a),32));for(t.forEach((s,a)=>{const o=e.inputs[a];if(!o.indexed){je(s==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,s);return}s==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?je(!1,"filtering with tuples or arrays not supported","contract."+o.name,s):Array.isArray(s)?r.push(s.map(l=>i(o,l))):r.push(i(o,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,t){if(typeof e=="string"){const a=this.getEvent(e);je(a,"unknown event","eventFragment",e),e=a}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),je(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((a,o)=>{const l=t[o];if(a.indexed)if(a.type==="string")r.push(Zv(l));else if(a.type==="bytes")r.push(Bi(l));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(X(this,vo).encode([a.type],[l]))}else i.push(a),s.push(l)}),{data:X(this,vo).encode(i,s),topics:r}}decodeEventLog(e,t,r){if(typeof e=="string"){const g=this.getEvent(e);je(g,"unknown event","eventFragment",e),e=g}if(r!=null&&!e.anonymous){const g=e.topicHash;je(hs(r[0],32)&&r[0].toLowerCase()===g,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],a=[];e.inputs.forEach((g,b)=>{g.indexed?g.type==="string"||g.type==="bytes"||g.baseType==="tuple"||g.baseType==="array"?(i.push(Za.from({type:"bytes32",name:g.name})),a.push(!0)):(i.push(g),a.push(!1)):(s.push(g),a.push(!1))});const o=r!=null?X(this,vo).decode(i,js(r)):null,l=X(this,vo).decode(s,t,!0),c=[],f=[];let d=0,p=0;return e.inputs.forEach((g,b)=>{let S=null;if(g.indexed)if(o==null)S=new wG(null);else if(a[b])S=new wG(o[p++]);else try{S=o[p++]}catch(w){S=w}else try{S=l[d++]}catch(w){S=w}c.push(S),f.push(g.name||null)}),PO.fromItems(c,f)}parseTransaction(e){const t=ln(e.data,"tx.data"),r=$t(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(Ft(t.slice(0,4)));if(!i)return null;const s=X(this,vo).decode(i.inputs,t.slice(4));return new uOe(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new cOe(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){const t=Ft(e),r=this.getError(Ty(t,0,4));if(!r)return null;const i=X(this,vo).decode(r.inputs,Ty(t,4));return new fOe(r,r.selector,i)}static from(e){return e instanceof j1?e:typeof e=="string"?new j1(JSON.parse(e)):typeof e.format=="function"?new j1(e.format("json")):new j1(e)}};Cd=new WeakMap,kd=new WeakMap,Rd=new WeakMap,vo=new WeakMap,th=new WeakSet,e2=function(e,t,r){if(hs(e)){const s=e.toLowerCase();for(const a of X(this,Rd).values())if(s===a.selector)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of X(this,Rd))a.split("(")[0]===e&&s.push(o);if(t){const a=t.length>0?t[t.length-1]:null;let o=t.length,l=!0;ko.isTyped(a)&&a.type==="overrides"&&(l=!1,o--);for(let c=s.length-1;c>=0;c--){const f=s[c].inputs.length;f!==o&&(!l||f!==o-1)&&s.splice(c,1)}for(let c=s.length-1;c>=0;c--){const f=s[c].inputs;for(let d=0;d<t.length;d++)if(ko.isTyped(t[d])){if(d>=f.length){if(t[d].type==="overrides")continue;s.splice(c,1);break}if(t[d].type!==f[d].baseType){s.splice(c,1);break}}}}if(s.length===1&&t&&t.length!==s[0].inputs.length){const a=t[t.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(o=>JSON.stringify(o.format())).join(", ");je(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return s[0]}const i=X(this,Rd).get(Fd.from(e).format());return i||null},t2=function(e,t,r){if(hs(e)){const s=e.toLowerCase();for(const a of X(this,kd).values())if(s===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const s=[];for(const[a,o]of X(this,kd))a.split("(")[0]===e&&s.push(o);if(t){for(let a=s.length-1;a>=0;a--)s[a].inputs.length<t.length&&s.splice(a,1);for(let a=s.length-1;a>=0;a--){const o=s[a].inputs;for(let l=0;l<t.length;l++)if(ko.isTyped(t[l])&&t[l].type!==o[l].baseType){s.splice(a,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const a=s.map(o=>JSON.stringify(o.format())).join(", ");je(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return s[0]}const i=X(this,kd).get(Bd.from(e).format());return i||null};let IO=j1;function D6(n,e){return zp(n),{address:Ir(n),storageKeys:e.map((t,r)=>(je(hs(t,32),"invalid slot",`storageKeys[${r}]`,t),t.toLowerCase()))}}function Bw(n){if(Array.isArray(n))return n.map((t,r)=>Array.isArray(t)?(je(t.length===2,"invalid slot set",`value[${r}]`,t),D6(V0(t[0]),t[1])):(je(t!=null&&typeof t=="object","invalid address-slot set","value",n),D6(V0(t.address),t.storageKeys)));je(n!=null&&typeof n=="object","invalid access list","value",n);const e=Object.keys(n).map(t=>{const r=n[t].reduce((i,s)=>(i[s]=!0,i),{});return D6(t,Object.keys(r).sort())});return e.sort((t,r)=>t.address.localeCompare(r.address)),e}class hse{constructor(){me(this,"_type");me(this,"_signature");me(this,"_chainId");this._type=null,this._chainId=BigInt(0),this._signature=null}get type(){return this._type}set type(e){switch(e){case null:this._type=null;break;case 0:case"standard":this._type=0;break;case 2:case"utxo":this._type=2;break;default:je(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"standard";case 1:return"external";case 2:return"utxo"}return null}get chainId(){return this._chainId}set chainId(e){this._chainId=$t(e)}get signature(){return this._signature||null}set signature(e){typeof e=="string"?this._signature=e:this._signature=e==null?null:eg.from(e)}get digest(){return Bi(this.unsignedSerialized)}isSigned(){return this.signature!=null}get serialized(){return Nt(this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),Z8(this.toProtobuf(!0))}get unsignedSerialized(){return Z8(this.toProtobuf(!1))}inferType(){return this.inferTypes().pop()}get isExternal(){return this.destZone!==void 0&&this.originZone!==this.destZone}}const GU=BigInt(0);function hn(n,e){return function(t){return t==null?e:n(t)}}function Eo(n){return e=>{if(!Array.isArray(e))throw new Error("not an array");return e.map(t=>n(t))}}function Uf(n,e){return t=>{const r={};for(const i in n){let s=i;if(e&&i in e&&!(s in t)){for(const a of e[i])if(a in t){s=a;break}}try{const a=n[i](t[s]);a!==void 0&&(r[i]=a)}catch(a){const o=a instanceof Error?a.message:"not-an-error";Nt(!1,`invalid value for value.${i} (${o})`,"BAD_DATA",{value:t})}}return r}}function dOe(n){switch(n){case!0:case"true":return!0;case!1:case"false":return!1}je(!1,`invalid boolean; ${JSON.stringify(n)}`,"value",n)}function rg(n){return je(hs(n),"invalid data","value",n),n}function Hn(n){return je(hs(n,32),"invalid hash","value",n),n}function hOe(n,e){return n==="0x"?0:Sn(n,e)}function yM(n,e){const t=$t(n,"value"),r=Z_(t);return je(r.length<=32,"value too large",`tx.${e}`,t),r}const pOe=Uf({address:Ir,blockHash:Hn,blockNumber:Sn,data:rg,index:Sn,removed:hn(dOe,!1),topics:Eo(Hn),transactionHash:Hn,transactionIndex:Sn},{index:["logIndex"]});function mOe(n){return pOe(n)}const gOe=Uf({avgTxFees:$t,baseFeePerGas:$t,conversionFlowAmount:$t,efficiencyScore:$t,etxEligibleSlices:Hn,etxRollupRoot:Hn,etxSetRoot:Hn,evmRoot:Hn,exchangeRate:$t,expansionNumber:Sn,extraData:rg,gasLimit:$t,gasUsed:$t,interlinkRootHash:Hn,kQuaiDiscount:$t,manifestHash:Eo(Hn),minerDifficulty:$t,number:Eo(Sn),outboundEtxsRoot:Hn,parentDeltaEntropy:Eo($t),parentEntropy:Eo($t),parentHash:Eo(Hn),parentUncledDeltaEntropy:Eo($t),primeStateRoot:Hn,primeTerminusHash:Hn,quaiStateSize:$t,receiptsRoot:Hn,size:$t,stateLimit:$t,stateUsed:$t,thresholdCount:$t,totalFees:$t,transactionsRoot:Hn,uncleHash:Hn,uncledEntropy:$t,utxoRoot:Hn}),I6=Uf({primaryCoinbase:hn(Ir),difficulty:Sn,headerHash:Hn,location:rg,mixHash:Hn,nonce:rg,number:Sn,parentHash:Hn,primeTerminusNumber:Sn,timestamp:Sn,txHash:Hn,lock:Sn}),yOe=Uf({outboundEtxs:Eo(n=>typeof n=="string"?Hn(n):NO(n)),hash:Hn,header:gOe,interlinkHashes:Eo(Hn),size:$t,subManifest:Eo(rg),totalEntropy:$t,transactions:Eo(n=>typeof n=="string"?Hn(n):qU(n)),uncles:Eo(I6),woHeader:I6,workShares:hn(Eo(I6),[])});function vOe(n){const e=yOe(n);return e.transactions=n.transactions.map(t=>typeof t=="string"?t:"originatingTxHash"in t?NO(t):qU(t)),e.outboundEtxs=n.outboundEtxs.map(t=>typeof t=="string"?t:NO(t)),e}const xOe=Uf({transactionIndex:Sn,blockNumber:Sn,transactionHash:Hn,address:Ir,topics:Eo(Hn),data:rg,index:Sn,blockHash:Hn},{index:["logIndex"]});function bOe(n){return xOe(n)}const _Oe=Uf({type:hn(Sn,0),nonce:hn(Sn),gasPrice:hn($t),gas:hn($t),value:hn($t,GU),input:hn(rg),to:hn(Ir,null),accessList:hn(Bw,null),from:Ir,originatingTxHash:Hn,etxIndex:Sn,chainId:hn($t,null),etxType:Sn,hash:Hn},{from:["from"]});function wOe(n){return _Oe(n)}const SOe=Uf({to:hn(Ir,null),from:hn(Ir,null),contractAddress:hn(Ir,null),index:Sn,gasUsed:$t,logsBloom:hn(rg),blockHash:Hn,hash:Hn,logs:Eo(bOe),blockNumber:Sn,cumulativeGasUsed:$t,effectiveGasPrice:hn($t),status:hn(Sn),type:hn(Sn,0),outboundEtxs:n=>n&&Eo(wOe)(n),originatingTxHash:hn(Hn),etxType:hn(Sn)},{hash:["transactionHash"],index:["transactionIndex"]});function EOe(n){return SOe(n)}function qU(n){switch(parseInt(n.type,16)){case 0:return MOe(n);case 1:return NO(n);case 2:return AOe(n);default:throw new Error("Unknown transaction type")}}function NO(n){const e=Uf({hash:Hn,type:t=>t==="0x"||t==null?0:parseInt(t,16),accessList:hn(Bw,null),blockHash:hn(Hn,null),blockNumber:hn(t=>t?parseInt(t,16):null,null),index:hn(t=>t?BigInt(t):null,null),from:hn(Ir,null),gasPrice:hn(t=>t?BigInt(t):null),gasLimit:hn(t=>t?BigInt(t):null,null),to:hn(Ir,null),value:hn(t=>t?BigInt(t):null,null),nonce:hn(t=>t?parseInt(t,10):null,null),creates:hn(Ir,null),chainId:hn(t=>t?BigInt(t):null,null),originatingTxHash:hn(Hn,null),etxIndex:hn(t=>t?parseInt(t,10):null,null),etxType:hn(t=>t,null),data:t=>t},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);return e.blockHash&&$t(e.blockHash)===GU&&(e.blockHash=null),e}function MOe(n){const e=Uf({hash:Hn,type:t=>t==="0x"||t==null?0:parseInt(t,16),accessList:hn(Bw,null),blockHash:hn(Hn,null),blockNumber:hn(t=>t?parseInt(t,16):null,null),index:hn(t=>t?BigInt(t):null,null),from:hn(Ir,null),gasPrice:hn(t=>t?BigInt(t):null),gasLimit:hn(t=>t?BigInt(t):null,null),to:hn(Ir,null),value:hn(t=>t?BigInt(t):null,null),nonce:hn(t=>t?parseInt(t,10):null,null),creates:hn(Ir,null),chainId:hn(t=>t?BigInt(t):null,null),etxType:hn(t=>parseInt(t,16),null),data:t=>t},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(n);if(n.accessList==null&&(e.accessList=[]),n.signature&&(e.signature=eg.from(n.signature),e.chainId==null)){const t=e.signature.legacyChainId;t!=null&&(e.chainId=t)}return e.blockHash&&$t(e.blockHash)===GU&&(e.blockHash=null),e}function AOe(n){return Uf({hash:Hn,type:e=>e==="0x"||e==null?0:parseInt(e,16),blockHash:hn(Hn,null),blockNumber:hn(e=>e?parseInt(e,16):null,null),chainId:hn(e=>e?BigInt(e):null,null),signature:e=>e,txInputs:hn(TOe,[]),txOutputs:hn(kOe,[])},{index:["transactionIndex"],signature:["utxoSignature"],txInputs:["inputs"],txOutputs:["outputs"]})(n)}const TOe=n=>n==null?void 0:n.map(COe),COe=n=>({txhash:Hn(n.previousOutPoint.txHash),index:Sn(n.previousOutPoint.index),pubkey:Ft(n.pubKey)}),kOe=n=>n==null?void 0:n.map(ROe),ROe=n=>({denomination:Sn(n.denomination),lock:Sn(n.lock),address:Ir(n.address)}),OOe=Uf({denomination:n=>Sn(n),index:n=>Sn(n),lock:n=>Sn(n),txhash:Hn},{txhash:["txHash"]});function LO(n){return n.map(OOe)}function POe(n){const e={};for(const[t,r]of Object.entries(n)){const i=[],s=[];for(const[a,o]of Object.entries(r.created))o.forEach(l=>{i.push({txHash:a,index:l.index,denomination:l.denomination,lock:l.lock})});for(const[a,o]of Object.entries(r.deleted))o.forEach(l=>{s.push({txHash:a,index:l.index,denomination:l.denomination,lock:l.lock})});e[t]={created:LO(i),deleted:LO(s)}}return e}var N6={},$E={},MG;function DOe(){if(MG)return $E;MG=1,$E.byteLength=o,$E.toByteArray=c,$E.fromByteArray=p;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)n[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(g){var b=g.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var S=g.indexOf("=");S===-1&&(S=b);var w=S===b?0:4-S%4;return[S,w]}function o(g){var b=a(g),S=b[0],w=b[1];return(S+w)*3/4-w}function l(g,b,S){return(b+S)*3/4-S}function c(g){var b,S=a(g),w=S[0],E=S[1],k=new t(l(g,w,E)),R=0,O=E>0?w-4:w,D;for(D=0;D<O;D+=4)b=e[g.charCodeAt(D)]<<18|e[g.charCodeAt(D+1)]<<12|e[g.charCodeAt(D+2)]<<6|e[g.charCodeAt(D+3)],k[R++]=b>>16&255,k[R++]=b>>8&255,k[R++]=b&255;return E===2&&(b=e[g.charCodeAt(D)]<<2|e[g.charCodeAt(D+1)]>>4,k[R++]=b&255),E===1&&(b=e[g.charCodeAt(D)]<<10|e[g.charCodeAt(D+1)]<<4|e[g.charCodeAt(D+2)]>>2,k[R++]=b>>8&255,k[R++]=b&255),k}function f(g){return n[g>>18&63]+n[g>>12&63]+n[g>>6&63]+n[g&63]}function d(g,b,S){for(var w,E=[],k=b;k<S;k+=3)w=(g[k]<<16&16711680)+(g[k+1]<<8&65280)+(g[k+2]&255),E.push(f(w));return E.join("")}function p(g){for(var b,S=g.length,w=S%3,E=[],k=16383,R=0,O=S-w;R<O;R+=k)E.push(d(g,R,R+k>O?O:R+k));return w===1?(b=g[S-1],E.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(g[S-2]<<8)+g[S-1],E.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),E.join("")}return $E}var Kk={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var AG;function IOe(){return AG||(AG=1,Kk.read=function(n,e,t,r,i){var s,a,o=i*8-r-1,l=(1<<o)-1,c=l>>1,f=-7,d=t?i-1:0,p=t?-1:1,g=n[e+d];for(d+=p,s=g&(1<<-f)-1,g>>=-f,f+=o;f>0;s=s*256+n[e+d],d+=p,f-=8);for(a=s&(1<<-f)-1,s>>=-f,f+=r;f>0;a=a*256+n[e+d],d+=p,f-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(g?-1:1)*(1/0);a=a+Math.pow(2,r),s=s-c}return(g?-1:1)*a*Math.pow(2,s-r)},Kk.write=function(n,e,t,r,i,s){var a,o,l,c=s*8-i-1,f=(1<<c)-1,d=f>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=r?0:s-1,b=r?1:-1,S=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?e+=p/l:e+=p*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=f?(o=0,a=f):a+d>=1?(o=(e*l-1)*Math.pow(2,i),a=a+d):(o=e*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;n[t+g]=o&255,g+=b,o/=256,i-=8);for(a=a<<i|o,c+=i;c>0;n[t+g]=a&255,g+=b,a/=256,c-=8);n[t+g-b]|=S*128}),Kk}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var TG;function NOe(){return TG||(TG=1,(function(n){const e=DOe(),t=IOe(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=o,n.SlowBuffer=k,n.INSPECT_MAX_BYTES=50;const i=2147483647;n.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const K=new Uint8Array(1),j={foo:function(){return 42}};return Object.setPrototypeOf(j,Uint8Array.prototype),Object.setPrototypeOf(K,j),K.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(K){if(K>i)throw new RangeError('The value "'+K+'" is invalid for option "size"');const j=new Uint8Array(K);return Object.setPrototypeOf(j,o.prototype),j}function o(K,j,$){if(typeof K=="number"){if(typeof j=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(K)}return l(K,j,$)}o.poolSize=8192;function l(K,j,$){if(typeof K=="string")return p(K,j);if(ArrayBuffer.isView(K))return b(K);if(K==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K);if(gt(K,ArrayBuffer)||K&&gt(K.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(gt(K,SharedArrayBuffer)||K&&gt(K.buffer,SharedArrayBuffer)))return S(K,j,$);if(typeof K=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ce=K.valueOf&&K.valueOf();if(ce!=null&&ce!==K)return o.from(ce,j,$);const le=w(K);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof K[Symbol.toPrimitive]=="function")return o.from(K[Symbol.toPrimitive]("string"),j,$);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof K)}o.from=function(K,j,$){return l(K,j,$)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function c(K){if(typeof K!="number")throw new TypeError('"size" argument must be of type number');if(K<0)throw new RangeError('The value "'+K+'" is invalid for option "size"')}function f(K,j,$){return c(K),K<=0?a(K):j!==void 0?typeof $=="string"?a(K).fill(j,$):a(K).fill(j):a(K)}o.alloc=function(K,j,$){return f(K,j,$)};function d(K){return c(K),a(K<0?0:E(K)|0)}o.allocUnsafe=function(K){return d(K)},o.allocUnsafeSlow=function(K){return d(K)};function p(K,j){if((typeof j!="string"||j==="")&&(j="utf8"),!o.isEncoding(j))throw new TypeError("Unknown encoding: "+j);const $=R(K,j)|0;let ce=a($);const le=ce.write(K,j);return le!==$&&(ce=ce.slice(0,le)),ce}function g(K){const j=K.length<0?0:E(K.length)|0,$=a(j);for(let ce=0;ce<j;ce+=1)$[ce]=K[ce]&255;return $}function b(K){if(gt(K,Uint8Array)){const j=new Uint8Array(K);return S(j.buffer,j.byteOffset,j.byteLength)}return g(K)}function S(K,j,$){if(j<0||K.byteLength<j)throw new RangeError('"offset" is outside of buffer bounds');if(K.byteLength<j+($||0))throw new RangeError('"length" is outside of buffer bounds');let ce;return j===void 0&&$===void 0?ce=new Uint8Array(K):$===void 0?ce=new Uint8Array(K,j):ce=new Uint8Array(K,j,$),Object.setPrototypeOf(ce,o.prototype),ce}function w(K){if(o.isBuffer(K)){const j=E(K.length)|0,$=a(j);return $.length===0||K.copy($,0,0,j),$}if(K.length!==void 0)return typeof K.length!="number"||ge(K.length)?a(0):g(K);if(K.type==="Buffer"&&Array.isArray(K.data))return g(K.data)}function E(K){if(K>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return K|0}function k(K){return+K!=K&&(K=0),o.alloc(+K)}o.isBuffer=function(j){return j!=null&&j._isBuffer===!0&&j!==o.prototype},o.compare=function(j,$){if(gt(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),gt($,Uint8Array)&&($=o.from($,$.offset,$.byteLength)),!o.isBuffer(j)||!o.isBuffer($))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(j===$)return 0;let ce=j.length,le=$.length;for(let Re=0,Me=Math.min(ce,le);Re<Me;++Re)if(j[Re]!==$[Re]){ce=j[Re],le=$[Re];break}return ce<le?-1:le<ce?1:0},o.isEncoding=function(j){switch(String(j).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(j,$){if(!Array.isArray(j))throw new TypeError('"list" argument must be an Array of Buffers');if(j.length===0)return o.alloc(0);let ce;if($===void 0)for($=0,ce=0;ce<j.length;++ce)$+=j[ce].length;const le=o.allocUnsafe($);let Re=0;for(ce=0;ce<j.length;++ce){let Me=j[ce];if(gt(Me,Uint8Array))Re+Me.length>le.length?(o.isBuffer(Me)||(Me=o.from(Me)),Me.copy(le,Re)):Uint8Array.prototype.set.call(le,Me,Re);else if(o.isBuffer(Me))Me.copy(le,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=Me.length}return le};function R(K,j){if(o.isBuffer(K))return K.length;if(ArrayBuffer.isView(K)||gt(K,ArrayBuffer))return K.byteLength;if(typeof K!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof K);const $=K.length,ce=arguments.length>2&&arguments[2]===!0;if(!ce&&$===0)return 0;let le=!1;for(;;)switch(j){case"ascii":case"latin1":case"binary":return $;case"utf8":case"utf-8":return mt(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $*2;case"hex":return $>>>1;case"base64":return kt(K).length;default:if(le)return ce?-1:mt(K).length;j=(""+j).toLowerCase(),le=!0}}o.byteLength=R;function O(K,j,$){let ce=!1;if((j===void 0||j<0)&&(j=0),j>this.length||(($===void 0||$>this.length)&&($=this.length),$<=0)||($>>>=0,j>>>=0,$<=j))return"";for(K||(K="utf8");;)switch(K){case"hex":return Ee(this,j,$);case"utf8":case"utf-8":return fe(this,j,$);case"ascii":return se(this,j,$);case"latin1":case"binary":return be(this,j,$);case"base64":return re(this,j,$);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,j,$);default:if(ce)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),ce=!0}}o.prototype._isBuffer=!0;function D(K,j,$){const ce=K[j];K[j]=K[$],K[$]=ce}o.prototype.swap16=function(){const j=this.length;if(j%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let $=0;$<j;$+=2)D(this,$,$+1);return this},o.prototype.swap32=function(){const j=this.length;if(j%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let $=0;$<j;$+=4)D(this,$,$+3),D(this,$+1,$+2);return this},o.prototype.swap64=function(){const j=this.length;if(j%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let $=0;$<j;$+=8)D(this,$,$+7),D(this,$+1,$+6),D(this,$+2,$+5),D(this,$+3,$+4);return this},o.prototype.toString=function(){const j=this.length;return j===0?"":arguments.length===0?fe(this,0,j):O.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(j){if(!o.isBuffer(j))throw new TypeError("Argument must be a Buffer");return this===j?!0:o.compare(this,j)===0},o.prototype.inspect=function(){let j="";const $=n.INSPECT_MAX_BYTES;return j=this.toString("hex",0,$).replace(/(.{2})/g,"$1 ").trim(),this.length>$&&(j+=" ... "),"<Buffer "+j+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(j,$,ce,le,Re){if(gt(j,Uint8Array)&&(j=o.from(j,j.offset,j.byteLength)),!o.isBuffer(j))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof j);if($===void 0&&($=0),ce===void 0&&(ce=j?j.length:0),le===void 0&&(le=0),Re===void 0&&(Re=this.length),$<0||ce>j.length||le<0||Re>this.length)throw new RangeError("out of range index");if(le>=Re&&$>=ce)return 0;if(le>=Re)return-1;if($>=ce)return 1;if($>>>=0,ce>>>=0,le>>>=0,Re>>>=0,this===j)return 0;let Me=Re-le,ue=ce-$;const vt=Math.min(Me,ue),ft=this.slice(le,Re),ct=j.slice($,ce);for(let Rt=0;Rt<vt;++Rt)if(ft[Rt]!==ct[Rt]){Me=ft[Rt],ue=ct[Rt];break}return Me<ue?-1:ue<Me?1:0};function I(K,j,$,ce,le){if(K.length===0)return-1;if(typeof $=="string"?(ce=$,$=0):$>2147483647?$=2147483647:$<-2147483648&&($=-2147483648),$=+$,ge($)&&($=le?0:K.length-1),$<0&&($=K.length+$),$>=K.length){if(le)return-1;$=K.length-1}else if($<0)if(le)$=0;else return-1;if(typeof j=="string"&&(j=o.from(j,ce)),o.isBuffer(j))return j.length===0?-1:B(K,j,$,ce,le);if(typeof j=="number")return j=j&255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(K,j,$):Uint8Array.prototype.lastIndexOf.call(K,j,$):B(K,[j],$,ce,le);throw new TypeError("val must be string, number or Buffer")}function B(K,j,$,ce,le){let Re=1,Me=K.length,ue=j.length;if(ce!==void 0&&(ce=String(ce).toLowerCase(),ce==="ucs2"||ce==="ucs-2"||ce==="utf16le"||ce==="utf-16le")){if(K.length<2||j.length<2)return-1;Re=2,Me/=2,ue/=2,$/=2}function vt(ct,Rt){return Re===1?ct[Rt]:ct.readUInt16BE(Rt*Re)}let ft;if(le){let ct=-1;for(ft=$;ft<Me;ft++)if(vt(K,ft)===vt(j,ct===-1?0:ft-ct)){if(ct===-1&&(ct=ft),ft-ct+1===ue)return ct*Re}else ct!==-1&&(ft-=ft-ct),ct=-1}else for($+ue>Me&&($=Me-ue),ft=$;ft>=0;ft--){let ct=!0;for(let Rt=0;Rt<ue;Rt++)if(vt(K,ft+Rt)!==vt(j,Rt)){ct=!1;break}if(ct)return ft}return-1}o.prototype.includes=function(j,$,ce){return this.indexOf(j,$,ce)!==-1},o.prototype.indexOf=function(j,$,ce){return I(this,j,$,ce,!0)},o.prototype.lastIndexOf=function(j,$,ce){return I(this,j,$,ce,!1)};function z(K,j,$,ce){$=Number($)||0;const le=K.length-$;ce?(ce=Number(ce),ce>le&&(ce=le)):ce=le;const Re=j.length;ce>Re/2&&(ce=Re/2);let Me;for(Me=0;Me<ce;++Me){const ue=parseInt(j.substr(Me*2,2),16);if(ge(ue))return Me;K[$+Me]=ue}return Me}function V(K,j,$,ce){return Vt(mt(j,K.length-$),K,$,ce)}function Y(K,j,$,ce){return Vt(_e(j),K,$,ce)}function q(K,j,$,ce){return Vt(kt(j),K,$,ce)}function J(K,j,$,ce){return Vt(zt(j,K.length-$),K,$,ce)}o.prototype.write=function(j,$,ce,le){if($===void 0)le="utf8",ce=this.length,$=0;else if(ce===void 0&&typeof $=="string")le=$,ce=this.length,$=0;else if(isFinite($))$=$>>>0,isFinite(ce)?(ce=ce>>>0,le===void 0&&(le="utf8")):(le=ce,ce=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-$;if((ce===void 0||ce>Re)&&(ce=Re),j.length>0&&(ce<0||$<0)||$>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Me=!1;for(;;)switch(le){case"hex":return z(this,j,$,ce);case"utf8":case"utf-8":return V(this,j,$,ce);case"ascii":case"latin1":case"binary":return Y(this,j,$,ce);case"base64":return q(this,j,$,ce);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,j,$,ce);default:if(Me)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Me=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(K,j,$){return j===0&&$===K.length?e.fromByteArray(K):e.fromByteArray(K.slice(j,$))}function fe(K,j,$){$=Math.min(K.length,$);const ce=[];let le=j;for(;le<$;){const Re=K[le];let Me=null,ue=Re>239?4:Re>223?3:Re>191?2:1;if(le+ue<=$){let vt,ft,ct,Rt;switch(ue){case 1:Re<128&&(Me=Re);break;case 2:vt=K[le+1],(vt&192)===128&&(Rt=(Re&31)<<6|vt&63,Rt>127&&(Me=Rt));break;case 3:vt=K[le+1],ft=K[le+2],(vt&192)===128&&(ft&192)===128&&(Rt=(Re&15)<<12|(vt&63)<<6|ft&63,Rt>2047&&(Rt<55296||Rt>57343)&&(Me=Rt));break;case 4:vt=K[le+1],ft=K[le+2],ct=K[le+3],(vt&192)===128&&(ft&192)===128&&(ct&192)===128&&(Rt=(Re&15)<<18|(vt&63)<<12|(ft&63)<<6|ct&63,Rt>65535&&Rt<1114112&&(Me=Rt))}}Me===null?(Me=65533,ue=1):Me>65535&&(Me-=65536,ce.push(Me>>>10&1023|55296),Me=56320|Me&1023),ce.push(Me),le+=ue}return te(ce)}const ne=4096;function te(K){const j=K.length;if(j<=ne)return String.fromCharCode.apply(String,K);let $="",ce=0;for(;ce<j;)$+=String.fromCharCode.apply(String,K.slice(ce,ce+=ne));return $}function se(K,j,$){let ce="";$=Math.min(K.length,$);for(let le=j;le<$;++le)ce+=String.fromCharCode(K[le]&127);return ce}function be(K,j,$){let ce="";$=Math.min(K.length,$);for(let le=j;le<$;++le)ce+=String.fromCharCode(K[le]);return ce}function Ee(K,j,$){const ce=K.length;(!j||j<0)&&(j=0),(!$||$<0||$>ce)&&($=ce);let le="";for(let Re=j;Re<$;++Re)le+=ie[K[Re]];return le}function oe(K,j,$){const ce=K.slice(j,$);let le="";for(let Re=0;Re<ce.length-1;Re+=2)le+=String.fromCharCode(ce[Re]+ce[Re+1]*256);return le}o.prototype.slice=function(j,$){const ce=this.length;j=~~j,$=$===void 0?ce:~~$,j<0?(j+=ce,j<0&&(j=0)):j>ce&&(j=ce),$<0?($+=ce,$<0&&($=0)):$>ce&&($=ce),$<j&&($=j);const le=this.subarray(j,$);return Object.setPrototypeOf(le,o.prototype),le};function ee(K,j,$){if(K%1!==0||K<0)throw new RangeError("offset is not uint");if(K+j>$)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(j,$,ce){j=j>>>0,$=$>>>0,ce||ee(j,$,this.length);let le=this[j],Re=1,Me=0;for(;++Me<$&&(Re*=256);)le+=this[j+Me]*Re;return le},o.prototype.readUintBE=o.prototype.readUIntBE=function(j,$,ce){j=j>>>0,$=$>>>0,ce||ee(j,$,this.length);let le=this[j+--$],Re=1;for(;$>0&&(Re*=256);)le+=this[j+--$]*Re;return le},o.prototype.readUint8=o.prototype.readUInt8=function(j,$){return j=j>>>0,$||ee(j,1,this.length),this[j]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(j,$){return j=j>>>0,$||ee(j,2,this.length),this[j]|this[j+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(j,$){return j=j>>>0,$||ee(j,2,this.length),this[j]<<8|this[j+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(j,$){return j=j>>>0,$||ee(j,4,this.length),(this[j]|this[j+1]<<8|this[j+2]<<16)+this[j+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(j,$){return j=j>>>0,$||ee(j,4,this.length),this[j]*16777216+(this[j+1]<<16|this[j+2]<<8|this[j+3])},o.prototype.readBigUInt64LE=Ie(function(j){j=j>>>0,_t(j,"offset");const $=this[j],ce=this[j+7];($===void 0||ce===void 0)&&Ve(j,this.length-8);const le=$+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24,Re=this[++j]+this[++j]*2**8+this[++j]*2**16+ce*2**24;return BigInt(le)+(BigInt(Re)<<BigInt(32))}),o.prototype.readBigUInt64BE=Ie(function(j){j=j>>>0,_t(j,"offset");const $=this[j],ce=this[j+7];($===void 0||ce===void 0)&&Ve(j,this.length-8);const le=$*2**24+this[++j]*2**16+this[++j]*2**8+this[++j],Re=this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce;return(BigInt(le)<<BigInt(32))+BigInt(Re)}),o.prototype.readIntLE=function(j,$,ce){j=j>>>0,$=$>>>0,ce||ee(j,$,this.length);let le=this[j],Re=1,Me=0;for(;++Me<$&&(Re*=256);)le+=this[j+Me]*Re;return Re*=128,le>=Re&&(le-=Math.pow(2,8*$)),le},o.prototype.readIntBE=function(j,$,ce){j=j>>>0,$=$>>>0,ce||ee(j,$,this.length);let le=$,Re=1,Me=this[j+--le];for(;le>0&&(Re*=256);)Me+=this[j+--le]*Re;return Re*=128,Me>=Re&&(Me-=Math.pow(2,8*$)),Me},o.prototype.readInt8=function(j,$){return j=j>>>0,$||ee(j,1,this.length),this[j]&128?(255-this[j]+1)*-1:this[j]},o.prototype.readInt16LE=function(j,$){j=j>>>0,$||ee(j,2,this.length);const ce=this[j]|this[j+1]<<8;return ce&32768?ce|4294901760:ce},o.prototype.readInt16BE=function(j,$){j=j>>>0,$||ee(j,2,this.length);const ce=this[j+1]|this[j]<<8;return ce&32768?ce|4294901760:ce},o.prototype.readInt32LE=function(j,$){return j=j>>>0,$||ee(j,4,this.length),this[j]|this[j+1]<<8|this[j+2]<<16|this[j+3]<<24},o.prototype.readInt32BE=function(j,$){return j=j>>>0,$||ee(j,4,this.length),this[j]<<24|this[j+1]<<16|this[j+2]<<8|this[j+3]},o.prototype.readBigInt64LE=Ie(function(j){j=j>>>0,_t(j,"offset");const $=this[j],ce=this[j+7];($===void 0||ce===void 0)&&Ve(j,this.length-8);const le=this[j+4]+this[j+5]*2**8+this[j+6]*2**16+(ce<<24);return(BigInt(le)<<BigInt(32))+BigInt($+this[++j]*2**8+this[++j]*2**16+this[++j]*2**24)}),o.prototype.readBigInt64BE=Ie(function(j){j=j>>>0,_t(j,"offset");const $=this[j],ce=this[j+7];($===void 0||ce===void 0)&&Ve(j,this.length-8);const le=($<<24)+this[++j]*2**16+this[++j]*2**8+this[++j];return(BigInt(le)<<BigInt(32))+BigInt(this[++j]*2**24+this[++j]*2**16+this[++j]*2**8+ce)}),o.prototype.readFloatLE=function(j,$){return j=j>>>0,$||ee(j,4,this.length),t.read(this,j,!0,23,4)},o.prototype.readFloatBE=function(j,$){return j=j>>>0,$||ee(j,4,this.length),t.read(this,j,!1,23,4)},o.prototype.readDoubleLE=function(j,$){return j=j>>>0,$||ee(j,8,this.length),t.read(this,j,!0,52,8)},o.prototype.readDoubleBE=function(j,$){return j=j>>>0,$||ee(j,8,this.length),t.read(this,j,!1,52,8)};function xe(K,j,$,ce,le,Re){if(!o.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(j>le||j<Re)throw new RangeError('"value" argument is out of bounds');if($+ce>K.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(j,$,ce,le){if(j=+j,$=$>>>0,ce=ce>>>0,!le){const ue=Math.pow(2,8*ce)-1;xe(this,j,$,ce,ue,0)}let Re=1,Me=0;for(this[$]=j&255;++Me<ce&&(Re*=256);)this[$+Me]=j/Re&255;return $+ce},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(j,$,ce,le){if(j=+j,$=$>>>0,ce=ce>>>0,!le){const ue=Math.pow(2,8*ce)-1;xe(this,j,$,ce,ue,0)}let Re=ce-1,Me=1;for(this[$+Re]=j&255;--Re>=0&&(Me*=256);)this[$+Re]=j/Me&255;return $+ce},o.prototype.writeUint8=o.prototype.writeUInt8=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,1,255,0),this[$]=j&255,$+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,2,65535,0),this[$]=j&255,this[$+1]=j>>>8,$+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,2,65535,0),this[$]=j>>>8,this[$+1]=j&255,$+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,4,4294967295,0),this[$+3]=j>>>24,this[$+2]=j>>>16,this[$+1]=j>>>8,this[$]=j&255,$+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,4,4294967295,0),this[$]=j>>>24,this[$+1]=j>>>16,this[$+2]=j>>>8,this[$+3]=j&255,$+4};function ae(K,j,$,ce,le){Ze(j,ce,le,K,$,7);let Re=Number(j&BigInt(4294967295));K[$++]=Re,Re=Re>>8,K[$++]=Re,Re=Re>>8,K[$++]=Re,Re=Re>>8,K[$++]=Re;let Me=Number(j>>BigInt(32)&BigInt(4294967295));return K[$++]=Me,Me=Me>>8,K[$++]=Me,Me=Me>>8,K[$++]=Me,Me=Me>>8,K[$++]=Me,$}function De(K,j,$,ce,le){Ze(j,ce,le,K,$,7);let Re=Number(j&BigInt(4294967295));K[$+7]=Re,Re=Re>>8,K[$+6]=Re,Re=Re>>8,K[$+5]=Re,Re=Re>>8,K[$+4]=Re;let Me=Number(j>>BigInt(32)&BigInt(4294967295));return K[$+3]=Me,Me=Me>>8,K[$+2]=Me,Me=Me>>8,K[$+1]=Me,Me=Me>>8,K[$]=Me,$+8}o.prototype.writeBigUInt64LE=Ie(function(j,$=0){return ae(this,j,$,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Ie(function(j,$=0){return De(this,j,$,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(j,$,ce,le){if(j=+j,$=$>>>0,!le){const vt=Math.pow(2,8*ce-1);xe(this,j,$,ce,vt-1,-vt)}let Re=0,Me=1,ue=0;for(this[$]=j&255;++Re<ce&&(Me*=256);)j<0&&ue===0&&this[$+Re-1]!==0&&(ue=1),this[$+Re]=(j/Me>>0)-ue&255;return $+ce},o.prototype.writeIntBE=function(j,$,ce,le){if(j=+j,$=$>>>0,!le){const vt=Math.pow(2,8*ce-1);xe(this,j,$,ce,vt-1,-vt)}let Re=ce-1,Me=1,ue=0;for(this[$+Re]=j&255;--Re>=0&&(Me*=256);)j<0&&ue===0&&this[$+Re+1]!==0&&(ue=1),this[$+Re]=(j/Me>>0)-ue&255;return $+ce},o.prototype.writeInt8=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,1,127,-128),j<0&&(j=255+j+1),this[$]=j&255,$+1},o.prototype.writeInt16LE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,2,32767,-32768),this[$]=j&255,this[$+1]=j>>>8,$+2},o.prototype.writeInt16BE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,2,32767,-32768),this[$]=j>>>8,this[$+1]=j&255,$+2},o.prototype.writeInt32LE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,4,2147483647,-2147483648),this[$]=j&255,this[$+1]=j>>>8,this[$+2]=j>>>16,this[$+3]=j>>>24,$+4},o.prototype.writeInt32BE=function(j,$,ce){return j=+j,$=$>>>0,ce||xe(this,j,$,4,2147483647,-2147483648),j<0&&(j=4294967295+j+1),this[$]=j>>>24,this[$+1]=j>>>16,this[$+2]=j>>>8,this[$+3]=j&255,$+4},o.prototype.writeBigInt64LE=Ie(function(j,$=0){return ae(this,j,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Ie(function(j,$=0){return De(this,j,$,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function dt(K,j,$,ce,le,Re){if($+ce>K.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("Index out of range")}function Ne(K,j,$,ce,le){return j=+j,$=$>>>0,le||dt(K,j,$,4),t.write(K,j,$,ce,23,4),$+4}o.prototype.writeFloatLE=function(j,$,ce){return Ne(this,j,$,!0,ce)},o.prototype.writeFloatBE=function(j,$,ce){return Ne(this,j,$,!1,ce)};function Ue(K,j,$,ce,le){return j=+j,$=$>>>0,le||dt(K,j,$,8),t.write(K,j,$,ce,52,8),$+8}o.prototype.writeDoubleLE=function(j,$,ce){return Ue(this,j,$,!0,ce)},o.prototype.writeDoubleBE=function(j,$,ce){return Ue(this,j,$,!1,ce)},o.prototype.copy=function(j,$,ce,le){if(!o.isBuffer(j))throw new TypeError("argument should be a Buffer");if(ce||(ce=0),!le&&le!==0&&(le=this.length),$>=j.length&&($=j.length),$||($=0),le>0&&le<ce&&(le=ce),le===ce||j.length===0||this.length===0)return 0;if($<0)throw new RangeError("targetStart out of bounds");if(ce<0||ce>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),j.length-$<le-ce&&(le=j.length-$+ce);const Re=le-ce;return this===j&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin($,ce,le):Uint8Array.prototype.set.call(j,this.subarray(ce,le),$),Re},o.prototype.fill=function(j,$,ce,le){if(typeof j=="string"){if(typeof $=="string"?(le=$,$=0,ce=this.length):typeof ce=="string"&&(le=ce,ce=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!o.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(j.length===1){const Me=j.charCodeAt(0);(le==="utf8"&&Me<128||le==="latin1")&&(j=Me)}}else typeof j=="number"?j=j&255:typeof j=="boolean"&&(j=Number(j));if($<0||this.length<$||this.length<ce)throw new RangeError("Out of range index");if(ce<=$)return this;$=$>>>0,ce=ce===void 0?this.length:ce>>>0,j||(j=0);let Re;if(typeof j=="number")for(Re=$;Re<ce;++Re)this[Re]=j;else{const Me=o.isBuffer(j)?j:o.from(j,le),ue=Me.length;if(ue===0)throw new TypeError('The value "'+j+'" is invalid for argument "value"');for(Re=0;Re<ce-$;++Re)this[Re+$]=Me[Re%ue]}return this};const qe={};function Pe(K,j,$){qe[K]=class extends ${constructor(){super(),Object.defineProperty(this,"message",{value:j.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${K}]`,this.stack,delete this.name}get code(){return K}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${K}]: ${this.message}`}}}Pe("ERR_BUFFER_OUT_OF_BOUNDS",function(K){return K?`${K} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Pe("ERR_INVALID_ARG_TYPE",function(K,j){return`The "${K}" argument must be of type number. Received type ${typeof j}`},TypeError),Pe("ERR_OUT_OF_RANGE",function(K,j,$){let ce=`The value of "${K}" is out of range.`,le=$;return Number.isInteger($)&&Math.abs($)>2**32?le=lt(String($)):typeof $=="bigint"&&(le=String($),($>BigInt(2)**BigInt(32)||$<-(BigInt(2)**BigInt(32)))&&(le=lt(le)),le+="n"),ce+=` It must be ${j}. Received ${le}`,ce},RangeError);function lt(K){let j="",$=K.length;const ce=K[0]==="-"?1:0;for(;$>=ce+4;$-=3)j=`_${K.slice($-3,$)}${j}`;return`${K.slice(0,$)}${j}`}function Mt(K,j,$){_t(j,"offset"),(K[j]===void 0||K[j+$]===void 0)&&Ve(j,K.length-($+1))}function Ze(K,j,$,ce,le,Re){if(K>$||K<j){const Me=typeof j=="bigint"?"n":"";let ue;throw j===0||j===BigInt(0)?ue=`>= 0${Me} and < 2${Me} ** ${(Re+1)*8}${Me}`:ue=`>= -(2${Me} ** ${(Re+1)*8-1}${Me}) and < 2 ** ${(Re+1)*8-1}${Me}`,new qe.ERR_OUT_OF_RANGE("value",ue,K)}Mt(ce,le,Re)}function _t(K,j){if(typeof K!="number")throw new qe.ERR_INVALID_ARG_TYPE(j,"number",K)}function Ve(K,j,$){throw Math.floor(K)!==K?(_t(K,$),new qe.ERR_OUT_OF_RANGE("offset","an integer",K)):j<0?new qe.ERR_BUFFER_OUT_OF_BOUNDS:new qe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${j}`,K)}const ot=/[^+/0-9A-Za-z-_]/g;function Qe(K){if(K=K.split("=")[0],K=K.trim().replace(ot,""),K.length<2)return"";for(;K.length%4!==0;)K=K+"=";return K}function mt(K,j){j=j||1/0;let $;const ce=K.length;let le=null;const Re=[];for(let Me=0;Me<ce;++Me){if($=K.charCodeAt(Me),$>55295&&$<57344){if(!le){if($>56319){(j-=3)>-1&&Re.push(239,191,189);continue}else if(Me+1===ce){(j-=3)>-1&&Re.push(239,191,189);continue}le=$;continue}if($<56320){(j-=3)>-1&&Re.push(239,191,189),le=$;continue}$=(le-55296<<10|$-56320)+65536}else le&&(j-=3)>-1&&Re.push(239,191,189);if(le=null,$<128){if((j-=1)<0)break;Re.push($)}else if($<2048){if((j-=2)<0)break;Re.push($>>6|192,$&63|128)}else if($<65536){if((j-=3)<0)break;Re.push($>>12|224,$>>6&63|128,$&63|128)}else if($<1114112){if((j-=4)<0)break;Re.push($>>18|240,$>>12&63|128,$>>6&63|128,$&63|128)}else throw new Error("Invalid code point")}return Re}function _e(K){const j=[];for(let $=0;$<K.length;++$)j.push(K.charCodeAt($)&255);return j}function zt(K,j){let $,ce,le;const Re=[];for(let Me=0;Me<K.length&&!((j-=2)<0);++Me)$=K.charCodeAt(Me),ce=$>>8,le=$%256,Re.push(le),Re.push(ce);return Re}function kt(K){return e.toByteArray(Qe(K))}function Vt(K,j,$,ce){let le;for(le=0;le<ce&&!(le+$>=j.length||le>=K.length);++le)j[le+$]=K[le];return le}function gt(K,j){return K instanceof j||K!=null&&K.constructor!=null&&K.constructor.name!=null&&K.constructor.name===j.name}function ge(K){return K!==K}const ie=(function(){const K="0123456789abcdef",j=new Array(256);for(let $=0;$<16;++$){const ce=$*16;for(let le=0;le<16;++le)j[ce+le]=K[$]+K[le]}return j})();function Ie(K){return typeof BigInt>"u"?we:K}function we(){throw new Error("BigInt not supported")}})(N6)),N6}var BO=NOe(),g_,y_,v_;const H1=class H1 extends hse{constructor(){super();Ge(this,g_);Ge(this,y_);Ge(this,v_);ke(this,g_,[]),ke(this,y_,[]),ke(this,v_,new Uint8Array)}get txInputs(){return(X(this,g_)??[]).map(t=>({...t}))}set txInputs(t){if(!Array.isArray(t))throw new Error("txInputs must be an array");ke(this,g_,t.map(r=>({...r})))}get txOutputs(){return(X(this,y_)??[]).map(t=>({...t}))}set txOutputs(t){if(!Array.isArray(t))throw new Error("txOutputs must be an array");ke(this,y_,t.map(r=>({...r})))}get data(){return new Uint8Array(X(this,v_))}set data(t){ke(this,v_,t?new Uint8Array(t):new Uint8Array)}get hash(){if(this.signature==null)return null;if(this.txInputs.length<1||this.txOutputs.length<1)throw new Error("Transaction must have at least one input and one output");const t=tg(this.txInputs[0].pubkey||"");if(!this.destZone||!this.originZone)throw new Error(`Invalid zones: origin ${this.originZone} ->  destination ${this.destZone} (address: ${t})`);const r=ng(t)===ng(Ft(this.txOutputs[0].address)||"");if(this.isExternal&&!r)throw new Error("Cross-zone & cross-ledger transactions are not supported");const i=this.serialized.startsWith("0x")?this.serialized.substring(2):this.serialized,s=BO.Buffer.from(i,"hex"),a=Bi(s),o=BO.Buffer.from(a.substring(2),"hex"),l=this.txInputs[0].txhash,f=ln(l)[2];return o[0]=f,o[1]|=128,o[2]=f,o[3]|=128,"0x"+o.toString("hex")}get originZone(){const t=tg(this.txInputs[0].pubkey||"");return Gl(t)??void 0}get destZone(){return Gl(this.txOutputs[0].address)??void 0}inferTypes(){const t=[];return this.type!=null?t.push(this.type):t.push(2),t.sort(),t}clone(){return H1.from(this)}toJSON(){const t=r=>r==null?null:r.toString();return{type:this.type,chainId:t(this.chainId),signature:this.signature?this.signature:null,hash:this.hash,txInputs:this.txInputs,txOutputs:this.txOutputs,data:this.data.length>0?Ft(this.data):null}}toProtobuf(t=!0){const r={type:this.type||2,chain_id:yM(this.chainId||0,"chainId"),tx_ins:{tx_ins:this.txInputs.map(i=>({previous_out_point:{hash:{value:ln(i.txhash)},index:i.index},pub_key:ln(i.pubkey)}))},tx_outs:{tx_outs:this.txOutputs.map(i=>({address:ln(i.address),denomination:i.denomination,lock:new Uint8Array}))},data:this.data};return this.signature&&t&&(r.signature=ln(this.signature)),r}static from(t){if(typeof t=="string"){const i=NU(ln(t));return H1.fromProto(i)}const r=new H1;return t.type!=null&&(r.type=t.type),t.chainId!=null&&(r.chainId=t.chainId),t.signature!=null&&t.signature!==""&&(r.signature=t.signature),t.txInputs!=null&&(r.txInputs=t.txInputs),t.txOutputs!=null&&(r.txOutputs=t.txOutputs),t.data!=null&&(r.data=t.data),t.hash!=null&&je(r.isSigned(),"unsigned transaction cannot define hash","tx",t),r}static fromProto(t){var i,s;const r=new H1;return r.type=t.type,r.chainId=Sp(t.chain_id),r.txInputs=((i=t.tx_ins)==null?void 0:i.tx_ins.map(a=>({txhash:Ft(a.previous_out_point.hash.value),index:a.previous_out_point.index,pubkey:Ft(a.pub_key)})))??[],r.txOutputs=((s=t.tx_outs)==null?void 0:s.tx_outs.map(a=>({address:Ft(a.address),denomination:a.denomination,lock:a.lock?Ft(a.lock):""})))??[],t.signature&&(r.signature=Ft(t.signature)),t.data&&(r.data=t.data),r}};g_=new WeakMap,y_=new WeakMap,v_=new WeakMap;let hB=H1;function LOe(n){let e;try{if(e=hOe(n[0],"yParity"),e!==0&&e!==1)throw new Error("bad yParity")}catch{je(!1,"invalid yParity","yParity",n[0])}const t=J_(n[1],32),r=J_(n[2],32);return eg.from({r:t,s:r,yParity:e})}var x_,b_,__,w_,S_,E_,M_;const V1=class V1 extends hse{constructor(t){super();Ge(this,x_);Ge(this,b_);Ge(this,__);Ge(this,w_);Ge(this,S_);Ge(this,E_);Ge(this,M_);me(this,"from");ke(this,x_,null),ke(this,__,0),ke(this,w_,BigInt(0)),ke(this,S_,null),ke(this,b_,"0x"),ke(this,E_,BigInt(0)),ke(this,M_,null),this.from=t}get to(){return X(this,x_)}set to(t){t!==null&&zp(t),ke(this,x_,t)}get hash(){if(this.signature==null)return null;if(!this.originZone)throw new Error("Invalid Zone for from address");if(!this.from)throw new Error("Missing from address");const t=!this.to||k6(this.from)===k6(this.to);if(this.isExternal&&!t)throw new Error("Cross-zone & cross-ledger transactions are not supported");const r=this.serialized.startsWith("0x")?this.serialized.substring(2):this.serialized,i=BO.Buffer.from(r,"hex"),s=Bi(i),a=BO.Buffer.from(s.substring(2),"hex"),o=this.originZone?parseInt(this.originZone.slice(2),16):0;return a[0]=o,a[1]&=127,a[2]=o,a[3]&=127,"0x"+a.toString("hex")}get originZone(){return(this.from?Gl(this.from):void 0)??void 0}get destZone(){return(this.to!==null?Gl(this.to||""):void 0)??void 0}get nonce(){return X(this,__)}set nonce(t){ke(this,__,Sn(t,"value"))}get gasLimit(){return X(this,w_)}set gasLimit(t){ke(this,w_,$t(t))}get gasPrice(){const t=X(this,S_);return t??null}set gasPrice(t){ke(this,S_,t==null?null:$t(t,"gasPrice"))}get data(){return X(this,b_)}set data(t){ke(this,b_,Ft(t))}get value(){return X(this,E_)}set value(t){ke(this,E_,$t(t,"value"))}get accessList(){const t=X(this,M_)||null;return t??null}set accessList(t){ke(this,M_,t==null?null:Bw(t))}inferTypes(){Nt(this.type!==0&&this.type!==1,"transaction type cannot have externalGasLimit, externalGasTip, externalGasPrice, externalData, or externalAccessList","BAD_DATA",{value:this});const t=[];return this.type!=null?t.push(this.type):t.push(0),t.sort(),t}clone(){return V1.from(this)}toJSON(){const t=r=>r==null?null:r.toString();return{type:this.type,to:this.to,from:this.from,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),value:t(this.value),chainId:t(this.chainId),signature:this.signature?this.signature.toJSON():null,hash:this.hash,accessList:this.accessList}}toProtobuf(t=!0){var i;const r={type:this.type||0,chain_id:yM(this.chainId||0,"chainId"),nonce:this.nonce||0,gas_price:yM(this.gasPrice||0,"gasPrice"),gas:Number(this.gasLimit||0),to:this.to!=null?ln(this.to):null,value:yM(this.value||0,"value"),data:ln(this.data||"0x"),access_list:{access_tuples:((i=this.accessList)==null?void 0:i.map(s=>({address:ln(s.address),storage_key:s.storageKeys.map(a=>({value:ln(a)}))})))||[]}};return this.signature&&t&&(r.v=yM(this.signature.yParity,"yParity"),r.r=Z_(this.signature.r),r.s=Z_(this.signature.s)),r}static from(t){if(typeof t=="string"){const i=NU(ln(t));return V1.fromProto(i)}const r=new V1(t.from);return t.type!=null&&(r.type=t.type),t.to!=null&&(zp(t.to),r.to=t.to),t.nonce!=null&&(r.nonce=t.nonce),t.gasLimit!=null&&(r.gasLimit=t.gasLimit),t.gasPrice!=null&&(r.gasPrice=t.gasPrice),t.data!=null&&t.data!==""&&(r.data=t.data),t.value!=null&&(r.value=t.value),t.chainId!=null&&(r.chainId=t.chainId),t.signature!=null&&(r.signature=eg.from(t.signature)),t.accessList!=null&&(r.accessList=t.accessList),t.hash!=null&&je(r.isSigned(),"unsigned transaction cannot define hash","tx",t),t.from!=null&&(je(k6(t.from),"from address must be a Quai address","tx.from",t.from),je((r.from||"").toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t),r.from=t.from),r}static fromProto(t){let r=null,i="";delete t.etx_sender,delete t.etx_index,delete t.work_nonce,delete t.etx_type;const s=BOe(t);if(t.v&&t.r&&t.s){if(t.r.reduce((l,c)=>l+=c,0)==0)throw new Error("Proto decoding only supported for signed transactions");const o=[Ft(t.v),Ft(t.r),Ft(t.s)];r=LOe(o),delete s.v,delete s.r,delete s.s,delete s.signature,i=M2e(Bi(Z8(s)),r)}const a=new V1(i);if(r&&(a.signature=r),t.to!==null){const o=Ft(t.to);a.to=Ir(o)}return a.type=t.type,a.chainId=Sp(t.chain_id),a.nonce=Number(t.nonce),a.gasPrice=Sp(t.gas_price),a.gasLimit=Sp(t.gas),a.value=t.value!==null?Sp(t.value):BigInt(0),a.data=Ft(t.data),a.accessList=t.access_list.access_tuples.map(o=>({address:V0(Ft(o.address)),storageKeys:o.storage_key.map(l=>Ft(l.value))})),a}};x_=new WeakMap,b_=new WeakMap,__=new WeakMap,w_=new WeakMap,S_=new WeakMap,E_=new WeakMap,M_=new WeakMap;let CA=V1;function BOe(n){if(n==null)return n;const e={type:n.type,chain_id:new Uint8Array(n.chain_id),nonce:n.nonce};return n.to&&(e.to=new Uint8Array(n.to)),n.value&&(e.value=new Uint8Array(n.value)),n.data&&(e.data=new Uint8Array(n.data)),n.gas_price&&(e.gas_price=new Uint8Array(n.gas_price)),n.v&&(e.v=new Uint8Array(n.v)),n.r&&(e.r=new Uint8Array(n.r)),n.s&&(e.s=new Uint8Array(n.s)),n.signature&&(e.signature=new Uint8Array(n.signature)),n.etx_sender&&(e.etx_sender=new Uint8Array(n.etx_sender)),n.gas!==void 0&&(e.gas=n.gas),n.etx_index!==void 0&&(e.etx_index=n.etx_index),n.work_nonce!==void 0&&(e.work_nonce=n.work_nonce),n.etx_type!==void 0&&(e.etx_type=n.etx_type),n.access_list&&(e.access_list={access_tuples:n.access_list.access_tuples.map(t=>({address:new Uint8Array(t.address),storage_key:t.storage_key.map(r=>({value:new Uint8Array(r.value)}))}))}),e}const pse=BigInt(0);function FOe(n){return n??null}function bu(n){return n==null?null:n.toString()}class zOe{constructor(e){me(this,"gasPrice");Cn(this,{gasPrice:FOe(e)})}toJSON(){const{gasPrice:e}=this;return{_type:"FeeData",gasPrice:bu(e)}}}function zy(n){if("from"in n&&n.from&&n.from!==J$)return n.from;if("to"in n&&n.to&&n.to!==J$)return n.to;if("txInputs"in n&&n.txInputs){const e=n.txInputs;return tg(e[0].pubkey)}if("txIn"in n&&n.txIn){const e=n.txIn;return tg(e[0].pubkey)}throw new Error("Unable to determine address from transaction inputs, from or to field")}function FO(n){const e={};"to"in n&&n.to&&(e.to=n.to),"from"in n&&n.from&&(e.from=n.from),"data"in n&&n.data&&(e.data=Ft(n.data));const t="chainId,gasLimit,gasPrice,value".split(/,/);for(const i of t)!(i in n)||n[i]==null||(e[i]=$t(n[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in n)||n[i]==null||(e[i]=Sn(n[i],`request.${i}`));return"accessList"in n&&n.accessList&&(e.accessList=Bw(n.accessList)),"blockTag"in n&&(e.blockTag=n.blockTag),"customData"in n&&(e.customData=n.customData),"txInputs"in n&&n.txInputs&&(e.txInputs=n.txInputs.map(i=>({...i}))),"txOutputs"in n&&n.txOutputs&&(e.txOutputs=n.txOutputs.map(i=>({...i}))),e}class UOe{constructor(e){me(this,"avgTxFees");me(this,"baseFeePerGas");me(this,"conversionFlowAmount");me(this,"efficiencyScore");me(this,"etxEligibleSlices");me(this,"etxRollupRoot");me(this,"etxSetRoot");me(this,"evmRoot");me(this,"exchangeRate");me(this,"expansionNumber");me(this,"extraData");me(this,"gasLimit");me(this,"gasUsed");me(this,"interlinkRootHash");me(this,"kQuaiDiscount");me(this,"manifestHash");me(this,"minerDifficulty");me(this,"number");me(this,"outboundEtxsRoot");me(this,"parentDeltaEntropy");me(this,"parentEntropy");me(this,"parentHash");me(this,"parentUncledDeltaEntropy");me(this,"primeStateRoot");me(this,"primeTerminusHash");me(this,"quaiStateSize");me(this,"receiptsRoot");me(this,"size");me(this,"stateLimit");me(this,"stateUsed");me(this,"thresholdCount");me(this,"totalFees");me(this,"transactionsRoot");me(this,"uncleHash");me(this,"uncledEntropy");me(this,"utxoRoot");this.avgTxFees=e.avgTxFees,this.baseFeePerGas=e.baseFeePerGas,this.conversionFlowAmount=e.conversionFlowAmount,this.efficiencyScore=e.efficiencyScore,this.etxEligibleSlices=e.etxEligibleSlices,this.etxRollupRoot=e.etxRollupRoot,this.etxSetRoot=e.etxSetRoot,this.evmRoot=e.evmRoot,this.exchangeRate=e.exchangeRate,this.expansionNumber=e.expansionNumber,this.extraData=e.extraData,this.gasLimit=e.gasLimit,this.gasUsed=e.gasUsed,this.interlinkRootHash=e.interlinkRootHash,this.kQuaiDiscount=e.kQuaiDiscount,this.manifestHash=e.manifestHash,this.minerDifficulty=e.minerDifficulty,this.number=e.number,this.outboundEtxsRoot=e.outboundEtxsRoot,this.parentDeltaEntropy=e.parentDeltaEntropy,this.parentEntropy=e.parentEntropy,this.parentHash=e.parentHash,this.parentUncledDeltaEntropy=e.parentUncledDeltaEntropy,this.primeStateRoot=e.primeStateRoot,this.primeTerminusHash=e.primeTerminusHash,this.quaiStateSize=e.quaiStateSize,this.receiptsRoot=e.receiptsRoot,this.size=e.size,this.stateLimit=e.stateLimit,this.stateUsed=e.stateUsed,this.thresholdCount=e.thresholdCount,this.totalFees=e.totalFees,this.transactionsRoot=e.transactionsRoot,this.uncleHash=e.uncleHash,this.uncledEntropy=e.uncledEntropy,this.utxoRoot=e.utxoRoot}toJSON(){return{...this}}}class L6{constructor(e){me(this,"primaryCoinbase");me(this,"difficulty");me(this,"headerHash");me(this,"location");me(this,"mixHash");me(this,"nonce");me(this,"number");me(this,"parentHash");me(this,"timestamp");me(this,"txHash");me(this,"lock");this.primaryCoinbase=e.primaryCoinbase,this.difficulty=e.difficulty,this.headerHash=e.headerHash,this.location=e.location,this.mixHash=e.mixHash,this.nonce=e.nonce,this.number=e.number,this.parentHash=e.parentHash,this.timestamp=e.timestamp,this.txHash=e.txHash,this.lock=e.lock}toJSON(){return{primaryCoinbase:this.primaryCoinbase,difficulty:this.difficulty,headerHash:this.headerHash,location:this.location,mixHash:this.mixHash,nonce:this.nonce,number:this.number,parentHash:this.parentHash,timestamp:this.timestamp,txHash:this.txHash,lock:this.lock}}}var T0,hp;class jOe{constructor(e,t){Ge(this,T0);me(this,"hash");me(this,"header");me(this,"interlinkHashes");me(this,"size");me(this,"subManifest");me(this,"totalEntropy");Ge(this,hp);me(this,"uncles");me(this,"woHeader");me(this,"workShares");me(this,"provider");ke(this,hp,e.transactions.map(r=>typeof r=="string"?r:"originatingTxHash"in r?new RA(r,t):"from"in r?new rw(r,t):new iw(r,t))),ke(this,T0,e.outboundEtxs.map(r=>typeof r!="string"?new RA(r,t):r)),this.hash=e.hash,this.header=new UOe(e.header),this.interlinkHashes=e.interlinkHashes,this.size=e.size,this.subManifest=e.subManifest,this.totalEntropy=e.totalEntropy,this.uncles=e.uncles.map(r=>typeof r=="string"?r:new L6(r)),this.woHeader=new L6(e.woHeader),this.workShares=e.workShares.map(r=>typeof r=="string"?r:new L6(r)),this.provider=t}get transactions(){return X(this,hp).map(e=>typeof e=="string"?e:e.hash)}get outboundEtxs(){return X(this,T0).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=X(this,hp).slice();return e.length===0?[]:(Nt(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}get prefetchedExtTransactions(){const e=X(this,T0).slice();return e.length===0?[]:(Nt(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{hash:e,header:t,interlinkHashes:r,size:i,subManifest:s,totalEntropy:a,uncles:o,woHeader:l,workShares:c}=this,f=this.transactions;return{outboundEtxs:this.outboundEtxs,hash:e,header:t.toJSON(),interlinkHashes:r,transactions:f,size:i,subManifest:s,totalEntropy:a,uncles:o.map(p=>typeof p=="string"?p:p.toJSON()),woHeader:l.toJSON(),workShares:c.map(p=>typeof p=="string"?p:p.toJSON())}}[Symbol.iterator](){let e=0;const t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return X(this,hp).length}get date(){const e=this.woHeader.timestamp;if(!e)return null;const t=parseInt(e,16);return new Date(t*1e3)}async getTransaction(e){let t;if(typeof e=="number")t=X(this,hp)[e];else{const r=e.toLowerCase();for(const i of X(this,hp))if(typeof i=="string"){if(i!==r)continue;t=i;break}else{if(i.hash===r)continue;t=i;break}}if(t==null)throw new Error("no such tx");return typeof t=="string"?await this.provider.getTransaction(t):t}async getExtTransaction(e){let t;if(typeof e=="number")t=X(this,T0)[e];else{const r=e.toLowerCase();for(const i of X(this,T0))if(typeof i=="string"){if(i!==r)continue;t=i;break}else{if(i.hash===r)continue;t=i;break}}if(t==null)throw new Error("no such tx");if(typeof t=="string")throw new Error("External Transaction isn't prefetched");return t}getPrefetchedTransaction(e){const t=this.prefetchedTransactions;if(typeof e=="number")return t[e];e=e.toLowerCase();for(const r of t)if(r.hash===e)return r;je(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}orphanedEvent(){if(!this.isMined()||!this.woHeader.number)throw new Error("");return HOe({hash:this.hash,number:this.woHeader.number})}}T0=new WeakMap,hp=new WeakMap;class LT{constructor(e,t){me(this,"provider");me(this,"transactionHash");me(this,"blockHash");me(this,"blockNumber");me(this,"removed");me(this,"address");me(this,"data");me(this,"topics");me(this,"index");me(this,"transactionIndex");this.provider=t;const r=Object.freeze(e.topics.slice());Cn(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:t,blockNumber:r,data:i,index:s,removed:a,topics:o,transactionHash:l,transactionIndex:c}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:i,index:s,removed:a,topics:o,transactionHash:l,transactionIndex:c}}async getBlock(e){const t=await this.provider.getBlock(e,this.blockHash);return Nt(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Nt(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Nt(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return VOe(this)}}function kA(n){return wa(n.slice(0,4))}var fT;class mse{constructor(e,t){me(this,"provider");me(this,"to");me(this,"from");me(this,"contractAddress");me(this,"hash");me(this,"index");me(this,"blockHash");me(this,"blockNumber");me(this,"logsBloom");me(this,"gasUsed");me(this,"cumulativeGasUsed");me(this,"gasPrice");me(this,"type");me(this,"status");Ge(this,fT);me(this,"outboundEtxs",[]);me(this,"etxType");me(this,"originatingTxHash");ke(this,fT,Object.freeze(Array.isArray(e.logs)?e.logs.map(s=>new LT(s,t)):[]));let r=pse;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice);const i=e.outboundEtxs?e.outboundEtxs.map(s=>{const a=(o,l)=>{try{return o!=null?BigInt(o):null}catch(c){return console.error(`Conversion to BigInt failed for ${l}: ${o}, error: ${c}`),null}};return{type:s.type,nonce:s.nonce,gasPrice:a(s.gasPrice,"gasPrice"),gas:a(s.gas,"gas"),value:a(s.value,"value"),input:s.input,to:s.to,accessList:s.accessList,chainId:a(s.chainId,"chainId"),from:s.from,hash:s.hash,originatingTxHash:s.originatingTxHash,etxIndex:s.etxIndex}}):[];Cn(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,outboundEtxs:i,type:e.type,status:e.status,etxType:e.etxType,originatingTxHash:e.originatingTxHash})}get logs(){return X(this,fT)}toJSON(){const{to:e,from:t,contractAddress:r,hash:i,index:s,blockHash:a,blockNumber:o,logsBloom:l,logs:c,status:f,outboundEtxs:d}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:bu(this.cumulativeGasUsed),from:t,gasPrice:bu(this.gasPrice),gasUsed:bu(this.gasUsed),hash:i,index:s,logs:c,logsBloom:l,status:f,to:e,outboundEtxs:d??[]}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(e){const t=await this.provider.getBlock(e,this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){const e=kA(this.hash);return await this.provider.getBlockNumber(jr(e))-this.blockNumber+1}removedEvent(){return XU(this)}reorderedEvent(e){return Nt(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),YU(this,e)}}fT=new WeakMap;class RA{constructor(e,t){me(this,"provider");me(this,"blockNumber");me(this,"blockHash");me(this,"index");me(this,"hash");me(this,"type");me(this,"to");me(this,"from");me(this,"nonce");me(this,"gasLimit");me(this,"data");me(this,"value");me(this,"chainId");me(this,"signature");me(this,"accessList");me(this,"etxType");me(this,"originatingTxHash");me(this,"sender");me(this,"etxIndex");me(this,"startBlock");this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.startBlock=-1,this.originatingTxHash=e.originatingTxHash!=null?e.originatingTxHash:null,this.etxType=e.etxType!=null?e.etxType:null,this.etxIndex=e.etxIndex}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:i,type:s,to:a,from:o,nonce:l,data:c,signature:f,accessList:d,etxType:p,originatingTxHash:g,etxIndex:b}=this;return{_type:"TransactionReceipt",accessList:d,blockNumber:e,blockHash:t,chainId:bu(this.chainId),data:c,from:o,gasLimit:bu(this.gasLimit),hash:i,nonce:l,signature:f,to:a,index:r,type:s,etxType:p,originatingTxHash:g,etxIndex:b,value:bu(this.value)}}replaceableTransaction(e){je(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new RA(this,this.provider);return t.startBlock=e,t}}class rw{constructor(e,t){me(this,"provider");me(this,"blockNumber");me(this,"blockHash");me(this,"index");me(this,"hash");me(this,"type");me(this,"to");me(this,"from");me(this,"nonce");me(this,"gasLimit");me(this,"gasPrice");me(this,"data");me(this,"value");me(this,"chainId");me(this,"signature");me(this,"accessList");me(this,"etxType");me(this,"sender");me(this,"originatingTxHash");me(this,"startBlock");this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice!=null?e.gasPrice:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.startBlock=-1,this.etxType=e.etxType!=null?e.etxType:null}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:i,type:s,to:a,from:o,nonce:l,data:c,signature:f,accessList:d}=this;return{_type:"TransactionReceipt",accessList:d,blockNumber:e,blockHash:t,chainId:bu(this.chainId),data:c,from:o,gasLimit:bu(this.gasLimit),hash:i,gasPrice:bu(this.gasPrice),nonce:l,signature:f,to:a,index:r,type:s,value:bu(this.value)}}async getBlock(e){let t=this.blockNumber;if(t==null){const i=await this.getTransaction();i&&(t=i.blockNumber)}if(t==null)return null;const r=this.provider.getBlock(e,t);if(r==null)throw new Error("TODO");return r}async getTransaction(){const e=this.provider.getTransaction(this.hash);return e instanceof rw?e:null}async confirmations(){const e=kA(this.hash);if(this.blockNumber==null){const{tx:r,blockNumber:i}=await xa({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber(jr(e))});return r==null||r.blockNumber==null?0:i-r.blockNumber+1}return await this.provider.getBlockNumber(jr(e))-this.blockNumber+1}async wait(e,t){const r=e??1,i=t??0;let s=this.startBlock,a=-1,o=s===-1;const l=kA(this.hash),c=async()=>{if(o)return null;const{blockNumber:g,nonce:b}=await xa({blockNumber:this.provider.getBlockNumber(jr(l)),nonce:this.provider.getTransactionCount(this.from)});if(b<this.nonce){s=g;return}if(o)return null;const S=await this.getTransaction();if(!(S&&S.blockNumber!=null))for(a===-1&&(a=s-3,a<this.startBlock&&(a=this.startBlock));a<=g;){if(o)return null;const w=await this.provider.getBlock(jr(l),a,!0);if(w==null)return;for(const E of w)if(E===this.hash)return;for(let E=0;E<w.length;E++){const k=await w.getTransaction(E);if("from"in k&&k.from===this.from&&k.nonce===this.nonce){if(o)return null;const R=await this.provider.getTransactionReceipt(k.hash);if(R==null||g-R.blockNumber+1<r)return;let O="replaced";k.data===this.data&&k.to===this.to&&k.value===this.value?O="repriced":k.data==="0x"&&k.from===k.to&&k.value===pse&&(O="cancelled"),Nt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:O==="replaced"||O==="cancelled",reason:O,replacement:k.replaceableTransaction(s),hash:k.hash,receipt:R})}}a++}},f=g=>{if(g==null||g.status!==0)return g;Nt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:g.to,from:g.from,data:""},receipt:g})},d=await this.provider.getTransactionReceipt(this.hash);if(r===0)return f(d);if(d){if(await d.confirmations()>=r)return f(d)}else if(await c(),r===0)return null;return await new Promise((g,b)=>{const S=[],w=()=>{S.forEach(k=>k())};if(S.push(()=>{o=!0}),i>0){const k=setTimeout(()=>{w(),b(Ji("wait for transaction timeout","TIMEOUT"))},i);S.push(()=>{clearTimeout(k)})}const E=async k=>{if(await k.confirmations()>=r){w();try{g(f(k))}catch(R){b(R)}}};if(S.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),s>=0){const k=async()=>{try{await c()}catch(R){if(vu(R,"TRANSACTION_REPLACED")){w(),b(R);return}}o||this.provider.once("block",k,l)};S.push(()=>{this.provider.off("block",k,l)}),this.provider.once("block",k,l)}})}isMined(){return this.blockHash!=null}removedEvent(){return Nt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),XU(this)}reorderedEvent(e){return Nt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Nt(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),YU(this,e)}replaceableTransaction(e){je(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new rw(this,this.provider);return t.startBlock=e,t}}class iw{constructor(e,t){me(this,"provider");me(this,"blockNumber");me(this,"blockHash");me(this,"index");me(this,"hash");me(this,"type");me(this,"chainId");me(this,"signature");me(this,"txInputs");me(this,"txOutputs");me(this,"startBlock");this.provider=t,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.chainId=e.chainId,this.signature=e.signature,this.startBlock=-1,this.txInputs=e.txInputs,this.txOutputs=e.txOutputs}toJSON(){const{blockNumber:e,blockHash:t,index:r,hash:i,type:s,signature:a,txInputs:o,txOutputs:l}=this;return{_type:"TransactionReceipt",blockNumber:e,blockHash:t,chainId:bu(this.chainId),hash:i,signature:a,index:r,type:s,txInputs:JSON.parse(JSON.stringify(o)),txOutputs:JSON.parse(JSON.stringify(l))}}async getBlock(e){let t=this.blockNumber;if(t==null){const i=await this.getTransaction();i&&(t=i.blockNumber)}if(t==null)return null;const r=this.provider.getBlock(e,t);if(r==null)throw new Error("TODO");return r}async getTransaction(){const e=this.provider.getTransaction(this.hash);return e instanceof iw?e:null}async confirmations(){const e=kA(this.hash);if(this.blockNumber==null){const{tx:r,blockNumber:i}=await xa({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber(jr(e))});return r==null||r.blockNumber==null||r.blockHash==null?0:i-r.blockNumber+1}return await this.provider.getBlockNumber(jr(e))-this.blockNumber+1}async wait(e,t){const r=e??1,i=t??0,s=await this.provider.getTransaction(this.hash);return r===0&&(s==null?void 0:s.blockHash)!=null?s:await new Promise((o,l)=>{const c=[],f=()=>{c.forEach(p=>p())};if(i>0){const p=setTimeout(()=>{f(),l(Ji("wait for transaction timeout","TIMEOUT"))},i);c.push(()=>{clearTimeout(p)})}const d=async p=>{if(await p.confirmations()>=r){f();try{o(p)}catch(g){l(g)}}};c.push(()=>{this.provider.off(this.hash,d)}),this.provider.on(this.hash,d)})}isMined(){return this.blockHash!=null}removedEvent(){return Nt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),XU(this)}reorderedEvent(e){return Nt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Nt(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),YU(this,e)}replaceableTransaction(e){je(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const t=new iw(this,this.provider);return t.startBlock=e,t}}function HOe(n){return{orphan:"drop-block",hash:n.hash,number:n.number}}function YU(n,e){return{orphan:"reorder-transaction",tx:n,other:e}}function XU(n){return{orphan:"drop-transaction",tx:n}}function VOe(n){return{orphan:"drop-log",log:{transactionHash:n.transactionHash,blockHash:n.blockHash,blockNumber:n.blockNumber,address:n.address,data:n.data,topics:Object.freeze(n.topics.slice()),index:n.index}}}function gse(n){let e=null;if(n.nodeLocation)e=OO(n.nodeLocation);else if(n.address){let t;Array.isArray(n.address)?t=n.address[0]:t=n.address;const r=Gl(t);if(r)e=wa(r);else return null}return e}class KU extends LT{constructor(t,r,i){super(t,t.provider);me(this,"interface");me(this,"fragment");me(this,"args");const s=r.decodeEventLog(i,t.data,t.topics);Cn(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yse extends LT{constructor(t,r){super(t,t.provider);me(this,"error");Cn(this,{error:r})}}var A_;class WOe extends mse{constructor(t,r,i){super(i,r);Ge(this,A_);ke(this,A_,t)}get logs(){return super.logs.map(t=>{const r=t.topics.length?X(this,A_).getEvent(t.topics[0]):null;if(r)try{return new KU(t,X(this,A_),r)}catch(i){return new yse(t,i)}return t})}}A_=new WeakMap;var dT;class JU extends rw{constructor(t,r,i){super(i,r);Ge(this,dT);ke(this,dT,t)}async wait(t){const r=await super.wait(t);return r==null?null:new WOe(X(this,dT),this.provider,r)}}dT=new WeakMap;class vse extends tie{constructor(t,r,i,s){super(t,r,i);me(this,"log");Cn(this,{log:s})}async getBlock(t){return await this.log.getBlock(t)}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class $Oe extends vse{constructor(e,t,r,i,s){super(e,t,r,new KU(s,e.interface,i));const a=e.interface.decodeEventLog(i,this.log.data,this.log.topics);Cn(this,{args:a,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const CG=BigInt(0);function xse(n){return n&&typeof n.call=="function"}function bse(n){return n&&typeof n.estimateGas=="function"}function _se(n){return n&&typeof n.sendTransaction=="function"}var hT;class GOe{constructor(e,t,r){Ge(this,hT);me(this,"fragment");if(Cn(this,{fragment:t}),t.inputs.length<r.length)throw new Error("too many arguments");ke(this,hT,(async function(){const i=await Promise.all(t.inputs.map((s,a)=>r[a]==null?null:s.walkAsync(r[a],(l,c)=>l==="address"?Array.isArray(c)?Promise.all(c.map(f=>ra(f))):ra(c):c)));return e.interface.encodeFilterTopics(t,i)})())}getTopicFilter(){return X(this,hT)}}hT=new WeakMap;function zO(n,e){return n==null?null:typeof n[e]=="function"?n:n.provider&&typeof n.provider[e]=="function"?n.provider:null}function ev(n){return n==null?null:n.provider||null}async function ZU(n,e){const t=ko.dereference(n,"overrides");je(typeof t=="object","invalid overrides parameter","overrides",n);const r=FO(t);return je(!("to"in r)||r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r),je(!("data"in r)||r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r),"from"in r&&r.from&&(r.from=await r.from),r}async function UO(n,e,t){return await Promise.all(e.map((r,i)=>r.walkAsync(t[i],(s,a)=>(a=ko.dereference(a,s),s==="address"?ra(a):a))))}function qOe(n){const e=async function(a){const o=await ZU(a,["data"]);o.to=await n.getAddress(),zp(o.to),o.from&&(o.from=await ra(o.from),zp(o.from));const l=n.interface,c=$t(o.value||CG,"overrides.value")===CG,f=(o.data||"0x")==="0x";l.fallback&&!l.fallback.payable&&l.receive&&!f&&!c&&je(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),je(l.fallback||f,"cannot send data to receive-only contract","overrides.data",o.data);const d=l.receive||l.fallback&&l.fallback.payable;return je(d||c,"cannot send value to non-payable fallback","overrides.value",o.value),je(l.fallback||f,"cannot send data to receive-only contract","overrides.data",o.data),o},t=async function(a){const o=zO(n.runner,"call");Nt(xse(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const l=await e(a);try{return await o.call(l)}catch(c){throw Jre(c)&&c.data?n.interface.makeError(c.data,l):c}},r=async function(a){const o=n.runner;Nt(_se(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const l=await o.sendTransaction(await e(a)),c=ev(n.runner);return new JU(n.interface,c,l)},i=async function(a){const o=zO(n.runner,"estimateGas");return Nt(bse(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},s=async a=>await r(a);return Cn(s,{_contract:n,estimateGas:i,populateTransaction:e,send:r,staticCall:t}),s}function YOe(n,e){const t=function(...c){const f=n.interface.getFunction(e,c);return Nt(f,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:c}}),f},r=async function(...c){var g;const f=t(...c);let d;if(f.inputs.length+1===c.length){d=await ZU(c.pop());const b=await UO(n.runner,f.inputs,c);return Object.assign({},d,await xa({to:n.getAddress(),data:n.interface.encodeFunctionData(f,b)}))}if(f.inputs.length!==c.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const p=await UO(n.runner,f.inputs,c);return await xa({to:n.getAddress(),from:(g=c.pop())==null?void 0:g.from,data:n.interface.encodeFunctionData(f,p)})},i=async function(...c){const f=await o(...c);return f.length===1?f[0]:f},s=async function(...c){const f=n.runner;Nt(_se(f),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await r(...c);!d.from&&"address"in f&&typeof f.address=="string"&&(d.from=await ra(f.address));const p=await f.sendTransaction(await d),g=ev(n.runner);return new JU(n.interface,g,p)},a=async function(...c){const f=zO(n.runner,"estimateGas");return Nt(bse(f),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await f.estimateGas(await r(...c))},o=async function(...c){const f=zO(n.runner,"call");Nt(xse(f),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...c);!d.from&&"address"in f&&typeof f.address=="string"&&(d.from=await ra(f.address));let p="0x";try{p=await f.call(d)}catch(b){throw Jre(b)&&b.data?n.interface.makeError(b.data,d):b}const g=t(...c);return n.interface.decodeFunctionResult(g,p)},l=async(...c)=>t(...c).constant?await i(...c):await s(...c);return Cn(l,{name:n.interface.getFunctionName(e),_contract:n,_key:e,getFragment:t,estimateGas:a,populateTransaction:r,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:()=>{const c=n.interface.getFunction(e);return Nt(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),c}}),l}function XOe(n,e){const t=function(...i){const s=n.interface.getEvent(e,i);return Nt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new GOe(n,t(...i),i)};return Cn(r,{name:n.interface.getEventName(e),_contract:n,_key:e,getFragment:t}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=n.interface.getEvent(e);return Nt(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const jO=Symbol.for("_quaisInternal_contract"),wse=new WeakMap;function KOe(n,e){wse.set(n[jO],e)}function cu(n){return wse.get(n[jO])}function JOe(n){return n&&typeof n=="object"&&"getTopicFilter"in n&&typeof n.getTopicFilter=="function"&&n.fragment}async function QU(n,e){let t,r=null;if(Array.isArray(e)){const s=function(a){if(hs(a,32))return a;const o=n.interface.getEvent(a);return je(o,"unknown fragment","name",a),o.topicHash};t=e.map(a=>a==null?null:Array.isArray(a)?a.map(s):s(a))}else e==="*"?t=[null]:typeof e=="string"?hs(e,32)?t=[e]:(r=n.interface.getEvent(e),je(r,"unknown fragment","event",e),t=[r.topicHash]):JOe(e)?t=await e.getTopicFilter():e&&"fragment"in e?(r=e.fragment,t=[r.topicHash]):je(!1,"unknown event name","event",e);t=t.map(s=>{if(s==null)return null;if(Array.isArray(s)){const a=Array.from(new Set(s.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return s.toLowerCase()});const i=t.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:t}}async function vM(n,e){const{subs:t}=cu(n);return t.get((await QU(n,e)).tag)||null}async function kG(n,e,t){const r=ev(n.runner);Nt(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:a}=await QU(n,t),{addr:o,subs:l}=cu(n);let c=l.get(s);if(!c){const f=o||n,d={address:f,topics:a},p=E=>{let k=i;if(k==null)try{k=n.interface.getEvent(E.topics[0])}catch{}if(k){const R=k,O=i?n.interface.decodeEventLog(i,E.data,E.topics):[];mB(n,t,O,D=>new $Oe(n,D,t,R,E))}else mB(n,t,[],R=>new vse(n,R,t,E))},g=Gl(await ra(f));let b=[];c={tag:s,listeners:[],start:()=>{b.length||b.push(r.on(d,p,g))},stop:async()=>{if(b.length==0)return;const E=b;b=[],await Promise.all(E),r.off(d,p,g)}},l.set(s,c)}return c}let pB=Promise.resolve();async function ZOe(n,e,t,r){await pB;const i=await vM(n,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:o})=>{const l=Array.from(t);r&&l.push(r(o?null:a));try{a.call(n,...l)}catch{}return!o}),i.listeners.length===0&&(i.stop(),cu(n).subs.delete(i.tag)),s>0}async function mB(n,e,t,r){try{await pB}catch{}const i=ZOe(n,e,t,r);return pB=i,await i}const Jk=["then"];var cQ;cQ=jO;const ZM=class ZM{constructor(e,t,r,i){me(this,"target");me(this,"interface");me(this,"runner");me(this,"filters");me(this,cQ);me(this,"fallback");je(typeof e=="string"||Xie(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=IO.from(t);Cn(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,jO,{value:{}});let a,o=null,l=null;if(i){const d=ev(r);l=new JU(this.interface,d,i)}const c=new Map;typeof e=="string"?(o=e,a=Promise.resolve(e)):a=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return cu(this).addr=d,d}),KOe(this,{addrPromise:a,addr:o,deployTx:l,subs:c});const f=new Proxy({},{get:(d,p,g)=>{if(typeof p=="symbol"||Jk.indexOf(p)>=0)return Reflect.get(d,p,g);try{return this.getEvent(p)}catch(b){if(!vu(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(d,p)=>Jk.indexOf(p)>=0?Reflect.has(d,p):Reflect.has(d,p)||this.interface.hasEvent(String(p))});return Cn(this,{filters:f}),Cn(this,{fallback:s.receive||s.fallback?qOe(this):null}),new Proxy(this,{get:(d,p,g)=>{if(typeof p=="symbol"||p in d||Jk.indexOf(p)>=0)return Reflect.get(d,p,g);try{return d.getFunction(p)}catch(b){if(!vu(b,"INVALID_ARGUMENT")||b.argument!=="key")throw b}},has:(d,p)=>typeof p=="symbol"||p in d||Jk.indexOf(p)>=0?Reflect.has(d,p):d.interface.hasFunction(p)})}connect(e){return new ZM(this.target,this.interface,e)}attach(e){return new ZM(e,this.interface,this.runner)}async getAddress(){return await cu(this).addrPromise}async getDeployedCode(){const e=ev(this.runner);Nt(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const t=await e.getCode(await this.getAddress());return t==="0x"?null:t}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ev(this.runner);return Nt(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",a)}catch(o){s(o)}};a()})}deploymentTransaction(){return cu(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),YOe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),XOe(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,t,r){t==null&&(t=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=cu(this),a=i||await s,{fragment:o,topics:l}=await QU(this,e),c=Gl(a),f={address:a,topics:l,fromBlock:t,toBlock:r,nodeLocation:Kie(c)},d=ev(this.runner);return Nt(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(f)).map(p=>{let g=o;if(g==null)try{g=this.interface.getEvent(p.topics[0])}catch{}if(g)try{return new KU(p,this.interface,g)}catch(b){return new yse(p,b)}return new LT(p,d)})}async on(e,t){const r=await kG(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){const r=await kG(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await mB(this,e,t,null)}async listenerCount(e){if(e){const i=await vM(this,e);return i?i.listeners.length:0}const{subs:t}=cu(this);let r=0;for(const{listeners:i}of t.values())r+=i.length;return r}async listeners(e){if(e){const i=await vM(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:t}=cu(this);let r=[];for(const{listeners:i}of t.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,t){const r=await vM(this,e);if(!r)return this;if(t){const i=r.listeners.map(({listener:s})=>s).indexOf(t);i>=0&&r.listeners.splice(i,1)}return(t==null||r.listeners.length===0)&&(r.stop(),cu(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const t=await vM(this,e);if(!t)return this;t.stop(),cu(this).subs.delete(t.tag)}else{const{subs:t}=cu(this);for(const{tag:r,stop:i}of t.values())i(),t.delete(r)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends ZM{constructor(i,s=null){super(i,e,s)}}return t}static from(e,t,r){return r==null&&(r=null),new this(e,t,r)}};let OA=ZM;function QOe(){return OA}class n2 extends QOe(){}function Qb(n,e){if(n.provider)return n.provider;Nt(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function RG(n,e){const t=FO(e);if(t.to!=null&&(t.to=ra(t.to),zp(t.to)),t.from!=null){const r=t.from;t.from=await Promise.all([n.getAddress(),ra(r)]).then(([i,s])=>(je(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else t.from=await n.getAddress();return zp(t.from),await xa(t)}class Sse{constructor(e){me(this,"provider");Cn(this,{provider:e||null})}_getAddress(e){return ra(e)}async zoneFromAddress(e){const t=this._getAddress(e);return wa((await t).slice(0,4))}async getNonce(e){return Qb(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await RG(this,e)}async populateQuaiTransaction(e){const t=Qb(this,"populateTransaction"),r=await this.zoneFromAddress(e.from),i=await RG(this,e);i.type==null&&(i.type=A2e(i.from??null,i.to??null)),(i.nonce==null||i.nonce===0)&&(i.nonce=await this.getNonce("pending"));const s=await this.provider.getNetwork();if(i.chainId!=null&&i.chainId!==0n){const o=$t(i.chainId);je(o===s.chainId,"transaction chainId mismatch","tx.chainId",r)}else i.chainId=s.chainId;const a={chainId:i.chainId,type:i.type,from:i.from,nonce:i.nonce};if(i.to&&(a.to=i.to),i.data&&(a.data=i.data),i.value&&(a.value=i.value),(i.gasLimit==null||i.gasLimit===0n)&&(i.type==0?i.gasLimit=await this.estimateGas(a):(a.to="0x0000000000000000000000000000000000000000",i.gasLimit=$t(2*Number(await this.estimateGas(a))),a.to=i.to)),i.gasPrice==null){const o=await t.getFeeData(r,!0);i.gasPrice==null&&(i.gasPrice=o.gasPrice)}return i.data&&i.data!=="0x"&&(e.accessList?i.accessList=e.accessList:i.accessList=await this.createAccessList(a)),await xa(i)}async estimateGas(e){return Qb(this,"estimateGas").estimateGas(await this.populateCall(e))}async createAccessList(e){return Qb(this,"createAccessList").createAccessList(await this.populateCall(e))}async call(e){return Qb(this,"call").call(await this.populateCall(e))}async sendTransaction(e){const t=Qb(this,"sendTransaction"),r=await this.zoneFromAddress(zy(e)),i=await this.populateQuaiTransaction(e),s=CA.from(i),a=await this.getAddress(),o=await this.signTransaction(s);return await t.broadcastTransaction(r,o,a)}}var C0,T_;const p9=class p9 extends Sse{constructor(t,r,i){super(r);Ge(this,C0);Ge(this,T_);je(t&&typeof t.sign=="function","invalid private key","privateKey","[ REDACTED ]"),ke(this,T_,t),ke(this,C0,i||tg(this.signingKey.publicKey))}get address(){return X(this,C0)}get signingKey(){return X(this,T_)}get privateKey(){return this.signingKey.privateKey}async getAddress(t){return X(this,C0)}connect(t){return new p9(X(this,T_),t)}async signTransaction(t){const{to:r,from:i}=await xa({to:t.to?ra(t.to):void 0,from:t.from?ra(t.from):void 0});r!==void 0&&(zp(r),t.to=r),i!==void 0?je(Ir(i)===X(this,C0),"transaction from address mismatch","tx.from",i):t.from=X(this,C0);const s=CA.from(t),a=Bi(s.unsignedSerialized);return s.signature=this.signingKey.sign(a),s.serialized}async signMessage(t){return this.signMessageSync(t)}signMessageSync(t){return this.signingKey.sign(j2e(t)).serialized}async signTypedData(t,r,i){return this.signingKey.sign(DO.hash(t,r,i)).serialized}};C0=new WeakMap,T_=new WeakMap;let gB=p9;/*! MIT License. Copyright 2015-2022 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */var Ua=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},B6=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},r2,su,Sd;const ePe={16:10,24:12,32:14},tPe=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],nu=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],Zk=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],nPe=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],rPe=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],iPe=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],sPe=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],aPe=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],oPe=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],lPe=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],cPe=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],uPe=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],fPe=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],dPe=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],hPe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function F6(n){const e=[];for(let t=0;t<n.length;t+=4)e.push(n[t]<<24|n[t+1]<<16|n[t+2]<<8|n[t+3]);return e}class ej{get key(){return Ua(this,r2,"f").slice()}constructor(e){if(r2.set(this,void 0),su.set(this,void 0),Sd.set(this,void 0),!(this instanceof ej))throw Error("AES must be instanitated with `new`");B6(this,r2,new Uint8Array(e),"f");const t=ePe[this.key.length];if(t==null)throw new TypeError("invalid key size (must be 16, 24 or 32 bytes)");B6(this,Sd,[],"f"),B6(this,su,[],"f");for(let f=0;f<=t;f++)Ua(this,Sd,"f").push([0,0,0,0]),Ua(this,su,"f").push([0,0,0,0]);const r=(t+1)*4,i=this.key.length/4,s=F6(this.key);let a;for(let f=0;f<i;f++)a=f>>2,Ua(this,Sd,"f")[a][f%4]=s[f],Ua(this,su,"f")[t-a][f%4]=s[f];let o=0,l=i,c;for(;l<r;){if(c=s[i-1],s[0]^=nu[c>>16&255]<<24^nu[c>>8&255]<<16^nu[c&255]<<8^nu[c>>24&255]^tPe[o]<<24,o+=1,i!=8)for(let g=1;g<i;g++)s[g]^=s[g-1];else{for(let g=1;g<i/2;g++)s[g]^=s[g-1];c=s[i/2-1],s[i/2]^=nu[c&255]^nu[c>>8&255]<<8^nu[c>>16&255]<<16^nu[c>>24&255]<<24;for(let g=i/2+1;g<i;g++)s[g]^=s[g-1]}let f=0,d,p;for(;f<i&&l<r;)d=l>>2,p=l%4,Ua(this,Sd,"f")[d][p]=s[f],Ua(this,su,"f")[t-d][p]=s[f++],l++}for(let f=1;f<t;f++)for(let d=0;d<4;d++)c=Ua(this,su,"f")[f][d],Ua(this,su,"f")[f][d]=uPe[c>>24&255]^fPe[c>>16&255]^dPe[c>>8&255]^hPe[c&255]}encrypt(e){if(e.length!=16)throw new TypeError("invalid plaintext size (must be 16 bytes)");const t=Ua(this,Sd,"f").length-1,r=[0,0,0,0];let i=F6(e);for(let o=0;o<4;o++)i[o]^=Ua(this,Sd,"f")[0][o];for(let o=1;o<t;o++){for(let l=0;l<4;l++)r[l]=nPe[i[l]>>24&255]^rPe[i[(l+1)%4]>>16&255]^iPe[i[(l+2)%4]>>8&255]^sPe[i[(l+3)%4]&255]^Ua(this,Sd,"f")[o][l];i=r.slice()}const s=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=Ua(this,Sd,"f")[t][o],s[4*o]=(nu[i[o]>>24&255]^a>>24)&255,s[4*o+1]=(nu[i[(o+1)%4]>>16&255]^a>>16)&255,s[4*o+2]=(nu[i[(o+2)%4]>>8&255]^a>>8)&255,s[4*o+3]=(nu[i[(o+3)%4]&255]^a)&255;return s}decrypt(e){if(e.length!=16)throw new TypeError("invalid ciphertext size (must be 16 bytes)");const t=Ua(this,su,"f").length-1,r=[0,0,0,0];let i=F6(e);for(let o=0;o<4;o++)i[o]^=Ua(this,su,"f")[0][o];for(let o=1;o<t;o++){for(let l=0;l<4;l++)r[l]=aPe[i[l]>>24&255]^oPe[i[(l+3)%4]>>16&255]^lPe[i[(l+2)%4]>>8&255]^cPe[i[(l+1)%4]&255]^Ua(this,su,"f")[o][l];i=r.slice()}const s=new Uint8Array(16);let a=0;for(let o=0;o<4;o++)a=Ua(this,su,"f")[t][o],s[4*o]=(Zk[i[o]>>24&255]^a>>24)&255,s[4*o+1]=(Zk[i[(o+3)%4]>>16&255]^a>>16)&255,s[4*o+2]=(Zk[i[(o+2)%4]>>8&255]^a>>8)&255,s[4*o+3]=(Zk[i[(o+1)%4]&255]^a)&255;return s}}r2=new WeakMap,su=new WeakMap,Sd=new WeakMap;class pPe{constructor(e,t,r){if(r&&!(this instanceof r))throw new Error(`${e} must be instantiated with "new"`);Object.defineProperties(this,{aes:{enumerable:!0,value:new ej(t)},name:{enumerable:!0,value:e}})}}var e1=function(n,e,t,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?n!==e||!i:!e.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(n,t):i?i.value=t:e.set(n,t),t},ru=function(n,e,t,r){if(t==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?n!==e||!r:!e.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?r:t==="a"?r.call(n):r?r.value:e.get(n)},xM,ky,au;class sw extends pPe{constructor(e,t){super("CTR",e,sw),xM.set(this,void 0),ky.set(this,void 0),au.set(this,void 0),e1(this,au,new Uint8Array(16),"f"),ru(this,au,"f").fill(0),e1(this,xM,ru(this,au,"f"),"f"),e1(this,ky,16,"f"),t==null&&(t=1),typeof t=="number"?this.setCounterValue(t):this.setCounterBytes(t)}get counter(){return new Uint8Array(ru(this,au,"f"))}setCounterValue(e){if(!Number.isInteger(e)||e<0||e>Number.MAX_SAFE_INTEGER)throw new TypeError("invalid counter initial integer value");for(let t=15;t>=0;--t)ru(this,au,"f")[t]=e%256,e=Math.floor(e/256)}setCounterBytes(e){if(e.length!==16)throw new TypeError("invalid counter initial Uint8Array value length");ru(this,au,"f").set(e)}increment(){for(let e=15;e>=0;e--)if(ru(this,au,"f")[e]===255)ru(this,au,"f")[e]=0;else{ru(this,au,"f")[e]++;break}}encrypt(e){var t,r;const i=new Uint8Array(e);for(let s=0;s<i.length;s++)ru(this,ky,"f")===16&&(e1(this,xM,this.aes.encrypt(ru(this,au,"f")),"f"),e1(this,ky,0,"f"),this.increment()),i[s]^=ru(this,xM,"f")[e1(this,ky,(r=ru(this,ky,"f"),t=r++,r),"f"),t];return i}decrypt(e){return this.encrypt(e)}}xM=new WeakMap,ky=new WeakMap,au=new WeakMap;function mPe(n){return typeof n=="string"&&!n.startsWith("0x")&&(n="0x"+n),Xa(n)}function uI(n){return typeof n=="string"?Au(n,"NFKC"):Xa(n)}function Qs(n,e){const t=e.match(/^([a-z0-9$_.-]*)(:([a-z]+))?(!)?$/i);je(t!=null,"invalid path","path",e);const r=t[1],i=t[3],s=t[4]==="!";let a=n;for(const o of r.toLowerCase().split(".")){if(Array.isArray(a)){if(!o.match(/^[0-9]+$/))break;a=a[parseInt(o)]}else if(typeof a=="object"){let l=null;for(const c in a)if(c.toLowerCase()===o){l=a[c];break}a=l}else a=null;if(a==null)break}if(je(!s||a!=null,"missing required value","path",r),i&&a!=null){if(i==="int"){if(typeof a=="string"&&a.match(/^-?[0-9]+$/))return parseInt(a);if(Number.isSafeInteger(a))return a}if(i==="number"&&typeof a=="string"&&a.match(/^-?[0-9.]*$/))return parseFloat(a);if(i==="data"&&typeof a=="string")return mPe(a);if(i==="array"&&Array.isArray(a)||i===typeof a)return a;je(!1,`wrong type found for ${i} `,"path",r)}return a}BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141");function GE(n,e){if(typeof n=="string"&&n.startsWith("0x")){let i=n.substring(2);for(;i.length<e*2;)i="0"+i;return"0x"+i}let r=String(n);for(;r.length<e;)r="0"+r;return r}const Ese="m/44'/994'/0'/0/0";function OG(n){try{const e=JSON.parse(n);if((e.version!=null?parseInt(e.version):0)===3)return!0}catch{}return!1}function gPe(n,e,t){if(Qs(n,"crypto.cipher:string")==="aes-128-ctr"){const i=Qs(n,"crypto.cipherparams.iv:data!"),s=new sw(e,i);return Ft(s.decrypt(t))}Nt(!1,"unsupported cipher","UNSUPPORTED_OPERATION",{operation:"decrypt"})}function HO(n,e){const t=ln(e),r=Qs(n,"crypto.ciphertext:data!"),i=Ft(Bi(js([t.slice(16,32),r]))).substring(2);je(i===Qs(n,"crypto.mac:string!").toLowerCase(),"incorrect password","password","[ REDACTED ]");const s=gPe(n,t.slice(0,16),r),a=tg(s);if(n.address){let c=n.address.toLowerCase();c.startsWith("0x")||(c="0x"+c),je(Ir(c)===a,"keystore address/privateKey mismatch","address",n.address)}const o={address:a,privateKey:s};if(Qs(n,"x-quais.version:string")==="0.1"){const c=t.slice(32,64),f=Qs(n,"x-quais.mnemonicCiphertext:data!"),d=Qs(n,"x-quais.mnemonicCounter:data!"),p=new sw(c,d);o.mnemonic={path:Qs(n,"x-quais.path:string")||Ese,locale:Qs(n,"x-quais.locale:string")||"en",entropy:Ft(ln(p.decrypt(f)))}}return o}function Mse(n){const e=Qs(n,"crypto.kdf:string");if(e&&typeof e=="string"){if(e.toLowerCase()==="scrypt"){const t=Qs(n,"crypto.kdfparams.salt:data!"),r=Qs(n,"crypto.kdfparams.n:int!"),i=Qs(n,"crypto.kdfparams.r:int!"),s=Qs(n,"crypto.kdfparams.p:int!");je(r>0&&(r&r-1)===0,"invalid kdf.N","kdf.N",r),je(i>0&&s>0,"invalid kdf","kdf",e);const a=Qs(n,"crypto.kdfparams.dklen:int!");return je(a===32,"invalid kdf.dklen","kdf.dflen",a),{name:"scrypt",salt:t,N:r,r:i,p:s,dkLen:64}}else if(e.toLowerCase()==="pbkdf2"){const t=Qs(n,"crypto.kdfparams.salt:data!"),r=Qs(n,"crypto.kdfparams.prf:string!"),i=r.split("-").pop();je(i==="sha256"||i==="sha512","invalid kdf.pdf","kdf.pdf",r);const s=Qs(n,"crypto.kdfparams.c:int!"),a=Qs(n,"crypto.kdfparams.dklen:int!");return je(a===32,"invalid kdf.dklen","kdf.dklen",a),{name:"pbkdf2",salt:t,count:s,dkLen:a,algorithm:i}}}je(!1,"unsupported key-derivation function","kdf",e)}function yPe(n,e){const t=JSON.parse(n),r=uI(e),i=Mse(t);if(i.name==="pbkdf2"){const{salt:d,count:p,dkLen:g,algorithm:b}=i,S=Iw(r,d,p,g,b);return HO(t,S)}Nt(i.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:i});const{salt:s,N:a,r:o,p:l,dkLen:c}=i,f=Lw(r,s,a,o,l,c);return HO(t,f)}function PG(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}async function vPe(n,e,t){const r=JSON.parse(n),i=uI(e),s=Mse(r);if(s.name==="pbkdf2"){t&&(t(0),await PG(0));const{salt:p,count:g,dkLen:b,algorithm:S}=s,w=Iw(i,p,g,b,S);return t&&(t(1),await PG(0)),HO(r,w)}Nt(s.name==="scrypt","cannot be reached","UNKNOWN_ERROR",{params:s});const{salt:a,N:o,r:l,p:c,dkLen:f}=s,d=await Nw(i,a,o,l,c,f,t);return HO(r,d)}function Ase(n){const e=n.salt!=null?ln(n.salt,"options.salt"):H0(32);let t=1<<17,r=8,i=1;return n.scrypt&&(n.scrypt.N&&(t=n.scrypt.N),n.scrypt.r&&(r=n.scrypt.r),n.scrypt.p&&(i=n.scrypt.p)),je(typeof t=="number"&&t>0&&Number.isSafeInteger(t)&&(BigInt(t)&BigInt(t-1))===BigInt(0),"invalid scrypt N parameter","options.N",t),je(typeof r=="number"&&r>0&&Number.isSafeInteger(r),"invalid scrypt r parameter","options.r",r),je(typeof i=="number"&&i>0&&Number.isSafeInteger(i),"invalid scrypt p parameter","options.p",i),{name:"scrypt",dkLen:32,salt:e,N:t,r,p:i}}function Tse(n,e,t,r){const i=ln(t.privateKey,"privateKey"),s=r.iv!=null?ln(r.iv,"options.iv"):H0(16);je(s.length===16,"invalid options.iv length","options.iv",r.iv);const a=r.uuid!=null?ln(r.uuid,"options.uuid"):H0(16);je(a.length===16,"invalid options.uuid length","options.uuid",r.iv);const o=n.slice(0,16),l=n.slice(16,32),c=new sw(o,s),f=ln(c.encrypt(i)),d=Bi(js([l,f])),p={address:t.address.substring(2).toLowerCase(),id:eRe(a),version:3,Crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Ft(s).substring(2)},ciphertext:Ft(f).substring(2),kdf:"scrypt",kdfparams:{salt:Ft(e.salt).substring(2),n:e.N,dklen:32,p:e.p,r:e.r},mac:d.substring(2)}};if(t.mnemonic){const g=r.client!=null?r.client:`quais/${Kre}`,b=t.mnemonic.path||Ese,S=t.mnemonic.locale||"en",w=n.slice(32,64),E=ln(t.mnemonic.entropy,"account.mnemonic.entropy"),k=H0(16),R=new sw(w,k),O=ln(R.encrypt(E)),D=new Date,B="UTC--"+(D.getUTCFullYear()+"-"+GE(D.getUTCMonth()+1,2)+"-"+GE(D.getUTCDate(),2)+"T"+GE(D.getUTCHours(),2)+"-"+GE(D.getUTCMinutes(),2)+"-"+GE(D.getUTCSeconds(),2)+".0Z")+"--"+p.address;p["x-quais"]={client:g,gethFilename:B,path:b,locale:S,mnemonicCounter:Ft(k).substring(2),mnemonicCiphertext:Ft(O).substring(2),version:"0.1"}}return JSON.stringify(p)}function xPe(n,e,t){t==null&&(t={});const r=uI(e),i=Ase(t),s=Lw(r,i.salt,i.N,i.r,i.p,64);return Tse(ln(s),i,n,t)}async function bPe(n,e,t){t==null&&(t={});const r=uI(e),i=Ase(t),s=await Nw(r,i.salt,i.N,i.r,i.p,64,t.progressCallback);return Tse(ln(s),i,n,t)}var pT,vB;const Vy=class Vy extends gB{constructor(e,t){typeof e=="string"&&!e.startsWith("0x")&&(e="0x"+e);const r=typeof e=="string"?new MA(e):e;super(r,t)}connect(e){return new Vy(this.signingKey,e)}async encrypt(e,t){const r={address:this.address,privateKey:this.privateKey};return await bPe(r,e,{progressCallback:t})}encryptSync(e){const t={address:this.address,privateKey:this.privateKey};return xPe(t,e)}static async fromEncryptedJson(e,t,r){var s;let i;if(OG(e))return i=await vPe(e,t,r),Tt(s=Vy,pT,vB).call(s,i);throw new Error("invalid JSON wallet")}static fromEncryptedJsonSync(e,t){var i;let r=null;return OG(e)?r=yPe(e,t):je(!1,"invalid JSON wallet","json","[ REDACTED ]"),Tt(i=Vy,pT,vB).call(i,r)}};pT=new WeakSet,vB=function(e){je(e,"invalid JSON wallet","json","[ REDACTED ]");const t=new Vy(e.privateKey);return je(t.address===e.address,"address/privateKey mismatch","json","[ REDACTED ]"),t},Ge(Vy,pT);let yB=Vy;const z6=new Map;var C_,k_;const W1=class W1{constructor(e,t){Ge(this,C_);Ge(this,k_);ke(this,C_,e),ke(this,k_,$t(t))}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return X(this,C_)}set name(e){ke(this,C_,e)}get chainId(){return X(this,k_)}set chainId(e){ke(this,k_,$t(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===$t(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===$t(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===$t(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}clone(){return new W1(this.name,this.chainId)}static from(e){if(e==null)return W1.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const t=z6.get(e);if(t)return t();if(typeof e=="bigint")return new W1("unknown",e);je(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object")return je(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e),new W1(e.name,e.chainId);je(!1,"invalid network","network",e)}static register(e,t){typeof e=="number"&&(e=BigInt(e));const r=z6.get(e);r&&je(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),z6.set(e,t)}};C_=new WeakMap,k_=new WeakMap;let K1=W1;function xB(n){return JSON.parse(JSON.stringify(n))}var pp,uu,k0,R_,Od,O_,i2;class _Pe{constructor(e,t){Ge(this,O_);Ge(this,pp);Ge(this,uu);Ge(this,k0);Ge(this,R_);Ge(this,Od);ke(this,pp,e),ke(this,R_,t),ke(this,uu,null),ke(this,k0,4e3),ke(this,Od,-2)}get pollingInterval(){return X(this,k0)}set pollingInterval(e){ke(this,k0,e)}start(){X(this,uu)||(ke(this,uu,X(this,pp)._setTimeout(Tt(this,O_,i2).bind(this),X(this,k0))),Tt(this,O_,i2).call(this))}stop(){X(this,uu)&&(X(this,pp)._clearTimeout(X(this,uu)),ke(this,uu,null))}pause(e){this.stop(),e&&ke(this,Od,-2)}resume(){this.start()}}pp=new WeakMap,uu=new WeakMap,k0=new WeakMap,R_=new WeakMap,Od=new WeakMap,O_=new WeakSet,i2=async function(){try{const e=await X(this,pp).getBlockNumber(jr(X(this,R_)));if(X(this,Od)===-2){ke(this,Od,e);return}if(e!==X(this,Od)){for(let t=X(this,Od)+1;t<=e;t++){if(X(this,uu)==null)return;await X(this,pp).emit("block",X(this,R_),t)}ke(this,Od,e)}}catch{}X(this,uu)!=null&&ke(this,uu,X(this,pp)._setTimeout(Tt(this,O_,i2).bind(this),X(this,k0)))};var _v,wv,R0,P_;class tj{constructor(e,t){Ge(this,_v);Ge(this,wv);Ge(this,R0);Ge(this,P_);ke(this,_v,e),ke(this,P_,t),ke(this,R0,!1),ke(this,wv,r=>{this._poll(r,X(this,_v))})}async _poll(e,t){throw new Error("sub-classes must override this")}start(){X(this,R0)||(ke(this,R0,!0),X(this,wv).call(this,-2),X(this,_v).on("block",X(this,wv),X(this,P_)))}stop(){X(this,R0)&&(ke(this,R0,!1),X(this,_v).off("block",X(this,wv),X(this,P_)))}pause(e){this.stop()}resume(){this.start()}}_v=new WeakMap,wv=new WeakMap,R0=new WeakMap,P_=new WeakMap;var nD;class wPe extends tj{constructor(t,r,i){super(t,i);Ge(this,nD);ke(this,nD,xB(r))}async _poll(t,r){throw new Error("@TODO")}}nD=new WeakMap;var Sv;class SPe extends tj{constructor(t,r,i){super(t,i);Ge(this,Sv);ke(this,Sv,r)}async _poll(t,r){const i=await r.getTransactionReceipt(X(this,Sv));i&&r.emit(X(this,Sv),wa(X(this,Sv).slice(0,4)),i)}}Sv=new WeakMap;var Ev;class EPe extends tj{constructor(t,r,i){super(t,i);Ge(this,Ev);ke(this,Ev,r)}async _poll(t,r){const i=await r.getTransaction(X(this,Ev));i&&i.isMined()&&r.emit(X(this,Ev),wa(X(this,Ev).slice(0,4)),i)}}Ev=new WeakMap;var mp,O0,D_,P0,fu,Mv,rD,kse;class Cse{constructor(e,t){Ge(this,rD);Ge(this,mp);Ge(this,O0);Ge(this,D_);Ge(this,P0);Ge(this,fu);Ge(this,Mv);ke(this,mp,e),ke(this,O0,xB(t)),ke(this,D_,Tt(this,rD,kse).bind(this)),ke(this,P0,!1),ke(this,fu,-2);const r=gse(X(this,O0));if(r)ke(this,Mv,r);else throw new Error("Unable to determine zone for event filter")}start(){X(this,P0)||(ke(this,P0,!0),X(this,fu)===-2&&X(this,mp).getBlockNumber(jr(X(this,Mv))).then(e=>{ke(this,fu,e)}),X(this,mp).on("block",X(this,D_),X(this,Mv)))}stop(){X(this,P0)&&(ke(this,P0,!1),X(this,mp).off("block",X(this,D_),X(this,Mv)))}pause(e){this.stop(),e&&ke(this,fu,-2)}resume(){this.start()}}mp=new WeakMap,O0=new WeakMap,D_=new WeakMap,P0=new WeakMap,fu=new WeakMap,Mv=new WeakMap,rD=new WeakSet,kse=async function(e){if(X(this,fu)===-2)return;const t=xB(X(this,O0));t.fromBlock=X(this,fu)+1,t.toBlock=e;const r=await X(this,mp).getLogs(t);if(r.length===0){X(this,fu)<e-60&&ke(this,fu,e-60);return}for(const i of r)X(this,mp).emit(X(this,O0),OO(X(this,O0).nodeLocation),i),ke(this,fu,i.blockNumber)};function qE(n){return n&&typeof n.then=="function"}function x1(n,e){return n+":"+JSON.stringify(e,(t,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,a)=>(s[a]=r[a],s),{})}return r})}class Rse{constructor(e){me(this,"name");Cn(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function MPe(n){return JSON.parse(JSON.stringify(n))}function bB(n){return n=Array.from(new Set(n).values()),n.sort(),n}async function U6(n,e){var t;if(n==null)throw new Error("invalid event");if(Array.isArray(n)&&(n={topics:n}),typeof n=="string"){if(n==="debug")return{type:n,tag:n};switch(n){case"block":case"pending":if(!e)throw new Error("zone is required for block and pending events");return{type:"block",tag:n,zone:e};case"error":case"finalized":case"network":case"safe":return{type:n,tag:n}}}if(hs(n,32)){const i=(ln(n)[1]&128)===128,s=n.toLowerCase();return e=wa(s.slice(0,4)),i?{type:"qiTransaction",tag:x1("Tx",{hash:s}),hash:s,zone:e}:{type:"transaction",tag:x1("tx",{hash:s}),hash:s,zone:e}}if(n.orphan){const r=n;if(!e){const i=r.hash||r.tx.hash||((t=r.other)==null?void 0:t.hash)||r.log.transactionHash||null;if(i==null)throw new Error("orphan event must specify a hash");e=wa(i.slice(0,4))}return{type:"orphan",tag:x1("orphan",r),filter:MPe(r),zone:e}}if(n.type&&n.address){const r=V0(hs(n.address)?n.address:await ra(n.address)),i={type:n.type,address:r};return e||(e=wa(r.slice(0,4))),{filter:i,tag:x1("accesses",i),type:"accesses",zone:e}}else if(n.topics||n.address){const r=n,i={topics:(r.topics||[]).map(s=>s==null?null:Array.isArray(s)?bB(s.map(a=>a.toLowerCase())):s.toLowerCase())};if(r.nodeLocation&&(i.nodeLocation=r.nodeLocation),r.address){const s=[],a=[],o=l=>{hs(l)?s.push(V0(l)):a.push((async()=>{s.push(V0(await ra(l)))})())};Array.isArray(r.address)?r.address.forEach(o):o(r.address),a.length&&await Promise.all(a),e||(e=wa(s[0].slice(0,4))),i.address=bB(s.map(l=>l.toLowerCase())),i.nodeLocation||(i.nodeLocation=Kie(e))}else if(!e)throw new Error("zone is required for event");return{filter:i,tag:x1("event",i),type:"event",zone:e}}je(!1,"unknown ProviderEvent","event",n)}function j6(){return new Date().getTime()}const APe={cacheTimeout:250,pollingInterval:4e3,usePathing:!0,shardPorts:!1,shardPaths:!1,shards:!1},Qk={prime:9001,cyprus:9002,cyprus1:9200,cyprus2:9201,cyprus3:9202,paxos:9003,paxos1:9220,paxos2:9221,paxos3:9222,hydra:9004,hydra1:9240,hydra2:9241,hydra3:9242};var yf,Wa,xo,I_,uc,Av,D0,gp,mT,du,ci,_n,Ki,Ose,_B,Ry,Pse,Dse,bM,s2;class TPe{constructor(e,t){Ge(this,_n);me(this,"_urlMap");Ge(this,yf);Ge(this,Wa);Ge(this,xo);Ge(this,I_);Ge(this,uc);Ge(this,Av);Ge(this,D0);Ge(this,gp);Ge(this,mT);Ge(this,du);Ge(this,ci);me(this,"_initFailed");me(this,"initResolvePromise");me(this,"initRejectPromise");me(this,"initPromise");me(this,"attemptConnect");if(this._initFailed=!1,this.attemptConnect=!0,ke(this,ci,Object.assign({},APe,t||{})),e==="any")ke(this,Av,!0),ke(this,uc,null);else if(e){const r=K1.from(e);ke(this,Av,!1),ke(this,uc,Promise.resolve(r)),setTimeout(()=>{this.emit("network",void 0,r,null)},0)}else ke(this,Av,!1),ke(this,uc,null);ke(this,gp,-1),ke(this,D0,new Map),ke(this,Wa,new Map),ke(this,xo,null),ke(this,I_,!1),ke(this,mT,1),ke(this,du,new Map),ke(this,yf,[]),this._urlMap=new Map,this.initResolvePromise=null,this.initRejectPromise=null,this.initPromise=new Promise((r,i)=>{this.initResolvePromise=r,this.initRejectPromise=i})}constructUrl(e,t){if(!X(this,ci).usePathing)return e;try{const r=new URL(e);return r.pathname=r.pathname.endsWith("/")?r.pathname.slice(0,-1)+t:r.pathname+t,r.toString()}catch{return e.endsWith("/")?e.slice(0,-1)+t:e+t}}async initialize(e){this.initPromise=new Promise((t,r)=>{this.initResolvePromise=t,this.initRejectPromise=r});try{const t=X(this,ci).usePathing?`/${VE(ei.Prime,"nickname")}`:":9001",r=X(this,ci).shardPorts?Array.isArray(X(this,ci).shardPorts)?X(this,ci).shardPorts:[X(this,ci).shardPorts]:void 0,i=X(this,ci).shardPaths?Array.isArray(X(this,ci).shardPaths)?X(this,ci).shardPaths:[X(this,ci).shardPaths]:void 0,s=X(this,ci).shards?Array.isArray(X(this,ci).shards[0])?X(this,ci).shards:[X(this,ci).shards]:void 0;if(e instanceof dc){const a=r?r[0]:void 0,o=i?i[0]:void 0;if(s){let l=!0;s[0].forEach(c=>{const f=VE(c,"nickname"),d=a&&f in a?a==null?void 0:a[f]:Qk[f],p=o&&f in o?o==null?void 0:o[f]:`/${f}`,g=X(this,ci).usePathing?`${p}`:`:${d}`,b=new dc(this.constructUrl(e.url,g));l&&(X(this,yf).push(b),l=!1),this._urlMap.set(c,b)})}else X(this,ci).usePathing?(e.url=this.constructUrl(e.url,t),this._urlMap.set(ei.Prime,e),X(this,yf).push(e),(await this._waitGetRunningLocations(ei.Prime,!0)).forEach(c=>{const f=jr(`0x${c[0].toString(16)}${c[1].toString(16)}`),d=VE(f,"nickname"),p=a&&d in a?a==null?void 0:a[d]:Qk[d],g=o&&d in o?o==null?void 0:o[d]:`/${d}`,b=X(this,ci).usePathing?`${g}`:`:${p}`;this._urlMap.set(f,new dc(this.constructUrl(e.url,b)))})):(this._urlMap.set(ei.Cyprus1,e),X(this,yf).push(e));return}if(Array.isArray(e))for(let a=0;a<e.length;a++){const o=r?e.length>r.length?r[0]:r[a]:void 0,l=i?e.length>i.length?i[0]:i[a]:void 0;if(s){if(e.length!==s.length)throw new Error("Shard array length does not match URL array length");let c=!0;s[a].forEach(f=>{const d=VE(f,"nickname"),p=o&&d in o?o==null?void 0:o[d]:Qk[d],g=l&&d in l?l==null?void 0:l[d]:`/${d}`,b=X(this,ci).usePathing?`${g}`:`:${p}`,S=new dc(this.constructUrl(e[a],b));c&&(X(this,yf).push(S),c=!1),this._urlMap.set(f,S)})}else if(X(this,ci).usePathing){const c=this.constructUrl(e[a],t),f=new dc(c);this._urlMap.set(ei.Prime,f),X(this,yf).push(f),(await this._waitGetRunningLocations(ei.Prime,!0)).forEach(p=>{const g=jr(`0x${p[0].toString(16)}${p[1].toString(16)}`),b=VE(g,"nickname"),S=o&&b in o?o==null?void 0:o[b]:Qk[b],w=l&&b in l?l==null?void 0:l[b]:`/${b}`,E=X(this,ci).usePathing?`${w}`:`:${S}`;this._urlMap.set(jr(`0x${p[0].toString(16)}${p[1].toString(16)}`),new dc(this.constructUrl(e[a],E)))})}else{const c=new dc(e[a]);this._urlMap.set(ei.Cyprus1,c),X(this,yf).push(c)}}this.initResolvePromise&&this.initResolvePromise()}catch(t){this._initFailed=!0,console.log("Error initializing URL map:",t),this.initRejectPromise&&this.initRejectPromise(t)}}get connect(){return X(this,yf)}async zoneFromAddress(e){const t=this._getAddress(e);return wa((await t).slice(0,4))}shardFromHash(e){return jr(e.slice(0,4))}zoneFromHash(e){return wa(e.slice(0,4))}async getLatestQuaiToQiRate(e,t){const r=await this.getBlockNumber(jr(e));return this.getQuaiToQiRateAtBlock(e,r,t)}async getQuaiToQiRateAtBlock(e,t,r){let i=this._getBlockTag(jr(e),t);return typeof i!="string"&&(i=await i),$t(await Tt(this,_n,Ki).call(this,{method:"quaiToQi",amt:pu(String(r)),blockTag:i,zone:e}))}async getProtocolExpansionNumber(){return Sn(await Tt(this,_n,Ki).call(this,{method:"getProtocolExpansionNumber"}))}async getActiveRegions(){const e=await this.getProtocolExpansionNumber(),t=[ei.Cyprus];return e>=1&&t.push(ei.Paxos),e>=3&&t.push(ei.Hydra),t.sort((r,i)=>r.localeCompare(i))}async getActiveZones(){const e=await this.getProtocolExpansionNumber(),t=[ws.Cyprus1];return e>=1&&t.push(ws.Cyprus2),e>=2&&t.push(ws.Paxos1,ws.Paxos2),e>=3&&t.push(ws.Cyprus3,ws.Paxos3,ws.Hydra1,ws.Hydra2,ws.Hydra3),t.sort((r,i)=>r.localeCompare(i))}async getLatestQiToQuaiRate(e,t){const r=await this.getBlockNumber(jr(e));return this.getQiToQuaiRateAtBlock(e,r,t)}async getQiToQuaiRateAtBlock(e,t,r){let i=this._getBlockTag(jr(e),t);return typeof i!="string"&&(i=await i),$t(await Tt(this,_n,Ki).call(this,{method:"qiToQuai",amt:pu(String(r)),blockTag:i,zone:e}))}get pollingInterval(){return X(this,ci).pollingInterval}get provider(){return this}_wrapBlock(e,t){return new jOe(vOe(e),this)}_wrapLog(e,t){return new LT(mOe(e),this)}_wrapTransactionReceipt(e,t){const r=EOe(e);return new mse(r,this)}_wrapTransactionResponse(e,t){try{const r=qU(e);if(e.type==="0x0"||e.type===0)return new rw(r,this);if(e.type==="0x1"||e.type===1)return new RA(r,this);if(e.type==="0x2"||e.type===2)return new iw(r,this);throw new Error(`Unknown transaction type: ${e.type}`)}catch(r){throw console.error("Error in _wrapTransactionResponse:",r),r}}_detectNetwork(){Nt(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Nt(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(e){const t=Sn(await Tt(this,_n,Ki).call(this,{method:"getBlockNumber",shard:e}),"%response");return X(this,gp)>=0&&ke(this,gp,t),t}_getAddress(e){return ra(e)}_getBlockTag(e,t){if(t==null)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}if(hs(t))return hs(t,32)?t:pu(t);if(typeof t=="bigint"&&(t=Sn(t,"blockTag")),typeof t=="number")return t>=0?pu(t):X(this,gp)>=0?pu(X(this,gp)+t):this.getBlockNumber(e).then(r=>pu(r+t));je(!1,"invalid blockTag","blockTag",t)}_getFilter(e){const t=(e.topics||[]).map(f=>f==null?null:Array.isArray(f)?bB(f.map(d=>d.toLowerCase())):f.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(f,d,p,g)=>{let b;switch(f.length){case 0:break;case 1:b=f[0];break;default:f.sort(),b=f}if(r&&(d!=null||p!=null))throw new Error("invalid filter");const S={};return b&&(S.address=b),t.length&&(S.topics=t),d&&(S.fromBlock=d),p&&(S.toBlock=p),r&&(S.blockHash=r),g&&(S.nodeLocation=g),S},s=[];if(e.address)if(Array.isArray(e.address))for(const f of e.address)s.push(this._getAddress(f));else s.push(this._getAddress(e.address));const a=OO(e.nodeLocation);let o;"fromBlock"in e&&(o=this._getBlockTag(jr(a),e.fromBlock));let l;"toBlock"in e&&(l=this._getBlockTag(jr(a),e.toBlock));let c;return e.nodeLocation&&(c=e.nodeLocation),s.filter(f=>typeof f!="string").length||o!=null&&typeof o!="string"||l!=null&&typeof l!="string"?Promise.all([Promise.all(s),o,l,c]).then(f=>i(f[0],f[1],f[2],f[3])):i(s,o,l,c)}_getTransactionRequest(e){const t=FO(e),r=[];if(["to","from","inputs","outputs"].forEach(i=>{if(t[i]==null)return;const s=Array.isArray(t[i])?"address"in t[i][0]?t[i].map(a=>a.address):t[i].map(a=>tg(a.pubkey)):ra(t[i]);if(qE(s))if(Array.isArray(s))for(let a=0;a<s.length;a++)r.push((async function(){t[i][a].address=await s[a]})());else r.push((async function(){t[i]=await s})());else t[i]=s}),t.blockTag!=null){const i=async()=>{const s=await this.zoneFromAddress(zy(e)),a=jr(s),o=this._getBlockTag(a,t.blockTag);return qE(o)?await o:o};r.push((async function(){t.blockTag=await i()})())}return r.length?(async function(){return await Promise.all(r),t})():t}async getNetwork(){if(X(this,uc)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",void 0,s,null),s}catch(s){throw X(this,uc)===i&&ke(this,uc,null),s}})();return ke(this,uc,i),(await i).clone()}const e=X(this,uc),[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(X(this,Av)?(this.emit("network",void 0,r,t),X(this,uc)===e&&ke(this,uc,Promise.resolve(r))):Nt(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async _waitGetRunningLocations(e,t){let r=0,i=[];for(;;)try{if(this.attemptConnect){r>5&&(r=0),i=await this._getRunningLocations(e,t);break}else await new Promise(s=>setTimeout(s,1e3))}catch{r++,r>5&&(this.attemptConnect=!1),await new Promise(a=>setTimeout(a,1e3))}if(i.length===0)throw new Error("could not get running locations");return i}async _getRunningLocations(e,t){return t=t||!1,await Tt(this,_n,Ki).call(this,e?{method:"getRunningLocations",shard:e,now:t}:{method:"getRunningLocations",now:t})}async getRunningLocations(e){return await this._getRunningLocations(e)}async getProtocolTrieExpansionCount(e){return await Tt(this,_n,Ki).call(this,{method:"getProtocolTrieExpansionCount",shard:e})}async getFeeData(e,t=!0){return await(async()=>{const{gasPrice:i}=await xa({gasPrice:(async()=>{try{const s=await Tt(this,_n,Ki).call(this,{method:"getGasPrice",txType:t,zone:e});return $t(s,"%response")}catch(s){console.log(s)}return null})()});if(i==null)throw new Error("could not determine gasPrice");return new zOe(i)})()}async estimateGas(e){let t=this._getTransactionRequest(e);qE(t)&&(t=await t);const r=await this.zoneFromAddress(zy(t));return $t(await Tt(this,_n,Ki).call(this,{method:"estimateGas",transaction:t,zone:r}),"%response")}async estimateFeeForQi(e){const t=await this.zoneFromAddress(zy(e));return $t(await Tt(this,_n,Ki).call(this,{method:"estimateFeeForQi",transaction:e,zone:t}),"%response")}async createAccessList(e){let t=this._getTransactionRequest(e);qE(t)&&(t=await t);const r=await this.zoneFromAddress(zy(t)),i=await Tt(this,_n,Ki).call(this,{method:"createAccessList",transaction:t,zone:r});if(i.error)throw new Error(`Access list creation failed due to VM error: ${i.error}`);return i.accessList}async call(e){const t=await this.zoneFromAddress(zy(e)),r=jr(t),{tx:i,blockTag:s}=await xa({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(r,e.blockTag)});return await Tt(this,_n,_B).call(this,Tt(this,_n,Ose).call(this,i,s,-1,t),r)}async getBalance(e,t){return $t(await Tt(this,_n,Ry).call(this,{method:"getBalance"},e,t),"%response")}async getLockedBalance(e){return $t(await Tt(this,_n,Ry).call(this,{method:"getLockedBalance"},e),"%response")}async getOutpointsByAddress(e){return LO(await Tt(this,_n,Ry).call(this,{method:"getOutpointsByAddress"},e,"latest"))}async getOutpointsByAddresses(e){if(e.length===0)return new Map;if(e.length>1e4)throw new Error("Maximum 10,000 addresses per batch request");if(!Gl(e[0]))throw new Error(`Invalid address: ${e[0]}`);const r=new Map,i=e.map(async s=>{const a=await this.getOutpointsByAddress(s);r.set(s,a)});return await Promise.all(i),r}async getTransactionCount(e,t){return Sn(await Tt(this,_n,Ry).call(this,{method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return Ft(await Tt(this,_n,Ry).call(this,{method:"getCode"},e,t))}async getStorage(e,t,r){const i=$t(t,"position");return Ft(await Tt(this,_n,Ry).call(this,{method:"getStorage",position:i},e,r))}async getPendingHeader(){return await Tt(this,_n,Ki).call(this,{method:"getPendingHeader"})}async getTxPoolContent(e){return await Tt(this,_n,Ki).call(this,{method:"getTxPoolContent",zone:e})}async txPoolInspect(e){return await Tt(this,_n,Ki).call(this,{method:"txPoolInspect",zone:e})}async broadcastTransaction(e,t){const r=NU(ln(t)).type;try{const{blockNumber:i,hash:s,network:a}=await xa({blockNumber:this.getBlockNumber(jr(e)),hash:this._perform({method:"broadcastTransaction",signedTransaction:t,zone:e}),network:this.getNetwork()}),o=r==2?hB.from(t):CA.from(t),l=o.toJSON();return Tt(this,_n,Pse).call(this,o.hash||"",s),r==2?new iw(l,this):this._wrapTransactionResponse(l,a).replaceableTransaction(i)}catch(i){throw console.error("Error in broadcastTransaction:",i),i}}validateUrl(e){if(!/^(https?):\/\/[a-zA-Z0-9.-]+(:\d+)?(\/[a-zA-Z0-9._~:/?#[\]@!$&'()*+,;=-]*)?$/.test(e)){let r="Invalid URL: ";throw/^https?:\/\//.test(e)||(r+="URL must start with http:// or https://. "),e.endsWith("/")&&(r+="URL should not end with a /. "),new Error(r.trim())}}async getBlock(e,t,r){const{network:i,params:s}=await xa({network:this.getNetwork(),params:Tt(this,_n,Dse).call(this,e,t,!!r)});return s==null?null:this._wrapBlock(s,i)}async calculateConversionAmount(e,t,r){let i;if(typeof e=="string"&&t&&r!==void 0)i={from:await this._getAddress(e),to:await this._getAddress(t),value:pu(r)};else if(typeof e=="object")i={from:await this._getAddress(e.from),to:await this._getAddress(e.to),value:pu(e.value)};else throw new Error("Invalid parameters for calculateConversionAmount");const s=await this._perform({method:"calculateConversionAmount",transactionArgs:i});return $t(s,"%response")}async getTransaction(e){const t=wa(this.shardFromHash(e)),{network:r,params:i}=await xa({network:this.getNetwork(),params:Tt(this,_n,Ki).call(this,{method:"getTransaction",hash:e,zone:t})});return i==null?null:this._wrapTransactionResponse(i,r)}async getTransactionReceipt(e){const t=wa(this.shardFromHash(e)),{network:r,params:i}=await xa({network:this.getNetwork(),params:Tt(this,_n,Ki).call(this,{method:"getTransactionReceipt",hash:e,zone:t})});if(i==null)return null;if(i.gasPrice==null&&i.effectiveGasPrice==null){const s=await Tt(this,_n,Ki).call(this,{method:"getTransaction",hash:e,zone:t});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");i.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(i,r)}async getTransactionResult(e){const t=wa(this.shardFromHash(e)),{result:r}=await xa({network:this.getNetwork(),result:Tt(this,_n,Ki).call(this,{method:"getTransactionResult",hash:e,zone:t})});return r==null?null:Ft(r)}async getOutpointDeltas(e,t,r){for(const R of e)je(ng(R),`Invalid Qi address: ${R}`,"addresses",e);je(hs(t,32),"invalid startHash","startHash",t),r?je(hs(r,32),"invalid endHash","endHash",r):r="latest";const i=await this.zoneFromAddress(e[0]),s=jr(i),[a,o]=await Promise.all([this.getBlock(s,t),this.getBlock(s,r)]);if(a==null)throw new Error("Could not find start block");if(o==null)throw new Error("Could not find end block");const l=Sn(a.woHeader.number,"startBlockNumber"),c=Sn(o.woHeader.number,"endBlockNumber");je(l<=c,"startBlockNumber must be less than or equal to endBlockNumber","startBlockNumber",l);const f=[],d=[];let p=l,g=t;for(;p<=c;){const R=Math.min(p+999,c);d.push(R),p=R+1}const b=d.map(R=>this.getBlock(s,R)),S=await Promise.all(b);p=l,g=t;for(let R=0;R<S.length;R++){const O=S[R];if(!O)throw new Error(`Could not find block for block number ${d[R]}`);const D=O.hash;f.push({startHash:g,endHash:D}),p=d[R]+1,g=D}const w=f.map(R=>Tt(this,_n,Ki).call(this,{method:"getOutpointDeltasForAddressesInRange",addresses:e,startHash:R.startHash,endHash:R.endHash,zone:i}).then(POe)),E=await Promise.all(w),k={};for(const R of E)for(const[O,D]of Object.entries(R))k[O]||(k[O]={created:[],deleted:[]}),k[O].created.push(...D.created),k[O].deleted.push(...D.deleted);return k}async getLogs(e){let t=this._getFilter(e);qE(t)&&(t=await t);const{network:r,params:i}=await xa({network:this.getNetwork(),params:Tt(this,_n,Ki).call(this,{method:"getLogs",filter:t,zone:OO(t.nodeLocation)})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){Nt(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async waitForTransaction(e,t,r){const i=this.zoneFromHash(e),s=t??1;return s===0?this.getTransactionReceipt(e):new Promise(async(a,o)=>{let l=null;const c=async f=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&f-d.blockNumber+1>=s){a(d),l&&(clearTimeout(l),l=null);return}}catch(d){console.log("Error occured while waiting for transaction:",d)}this.once("block",c,i)};r!=null&&(l=setTimeout(()=>{l!=null&&(l=null,this.off("block",c,i),o(Ji("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber(jr(i)))})}async waitForBlock(e,t){Nt(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const t=X(this,du).get(e);t&&(t.timer&&clearTimeout(t.timer),X(this,du).delete(e))}_setTimeout(e,t){t==null&&(t=0);const r=SE(this,mT)._++,i=()=>{X(this,du).delete(r),e()};if(this.paused)X(this,du).set(r,{timer:null,func:i,time:t});else{const s=setTimeout(i,t);X(this,du).set(r,{timer:s,func:i,time:j6()})}return r}_forEachSubscriber(e){for(const t of X(this,Wa).values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Rse(e.type);case"block":{const t=new _Pe(this,e.zone);return t.pollingInterval=this.pollingInterval,t}case"event":return new Cse(this,e.filter);case"transaction":return new SPe(this,e.hash,e.zone);case"qiTransaction":return new EPe(this,e.hash,e.zone);case"orphan":return new wPe(this,e.filter,e.zone)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(const r of X(this,Wa).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),X(this,xo)!=null&&t.pause(X(this,xo));break}}async startZoneSubscriptions(e){for(const t of Array.from(X(this,Wa).values()))t.zone===e&&t.started&&await t.subscriber.start()}async on(e,t,r){const i=await Tt(this,_n,s2).call(this,e,r);return i.listeners.push({listener:t,once:!1}),i.started||(i.subscriber.start(),i.started=!0,X(this,xo)!=null&&i.subscriber.pause(X(this,xo))),this}async once(e,t,r){const i=await Tt(this,_n,s2).call(this,e,r);return i.listeners.push({listener:t,once:!0}),i.started||(i.subscriber.start(),i.started=!0,X(this,xo)!=null&&i.subscriber.pause(X(this,xo))),this}async emit(e,t,...r){const i=await Tt(this,_n,bM).call(this,e,r,t);if(!i||i.listeners.length===0)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:a,once:o})=>{const l=new tie(this,o?null:a,e);try{a.call(this,...r,l)}catch{}return!o}),i.listeners.length===0&&(i.started&&i.subscriber.stop(),X(this,Wa).delete(i.tag)),s>0}async listenerCount(e){if(e){const r=await Tt(this,_n,bM).call(this,e);return r?r.listeners.length:0}let t=0;for(const{listeners:r}of X(this,Wa).values())t+=r.length;return t}async listeners(e){if(e){const r=await Tt(this,_n,bM).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let t=[];for(const{listeners:r}of X(this,Wa).values())t=t.concat(r.map(({listener:i})=>i));return t}async off(e,t,r){const i=await Tt(this,_n,bM).call(this,e,[],r);if(!i)return this;if(t){const s=i.listeners.map(({listener:a})=>a).indexOf(t);s>=0&&i.listeners.splice(s,1)}return(!t||i.listeners.length===0)&&(i.started&&i.subscriber.stop(),X(this,Wa).delete(i.tag)),this}async removeAllListeners(e){if(e){const{tag:t,started:r,subscriber:i}=await Tt(this,_n,s2).call(this,e);r&&i.stop(),X(this,Wa).delete(t)}else for(const[t,{started:r,subscriber:i}]of X(this,Wa))r&&i.stop(),X(this,Wa).delete(t);return this}async addListener(e,t,r){return await this.on(e,t,r)}async removeListener(e,t,r){return this.off(e,t,r)}get destroyed(){return X(this,I_)}destroy(){this.removeAllListeners();for(const e of X(this,du).keys())this._clearTimeout(e);ke(this,I_,!0)}get paused(){return X(this,xo)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(ke(this,gp,-1),X(this,xo)!=null){if(X(this,xo)==!!e)return;Nt(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(t=>t.pause(e)),ke(this,xo,!!e);for(const t of X(this,du).values())t.timer&&clearTimeout(t.timer),t.time=j6()-t.time}resume(){if(X(this,xo)!=null){this._forEachSubscriber(e=>e.resume()),ke(this,xo,null);for(const e of X(this,du).values()){let t=e.time;t<0&&(t=0),e.time=j6(),setTimeout(e.func,t)}}}}yf=new WeakMap,Wa=new WeakMap,xo=new WeakMap,I_=new WeakMap,uc=new WeakMap,Av=new WeakMap,D0=new WeakMap,gp=new WeakMap,mT=new WeakMap,du=new WeakMap,ci=new WeakMap,_n=new WeakSet,Ki=async function(e){this.attemptConnect=!0;const t=X(this,ci).cacheTimeout;if(t<0)return await this._perform(e);const r=x1(e.method,e);let i=X(this,D0).get(r);return(!i||r.includes("pending")||r.includes("latest"))&&(i=this._perform(e),X(this,D0).set(r,i),setTimeout(()=>{X(this,D0).get(r)===i&&X(this,D0).delete(r)},t)),await i},Ose=async function(e,t,r,i){const s=FO(e);return Ft(await this._perform({method:"call",transaction:s,blockTag:t,zone:i}))},_B=async function(e,t){const{value:r}=await xa({network:this.getNetwork(),value:e});return r},Ry=async function(e,t,r){let i=this._getAddress(t);const s=await this.zoneFromAddress(t),a=jr(s);let o=this._getBlockTag(a,r);return(typeof i!="string"||typeof o!="string")&&([i,o]=await Promise.all([i,o])),await Tt(this,_n,_B).call(this,Tt(this,_n,Ki).call(this,Object.assign(e,{address:i,blockTag:o,zone:s})),a)},Pse=function(e,t){if(e!==t)throw new Error(`Transaction hash mismatch: ${e} !== ${t}`)},Dse=async function(e,t,r){if(hs(t,32))return await Tt(this,_n,Ki).call(this,{method:"getBlock",blockHash:t,includeTransactions:r,shard:e});let i=this._getBlockTag(e,t);return typeof i!="string"&&(i=await i),await Tt(this,_n,Ki).call(this,{method:"getBlock",blockTag:i,includeTransactions:r,shard:e})},bM=async function(e,t,r){let i=await U6(e,r);return i.type==="event"&&t&&t.length>0&&t[0].removed===!0&&(i=await U6({orphan:"drop-log",log:t[0]},r)),X(this,Wa).get(i.tag)||null},s2=async function(e,t){const r=await U6(e,t),i=r.tag;let s=X(this,Wa).get(i);return s||(s={subscriber:this._getSubscriber(r),tag:i,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[],zone:r.zone},X(this,Wa).set(i,s)),s};function CPe(n){return JSON.parse(JSON.stringify(n))}var Il,Pd,Tv,I0,Cv,N_,og,wB,SB;class Ise{constructor(e,t){Ge(this,og);Ge(this,Il);Ge(this,Pd);Ge(this,Tv);Ge(this,I0);Ge(this,Cv);Ge(this,N_);me(this,"zone");ke(this,Il,e),ke(this,Pd,null),ke(this,Tv,Tt(this,og,wB).bind(this)),ke(this,I0,!1),ke(this,Cv,null),ke(this,N_,!1),this.zone=t}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,t){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){X(this,I0)||(ke(this,I0,!0),Tt(this,og,wB).call(this,-2))}stop(){X(this,I0)&&(ke(this,I0,!1),ke(this,N_,!0),Tt(this,og,SB).call(this),X(this,Il).off("block",X(this,Tv),this.zone))}pause(e){e&&Tt(this,og,SB).call(this),X(this,Il).off("block",X(this,Tv),this.zone)}resume(){this.start()}}Il=new WeakMap,Pd=new WeakMap,Tv=new WeakMap,I0=new WeakMap,Cv=new WeakMap,N_=new WeakMap,og=new WeakSet,wB=async function(e){try{X(this,Pd)==null&&ke(this,Pd,this._subscribe(X(this,Il)));let t=null;try{t=await X(this,Pd)}catch(s){if(!vu(s,"UNSUPPORTED_OPERATION")||s.operation!=="quai_newFilter")throw s}if(t==null){ke(this,Pd,null),X(this,Il)._recoverSubscriber(this,this._recover(X(this,Il)));return}const r=await X(this,Il).getNetwork();if(X(this,Cv)||ke(this,Cv,r),X(this,Cv).chainId!==r.chainId)throw new Error("chain changed");if(X(this,N_))return;const i=await X(this,Il).send("quai_getFilterChanges",[t]);await this._emitResults(X(this,Il),i)}catch(t){console.log("@TODO",t)}X(this,Il).once("block",X(this,Tv),this.zone)},SB=function(){const e=X(this,Pd);e&&(ke(this,Pd,null),e.then(t=>{X(this,Il).send("quai_uninstallFilter",[t])}))};var kv;class kPe extends Ise{constructor(t,r){const i=gse(r);if(i==null)throw new Error("Unable to determine zone for event filter");super(t,i);Ge(this,kv);ke(this,kv,CPe(r))}_recover(t){return new Cse(t,X(this,kv))}async _subscribe(t){return await t.send("quai_newFilter",[X(this,kv)])}async _emitResults(t,r){for(const i of r)t.emit(X(this,kv),this.zone,t._wrapLog(i,t._network))}}kv=new WeakMap;class RPe extends Ise{async _subscribe(e){return await e.send("quai_newPendingTransactionFilter",[])}async _emitResults(e,t){for(const r of t)e.emit("pending",this.zone,r)}}const OPe="bigint,boolean,function,number,string,symbol".split(/,/g);function a2(n){if(n==null||OPe.indexOf(typeof n)>=0||typeof n.getAddress=="function")return n;if(Array.isArray(n))return n.map(a2);if(typeof n=="object")return Object.keys(n).reduce((e,t)=>(e[t]=n[t],e),{});throw new Error(`should not happen: ${n} (${typeof n})`)}function PPe(n){return new Promise(e=>{setTimeout(e,n)})}const DPe={staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,usePathing:!0,shardPorts:!1,shardPaths:!1,shards:!1};class o2 extends Sse{constructor(t,r){super(t);me(this,"address");r=Ir(r),Cn(this,{address:r})}connect(t){Nt(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateQuaiTransaction(t){return await super.populateQuaiTransaction(t)}async sendUncheckedTransaction(t){const r=a2(t),i=[];if("from"in r){if(r.from){const a=r.from;i.push((async()=>{const o=await ra(a);je(o!=null&&o.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=o})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const a=r.to;i.push((async()=>{r.to=await ra(a)})())}}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("quai_sendTransaction",[s])}async sendTransaction(t){const r=await this.zoneFromAddress(zy(t)),i=await this.provider.getBlockNumber(jr(r)),s=await this.sendUncheckedTransaction(t);return await new Promise((a,o)=>{const l=[1e3,100];let c=0;const f=async()=>{try{const d=await this.provider.getTransaction(s);if(d!=null){a(d.replaceableTransaction(i));return}}catch(d){if(vu(d,"CANCELLED")||vu(d,"BAD_DATA")||vu(d,"NETWORK_ERROR")||vu(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=s,o(d);return}if(vu(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=s,c>10)){o(d);return}this.provider.emit("error",kA(s),Ji("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{f()},l.pop()||4e3)};f()})}async signTransaction(t){const r=a2(t);if("from"in r)if(r.from){const s=await ra(r.from);je(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),r.from=s}else r.from=this.address;else throw new Error("No QI signing implementation in provider-jsonrpc");const i=this.provider.getRpcTransaction(r);return await this.provider.send("quai_signTransaction",[i])}async signMessage(t){const r=typeof t=="string"?Au(t):t;return await this.provider.send("personal_sign",[Ft(r),this.address.toLowerCase()])}async signTypedData(t,r,i){const s=a2(i);return await this.provider.send("quai_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(DO.getPayload(t,r,s))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const r=typeof t=="string"?Au(t):t;return await this.provider.send("quai_sign",[this.address.toLowerCase(),Ft(r)])}}var Rv,L_,yp,Dd,vp,hu,Nl,gT,EB;class Nse extends TPe{constructor(t,r){super(t,r);Ge(this,gT);Ge(this,Rv);Ge(this,L_);Ge(this,yp);Ge(this,Dd);Ge(this,vp);Ge(this,hu);Ge(this,Nl);ke(this,L_,1),ke(this,Rv,Object.assign({},DPe,r||{})),ke(this,yp,[]),ke(this,Dd,null),ke(this,hu,null),ke(this,Nl,null);{let s=null;const a=new Promise(o=>{s=o});ke(this,vp,{promise:a,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(je(!i||t!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&t!=null&&ke(this,hu,K1.from(t))):i&&(je(t==null||i.matches(t),"staticNetwork MUST match network object","options",r),ke(this,hu,i))}_getOption(t){return X(this,Rv)[t]}get _network(){return Nt(X(this,hu),"network is not available yet","NETWORK_ERROR"),X(this,hu)}async _perform(t){if(t.method!=="getRunningLocations"&&await this.initPromise,t.method==="call"||t.method==="estimateGas"){const i=t.transaction;i&&i.type!=null&&$t(i.type)&&i.gasPrice==null&&(await this.getFeeData(t.zone,i.type===1)).gasPrice==null&&(t=Object.assign({},t,{transaction:Object.assign({},i,{type:void 0})}))}const r=this.getRpcRequest(t);if(r!=null){const i="shard"in t?t.shard:"zone"in t?jr(t.zone):void 0;return t.method==="getRunningLocations"?await this.send(r.method,r.args,i,t.now):await this.send(r.method,r.args,i)}return super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t)if(t===!0){if(X(this,hu))return X(this,hu)}else return t;return X(this,Nl)?await X(this,Nl):this.ready?(ke(this,Nl,(async()=>{try{const r=K1.from($t(await this.send("quai_chainId",[])));return ke(this,Nl,null),r}catch(r){throw ke(this,Nl,null),r}})()),await X(this,Nl)):(ke(this,Nl,(async()=>{const r={id:SE(this,L_)._++,method:"quai_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",void 0,{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],ke(this,Nl,null)}catch(s){throw ke(this,Nl,null),this.emit("debug",void 0,{action:"receiveRpcError",error:s}),s}if(this.emit("debug",void 0,{action:"receiveRpcResult",result:i}),"result"in i)return K1.from($t(i.result));throw this.getRpcError(r,i)})()),await X(this,Nl))}_start(){this.attemptConnect=!0,!(X(this,vp)==null||X(this,vp).resolve==null)&&(X(this,vp).resolve(),ke(this,vp,null),(async()=>{let t=0;const r=5;for(;X(this,hu)==null&&!this.destroyed&&t<r;)try{ke(this,hu,await this._detectNetwork())}catch(i){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retrying (perhaps the URL is wrong or the node is not started)"),this.emit("error",void 0,Ji("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:i}})),await PPe(1e3*Math.pow(2,t)),t++}t>=r&&(console.log("JsonRpcProvider failed to detect network and cannot start up; retry limit reached"),Ji("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{retries:t}})),Tt(this,gT,EB).call(this)})())}async _waitUntilReady(){if(this._initFailed)throw console.log("init failed"),new Error("Provider failed to initialize on creation. Run initialize or create a new provider.");let t=!0;(async()=>{for(;t;)this.attemptConnect=!0,await new Promise(i=>setTimeout(i,2e3))})();try{await this.initPromise}finally{t=!1}}_getSubscriber(t){return t.type==="pending"?new RPe(this,t.zone):t.type==="event"?new kPe(this,t.filter):t.type==="orphan"&&t.filter.orphan==="drop-log"?new Rse("orphan"):super._getSubscriber(t)}get ready(){return X(this,vp)==null}getRpcTransaction(t){const r={};return"from"in t||"to"in t&&"data"in t?(["chainId","gasLimit","gasPrice","type","gasPrice","nonce","value"].forEach(i=>{if(t[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=pu($t(t[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{t[i]!=null&&(r[i]=Ft(t[i]))}),"accessList"in t&&t.accessList&&(r.accessList=Bw(t.accessList))):(t.txInputs!=null&&(r.txInputs=t.txInputs.map(i=>({txhash:Ft(i.txhash),index:pu($t(i.index,`tx.txInputs.${i.index}`)),pubkey:Ft(i.pubkey)}))),t.txOutputs!=null&&(r.txOutputs=t.txOutputs.map(i=>({address:Ft(i.address),denomination:pu($t(i.denomination,`tx.txOutputs.${i.denomination}`))})))),r}getRpcRequest(t){switch(t.method){case"chainId":return{method:"quai_chainId",args:[]};case"calculateConversionAmount":return{method:"quai_calculateConversionAmount",args:[t.transactionArgs]};case"getBlockNumber":return{method:"quai_blockNumber",args:[]};case"getGasPrice":return{method:"quai_gasPrice",args:[]};case"getPendingHeader":return{method:"quai_getPendingHeader",args:[]};case"getBalance":return{method:"quai_getBalance",args:[t.address,t.blockTag]};case"getLockedBalance":return{method:"quai_getLockedBalance",args:[t.address]};case"getOutpointsByAddress":return{method:"quai_getOutpointsByAddress",args:[t.address]};case"getTransactionCount":return{method:"quai_getTransactionCount",args:[t.address,t.blockTag]};case"getCode":return{method:"quai_getCode",args:[t.address,t.blockTag]};case"getStorage":return{method:"quai_getStorageAt",args:[t.address,"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"quai_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"quai_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"quai_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"quai_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"quai_getTransactionReceipt",args:[t.hash]};case"call":return{method:"quai_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"quai_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"estimateFeeForQi":return{method:"quai_estimateFeeForQi",args:[t.transaction]};case"createAccessList":return{method:"quai_createAccessList",args:[this.getRpcTransaction(t.transaction)]};case"getRunningLocations":return{method:"quai_listRunningChains",args:[]};case"getProtocolTrieExpansionCount":return{method:"quai_getProtocolExpansionNumber",args:[]};case"getProtocolExpansionNumber":return{method:"quai_getProtocolExpansionNumber",args:[]};case"qiToQuai":return{method:"quai_qiToQuai",args:[t.amt,t.blockTag]};case"quaiToQi":return{method:"quai_quaiToQi",args:[t.amt,t.blockTag]};case"getLogs":return{method:"quai_getLogs",args:[t.filter]};case"getTxPoolContent":return{method:"txpool_content",args:[]};case"txPoolInspect":return{method:"txpool_inspect",args:[]};case"getOutpointDeltasForAddressesInRange":return{method:"quai_getOutpointDeltasForAddressesInRange",args:[t.addresses,t.startHash,t.endHash]}}return null}getRpcError(t,r,i){const{method:s}=t,{error:a}=r;if(s==="quai_estimateGas"&&a.message){const c=a.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Ji("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:a,shard:i}})}if(s==="quai_call"||s==="quai_estimateGas"){const c=MB(a),f=TA.getBuiltinCallException(s==="quai_call"?"call":"estimateGas",t.params[0],c?c.data:null);return f.info={error:a,payload:t,shard:i},f}const o=JSON.stringify(NPe(a));if(s==="quai_getTransactionByHash"&&a.message&&a.message.match(/transaction not found/i))return Ji("transaction not found","TRANSACTION_NOT_FOUND",{info:{payload:t,error:a,shard:i}});if(typeof a.message=="string"&&a.message.match(/user denied|quais-user-denied/i))return Ji("user rejected action","ACTION_REJECTED",{action:{quai_sign:"signMessage",personal_sign:"signMessage",quai_signTypedData_v4:"signTypedData",quai_signTransaction:"signTransaction",quai_sendTransaction:"sendTransaction",quai_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:t,error:a,shard:i}});if(s==="quai_sendRawTransaction"||s==="quai_sendTransaction"){const c=t.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return Ji("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:a,shard:i}});if(o.match(/nonce/i)&&o.match(/too low/i))return Ji("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:a,shard:i}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return Ji("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:a,shard:i}});if(o.match(/only replay-protected/i))return Ji("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:a,shard:i}}});if(o.match(/already known/i))return Ji("transaction already known","TRANSACTION_ALREADY_KNOWN",{info:{error:a,shard:i}})}let l=!!o.match(/the method .* does not exist/i);return l||a&&a.details&&a.details.startsWith("Unauthorized method:")&&(l=!0),l?Ji("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:a,payload:t,shard:i}}):o.match("Provider failed to initialize on creation. Run initialize or create a new provider.")?Ji("Provider failed to initialize on creation. Run initUrlMap or create a new provider.","PROVIDER_FAILED_TO_INITIALIZE",{info:{payload:t,error:a,shard:i}}):Ji("could not coalesce error","UNKNOWN_ERROR",{error:a,payload:t,shard:i})}send(t,r,i,s){const a=()=>{if(this.destroyed)return Promise.reject(Ji("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const o=SE(this,L_)._++,l=new Promise((c,f)=>{X(this,yp).push({resolve:c,reject:f,payload:{method:t,params:r,id:o,jsonrpc:"2.0"},shard:i,now:s})});return Tt(this,gT,EB).call(this),l};return t!=="quai_listRunningChains"?this.initPromise.then(()=>a()):a()}async getOutpointsByAddresses(t){if(t.length===0)return new Map;if(t.length>1e4)throw new Error("Maximum 10,000 addresses per batch request");const r=Gl(t[0]);if(!r)throw new Error(`Invalid address: ${t[0]}`);for(const l of t)if(!ng(l))throw new Error(`Invalid Qi address: ${l}`);const i=t.map((l,c)=>({jsonrpc:"2.0",id:c+1,method:"quai_getOutpointsByAddress",params:[l]})),s=jr(r),a=await this._send(i,s),o=new Map;for(const l of a){if("error"in l&&l.error){console.error(`Error fetching outpoints for address at id ${l.id}:`,l.error);continue}if("result"in l){const c=l.id-1;if(c>=0&&c<t.length){const f=t[c],d=LO(l.result);o.set(f,d)}}}for(const l of t)o.has(l)||o.set(l,[]);return o}async getSigner(t){t==null&&(t=0);const r=this.send("quai_accounts",[]);if(typeof t=="number"){const s=await r;if(t>=s.length)throw new Error("no such account");return new o2(this,s[t])}const{accounts:i}=await xa({network:this.getNetwork(),accounts:r});t=Ir(t);for(const s of i)if(Ir(s)===t)return new o2(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("quai_accounts",[])).map(r=>new o2(this,r))}destroy(){X(this,Dd)&&(clearTimeout(X(this,Dd)),ke(this,Dd,null));for(const{payload:t,reject:r}of X(this,yp))r(Ji("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));ke(this,yp,[]),super.destroy()}}Rv=new WeakMap,L_=new WeakMap,yp=new WeakMap,Dd=new WeakMap,vp=new WeakMap,hu=new WeakMap,Nl=new WeakMap,gT=new WeakSet,EB=function(){if(X(this,Dd))return;const t=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");ke(this,Dd,setTimeout(()=>{ke(this,Dd,null);const r=X(this,yp);for(ke(this,yp,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==X(this,Rv).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(a=>a.payload)).length>X(this,Rv).batchMaxSize){r.unshift(i.pop());break}(async()=>{var d,p;const s=new Map,a=new Map;for(let g=0;g<i.length;g++)i[g].now?a.has(i[g].shard)?(d=a.get(i[g].shard))==null||d.push(i[g].payload):i[g].payload!=null&&a.set(i[g].shard,[i[g].payload]):s.has(i[g].shard)?(p=s.get(i[g].shard))==null||p.push(i[g].payload):i[g].payload!=null&&s.set(i[g].shard,[i[g].payload]);const o=[],l=async(g,b,S)=>{const w=b.length===1?b[0]:b,E=g?jr(g):this._urlMap.has(ei.Prime)?ei.Prime:this._urlMap.keys().next().value,k=E&&E.length===4?wa(E):ws.Cyprus1;this.emit("debug",k,{action:"sendRpcPayload",payload:w}),o.push(await this._send(w,E,S)),this.emit("debug",k,{action:"receiveRpcResult",payload:w})};await Promise.all(Array.from(a).map(async([g,b])=>{await l(g,b,!0)}).concat(Array.from(s).map(async([g,b])=>{await l(g,b)})));const c=o.flat();let f;try{for(const{resolve:g,reject:b,payload:S,shard:w}of i){if(this.destroyed){b(Ji("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:S.method}));continue}w?f=w.length<4?void 0:wa(w):f=void 0;const E=c.filter(k=>k.id===S.id)[0];if(E==null){const k=Ji("missing response for request","BAD_DATA",{value:c,info:{payload:S}});this.emit("error",f,k),b(k);continue}if("error"in E){b(this.getRpcError(S,E,w));continue}g(E.result)}}catch(g){this.emit("debug",f,{action:"receiveRpcError",error:g});for(const{reject:b}of i)b(g)}})()}},t))};class IPe extends Nse{constructor(e,t,r){e==null&&(e=["http://localhost:8545"]),super(t,r),Array.isArray(e)?(e.forEach(i=>{this.validateUrl(i)}),this.initialize(e)):typeof e=="string"?(this.validateUrl(e),this.initialize([e])):(this.validateUrl(e.url),this.initialize(e.clone()))}_getSubscriber(e){return super._getSubscriber(e)}_getConnection(e){if(this._initFailed)throw new Error("Provider failed to initialize on creation. Run initUrlMap or create a new provider.");let t;return e!==void 0?t=this._urlMap.get(e)??this.connect[this.connect.length-1].clone():t=this.connect[this.connect.length-1].clone(),new dc(t.url)}async send(e,t,r,i){try{return this._start(),await super.send(e,t,r,i)}catch(s){return Promise.reject(s)}}async _send(e,t,r){if(this._initFailed)return[{id:Array.isArray(e)?e[0].id:e.id,error:{code:-32e3,message:"Provider failed to initialize on creation. Run initialize or create a new provider."}}];try{r||await this._waitUntilReady()}catch{return[{id:Array.isArray(e)?e[0].id:e.id,error:{code:-32e3,message:"Provider failed to initialize on creation. Run initialize or create a new provider."}}]}try{const i=this._getConnection(t);i.body=JSON.stringify(e),i.setHeader("content-type","application/json");const s=await i.send();s.assertOk();let a=s.bodyJson;return Array.isArray(a)||(a=[a]),a}catch(i){return[{id:Array.isArray(e)?e[0].id:e.id,error:{code:-32e3,message:i instanceof Error?i.message:String(i)}}]}}}function MB(n){if(n==null)return null;if(typeof n.message=="string"&&n.message.match(/revert/i)&&hs(n.data))return{message:n.message,data:n.data};if(typeof n=="object"){for(const e in n){const t=MB(n[e]);if(t)return t}return null}if(typeof n=="string")try{return MB(JSON.parse(n))}catch{}return null}function AB(n,e){if(n!=null){if(typeof n.message=="string"&&e.push(n.message),typeof n=="object")for(const t in n)AB(n[t],e);if(typeof n=="string")try{return AB(JSON.parse(n),e)}catch{}}}function NPe(n){const e=[];return AB(n,e),e}class VO{constructor(e,t,r,i=null){me(this,"interface");me(this,"bytecode");me(this,"runner");me(this,"IPFSHash",null);const s=IO.from(e);t instanceof Uint8Array||(typeof t=="object"&&(t=t.object),t.startsWith("0x")||(t="0x"+t)),t=Ft(ln(t)),Cn(this,{bytecode:t,interface:s,runner:r||null}),this.IPFSHash=i}attach(e){return new OA(e,this.interface,this.runner)}async getDeployTransaction(...e){var o;let t;const r=this.interface.deploy;if(r.inputs.length+1===e.length){t=await ZU(e.pop());const l=await UO(this.runner,r.inputs,e),c=js([this.bytecode,this.interface.encodeDeploy(l)]);return Object.assign({},t,{data:c})}if(r.inputs.length!==e.length)throw new Error("incorrect number of arguments to constructor");const i=await UO(this.runner,r.inputs,e),s=js([this.bytecode,this.interface.encodeDeploy(i)]),a=((o=e.pop())==null?void 0:o.from)||void 0;return Object.assign({},a,{data:s})}async deploy(...e){var a,o,l;const t=await this.getDeployTransaction(...e);Nt(this.runner&&typeof this.runner.sendTransaction=="function","factory runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"}),Nt(this.IPFSHash!==null&&this.IPFSHash!==void 0&&this.IPFSHash.length==46,`IPFSHash is ${this.IPFSHash} not set or not 46 characters long`,"BAD_DATA",{value:"IPFSHash"}),(this.runner instanceof yB||this.runner instanceof o2)&&(zp(this.runner.address),t.from=this.runner.address);const r=await this.grindContractAddress(t);r.accessList=await((o=(a=this.runner).createAccessList)==null?void 0:o.call(a,r));const i=await this.runner.sendTransaction(r),s=(l=Mke(this.constructor,"getContractAddress"))==null?void 0:l(t);return new OA(s,this.interface,this.runner,i)}static getContractAddress(e){return sG(e.from,BigInt(e.nonce),e.data)}async grindContractAddress(e){var o,l;e.nonce==null&&e.from&&(e.nonce=await((l=(o=this.runner)==null?void 0:o.provider)==null?void 0:l.getTransactionCount(e.from)));const t=String(e.from),r=Gl(t);let i=0;const s=e.data,a=new Uint8Array(4);for(new DataView(a.buffer).setUint32(0,Number(e.nonce)&4294967295,!1);i<1e4;){e.data=Ft(js([String(s),a]));const c=sG(t,BigInt(e.nonce||0),e.data||""),f=Gl(c),d=ng(c);if(f===r&&!d)return e;let p=new DataView(a.buffer).getUint32(0,!1);p++,new DataView(a.buffer).setUint32(0,p,!1),i++}return e}setIPFSHash(e){this.IPFSHash=e}connect(e){return new VO(this.interface,this.bytecode,e)}static fromSolidity(e,t){je(e!=null,"bad compiler output","output",e),typeof e=="string"&&(e=JSON.parse(e));const r=e.abi;let i="";return e.bytecode?i=e.bytecode:e.evm&&e.evm.bytecode&&(i=e.evm.bytecode),new this(r,i,t)}}var B_;class DG extends Nse{constructor(t,r){super(r,{batchMaxCount:1});Ge(this,B_);this.initResolvePromise&&this.initResolvePromise(),ke(this,B_,async(i,s,a)=>{const o={method:i,params:s,shard:a};this.emit("debug",void 0,{action:"sendEip1193Request",payload:o});try{const l=await t.request(o);return this.emit("debug",void 0,{action:"receiveEip1193Result",result:l}),l}catch(l){const c=new Error(l.message);throw c.code=l.code,c.data=l.data,c.payload=o,this.emit("debug",void 0,{action:"receiveEip1193Error",error:c}),c}})}async hasSigner(t){t==null&&(t=0);const r=await this.send("quai_accounts",[]);return typeof t=="number"?r.length>t:(t=t.toLowerCase(),r.filter(i=>i.toLowerCase()===t).length!==0)}async send(t,r,i){return await this._start(),await super.send(t,r,i)}async _send(t,r){je(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const i=await X(this,B_).call(this,t.method,t.params||[],r);return[{id:t.id,result:i}]}catch(i){return[{id:t.id,error:{code:i.code,data:i.data,message:i.message,shard:r||void 0}}]}}getRpcError(t,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`quais-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`quais-unsupported: ${r.error.message}`;break}return super.getRpcError(t,r)}async getSigner(t){if(t==null&&(t=0),!await this.hasSigner(t))try{await X(this,B_).call(this,"quai_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(t)}}B_=new WeakMap;function Po(){const{isDemo:n,demoRole:e}=ww(),[t,r]=L.useState(null),[i,s]=L.useState(null),[a,o]=L.useState(null),[l,c]=L.useState(!1);L.useEffect(()=>{if(n||typeof window>"u")return;const g=window;if(!g.pelagus){c(!1);return}c(!0);let b;try{b=new DG(g.pelagus),s(b),b.send("quai_accounts",[]).then(w=>{if(w!=null&&w[0]){r(w[0]);try{o(Gl(w[0])??"Cyprus-1")}catch{}}}).catch(()=>{})}catch{}const S=w=>{if(!(w!=null&&w[0])){r(null),o(null);return}r(w[0]);try{o(Gl(w[0])??"Cyprus-1")}catch{}};try{g.pelagus.on("accountsChanged",S)}catch{}return()=>{var w,E;try{(E=(w=g.pelagus).removeListener)==null||E.call(w,"accountsChanged",S)}catch{}}},[n]);const f=L.useCallback(async()=>{if(n)return;const g=window;if(!g.pelagus){window.open("https://pelaguswallet.io","_blank");return}try{const b=new DG(g.pelagus),S=await b.send("quai_requestAccounts",[]);if(s(b),S!=null&&S[0]){r(S[0]);try{o(Gl(S[0])??"Cyprus-1")}catch{}}}catch(b){console.error("Wallet connect error:",b)}},[n]),d=L.useCallback(()=>{n||(r(null),s(null),o(null))},[n]),p=L.useCallback(async()=>{if(n)throw new Error("Demo mode: no signer");if(!i)throw new Error("Not connected");return i.getSigner()},[i,n]);return n?{address:e==="client"?Xo:zl,provider:null,shard:"Cyprus-1",hasPelagus:!1,isConnected:!0,connect:f,disconnect:d,getSigner:p}:{address:t,provider:i,shard:a,hasPelagus:l,isConnected:!!t,connect:f,disconnect:d,getSigner:p}}const LPe="https://orchard.rpc.quai.network",WO="https://orchard.quaiscan.io",TB="0x004Cd25650565E9DE4DdD3e06327C2B120CF158E",BPe="0x007425815B68cdD057E2E684779cC19edBDb240a",IG=()=>new IPe(LPe),_u=n=>{if(n==null)return"0.0000";try{const e=String(n);if(/^\d+$/.test(e)&&e.length>10)return parseFloat(Zke(BigInt(e))).toFixed(4);const r=parseFloat(e);return isNaN(r)?"0.0000":r.toFixed(4)}catch{return"0.0000"}},FPe=n=>{try{return Qke(n)}catch(e){return console.error("parseQuai error:",e),0n}},Df=n=>n?`${n.slice(0,6)}...${n.slice(-4)}`:"",zPe=n=>n*.15,UPe=n=>n/.16,jp=n=>new Date(n*1e3).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),BT=n=>{const e=Date.now()/1e3-n;return e<3600?`${Math.floor(e/60)}m ago`:e<86400?`${Math.floor(e/3600)}h ago`:`${Math.floor(e/86400)}d ago`};function NG(){const{address:n,isConnected:e,connect:t,disconnect:r,hasPelagus:i,provider:s}=Po(),[a,o]=L.useState("0.00"),[l,c]=L.useState(!1);return L.useEffect(()=>{s&&n&&s.getBalance(n,"latest").then(f=>{o(_u(f))}).catch(()=>{})},[s,n]),i?e?T.jsxs("button",{onClick:r,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),style:{borderRadius:"var(--radius-pill)",background:"var(--bg-elevated)",border:`1px solid ${l?"var(--border-strong)":"var(--border-default)"}`,padding:"8px 14px",display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",transition:"all var(--transition-base)"},children:[l?T.jsx(v0e,{size:16,color:"var(--error)"}):T.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:"var(--quai-green)",animation:"pulseGreen 2.5s ease-in-out infinite"}}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx("span",{className:"mono",children:Df(n)}),T.jsx("span",{style:{color:"var(--border-strong)"},children:"|"}),T.jsx("span",{className:"amount-quai",children:a})]})]}):T.jsxs("button",{className:"btn btn-secondary",onClick:t,style:{animation:"borderGlow 1.5s ease-in-out infinite"},children:[T.jsx(n8,{size:16})," Connect Wallet"]}):T.jsxs("a",{href:"https://pelaguswallet.io",target:"_blank",rel:"noreferrer",className:"btn btn-secondary",style:{animation:"borderGlow 1.5s ease-in-out infinite"},children:[T.jsx(n8,{size:16})," Install Pelagus"]})}function Lse({mode:n}){const{pathname:e}=Tc(),{isConnected:t}=Po(),{theme:r,toggleTheme:i}=$Q(),[s,a]=L.useState(!1),o=n==="client"?[{label:"Dashboard",path:"/client"},{label:"Post a Job",path:"/client/post-job"},{label:"My Jobs",path:"/client/my-jobs"}]:[{label:"Dashboard",path:"/freelancer"},{label:"Find Jobs",path:"/freelancer/jobs"},{label:"My Proposals",path:"/freelancer/proposals"},{label:"Contracts",path:"/freelancer/contracts"},{label:"My Profile",path:"/freelancer/profile"}];return T.jsxs(T.Fragment,{children:[T.jsxs("nav",{className:"navbar",children:[T.jsxs(_r,{to:`/${n}`,className:"navbar-logo",children:["Wor",T.jsx("span",{className:"accent",children:"Qu"})]}),t&&T.jsx("div",{className:"navbar-nav hidden md:flex",children:o.map(l=>{const c=e===l.path||l.path!==`/${n}`&&e.startsWith(l.path);return T.jsx(_r,{to:l.path,className:c?"active":"",children:l.label},l.path)})}),T.jsx("div",{className:"navbar-spacer"}),T.jsxs("div",{className:"navbar-actions hidden md:flex",style:{alignItems:"center",gap:10},children:[T.jsx("button",{onClick:i,title:r==="dark"?"Switch to light mode":"Switch to dark mode",style:{width:34,height:34,borderRadius:"50%",background:"var(--glass-bg)",border:"1px solid var(--glass-border)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"var(--text-secondary)",transition:"all 0.2s",flexShrink:0},onMouseEnter:l=>{l.currentTarget.style.color="var(--quai-green)",l.currentTarget.style.borderColor="var(--quai-green-dim)"},onMouseLeave:l=>{l.currentTarget.style.color="var(--text-secondary)",l.currentTarget.style.borderColor="var(--glass-border)"},children:r==="dark"?T.jsx(_H,{size:15}):T.jsx(xH,{size:15})}),T.jsx(NG,{})]}),t&&T.jsx("button",{className:"md:hidden flex items-center justify-center p-2 text-[var(--text-secondary)] bg-transparent border-none cursor-pointer",onClick:()=>a(!0),children:T.jsx(_0e,{size:24,color:"var(--text-primary)"})})]}),T.jsxs("div",{style:{position:"fixed",inset:0,zIndex:1e3,pointerEvents:s?"auto":"none"},className:"md:hidden",children:[T.jsx("div",{onClick:()=>a(!1),style:{position:"absolute",inset:0,background:"var(--bg-overlay)",opacity:s?1:0,transition:"opacity 0.3s ease"}}),T.jsxs("div",{style:{position:"absolute",top:0,left:0,bottom:0,width:280,background:"var(--bg-surface)",borderRight:"1px solid var(--border-default)",transform:s?"translateX(0)":"translateX(-100%)",transition:"transform 0.3s cubic-bezier(0.16,1,0.3,1)",padding:24,display:"flex",flexDirection:"column",gap:24},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[T.jsxs(_r,{to:`/${n}`,className:"navbar-logo",onClick:()=>a(!1),children:["Wor",T.jsx("span",{className:"accent",children:"Qu"})]}),T.jsx("button",{onClick:()=>a(!1),style:{background:"none",border:"none",color:"var(--text-secondary)"},children:T.jsx(lz,{size:24})})]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:8},children:o.map(l=>{const c=e===l.path||l.path!==`/${n}`&&e.startsWith(l.path);return T.jsx(_r,{to:l.path,onClick:()=>a(!1),style:{padding:"12px 16px",borderRadius:"var(--radius-md)",textDecoration:"none",background:c?"var(--bg-elevated)":"transparent",color:c?"var(--text-primary)":"var(--text-secondary)",fontWeight:c?500:400},children:l.label},l.path)})}),T.jsxs("div",{style:{marginTop:"auto",display:"flex",flexDirection:"column",gap:10},children:[T.jsxs("button",{onClick:i,style:{display:"flex",alignItems:"center",gap:12,padding:"12px 16px",borderRadius:"var(--radius-md)",background:"transparent",border:"none",color:"var(--text-secondary)",cursor:"pointer",fontSize:14},children:[r==="dark"?T.jsx(_H,{size:16}):T.jsx(xH,{size:16}),r==="dark"?"Light Mode":"Dark Mode"]}),T.jsx(NG,{})]})]})]})]})}const jPe=`#version 300 es
precision mediump float;

layout(location = 0) in vec4 a_position;

uniform vec2 u_resolution;
uniform float u_pixelRatio;
uniform float u_imageAspectRatio;
uniform float u_originX;
uniform float u_originY;
uniform float u_worldWidth;
uniform float u_worldHeight;
uniform float u_fit;
uniform float u_scale;
uniform float u_rotation;
uniform float u_offsetX;
uniform float u_offsetY;

out vec2 v_objectUV;
out vec2 v_objectBoxSize;
out vec2 v_responsiveUV;
out vec2 v_responsiveBoxGivenSize;
out vec2 v_patternUV;
out vec2 v_patternBoxSize;
out vec2 v_imageUV;

vec3 getBoxSize(float boxRatio, vec2 givenBoxSize) {
  vec2 box = vec2(0.);
  // fit = none
  box.x = boxRatio * min(givenBoxSize.x / boxRatio, givenBoxSize.y);
  float noFitBoxWidth = box.x;
  if (u_fit == 1.) { // fit = contain
    box.x = boxRatio * min(u_resolution.x / boxRatio, u_resolution.y);
  } else if (u_fit == 2.) { // fit = cover
    box.x = boxRatio * max(u_resolution.x / boxRatio, u_resolution.y);
  }
  box.y = box.x / boxRatio;
  return vec3(box, noFitBoxWidth);
}

void main() {
  gl_Position = a_position;

  vec2 uv = gl_Position.xy * .5;
  vec2 boxOrigin = vec2(.5 - u_originX, u_originY - .5);
  vec2 givenBoxSize = vec2(u_worldWidth, u_worldHeight);
  givenBoxSize = max(givenBoxSize, vec2(1.)) * u_pixelRatio;
  float r = u_rotation * 3.14159265358979323846 / 180.;
  mat2 graphicRotation = mat2(cos(r), sin(r), -sin(r), cos(r));
  vec2 graphicOffset = vec2(-u_offsetX, u_offsetY);


  // ===================================================

  float fixedRatio = 1.;
  vec2 fixedRatioBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );

  v_objectBoxSize = getBoxSize(fixedRatio, fixedRatioBoxGivenSize).xy;
  vec2 objectWorldScale = u_resolution.xy / v_objectBoxSize;

  v_objectUV = uv;
  v_objectUV *= objectWorldScale;
  v_objectUV += boxOrigin * (objectWorldScale - 1.);
  v_objectUV += graphicOffset;
  v_objectUV /= u_scale;
  v_objectUV = graphicRotation * v_objectUV;

  // ===================================================

  v_responsiveBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );
  float responsiveRatio = v_responsiveBoxGivenSize.x / v_responsiveBoxGivenSize.y;
  vec2 responsiveBoxSize = getBoxSize(responsiveRatio, v_responsiveBoxGivenSize).xy;
  vec2 responsiveBoxScale = u_resolution.xy / responsiveBoxSize;

  #ifdef ADD_HELPERS
  v_responsiveHelperBox = uv;
  v_responsiveHelperBox *= responsiveBoxScale;
  v_responsiveHelperBox += boxOrigin * (responsiveBoxScale - 1.);
  #endif

  v_responsiveUV = uv;
  v_responsiveUV *= responsiveBoxScale;
  v_responsiveUV += boxOrigin * (responsiveBoxScale - 1.);
  v_responsiveUV += graphicOffset;
  v_responsiveUV /= u_scale;
  v_responsiveUV.x *= responsiveRatio;
  v_responsiveUV = graphicRotation * v_responsiveUV;
  v_responsiveUV.x /= responsiveRatio;

  // ===================================================

  float patternBoxRatio = givenBoxSize.x / givenBoxSize.y;
  vec2 patternBoxGivenSize = vec2(
  (u_worldWidth == 0.) ? u_resolution.x : givenBoxSize.x,
  (u_worldHeight == 0.) ? u_resolution.y : givenBoxSize.y
  );
  patternBoxRatio = patternBoxGivenSize.x / patternBoxGivenSize.y;

  vec3 boxSizeData = getBoxSize(patternBoxRatio, patternBoxGivenSize);
  v_patternBoxSize = boxSizeData.xy;
  float patternBoxNoFitBoxWidth = boxSizeData.z;
  vec2 patternBoxScale = u_resolution.xy / v_patternBoxSize;

  v_patternUV = uv;
  v_patternUV += graphicOffset / patternBoxScale;
  v_patternUV += boxOrigin;
  v_patternUV -= boxOrigin / patternBoxScale;
  v_patternUV *= u_resolution.xy;
  v_patternUV /= u_pixelRatio;
  if (u_fit > 0.) {
    v_patternUV *= (patternBoxNoFitBoxWidth / v_patternBoxSize.x);
  }
  v_patternUV /= u_scale;
  v_patternUV = graphicRotation * v_patternUV;
  v_patternUV += boxOrigin / patternBoxScale;
  v_patternUV -= boxOrigin;
  // x100 is a default multiplier between vertex and fragmant shaders
  // we use it to avoid UV presision issues
  v_patternUV *= .01;

  // ===================================================

  vec2 imageBoxSize;
  if (u_fit == 1.) { // contain
    imageBoxSize.x = min(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else if (u_fit == 2.) { // cover
    imageBoxSize.x = max(u_resolution.x / u_imageAspectRatio, u_resolution.y) * u_imageAspectRatio;
  } else {
    imageBoxSize.x = min(10.0, 10.0 / u_imageAspectRatio * u_imageAspectRatio);
  }
  imageBoxSize.y = imageBoxSize.x / u_imageAspectRatio;
  vec2 imageBoxScale = u_resolution.xy / imageBoxSize;

  v_imageUV = uv;
  v_imageUV *= imageBoxScale;
  v_imageUV += boxOrigin * (imageBoxScale - 1.);
  v_imageUV += graphicOffset;
  v_imageUV /= u_scale;
  v_imageUV.x *= u_imageAspectRatio;
  v_imageUV = graphicRotation * v_imageUV;
  v_imageUV.x /= u_imageAspectRatio;

  v_imageUV += .5;
  v_imageUV.y = 1. - v_imageUV.y;
}`,LG=1920*1080*4;let HPe=class{constructor(e,t,r,i,s=0,a=0,o=2,l=LG,c=[]){me(this,"parentElement");me(this,"canvasElement");me(this,"gl");me(this,"program",null);me(this,"uniformLocations",{});me(this,"fragmentShader");me(this,"rafId",null);me(this,"lastRenderTime",0);me(this,"currentFrame",0);me(this,"speed",0);me(this,"currentSpeed",0);me(this,"providedUniforms");me(this,"mipmaps",[]);me(this,"hasBeenDisposed",!1);me(this,"resolutionChanged",!0);me(this,"textures",new Map);me(this,"minPixelRatio");me(this,"maxPixelCount");me(this,"isSafari",$Pe());me(this,"uniformCache",{});me(this,"textureUnitMap",new Map);me(this,"initProgram",()=>{const e=VPe(this.gl,jPe,this.fragmentShader);e&&(this.program=e)});me(this,"setupPositionAttribute",()=>{const e=this.gl.getAttribLocation(this.program,"a_position"),t=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,t);const r=[-1,-1,1,-1,-1,1,-1,1,1,-1,1,1];this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(r),this.gl.STATIC_DRAW),this.gl.enableVertexAttribArray(e),this.gl.vertexAttribPointer(e,2,this.gl.FLOAT,!1,0,0)});me(this,"setupUniforms",()=>{const e={u_time:this.gl.getUniformLocation(this.program,"u_time"),u_pixelRatio:this.gl.getUniformLocation(this.program,"u_pixelRatio"),u_resolution:this.gl.getUniformLocation(this.program,"u_resolution")};Object.entries(this.providedUniforms).forEach(([t,r])=>{if(e[t]=this.gl.getUniformLocation(this.program,t),r instanceof HTMLImageElement){const i=`${t}AspectRatio`;e[i]=this.gl.getUniformLocation(this.program,i)}}),this.uniformLocations=e});me(this,"renderScale",1);me(this,"parentWidth",0);me(this,"parentHeight",0);me(this,"parentDevicePixelWidth",0);me(this,"parentDevicePixelHeight",0);me(this,"devicePixelsSupported",!1);me(this,"resizeObserver",null);me(this,"setupResizeObserver",()=>{this.resizeObserver=new ResizeObserver(([e])=>{var t;if(e!=null&&e.borderBoxSize[0]){const r=(t=e.devicePixelContentBoxSize)==null?void 0:t[0];r!==void 0&&(this.devicePixelsSupported=!0,this.parentDevicePixelWidth=r.inlineSize,this.parentDevicePixelHeight=r.blockSize),this.parentWidth=e.borderBoxSize[0].inlineSize,this.parentHeight=e.borderBoxSize[0].blockSize}this.handleResize()}),this.resizeObserver.observe(this.parentElement)});me(this,"handleVisualViewportChange",()=>{var e;(e=this.resizeObserver)==null||e.disconnect(),this.setupResizeObserver()});me(this,"handleResize",()=>{let e=0,t=0;const r=Math.max(1,window.devicePixelRatio),i=(visualViewport==null?void 0:visualViewport.scale)??1;if(this.devicePixelsSupported){const f=Math.max(1,this.minPixelRatio/r);e=this.parentDevicePixelWidth*f*i,t=this.parentDevicePixelHeight*f*i}else{let f=Math.max(r,this.minPixelRatio)*i;if(this.isSafari){const d=GPe();f*=Math.max(1,d)}e=Math.round(this.parentWidth)*f,t=Math.round(this.parentHeight)*f}const s=Math.sqrt(this.maxPixelCount)/Math.sqrt(e*t),a=Math.min(1,s),o=Math.round(e*a),l=Math.round(t*a),c=o/Math.round(this.parentWidth);(this.canvasElement.width!==o||this.canvasElement.height!==l||this.renderScale!==c)&&(this.renderScale=c,this.canvasElement.width=o,this.canvasElement.height=l,this.resolutionChanged=!0,this.gl.viewport(0,0,this.gl.canvas.width,this.gl.canvas.height),this.render(performance.now()))});me(this,"render",e=>{if(this.hasBeenDisposed)return;if(this.program===null){console.warn("Tried to render before program or gl was initialized");return}const t=e-this.lastRenderTime;this.lastRenderTime=e,this.currentSpeed!==0&&(this.currentFrame+=t*this.currentSpeed),this.gl.clear(this.gl.COLOR_BUFFER_BIT),this.gl.useProgram(this.program),this.gl.uniform1f(this.uniformLocations.u_time,this.currentFrame*.001),this.resolutionChanged&&(this.gl.uniform2f(this.uniformLocations.u_resolution,this.gl.canvas.width,this.gl.canvas.height),this.gl.uniform1f(this.uniformLocations.u_pixelRatio,this.renderScale),this.resolutionChanged=!1),this.gl.drawArrays(this.gl.TRIANGLES,0,6),this.currentSpeed!==0?this.requestRender():this.rafId=null});me(this,"requestRender",()=>{this.rafId!==null&&cancelAnimationFrame(this.rafId),this.rafId=requestAnimationFrame(this.render)});me(this,"setTextureUniform",(e,t)=>{if(!t.complete||t.naturalWidth===0)throw new Error(`Paper Shaders: image for uniform ${e} must be fully loaded`);const r=this.textures.get(e);r&&this.gl.deleteTexture(r),this.textureUnitMap.has(e)||this.textureUnitMap.set(e,this.textureUnitMap.size);const i=this.textureUnitMap.get(e);this.gl.activeTexture(this.gl.TEXTURE0+i);const s=this.gl.createTexture();this.gl.bindTexture(this.gl.TEXTURE_2D,s),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,this.gl.RGBA,this.gl.UNSIGNED_BYTE,t),this.mipmaps.includes(e)&&(this.gl.generateMipmap(this.gl.TEXTURE_2D),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR));const a=this.gl.getError();if(a!==this.gl.NO_ERROR||s===null){console.error("Paper Shaders: WebGL error when uploading texture:",a);return}this.textures.set(e,s);const o=this.uniformLocations[e];if(o){this.gl.uniform1i(o,i);const l=`${e}AspectRatio`,c=this.uniformLocations[l];if(c){const f=t.naturalWidth/t.naturalHeight;this.gl.uniform1f(c,f)}}});me(this,"areUniformValuesEqual",(e,t)=>e===t?!0:Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.every((r,i)=>this.areUniformValuesEqual(r,t[i])):!1);me(this,"setUniformValues",e=>{this.gl.useProgram(this.program),Object.entries(e).forEach(([t,r])=>{let i=r;if(r instanceof HTMLImageElement&&(i=`${r.src.slice(0,200)}|${r.naturalWidth}x${r.naturalHeight}`),this.areUniformValuesEqual(this.uniformCache[t],i))return;this.uniformCache[t]=i;const s=this.uniformLocations[t];if(!s){console.warn(`Uniform location for ${t} not found`);return}if(r instanceof HTMLImageElement)this.setTextureUniform(t,r);else if(Array.isArray(r)){let a=null,o=null;if(r[0]!==void 0&&Array.isArray(r[0])){const l=r[0].length;if(r.every(c=>c.length===l))a=r.flat(),o=l;else{console.warn(`All child arrays must be the same length for ${t}`);return}}else a=r,o=a.length;switch(o){case 2:this.gl.uniform2fv(s,a);break;case 3:this.gl.uniform3fv(s,a);break;case 4:this.gl.uniform4fv(s,a);break;case 9:this.gl.uniformMatrix3fv(s,!1,a);break;case 16:this.gl.uniformMatrix4fv(s,!1,a);break;default:console.warn(`Unsupported uniform array length: ${o}`)}}else typeof r=="number"?this.gl.uniform1f(s,r):typeof r=="boolean"?this.gl.uniform1i(s,r?1:0):console.warn(`Unsupported uniform type for ${t}: ${typeof r}`)})});me(this,"getCurrentFrame",()=>this.currentFrame);me(this,"setFrame",e=>{this.currentFrame=e,this.lastRenderTime=performance.now(),this.render(performance.now())});me(this,"setSpeed",(e=1)=>{this.speed=e,this.setCurrentSpeed(document.hidden?0:e)});me(this,"setCurrentSpeed",e=>{this.currentSpeed=e,this.rafId===null&&e!==0&&(this.lastRenderTime=performance.now(),this.rafId=requestAnimationFrame(this.render)),this.rafId!==null&&e===0&&(cancelAnimationFrame(this.rafId),this.rafId=null)});me(this,"setMaxPixelCount",(e=LG)=>{this.maxPixelCount=e,this.handleResize()});me(this,"setMinPixelRatio",(e=2)=>{this.minPixelRatio=e,this.handleResize()});me(this,"setUniforms",e=>{this.setUniformValues(e),this.providedUniforms={...this.providedUniforms,...e},this.render(performance.now())});me(this,"handleDocumentVisibilityChange",()=>{this.setCurrentSpeed(document.hidden?0:this.speed)});me(this,"dispose",()=>{this.hasBeenDisposed=!0,this.rafId!==null&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.gl&&this.program&&(this.textures.forEach(e=>{this.gl.deleteTexture(e)}),this.textures.clear(),this.gl.deleteProgram(this.program),this.program=null,this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null),this.gl.bindRenderbuffer(this.gl.RENDERBUFFER,null),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.getError()),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),visualViewport==null||visualViewport.removeEventListener("resize",this.handleVisualViewportChange),document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.uniformLocations={},this.canvasElement.remove(),delete this.parentElement.paperShaderMount});if(e instanceof HTMLElement)this.parentElement=e;else throw new Error("Paper Shaders: parent element must be an HTMLElement");if(!document.querySelector("style[data-paper-shader]")){const p=document.createElement("style");p.innerHTML=WPe,p.setAttribute("data-paper-shader",""),document.head.prepend(p)}const f=document.createElement("canvas");this.canvasElement=f,this.parentElement.prepend(f),this.fragmentShader=t,this.providedUniforms=r,this.mipmaps=c,this.currentFrame=a,this.minPixelRatio=o,this.maxPixelCount=l;const d=f.getContext("webgl2",i);if(!d)throw new Error("Paper Shaders: WebGL is not supported in this browser");this.gl=d,this.initProgram(),this.setupPositionAttribute(),this.setupUniforms(),this.setUniformValues(this.providedUniforms),this.setupResizeObserver(),visualViewport==null||visualViewport.addEventListener("resize",this.handleVisualViewportChange),this.setSpeed(s),this.parentElement.setAttribute("data-paper-shader",""),this.parentElement.paperShaderMount=this,document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange)}};function BG(n,e,t){const r=n.createShader(e);return r?(n.shaderSource(r,t),n.compileShader(r),n.getShaderParameter(r,n.COMPILE_STATUS)?r:(console.error("An error occurred compiling the shaders: "+n.getShaderInfoLog(r)),n.deleteShader(r),null)):null}function VPe(n,e,t){const r=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT),i=r?r.precision:null;i&&i<23&&(e=e.replace(/precision\s+(lowp|mediump)\s+float;/g,"precision highp float;"),t=t.replace(/precision\s+(lowp|mediump)\s+float/g,"precision highp float").replace(/\b(uniform|varying|attribute)\s+(lowp|mediump)\s+(\w+)/g,"$1 highp $3"));const s=BG(n,n.VERTEX_SHADER,e),a=BG(n,n.FRAGMENT_SHADER,t);if(!s||!a)return null;const o=n.createProgram();return o?(n.attachShader(o,s),n.attachShader(o,a),n.linkProgram(o),n.getProgramParameter(o,n.LINK_STATUS)?(n.detachShader(o,s),n.detachShader(o,a),n.deleteShader(s),n.deleteShader(a),o):(console.error("Unable to initialize the shader program: "+n.getProgramInfoLog(o)),n.deleteProgram(o),n.deleteShader(s),n.deleteShader(a),null)):null}const WPe=`@layer paper-shaders {
  :where([data-paper-shader]) {
    isolation: isolate;
    position: relative;

    & canvas {
      contain: strict;
      display: block;
      position: absolute;
      inset: 0;
      z-index: -1;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      corner-shape: inherit;
    }
  }
}`;function $Pe(){const n=navigator.userAgent.toLowerCase();return n.includes("safari")&&!n.includes("chrome")&&!n.includes("android")}function GPe(){const n=(visualViewport==null?void 0:visualViewport.scale)??1,e=(visualViewport==null?void 0:visualViewport.width)??window.innerWidth,t=window.innerWidth-document.documentElement.clientWidth,r=n*e+t,i=outerWidth/r,s=Math.round(100*i);return s%5===0?s/100:s===33?1/3:s===67?2/3:s===133?4/3:i}const qPe={fit:"contain",scale:1,rotation:0,offsetX:0,offsetY:0,originX:.5,originY:.5,worldWidth:0,worldHeight:0},YPe={none:0,contain:1,cover:2},XPe=`
#define TWO_PI 6.28318530718
#define PI 3.14159265358979323846
`,KPe=`
vec2 rotate(vec2 uv, float th) {
  return mat2(cos(th), sin(th), -sin(th), cos(th)) * uv;
}
`,JPe=`
  float hash21(vec2 p) {
    p = fract(p * vec2(0.3183099, 0.3678794)) + 0.1;
    p += dot(p, p + 19.19);
    return fract(p.x * p.y);
  }
`,FG={maxColorCount:10},ZPe=`#version 300 es
precision mediump float;

uniform float u_time;

uniform vec4 u_colors[${FG.maxColorCount}];
uniform float u_colorsCount;

uniform float u_distortion;
uniform float u_swirl;
uniform float u_grainMixer;
uniform float u_grainOverlay;

in vec2 v_objectUV;
out vec4 fragColor;

${XPe}
${KPe}
${JPe}

float valueNoise(vec2 st) {
  vec2 i = floor(st);
  vec2 f = fract(st);
  float a = hash21(i);
  float b = hash21(i + vec2(1.0, 0.0));
  float c = hash21(i + vec2(0.0, 1.0));
  float d = hash21(i + vec2(1.0, 1.0));
  vec2 u = f * f * (3.0 - 2.0 * f);
  float x1 = mix(a, b, u.x);
  float x2 = mix(c, d, u.x);
  return mix(x1, x2, u.y);
}

float noise(vec2 n, vec2 seedOffset) {
  return valueNoise(n + seedOffset);
}

vec2 getPosition(int i, float t) {
  float a = float(i) * .37;
  float b = .6 + fract(float(i) / 3.) * .9;
  float c = .8 + fract(float(i + 1) / 4.);

  float x = sin(t * b + a);
  float y = cos(t * c + a * 1.5);

  return .5 + .5 * vec2(x, y);
}

void main() {
  vec2 uv = v_objectUV;
  uv += .5;
  vec2 grainUV = uv * 1000.;

  float grain = noise(grainUV, vec2(0.));
  float mixerGrain = .4 * u_grainMixer * (grain - .5);

  const float firstFrameOffset = 41.5;
  float t = .5 * (u_time + firstFrameOffset);

  float radius = smoothstep(0., 1., length(uv - .5));
  float center = 1. - radius;
  for (float i = 1.; i <= 2.; i++) {
    uv.x += u_distortion * center / i * sin(t + i * .4 * smoothstep(.0, 1., uv.y)) * cos(.2 * t + i * 2.4 * smoothstep(.0, 1., uv.y));
    uv.y += u_distortion * center / i * cos(t + i * 2. * smoothstep(.0, 1., uv.x));
  }

  vec2 uvRotated = uv;
  uvRotated -= vec2(.5);
  float angle = 3. * u_swirl * radius;
  uvRotated = rotate(uvRotated, -angle);
  uvRotated += vec2(.5);

  vec3 color = vec3(0.);
  float opacity = 0.;
  float totalWeight = 0.;

  for (int i = 0; i < ${FG.maxColorCount}; i++) {
    if (i >= int(u_colorsCount)) break;

    vec2 pos = getPosition(i, t) + mixerGrain;
    vec3 colorFraction = u_colors[i].rgb * u_colors[i].a;
    float opacityFraction = u_colors[i].a;

    float dist = length(uvRotated - pos);

    dist = pow(dist, 3.5);
    float weight = 1. / (dist + 1e-3);
    color += colorFraction * weight;
    opacity += opacityFraction * weight;
    totalWeight += weight;
  }

  color /= max(1e-4, totalWeight);
  opacity /= max(1e-4, totalWeight);

  float grainOverlay = valueNoise(rotate(grainUV, 1.) + vec2(3.));
  grainOverlay = mix(grainOverlay, valueNoise(rotate(grainUV, 2.) + vec2(-1.)), .5);
  grainOverlay = pow(grainOverlay, 1.3);

  float grainOverlayV = grainOverlay * 2. - 1.;
  vec3 grainOverlayColor = vec3(step(0., grainOverlayV));
  float grainOverlayStrength = u_grainOverlay * abs(grainOverlayV);
  grainOverlayStrength = pow(grainOverlayStrength, .8);
  color = mix(color, grainOverlayColor, .35 * grainOverlayStrength);

  opacity += .5 * grainOverlayStrength;
  opacity = clamp(opacity, 0., 1.);

  fragColor = vec4(color, opacity);
}
`;function QPe(n){if(Array.isArray(n))return n.length===4?n:n.length===3?[...n,1]:H6;if(typeof n!="string")return H6;let e,t,r,i=1;if(n.startsWith("#"))[e,t,r,i]=eDe(n);else if(n.startsWith("rgb"))[e,t,r,i]=tDe(n);else if(n.startsWith("hsl"))[e,t,r,i]=rDe(nDe(n));else return console.error("Unsupported color format",n),H6;return[eR(e,0,1),eR(t,0,1),eR(r,0,1),eR(i,0,1)]}function eDe(n){n=n.replace(/^#/,""),n.length===3&&(n=n.split("").map(s=>s+s).join("")),n.length===6&&(n=n+"ff");const e=parseInt(n.slice(0,2),16)/255,t=parseInt(n.slice(2,4),16)/255,r=parseInt(n.slice(4,6),16)/255,i=parseInt(n.slice(6,8),16)/255;return[e,t,r,i]}function tDe(n){const e=n.match(/^rgba?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*([0-9.]+))?\s*\)$/i);return e?[parseInt(e[1]??"0")/255,parseInt(e[2]??"0")/255,parseInt(e[3]??"0")/255,e[4]===void 0?1:parseFloat(e[4])]:[0,0,0,1]}function nDe(n){const e=n.match(/^hsla?\s*\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(?:,\s*([0-9.]+))?\s*\)$/i);return e?[parseInt(e[1]??"0"),parseInt(e[2]??"0"),parseInt(e[3]??"0"),e[4]===void 0?1:parseFloat(e[4])]:[0,0,0,1]}function rDe(n){const[e,t,r,i]=n,s=e/360,a=t/100,o=r/100;let l,c,f;if(t===0)l=c=f=o;else{const d=(b,S,w)=>(w<0&&(w+=1),w>1&&(w-=1),w<.16666666666666666?b+(S-b)*6*w:w<.5?S:w<.6666666666666666?b+(S-b)*(.6666666666666666-w)*6:b),p=o<.5?o*(1+a):o+a-o*a,g=2*o-p;l=d(g,p,s+1/3),c=d(g,p,s),f=d(g,p,s-1/3)}return[l,c,f,i]}const eR=(n,e,t)=>Math.min(Math.max(n,e),t),H6=[0,0,0,1];function iDe(){if(typeof window>"u"){console.warn("Paper Shaders: cant create an image on the server");return}const n=new Image;return n.src=sDe,n}const sDe="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";function aDe(n){const e=L.useRef(void 0),t=L.useCallback(r=>{const i=n.map(s=>{if(s!=null){if(typeof s=="function"){const a=s,o=a(r);return typeof o=="function"?o:()=>{a(null)}}return s.current=r,()=>{s.current=null}}});return()=>{i.forEach(s=>s==null?void 0:s())}},n);return L.useMemo(()=>n.every(r=>r==null)?null:r=>{e.current&&(e.current(),e.current=void 0),r!=null&&(e.current=t(r))},n)}function zG(n){if(n.naturalWidth<1024&&n.naturalHeight<1024){if(n.naturalWidth<1||n.naturalHeight<1)return;const e=n.naturalWidth/n.naturalHeight;n.width=Math.round(e>1?1024*e:1024),n.height=Math.round(e>1?1024:1024/e)}}async function UG(n){const e={},t=[],r=s=>{try{return s.startsWith("/")||new URL(s),!0}catch{return!1}},i=s=>{try{return s.startsWith("/")?!1:new URL(s,window.location.origin).origin!==window.location.origin}catch{return!1}};return Object.entries(n).forEach(([s,a])=>{if(typeof a=="string"){if(!a){e[s]=iDe();return}if(!r(a)){console.warn(`Uniform "${s}" has invalid URL "${a}". Skipping image loading.`);return}const o=new Promise((l,c)=>{const f=new Image;i(a)&&(f.crossOrigin="anonymous"),f.onload=()=>{zG(f),e[s]=f,l()},f.onerror=()=>{console.error(`Could not set uniforms. Failed to load image at ${a}`),c()},f.src=a});t.push(o)}else a instanceof HTMLImageElement&&zG(a),e[s]=a}),await Promise.all(t),e}const Bse=L.forwardRef(function({fragmentShader:e,uniforms:t,webGlContextAttributes:r,speed:i=0,frame:s=0,width:a,height:o,minPixelRatio:l,maxPixelCount:c,mipmaps:f,style:d,...p},g){const[b,S]=L.useState(!1),w=L.useRef(null),E=L.useRef(null),k=L.useRef(r);L.useEffect(()=>((async()=>{const D=await UG(t);w.current&&!E.current&&(E.current=new HPe(w.current,e,D,k.current,i,s,l,c,f),S(!0))})(),()=>{var D;(D=E.current)==null||D.dispose(),E.current=null}),[e]),L.useEffect(()=>{let O=!1;return(async()=>{var B;const I=await UG(t);O||(B=E.current)==null||B.setUniforms(I)})(),()=>{O=!0}},[t,b]),L.useEffect(()=>{var O;(O=E.current)==null||O.setSpeed(i)},[i,b]),L.useEffect(()=>{var O;(O=E.current)==null||O.setMaxPixelCount(c)},[c,b]),L.useEffect(()=>{var O;(O=E.current)==null||O.setMinPixelRatio(l)},[l,b]),L.useEffect(()=>{var O;(O=E.current)==null||O.setFrame(s)},[s,b]);const R=aDe([w,g]);return T.jsx("div",{ref:R,style:a!==void 0||o!==void 0?{width:typeof a=="string"&&isNaN(+a)===!1?+a:a,height:typeof o=="string"&&isNaN(+o)===!1?+o:o,...d}:d,...p})});Bse.displayName="ShaderMount";function oDe(n,e){var t,r,i;for(const s in n){if(s==="colors"){const a=Array.isArray(n.colors),o=Array.isArray(e.colors);if(!a||!o){if(Object.is(n.colors,e.colors)===!1)return!1;continue}if(((t=n.colors)==null?void 0:t.length)!==((r=e.colors)==null?void 0:r.length)||!((i=n.colors)!=null&&i.every((l,c)=>{var f;return l===((f=e.colors)==null?void 0:f[c])})))return!1;continue}if(Object.is(n[s],e[s])===!1)return!1}return!0}const yo={params:{...qPe,speed:1,frame:0,colors:["#e0eaff","#241d9a","#f75092","#9f50d3"],distortion:.8,swirl:.1,grainMixer:0,grainOverlay:0}},lDe=L.memo(function({speed:e=yo.params.speed,frame:t=yo.params.frame,colors:r=yo.params.colors,distortion:i=yo.params.distortion,swirl:s=yo.params.swirl,grainMixer:a=yo.params.grainMixer,grainOverlay:o=yo.params.grainOverlay,fit:l=yo.params.fit,rotation:c=yo.params.rotation,scale:f=yo.params.scale,originX:d=yo.params.originX,originY:p=yo.params.originY,offsetX:g=yo.params.offsetX,offsetY:b=yo.params.offsetY,worldWidth:S=yo.params.worldWidth,worldHeight:w=yo.params.worldHeight,...E}){const k={u_colors:r.map(QPe),u_colorsCount:r.length,u_distortion:i,u_swirl:s,u_grainMixer:a,u_grainOverlay:o,u_fit:YPe[l],u_rotation:c,u_scale:f,u_offsetX:g,u_offsetY:b,u_originX:d,u_originY:p,u_worldWidth:S,u_worldHeight:w};return T.jsx(Bse,{...E,speed:e,frame:t,fragmentShader:ZPe,uniforms:k})},oDe);function Fse(){const{theme:n}=$Q(),r=n==="dark"?["#000000","#0d3820","#061f10","#1a4728"]:["#ffffff","#b8e8cc","#d4f0e0","#e8f7ef"];return T.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:0,pointerEvents:"none",overflow:"hidden"},"aria-hidden":"true",children:[T.jsx(lDe,{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"block"},colors:r,speed:.8,distortion:1.2,swirl:.4,grainMixer:.06,grainOverlay:.04}),T.jsx("div",{style:{position:"absolute",bottom:"-10%",left:"-8%",width:700,height:700,borderRadius:"50%",background:n==="dark"?"radial-gradient(circle, rgba(78,255,160,0.13) 0%, transparent 60%)":"radial-gradient(circle, rgba(26,159,96,0.15) 0%, transparent 60%)",filter:"blur(50px)",pointerEvents:"none"}})]})}function cDe(){const n=Tc();return T.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[T.jsx(Fse,{}),T.jsx(Lse,{mode:"client"}),T.jsx("main",{style:{flex:1,paddingTop:64,position:"relative",zIndex:1},children:T.jsx(yD,{mode:"wait",children:T.jsx(nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:T.jsx(MQ,{})},n.pathname)})})]})}const CB=["function postJob(string title, string description, string category, uint256 deadline) external payable returns (uint256)","function acceptProposal(uint256 jobId, address freelancer, string tokenURI) external","function releasePayment(uint256 jobId) external","function raiseDispute(uint256 jobId) external","function refund(uint256 jobId) external","function getJob(uint256 jobId) external view returns (tuple(uint256 id, address client, address freelancer, string title, string description, uint256 budget, uint256 deadline, uint8 status, uint256 createdAt, string category))","function getAllJobs() external view returns (tuple(uint256 id, address client, address freelancer, string title, string description, uint256 budget, uint256 deadline, uint8 status, uint256 createdAt, string category)[])","event JobPosted(uint256 indexed jobId, address indexed client, uint256 budget, string title)","event ProposalAccepted(uint256 indexed jobId, address indexed freelancer)","event PaymentReleased(uint256 indexed jobId, address indexed freelancer, uint256 amount)","event JobRefunded(uint256 indexed jobId, address indexed client, uint256 amount)","event DisputeRaised(uint256 indexed jobId)","function markJobDelivered(uint256 jobId) external"];function uDe(){const{address:n,provider:e}=Po(),[t,r]=L.useState(null),i=fx(),s=Tc();return L.useEffect(()=>{if(!n||!e)return;const a=new n2(TB,CB,e),o=async(l,c)=>{if(c.toLowerCase()===n.toLowerCase())try{const f=await a.getJob(Number(l));r({jobId:Number(l),title:f.title,budget:f.budget})}catch(f){console.error("Failed to fetch job details for notification",f)}};return a.on("ProposalAccepted",o),()=>{a.removeAllListeners()}},[n,e]),T.jsxs("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[T.jsx(Fse,{}),T.jsx(Lse,{mode:"freelancer"}),T.jsx("main",{style:{flex:1,paddingTop:64,position:"relative",zIndex:1},children:T.jsx(yD,{mode:"wait",children:T.jsx(nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:T.jsx(MQ,{})},s.pathname)})}),t&&T.jsx("div",{style:{position:"fixed",inset:0,zIndex:1e3,background:"rgba(10, 11, 15, 0.95)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsxs("div",{style:{maxWidth:480,padding:48,textAlign:"center",animation:"fadeUp 0.4s ease-out both"},children:[T.jsx("div",{style:{width:120,height:120,borderRadius:"50%",margin:"0 auto",background:"var(--quai-green-10)",border:"2px solid var(--quai-green)",display:"flex",alignItems:"center",justifyContent:"center",animation:"expandCircle 0.5s cubic-bezier(0.16,1,0.3,1) both"},children:T.jsx(Ef,{size:48,color:"var(--quai-green)"})}),T.jsx("h2",{style:{fontSize:28,fontWeight:700,color:"var(--text-primary)",marginTop:24,animation:"fadeUp 0.4s ease-out both",animationDelay:"0.2s"},children:" You've been hired!"}),T.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",marginTop:8,animation:"fadeUp 0.4s ease-out both",animationDelay:"0.3s"},children:"Work Agreement NFT minted to your wallet"}),T.jsxs("div",{style:{background:"var(--bg-elevated)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-lg)",padding:20,marginTop:24,animation:"fadeUp 0.4s ease-out both",animationDelay:"0.4s",textAlign:"left"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Job"}),T.jsx("span",{style:{fontSize:13,color:"var(--text-primary)"},children:t.title})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Escrow"}),T.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--quai-green)"},children:[t.budget," QUAI"]})]})]}),T.jsxs("div",{style:{display:"flex",gap:12,marginTop:28,justifyContent:"center",animation:"fadeUp 0.4s ease-out both",animationDelay:"0.5s"},children:[T.jsx("button",{onClick:()=>r(null),className:"btn-secondary",children:"Dismiss"}),T.jsx("button",{onClick:()=>{r(null),i("/freelancer/contracts")},className:"btn-primary",children:"Go to Active Contracts "})]})]})})]})}const Si=Math.floor(Date.now()/1e3),Ii=86400,VM=[{id:1n,title:"Build a DeFi Dashboard with Quai Network Integration",description:"We need a senior React developer to build a DeFi analytics dashboard. The dashboard should display token prices, liquidity pools, and yield farming opportunities on Quai Network. Must include wallet connection via Pelagus and real-time data fetching.",category:"Development",budget:BigInt("2000000000000000000"),deadline:BigInt(Si+14*Ii),createdAt:BigInt(Si-2*Ii),status:1n,client:Xo,freelancer:"0x0000000000000000000000000000000000000000"},{id:2n,title:"Design a Web3 Brand Identity & UI Kit",description:"Looking for an experienced Web3 designer to create a complete brand identity package including logo, color system, typography, and a reusable Figma UI kit for a decentralized freelance marketplace. Deliverables: Figma file, exported assets, brand guidelines PDF.",category:"Design",budget:BigInt("1500000000000000000"),deadline:BigInt(Si+21*Ii),createdAt:BigInt(Si-1*Ii),status:1n,client:Xo,freelancer:"0x0000000000000000000000000000000000000000"},{id:3n,title:"Write 10 Technical Blog Posts on Quai Network",description:"We are looking for a skilled technical writer to produce 10 in-depth blog posts explaining Quai Network's architecture, consensus mechanism, and developer ecosystem. Each post should be 1,5002,500 words with code examples where relevant.",category:"Writing",budget:BigInt("800000000000000000"),deadline:BigInt(Si+30*Ii),createdAt:BigInt(Si-3*Ii),status:1n,client:Xo,freelancer:"0x0000000000000000000000000000000000000000"},{id:4n,title:"Smart Contract Audit  ERC-20 Token with Staking",description:"Our ERC-20 token contract with integrated staking and rewards distribution needs a thorough security audit. The contract is approximately 450 lines of Solidity. Deliverables include a detailed vulnerability report with severity ratings and remediation recommendations.",category:"Web3",budget:BigInt("5000000000000000000"),deadline:BigInt(Si+7*Ii),createdAt:BigInt(Si-4*Ii),status:1n,client:Xo,freelancer:"0x0000000000000000000000000000000000000000"},{id:5n,title:"React Native Mobile Wallet App for Quai",description:"Seeking an experienced React Native developer to build a mobile crypto wallet for iOS and Android. Features: QR code scanning, transaction history, real-time price feeds, push notifications for incoming transactions, and biometric authentication.",category:"Mobile",budget:BigInt("8000000000000000000"),deadline:BigInt(Si+45*Ii),createdAt:BigInt(Si-5*Ii),status:2n,client:Xo,freelancer:zl},{id:6n,title:"Node.js Backend for NFT Marketplace API",description:"Build a scalable REST API using Node.js and Express for our NFT marketplace.",category:"Development",budget:BigInt("3500000000000000000"),deadline:BigInt(Si+28*Ii),createdAt:BigInt(Si-6*Ii),status:1n,client:Xo,freelancer:"0x0000000000000000000000000000000000000000"},{id:7n,title:"Video Editor for Project Documentary",description:"We need a creative video editor to assemble a 5-minute documentary about our blockchain ecosystem.",category:"Video",budget:BigInt("1200000000000000000"),deadline:BigInt(Si+10*Ii),createdAt:BigInt(Si-8*Ii),status:3n,client:Xo,freelancer:zl},{id:8n,title:"Cybersecurity Consultant  Penetration Test",description:"Perform a full penetration test on our infrastructure and report vulnerabilities.",category:"Security",budget:BigInt("4000000000000000000"),deadline:BigInt(Si+15*Ii),createdAt:BigInt(Si-10*Ii),status:1n,client:"0x1c2b3d4e5f6g7h8i9j0k1l2m3n4o5p6q7r8s9t0u",freelancer:"0x0000000000000000000000000000000000000000"}],jG=[{tokenId:1,jobTitle:"Quai Network Landing Page Redesign",completedAt:Si-5*Ii,client:Xo,freelancer:zl,amount:BigInt("1200000000000000000")},{tokenId:2,jobTitle:"Smart Contract Development  DEX Router",completedAt:Si-35*Ii,client:Xo,freelancer:zl,amount:BigInt("3500000000000000000")},{tokenId:3,jobTitle:"Token Audit Report  Quai Governance",completedAt:Si-65*Ii,client:Xo,freelancer:zl,amount:BigInt("2000000000000000000")},{tokenId:4,jobTitle:"Marketing Campaign  Q1 Launch",completedAt:Si-95*Ii,client:Xo,freelancer:zl,amount:BigInt("4500000000000000000")},{tokenId:5,jobTitle:"Documentation Portal Setup",completedAt:Si-125*Ii,client:Xo,freelancer:zl,amount:BigInt("800000000000000000")},{tokenId:6,jobTitle:"Community Discord Bot",completedAt:Si-155*Ii,client:Xo,freelancer:zl,amount:BigInt("1500000000000000000")}],fDe=[{jobId:1,freelancerAddress:zl,rate:"1.8",coverLetter:"I have 5 years of experience building DeFi dashboards...",submittedAt:Si-1*Ii,status:"pending"},{jobId:2,freelancerAddress:zl,rate:"1.2",coverLetter:"As a Web3 designer with 4 years experience...",submittedAt:Si-12*3600,status:"pending"},{jobId:7,freelancerAddress:zl,rate:"1.2",coverLetter:"Experience editor here, can deliver quickly.",submittedAt:Si-9*Ii,status:"accepted",jobDetails:{status:"completed"}}],dDe="qw_demo_jobs";function hDe(){try{const n=localStorage.getItem(dDe);if(!n)return VM;const e=JSON.parse(n).map(t=>({...t,id:BigInt(t.id),budget:BigInt(t.budget),deadline:BigInt(t.deadline),createdAt:BigInt(t.createdAt),status:BigInt(t.status)}));return[...VM,...e]}catch{return VM}}const pDe=["function mintAgreement(address client, address freelancer, uint256 jobId, uint256 amount, string tokenURI) external returns (uint256)","function updateStatus(uint256 jobId, string newStatus) external","function getAgreement(uint256 tokenId) external view returns (tuple(address client, address freelancer, uint256 jobId, uint256 amount, string status, uint256 createdAt))","function tokenIds() external view returns (uint256)","function ownerOf(uint256 tokenId) external view returns (address)","event AgreementMinted(uint256 indexed tokenId, uint256 indexed jobId, address indexed client, address indexed freelancer)","event AgreementStatusUpdated(uint256 indexed tokenId, string newStatus)"];function fI(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function mDe(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function o(f){try{c(r.next(f))}catch(d){a(d)}}function l(f){try{c(r.throw(f))}catch(d){a(d)}}function c(f){f.done?s(f.value):i(f.value).then(o,l)}c((r=r.apply(n,e||[])).next())})}const gDe=n=>n?(...e)=>n(...e):(...e)=>fetch(...e);class nj extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class yDe extends nj{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class HG extends nj{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class VG extends nj{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var kB;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(kB||(kB={}));class vDe{constructor(e,{headers:t={},customFetch:r,region:i=kB.Any}={}){this.url=e,this.headers=t,this.region=i,this.fetch=gDe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return mDe(this,arguments,void 0,function*(t,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:f,timeout:d}=r;let p={},{region:g}=r;g||(g=this.region);const b=new URL(`${this.url}/${t}`);g&&g!=="any"&&(p["x-region"]=g,b.searchParams.set("forceFunctionRegion",g));let S;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(p["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(p["Content-Type"]="application/json",S=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?S=JSON.stringify(c):S=c;let w=f;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),f?(w=a.signal,f.addEventListener("abort",()=>a.abort())):w=a.signal);const E=yield this.fetch(b.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:S,signal:w}).catch(D=>{throw new yDe(D)}),k=E.headers.get("x-relay-error");if(k&&k==="true")throw new HG(E);if(!E.ok)throw new VG(E);let R=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return R==="application/json"?O=yield E.json():R==="application/octet-stream"||R==="application/pdf"?O=yield E.blob():R==="text/event-stream"?O=E:R==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(o){return{data:null,error:o,response:o instanceof VG||o instanceof HG?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var xDe=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},bDe=class{constructor(n){var e,t,r;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(e=n.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=n.signal,this.isMaybeSingle=(t=n.isMaybeSingle)!==null&&t!==void 0?t:!1,this.urlLengthLimit=(r=n.urlLengthLimit)!==null&&r!==void 0?r:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=new Headers(this.headers),this.headers.set(n,e),this}then(n,e){var t=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,f=s.statusText;if(s.ok){var d,p;if(t.method!=="HEAD"){var g;const E=await s.text();E===""||(t.headers.get("Accept")==="text/csv"||t.headers.get("Accept")&&(!((g=t.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?o=E:o=JSON.parse(E))}const S=(d=t.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(p=s.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");S&&w&&w.length>1&&(l=parseInt(w[1])),t.isMaybeSingle&&t.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,f="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var b;const S=await s.text();try{a=JSON.parse(S),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,f="OK")}catch{s.status===404&&S===""?(c=204,f="No Content"):a={message:S}}if(a&&t.isMaybeSingle&&(!(a==null||(b=a.details)===null||b===void 0)&&b.includes("0 rows"))&&(a=null,c=200,f="OK"),a&&t.shouldThrowOnError)throw new xDe(a)}return{error:a,data:o,count:l,status:c,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="",l="",c="";const f=s==null?void 0:s.cause;if(f){var d,p,g,b;const E=(d=f==null?void 0:f.message)!==null&&d!==void 0?d:"",k=(p=f==null?void 0:f.code)!==null&&p!==void 0?p:"";o=`${(g=s==null?void 0:s.name)!==null&&g!==void 0?g:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(b=f==null?void 0:f.name)!==null&&b!==void 0?b:"Error"}: ${E}`,k&&(o+=` (${k})`),f!=null&&f.stack&&(o+=`
${f.stack}`)}else{var S;o=(S=s==null?void 0:s.stack)!==null&&S!==void 0?S:""}const w=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(c="",l="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((f==null?void 0:f.name)==="HeadersOverflowError"||(f==null?void 0:f.code)==="UND_ERR_HEADERS_OVERFLOW")&&(c="",l="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(l+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:l,code:c},data:null,count:null,status:0,statusText:""}})),i.then(n,e)}returns(){return this}overrideTypes(){return this}},_De=class extends bDe{select(n){let e=!1;const t=(n??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",t),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:e=!0,nullsFirst:t,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${n}.${e?"asc":"desc"}${t===void 0?"":t?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:e,referencedTable:t=e}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${n}`),this}range(n,e,{foreignTable:t,referencedTable:r=t}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this.url.searchParams.set(s,`${e-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:e=!1,settings:t=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[n?"analyze":null,e?"verbose":null,t?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const WG=new RegExp("[,()]");var b1=class extends _De{eq(n,e){return this.url.searchParams.append(n,`eq.${e}`),this}neq(n,e){return this.url.searchParams.append(n,`neq.${e}`),this}gt(n,e){return this.url.searchParams.append(n,`gt.${e}`),this}gte(n,e){return this.url.searchParams.append(n,`gte.${e}`),this}lt(n,e){return this.url.searchParams.append(n,`lt.${e}`),this}lte(n,e){return this.url.searchParams.append(n,`lte.${e}`),this}like(n,e){return this.url.searchParams.append(n,`like.${e}`),this}likeAllOf(n,e){return this.url.searchParams.append(n,`like(all).{${e.join(",")}}`),this}likeAnyOf(n,e){return this.url.searchParams.append(n,`like(any).{${e.join(",")}}`),this}ilike(n,e){return this.url.searchParams.append(n,`ilike.${e}`),this}ilikeAllOf(n,e){return this.url.searchParams.append(n,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(n,e){return this.url.searchParams.append(n,`ilike(any).{${e.join(",")}}`),this}regexMatch(n,e){return this.url.searchParams.append(n,`match.${e}`),this}regexIMatch(n,e){return this.url.searchParams.append(n,`imatch.${e}`),this}is(n,e){return this.url.searchParams.append(n,`is.${e}`),this}isDistinct(n,e){return this.url.searchParams.append(n,`isdistinct.${e}`),this}in(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&WG.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`in.(${t})`),this}notIn(n,e){const t=Array.from(new Set(e)).map(r=>typeof r=="string"&&WG.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(n,`not.in.(${t})`),this}contains(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cs.{${e.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(e)}`),this}containedBy(n,e){return typeof e=="string"?this.url.searchParams.append(n,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(n,`cd.{${e.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(e)}`),this}rangeGt(n,e){return this.url.searchParams.append(n,`sr.${e}`),this}rangeGte(n,e){return this.url.searchParams.append(n,`nxl.${e}`),this}rangeLt(n,e){return this.url.searchParams.append(n,`sl.${e}`),this}rangeLte(n,e){return this.url.searchParams.append(n,`nxr.${e}`),this}rangeAdjacent(n,e){return this.url.searchParams.append(n,`adj.${e}`),this}overlaps(n,e){return typeof e=="string"?this.url.searchParams.append(n,`ov.${e}`):this.url.searchParams.append(n,`ov.{${e.join(",")}}`),this}textSearch(n,e,{config:t,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=t===void 0?"":`(${t})`;return this.url.searchParams.append(n,`${i}fts${s}.${e}`),this}match(n){return Object.entries(n).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(n,e,t){return this.url.searchParams.append(n,`not.${e}.${t}`),this}or(n,{foreignTable:e,referencedTable:t=e}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${n})`),this}filter(n,e,t){return this.url.searchParams.append(n,`${e}.${t}`),this}},wDe=class{constructor(n,{headers:e={},schema:t,fetch:r,urlLengthLimit:i=8e3}){this.url=n,this.headers=new Headers(e),this.schema=t,this.fetch=r,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,e){const{head:t=!1,count:r}=e??{},i=t?"HEAD":"GET";let s=!1;const a=(n??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new b1({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:e,defaultToNull:t=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(e&&a.append("Prefer",`count=${e}`),t||a.append("Prefer","missing=default"),Array.isArray(n)){const o=n.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new b1({method:i,url:s,headers:a,schema:this.schema,body:n,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:e,ignoreDuplicates:t=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${t?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(n)){const c=n.reduce((f,d)=>f.concat(Object.keys(d)),[]);if(c.length>0){const f=[...new Set(c)].map(d=>`"${d}"`);o.searchParams.set("columns",f.join(","))}}return new b1({method:a,url:o,headers:l,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:e}={}){var t;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new b1({method:r,url:i,headers:s,schema:this.schema,body:n,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var e;const t="DELETE",{url:r,headers:i}=this.cloneRequestState();return n&&i.append("Prefer",`count=${n}`),new b1({method:t,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function PA(n){"@babel/helpers - typeof";return PA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PA(n)}function SDe(n,e){if(PA(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(PA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function EDe(n){var e=SDe(n,"string");return PA(e)=="symbol"?e:e+""}function MDe(n,e,t){return(e=EDe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $G(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$G(Object(t),!0).forEach(function(r){MDe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$G(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}var ADe=class zse{constructor(e,{headers:t={},schema:r,fetch:i,timeout:s,urlLengthLimit:a=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.urlLengthLimit=a;const o=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(l,c)=>{const f=new AbortController,d=setTimeout(()=>f.abort(),s),p=c==null?void 0:c.signal;if(p){if(p.aborted)return clearTimeout(d),o(l,c);const g=()=>{clearTimeout(d),f.abort()};return p.addEventListener("abort",g,{once:!0}),o(l,tR(tR({},c),{},{signal:f.signal})).finally(()=>{clearTimeout(d),p.removeEventListener("abort",g)})}return o(l,tR(tR({},c),{},{signal:f.signal})).finally(()=>clearTimeout(d))}:this.fetch=o}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new wDe(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new zse(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;const f=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(f)),d=r&&Object.values(t).some(f);d?(o="POST",c=t):r||i?(o=r?"HEAD":"GET",Object.entries(t).filter(([g,b])=>b!==void 0).map(([g,b])=>[g,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([g,b])=>{l.searchParams.append(g,b)})):(o="POST",c=t);const p=new Headers(this.headers);return d?p.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&p.set("Prefer",`count=${s}`),new b1({method:o,url:l,headers:p,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}};class TDe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const t=globalThis.process;if(t){const r=t.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const r=this.getWebSocketConstructor();return new r(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const CDe="2.97.0",kDe=`realtime-js/${CDe}`,RDe="1.0.0",Use="2.0.0",GG=Use,RB=1e4,ODe=1e3,PDe=100;var d0;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(d0||(d0={}));var Js;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Js||(Js={}));var vf;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(vf||(vf={}));var OB;(function(n){n.websocket="websocket"})(OB||(OB={}));var Uy;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Uy||(Uy={}));class DDe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,t){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return t(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return t(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer((t=e.payload)===null||t===void 0?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var t,r;const i=(r=(t=e.payload)===null||t===void 0?void 0:t.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,t,r){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},d=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+p);let b=new DataView(g),S=0;b.setUint8(S++,this.KINDS.userBroadcastPush),b.setUint8(S++,l.length),b.setUint8(S++,o.length),b.setUint8(S++,a.length),b.setUint8(S++,c.length),b.setUint8(S++,d.length),b.setUint8(S++,t),Array.from(l,E=>b.setUint8(S++,E.charCodeAt(0))),Array.from(o,E=>b.setUint8(S++,E.charCodeAt(0))),Array.from(a,E=>b.setUint8(S++,E.charCodeAt(0))),Array.from(c,E=>b.setUint8(S++,E.charCodeAt(0))),Array.from(d,E=>b.setUint8(S++,E.charCodeAt(0)));var w=new Uint8Array(g.byteLength+r.byteLength);return w.set(new Uint8Array(g),0),w.set(new Uint8Array(r),g.byteLength),w.buffer}decode(e,t){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return t(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,l]=r;return t({join_ref:i,ref:s,topic:a,event:o,payload:l})}return t({})}_binaryDecode(e){const t=new DataView(e),r=t.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,t,i)}}_decodeUserBroadcast(e,t,r){const i=t.getUint8(1),s=t.getUint8(2),a=t.getUint8(3),o=t.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const f=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+a));l=l+a;const p=e.slice(l,e.byteLength),g=o===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,b={type:this.BROADCAST_EVENT,event:f,payload:g};return a>0&&(b.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||((t=e==null?void 0:e.constructor)===null||t===void 0?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>t.includes(r)))}}class jse{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var li;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(li||(li={}));const qG=(n,e,t={})=>{var r;const i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=IDe(a,n,e,i),s),{}):{}},IDe=(n,e,t,r)=>{const i=e.find(o=>o.name===n),s=i==null?void 0:i.type,a=t[n];return s&&!r.includes(s)?Hse(s,a):PB(a)},Hse=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return FDe(e,t)}switch(n){case li.bool:return NDe(e);case li.float4:case li.float8:case li.int2:case li.int4:case li.int8:case li.numeric:case li.oid:return LDe(e);case li.json:case li.jsonb:return BDe(e);case li.timestamp:return zDe(e);case li.abstime:case li.date:case li.daterange:case li.int4range:case li.int8range:case li.money:case li.reltime:case li.text:case li.time:case li.timestamptz:case li.timetz:case li.tsrange:case li.tstzrange:return PB(e);default:return PB(e)}},PB=n=>n,NDe=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},LDe=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},BDe=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},FDe=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let s;const a=n.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Hse(e,o))}return n},zDe=n=>typeof n=="string"?n.replace(" ","T"):n,Vse=n=>{const e=new URL(n);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class V6{constructor(e,t,r={},i=RB){this.channel=e,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var YG;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(YG||(YG={}));class WM{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=WM.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=WM.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=WM.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,i){const s=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(s,(c,f)=>{a[c]||(l[c]=f)}),this.map(a,(c,f)=>{const d=s[c];if(d){const p=f.map(w=>w.presence_ref),g=d.map(w=>w.presence_ref),b=f.filter(w=>g.indexOf(w.presence_ref)<0),S=d.filter(w=>p.indexOf(w.presence_ref)<0);b.length>0&&(o[c]=b),S.length>0&&(l[c]=S)}else o[c]=f}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,t,r,i){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const f=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),f.length>0){const d=e[o].map(g=>g.presence_ref),p=f.filter(g=>d.indexOf(g.presence_ref)<0);e[o].unshift(...p)}r(o,f,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const f=l.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const i=e[r];return"metas"in i?t[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[r]=i,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var XG;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(XG||(XG={}));var $M;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})($M||($M={}));var ip;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ip||(ip={}));class B1{constructor(e,t={config:{}},r){var i,s;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Js.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new V6(this,vf.join,this.params,this.timeout),this.rejoinTimer=new jse(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Js.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Js.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Js.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Js.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Js.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vf.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new WM(this),this.broadcastEndpointURL=Vse(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Js.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(g=>g.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[$M.PRESENCE]&&this.bindings[$M.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(ip.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(ip.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:g})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(ip.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,w=(b=S==null?void 0:S.length)!==null&&b!==void 0?b:0,E=[];for(let k=0;k<w;k++){const R=S[k],{filter:{event:O,schema:D,table:I,filter:B}}=R,z=g&&g[k];if(z&&z.event===O&&B1.isFilterValueEqual(z.schema,D)&&B1.isFilterValueEqual(z.table,I)&&B1.isFilterValueEqual(z.filter,B))E.push(Object.assign(Object.assign({},R),{id:z.id}));else{this.unsubscribe(),this.state=Js.errored,e==null||e(ip.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(ip.SUBSCRIBED);return}}).receive("error",g=>{this.state=Js.errored,e==null||e(ip.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ip.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===Js.joined&&e===$M.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var i;if(t==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,t={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Js.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vf.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new V6(this,vf.leave,{},e),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Js.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(s),a}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new V6(this,e,t,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>PDe){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:f}=vf;if(r&&[o,l,c,f].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var b,S,w;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(S=g.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(g=>g.callback(p,r)):(s=this.bindings[a])===null||s===void 0||s.filter(g=>{var b,S,w,E,k,R;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const O=g.id,D=(b=g.filter)===null||b===void 0?void 0:b.event;return O&&((S=t.ids)===null||S===void 0?void 0:S.includes(O))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((w=t.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(k=(E=g==null?void 0:g.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return O==="*"||O===((R=t==null?void 0:t.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof p=="object"&&"ids"in p){const b=p.data,{schema:S,table:w,commit_timestamp:E,type:k,errors:R}=b;p=Object.assign(Object.assign({},{schema:S,table:w,commit_timestamp:E,eventType:k,new:{},old:{},errors:R}),this._getPayloadRecords(b))}g.callback(p,r)})}_isClosed(){return this.state===Js.closed}_isJoined(){return this.state===Js.joined}_isJoining(){return this.state===Js.joining}_isLeaving(){return this.state===Js.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const i=e.toLocaleLowerCase(),s={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&B1.isEqual(i.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(e??void 0)===(t??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(vf.close,{},e)}_onError(e){this._on(vf.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Js.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=qG(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=qG(e.columns,e.old_record)),t}}const W6=()=>{},nR={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},UDe=[1e3,2e3,5e3,1e4],jDe=1e4,HDe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class VDe{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=RB,this.transport=null,this.heartbeatIntervalMs=nR.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=W6,this.ref=0,this.reconnectTimer=null,this.vsn=GG,this.logger=W6,this.conn=null,this.sendBuffer=[],this.serializer=new DDe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=t==null?void 0:t.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${OB.websocket}`,this.httpEndpoint=Vse(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t==null?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=TDe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,t??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case d0.connecting:return Uy.Connecting;case d0.open:return Uy.Open;case d0.closing:return Uy.Closing;default:return Uy.Closed}}isConnected(){return this.connectionState()===Uy.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new B1(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(ODe,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},nR.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply"&&t.ref&&t.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error",c)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=t,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===d0.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===d0.open||this.conn.readyState===d0.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(t=>{this.log("error","error waiting for auth on connect",t),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this._terminateWorker()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(t){this.log("error","error in heartbeat callback",t)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(vf.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${e}${r}${i}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([HDe],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const s={access_token:t,version:kDe};t&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(vf.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new jse(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},nR.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,i,s,a,o,l,c,f,d,p,g;switch(this.transport=(t=e==null?void 0:e.transport)!==null&&t!==void 0?t:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:RB,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:nR.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:W6,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:GG,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:(b=>UDe[b-1]||jDe),this.vsn){case RDe:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((b,S)=>S(JSON.stringify(b))),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:((b,S)=>S(JSON.parse(b)));break;case Use:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var DA=class extends Error{constructor(n,e){var t;super(n),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((t=e.icebergType)==null?void 0:t.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WDe(n,e,t){const r=new URL(e,n);if(t)for(const[i,s]of Object.entries(t))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function $De(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function GDe(n){const e=n.fetchImpl??globalThis.fetch;return{async request({method:t,path:r,query:i,body:s,headers:a}){const o=WDe(n.baseUrl,r,i),l=await $De(n.auth),c=await e(o,{method:t,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),f=await c.text(),d=(c.headers.get("content-type")||"").includes("application/json"),p=d&&f?JSON.parse(f):f;if(!c.ok){const g=d?p:void 0,b=g==null?void 0:g.error;throw new DA((b==null?void 0:b.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:g})}return{status:c.status,headers:c.headers,data:p}}}}function rR(n){return n.join("")}var qDe=class{constructor(n,e=""){this.client=n,this.prefix=e}async listNamespaces(n){const e=n?{parent:rR(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(n,e){const t={namespace:n.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:t})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rR(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rR(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rR(n.namespace)}`}),!0}catch(e){if(e instanceof DA&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(n,e){try{return await this.createNamespace(n,e)}catch(t){if(t instanceof DA&&t.status===409)return;throw t}}};function t1(n){return n.join("")}var YDe=class{constructor(n,e="",t){this.client=n,this.prefix=e,this.accessDelegation=t}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${t1(n.namespace)}/tables`})).data.identifiers}async createTable(n,e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${t1(n.namespace)}/tables`,body:e,headers:t})).data.metadata}async updateTable(n,e){const t=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${t1(n.namespace)}/tables/${n.name}`,body:e});return{"metadata-location":t.data["metadata-location"],metadata:t.data.metadata}}async dropTable(n,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${t1(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(n){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${t1(n.namespace)}/tables/${n.name}`,headers:e})).data.metadata}async tableExists(n){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${t1(n.namespace)}/tables/${n.name}`,headers:e}),!0}catch(t){if(t instanceof DA&&t.status===404)return!1;throw t}}async createTableIfNotExists(n,e){try{return await this.createTable(n,e)}catch(t){if(t instanceof DA&&t.status===409)return await this.loadTable({namespace:n.namespace,name:e.name});throw t}}},XDe=class{constructor(n){var r;let e="v1";n.catalogName&&(e+=`/${n.catalogName}`);const t=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=GDe({baseUrl:t,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(r=n.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new qDe(this.client,e),this.tableOps=new YDe(this.client,e,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,e){return this.namespaceOps.createNamespace(n,e)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,e){return this.tableOps.createTable(n,e)}async updateTable(n,e){return this.tableOps.updateTable(n,e)}async dropTable(n,e){await this.tableOps.dropTable(n,e)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,e){return this.namespaceOps.createNamespaceIfNotExists(n,e)}async createTableIfNotExists(n,e){return this.tableOps.createTableIfNotExists(n,e)}},dI=class extends Error{constructor(n,e="storage",t,r){super(n),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=t,this.statusCode=r}};function hI(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var iR=class extends dI{constructor(n,e,t,r="storage"){super(n,r,e,t),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=t}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Wse=class extends dI{constructor(n,e,t="storage"){super(n,t),this.name=t==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const KDe=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),JDe=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},DB=n=>{if(Array.isArray(n))return n.map(t=>DB(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const i=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=DB(r)}),e},ZDe=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function IA(n){"@babel/helpers - typeof";return IA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IA(n)}function QDe(n,e){if(IA(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(IA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function eIe(n){var e=QDe(n,"string");return IA(e)=="symbol"?e:e+""}function tIe(n,e,t){return(e=eIe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KG(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function vn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KG(Object(t),!0).forEach(function(r){tIe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KG(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const JG=n=>{var e;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(e=n.error)===null||e===void 0?void 0:e.message)||JSON.stringify(n)},nIe=async(n,e,t,r)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(t!=null&&t.noResolveJson)){const i=n,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||s+"";e(new iR(JG(a),s,o,r))}).catch(()=>{if(r==="vectors"){const a=s+"";e(new iR(i.statusText||`HTTP ${s} error`,s,a,r))}else{const a=s+"";e(new iR(i.statusText||`HTTP ${s} error`,s,a,r))}});else{const a=s+"";e(new iR(i.statusText||`HTTP ${s} error`,s,a,r))}}else e(new Wse(JG(n),n,r))},rIe=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||n==="HEAD"||!r?vn(vn({},i),t):(JDe(r)?(i.headers=vn({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),vn(vn({},i),t))};async function YE(n,e,t,r,i,s,a){return new Promise((o,l)=>{n(t,rIe(e,r,i,s)).then(c=>{if(!c.ok)throw c;if(r!=null&&r.noResolveJson)return c;if(a==="vectors"){const f=c.headers.get("content-type");if(c.headers.get("content-length")==="0"||c.status===204)return{};if(!f||!f.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>nIe(c,l,r,a))})}function $se(n="storage"){return{get:async(e,t,r,i)=>YE(e,"GET",t,r,i,void 0,n),post:async(e,t,r,i,s)=>YE(e,"POST",t,i,s,r,n),put:async(e,t,r,i,s)=>YE(e,"PUT",t,i,s,r,n),head:async(e,t,r,i)=>YE(e,"HEAD",t,vn(vn({},r),{},{noResolveJson:!0}),i,void 0,n),remove:async(e,t,r,i,s)=>YE(e,"DELETE",t,i,s,r,n)}}const iIe=$se("storage"),{get:NA,post:df,put:IB,head:sIe,remove:rj}=iIe,pc=$se("vectors");var Fw=class{constructor(n,e={},t,r="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=e,this.fetch=KDe(t),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,e){return this.headers=vn(vn({},this.headers),{},{[n]:e}),this}async handleOperation(n){var e=this;try{return{data:await n(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(hI(t))return{data:null,error:t};throw t}}},aIe=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e}then(n,e){return this.execute().then(n,e)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(hI(e))return{data:null,error:e};throw e}}};let Gse;Gse=Symbol.toStringTag;var oIe=class{constructor(n,e){this.downloadFn=n,this.shouldThrowOnError=e,this[Gse]="BlobDownloadBuilder",this.promise=null}asStream(){return new aIe(this.downloadFn,this.shouldThrowOnError)}then(n,e){return this.getPromise().then(n,e)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(e){if(n.shouldThrowOnError)throw e;if(hI(e))return{data:null,error:e};throw e}}};const lIe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ZG={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cIe=class extends Fw{constructor(n,e={},t,r){super(n,e,r,"storage"),this.bucketId=t}async uploadOrUpdate(n,e,t,r){var i=this;return i.handleOperation(async()=>{let s;const a=vn(vn({},ZG),r);let o=vn(vn({},i.headers),n==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&t instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",t)):typeof FormData<"u"&&t instanceof FormData?(s=t,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=t,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=vn(vn({},o),r.headers));const c=i._removeEmptyFolders(e),f=i._getFinalPath(c),d=await(n=="PUT"?IB:df)(i.fetch,`${i.url}/object/${f}`,s,vn({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:c,id:d.Id,fullPath:d.Key}})}async upload(n,e,t){return this.uploadOrUpdate("POST",n,e,t)}async uploadToSignedUrl(n,e,t,r){var i=this;const s=i._removeEmptyFolders(n),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",e),i.handleOperation(async()=>{let l;const c=vn({upsert:ZG.upsert},r),f=vn(vn({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&t instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",t)):typeof FormData<"u"&&t instanceof FormData?(l=t,l.append("cacheControl",c.cacheControl)):(l=t,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType),{path:s,fullPath:(await IB(i.fetch,o.toString(),l,{headers:f})).Key}})}async createSignedUploadUrl(n,e){var t=this;return t.handleOperation(async()=>{let r=t._getFinalPath(n);const i=vn({},t.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await df(t.fetch,`${t.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(t.url+s.url),o=a.searchParams.get("token");if(!o)throw new dI("No token returned by API");return{signedUrl:a.toString(),path:n,token:o}})}async update(n,e,t){return this.uploadOrUpdate("PUT",n,e,t)}async move(n,e,t){var r=this;return r.handleOperation(async()=>await df(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers}))}async copy(n,e,t){var r=this;return r.handleOperation(async()=>({path:(await df(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:n,destinationKey:e,destinationBucket:t==null?void 0:t.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(n,e,t){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(n),s=await df(r.fetch,`${r.url}/object/sign/${i}`,vn({expiresIn:e},t!=null&&t.transform?{transform:t.transform}:{}),{headers:r.headers});const a=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)}})}async createSignedUrls(n,e,t){var r=this;return r.handleOperation(async()=>{const i=await df(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:n},{headers:r.headers}),s=t!=null&&t.download?`&download=${t.download===!0?"":t.download}`:"";return i.map(a=>vn(vn({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null}))})}download(n,e,t){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",a=this._getFinalPath(n),o=()=>NA(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0},t);return new oIe(o,this.shouldThrowOnError)}async info(n){var e=this;const t=e._getFinalPath(n);return e.handleOperation(async()=>DB(await NA(e.fetch,`${e.url}/object/info/${t}`,{headers:e.headers})))}async exists(n){var e=this;const t=e._getFinalPath(n);try{return await sIe(e.fetch,`${e.url}/object/${t}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(hI(r)&&r instanceof Wse){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(n,e){const t=this._getFinalPath(n),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${t}${o}`)}}}async remove(n){var e=this;return e.handleOperation(async()=>await rj(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:n},{headers:e.headers}))}async list(n,e,t){var r=this;return r.handleOperation(async()=>{const i=vn(vn(vn({},lIe),e),{},{prefix:n||""});return await df(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},t)})}async listV2(n,e){var t=this;return t.handleOperation(async()=>{const r=vn({},n);return await df(t.fetch,`${t.url}/object/list-v2/${t.bucketId}`,r,{headers:t.headers},e)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const e=[];return n.width&&e.push(`width=${n.width}`),n.height&&e.push(`height=${n.height}`),n.resize&&e.push(`resize=${n.resize}`),n.format&&e.push(`format=${n.format}`),n.quality&&e.push(`quality=${n.quality}`),e.join("&")}};const uIe="2.97.0",FT={"X-Client-Info":`storage-js/${uIe}`};var fIe=class extends Fw{constructor(n,e={},t,r){const i=new URL(n);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=vn(vn({},FT),e);super(s,a,t,"storage")}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=e.listBucketOptionsToQueryString(n);return await NA(e.fetch,`${e.url}/bucket${t}`,{headers:e.headers})})}async getBucket(n){var e=this;return e.handleOperation(async()=>await NA(e.fetch,`${e.url}/bucket/${n}`,{headers:e.headers}))}async createBucket(n,e={public:!1}){var t=this;return t.handleOperation(async()=>await df(t.fetch,`${t.url}/bucket`,{id:n,name:n,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async updateBucket(n,e){var t=this;return t.handleOperation(async()=>await IB(t.fetch,`${t.url}/bucket/${n}`,{id:n,name:n,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:t.headers}))}async emptyBucket(n){var e=this;return e.handleOperation(async()=>await df(e.fetch,`${e.url}/bucket/${n}/empty`,{},{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await rj(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(n){const e={};return n&&("limit"in n&&(e.limit=String(n.limit)),"offset"in n&&(e.offset=String(n.offset)),n.search&&(e.search=n.search),n.sortColumn&&(e.sortColumn=n.sortColumn),n.sortOrder&&(e.sortOrder=n.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},dIe=class extends Fw{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=vn(vn({},FT),e);super(r,i,t,"storage")}async createBucket(n){var e=this;return e.handleOperation(async()=>await df(e.fetch,`${e.url}/bucket`,{name:n},{headers:e.headers}))}async listBuckets(n){var e=this;return e.handleOperation(async()=>{const t=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&t.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&t.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&t.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&t.set("sortOrder",n.sortOrder),n!=null&&n.search&&t.set("search",n.search);const r=t.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return await NA(e.fetch,i,{headers:e.headers})})}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await rj(e.fetch,`${e.url}/bucket/${n}`,{},{headers:e.headers}))}from(n){var e=this;if(!ZDe(n))throw new dI("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const t=new XDe({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(t,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},hIe=class extends Fw{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=vn(vn({},FT),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createIndex(n){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/CreateIndex`,n,{headers:e.headers})||{})}async getIndex(n,e){var t=this;return t.handleOperation(async()=>await pc.post(t.fetch,`${t.url}/GetIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers}))}async listIndexes(n){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/ListIndexes`,n,{headers:e.headers}))}async deleteIndex(n,e){var t=this;return t.handleOperation(async()=>await pc.post(t.fetch,`${t.url}/DeleteIndex`,{vectorBucketName:n,indexName:e},{headers:t.headers})||{})}},pIe=class extends Fw{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=vn(vn({},FT),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async putVectors(n){var e=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/PutVectors`,n,{headers:e.headers})||{})}async getVectors(n){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/GetVectors`,n,{headers:e.headers}))}async listVectors(n){var e=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/ListVectors`,n,{headers:e.headers}))}async queryVectors(n){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/QueryVectors`,n,{headers:e.headers}))}async deleteVectors(n){var e=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/DeleteVectors`,n,{headers:e.headers})||{})}},mIe=class extends Fw{constructor(n,e={},t){const r=n.replace(/\/$/,""),i=vn(vn({},FT),{},{"Content-Type":"application/json"},e);super(r,i,t,"vectors")}async createBucket(n){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}async getBucket(n){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:n},{headers:e.headers}))}async listBuckets(n={}){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/ListVectorBuckets`,n,{headers:e.headers}))}async deleteBucket(n){var e=this;return e.handleOperation(async()=>await pc.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:e.headers})||{})}},gIe=class extends mIe{constructor(n,e={}){super(n,e.headers||{},e.fetch)}from(n){return new yIe(this.url,this.headers,n,this.fetch)}async createBucket(n){var e=()=>super.createBucket,t=this;return e().call(t,n)}async getBucket(n){var e=()=>super.getBucket,t=this;return e().call(t,n)}async listBuckets(n={}){var e=()=>super.listBuckets,t=this;return e().call(t,n)}async deleteBucket(n){var e=()=>super.deleteBucket,t=this;return e().call(t,n)}},yIe=class extends hIe{constructor(n,e,t,r){super(n,e,r),this.vectorBucketName=t}async createIndex(n){var e=()=>super.createIndex,t=this;return e().call(t,vn(vn({},n),{},{vectorBucketName:t.vectorBucketName}))}async listIndexes(n={}){var e=()=>super.listIndexes,t=this;return e().call(t,vn(vn({},n),{},{vectorBucketName:t.vectorBucketName}))}async getIndex(n){var e=()=>super.getIndex,t=this;return e().call(t,t.vectorBucketName,n)}async deleteIndex(n){var e=()=>super.deleteIndex,t=this;return e().call(t,t.vectorBucketName,n)}index(n){return new vIe(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},vIe=class extends pIe{constructor(n,e,t,r,i){super(n,e,i),this.vectorBucketName=t,this.indexName=r}async putVectors(n){var e=()=>super.putVectors,t=this;return e().call(t,vn(vn({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async getVectors(n){var e=()=>super.getVectors,t=this;return e().call(t,vn(vn({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async listVectors(n={}){var e=()=>super.listVectors,t=this;return e().call(t,vn(vn({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async queryVectors(n){var e=()=>super.queryVectors,t=this;return e().call(t,vn(vn({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}async deleteVectors(n){var e=()=>super.deleteVectors,t=this;return e().call(t,vn(vn({},n),{},{vectorBucketName:t.vectorBucketName,indexName:t.indexName}))}},xIe=class extends fIe{constructor(n,e={},t,r){super(n,e,t,r)}from(n){return new cIe(this.url,this.headers,n,this.fetch)}get vectors(){return new gIe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dIe(this.url+"/iceberg",this.headers,this.fetch)}};const qse="2.97.0",_1=30*1e3,NB=3,$6=NB*_1,bIe="http://localhost:9999",_Ie="supabase.auth.token",wIe={"X-Client-Info":`gotrue-js/${qse}`},LB="X-Supabase-Api-Version",Yse={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},SIe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EIe=600*1e3;class LA extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function sn(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class MIe extends LA{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function AIe(n){return sn(n)&&n.name==="AuthApiError"}class jy extends LA{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Kp extends LA{constructor(e,t,r,i){super(e,r,i),this.name=t,this.status=r}}class ac extends Kp{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function G6(n){return sn(n)&&n.name==="AuthSessionMissingError"}class n1 extends Kp{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class sR extends Kp{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class aR extends Kp{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TIe(n){return sn(n)&&n.name==="AuthImplicitGrantRedirectError"}class QG extends Kp{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CIe extends Kp{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class BB extends Kp{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function q6(n){return sn(n)&&n.name==="AuthRetryableFetchError"}class eq extends Kp{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class FB extends Kp{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tq=` 	
\r=`.split(""),kIe=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<tq.length;e+=1)n[tq[e].charCodeAt(0)]=-2;for(let e=0;e<$O.length;e+=1)n[$O[e].charCodeAt(0)]=e;return n})();function nq(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t($O[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t($O[r]),e.queuedBits-=6}}function Xse(n,e,t){const r=kIe[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function rq(n){const e=[],t=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{PIe(a,r,t)};for(let a=0;a<n.length;a+=1)Xse(n.charCodeAt(a),i,s);return e.join("")}function RIe(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function OIe(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}RIe(r,e)}}function PIe(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function J1(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<n.length;i+=1)Xse(n.charCodeAt(i),t,r);return new Uint8Array(e)}function DIe(n){const e=[];return OIe(n,t=>e.push(t)),new Uint8Array(e)}function tv(n){const e=[],t={queue:0,queuedBits:0},r=i=>{e.push(i)};return n.forEach(i=>nq(i,t,r)),nq(null,t,r),e.join("")}function IIe(n){return Math.round(Date.now()/1e3)+n}function NIe(){return Symbol("auth-callback")}const Ha=()=>typeof window<"u"&&typeof document<"u",by={tested:!1,writable:!1},Kse=()=>{if(!Ha())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(by.tested)return by.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),by.tested=!0,by.writable=!0}catch{by.tested=!0,by.writable=!1}return by.writable};function LIe(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return t.searchParams.forEach((r,i)=>{e[i]=r}),e}const Jse=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),BIe=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",w1=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},_y=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},ja=async(n,e)=>{await n.removeItem(e)};class pI{constructor(){this.promise=new pI.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}pI.promiseConstructor=Promise;function oR(n){const e=n.split(".");if(e.length!==3)throw new FB("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!SIe.test(e[r]))throw new FB("JWT not in base64url format");return{header:JSON.parse(rq(e[0])),payload:JSON.parse(rq(e[1])),signature:J1(e[2]),raw:{header:e[0],payload:e[1]}}}async function FIe(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function zIe(n,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await n(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function UIe(n){return("0"+n.toString(16)).substr(-2)}function jIe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let i="";for(let s=0;s<56;s++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,UIe).join("")}async function HIe(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function VIe(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await HIe(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function r1(n,e,t=!1){const r=jIe();let i=r;t&&(i+="/PASSWORD_RECOVERY"),await w1(n,`${e}-code-verifier`,i);const s=await VIe(r);return[s,r===s?"plain":"s256"]}const WIe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $Ie(n){const e=n.headers.get(LB);if(!e||!e.match(WIe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function GIe(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function qIe(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const YIe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function i1(n){if(!YIe.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Y6(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function XIe(n,e){return new Proxy(n,{get:(t,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,r,i)}})}function iq(n){return JSON.parse(JSON.stringify(n))}const Oy=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),KIe=[502,503,504];async function sq(n){var e;if(!BIe(n))throw new BB(Oy(n),0);if(KIe.includes(n.status))throw new BB(Oy(n),n.status);let t;try{t=await n.json()}catch(s){throw new jy(Oy(s),s)}let r;const i=$Ie(n);if(i&&i.getTime()>=Yse["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new eq(Oy(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ac}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new eq(Oy(t),n.status,t.weak_password.reasons);throw new MIe(Oy(t),n.status||500,r)}const JIe=(n,e,t,r)=>{const i={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};async function bn(n,e,t,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[LB]||(s[LB]=Yse["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await ZIe(n,e,t+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function ZIe(n,e,t,r,i,s){const a=JIe(e,r,i,s);let o;try{o=await n(t,Object.assign({},a))}catch(l){throw console.error(l),new BB(Oy(l),0)}if(o.ok||await sq(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await sq(l)}}function af(n){var e;let t=null;t4e(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=IIe(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function aq(n){const e=af(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function x0(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function QIe(n){return{data:n,error:null}}function e4e(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s}=n,a=fI(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function oq(n){return n}function t4e(n){return n.access_token&&n.refresh_token&&n.expires_in}const X6=["global","local","others"];class n4e{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=Jse(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=X6[0]){if(X6.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${X6.join(", ")}`);try{return await bn(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(sn(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await bn(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:x0})}catch(r){if(sn(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=fI(e,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await bn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:e4e,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(sn(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await bn(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:x0})}catch(t){if(sn(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await bn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:oq});if(f.error)throw f.error;const d=await f.json(),p=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);c[`${w}Page`]=S}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(sn(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){i1(e);try{return await bn(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:x0})}catch(t){if(sn(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){i1(e);try{return await bn(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:x0})}catch(r){if(sn(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){i1(e);try{return await bn(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:x0})}catch(r){if(sn(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){i1(e.userId);try{const{data:t,error:r}=await bn(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _deleteFactor(e){i1(e.userId),i1(e.id);try{return{data:await bn(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},f=await bn(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:oq});if(f.error)throw f.error;const d=await f.json(),p=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(b=>{const S=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);c[`${w}Page`]=S}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(sn(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await bn(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await bn(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await bn(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(sn(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await bn(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(sn(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await bn(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(sn(t))return{data:null,error:t};throw t}}}function lq(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}const s1={debug:!!(globalThis&&Kse()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zse extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class cq extends Zse{}async function r4e(n,e,t){s1.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;e>0&&setTimeout(()=>{r.abort(),s1.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){s1.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,i.name);try{return await t()}finally{s1.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,i.name)}}else{if(e===0)throw s1.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new cq(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(s1.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}})}catch(i){throw(i==null?void 0:i.name)==="AbortError"?new cq(`Acquiring an exclusive Navigator LockManager lock "${n}" timed out waiting ${e}ms`):i}}function i4e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qse(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function s4e(n){return parseInt(n,16)}function a4e(n){const e=new TextEncoder().encode(n);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function o4e(n){var e;const{chainId:t,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:f,uri:d,version:p}=n;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=n.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const g=Qse(n.address),b=f?`${f}://${r}`:r,S=n.statement?`${n.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${g}

${S}`;let E=`URI: ${d}
Version: ${p}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),o&&(E+=`
Not Before: ${o.toISOString()}`),l&&(E+=`
Request ID: ${l}`),c){let k=`
Resources:`;for(const R of c){if(!R||typeof R!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${R}`);k+=`
- ${R}`}E+=k}return`${w}
${E}`}class zs extends Error{constructor({message:e,code:t,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=t}}class GO extends zs{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function l4e({error:n,options:e}){var t,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((t=s.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new zs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new zs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new zs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new zs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new zs({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new zs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new zs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const a=window.location.hostname;if(eae(a)){if(s.rp.id!==a)return new zs({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new zs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new zs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new zs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new zs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function c4e({error:n,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(e.signal instanceof AbortSignal)return new zs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new zs({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const r=window.location.hostname;if(eae(r)){if(t.rpId!==r)return new zs({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new zs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new zs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new zs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class u4e{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const f4e=new u4e;function d4e(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:e,user:t,excludeCredentials:r}=n,i=fI(n,["challenge","user","excludeCredentials"]),s=J1(e).buffer,a=Object.assign(Object.assign({},t),{id:J1(t.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:J1(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function h4e(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:e,allowCredentials:t}=n,r=fI(n,["challenge","allowCredentials"]),i=J1(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(t&&t.length>0){s.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){const o=t[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:J1(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function p4e(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n;return{id:n.id,rawId:n.id,response:{attestationObject:tv(new Uint8Array(n.response.attestationObject)),clientDataJSON:tv(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function m4e(n){var e;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const t=n,r=n.getClientExtensionResults(),i=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:tv(new Uint8Array(i.authenticatorData)),clientDataJSON:tv(new Uint8Array(i.clientDataJSON)),signature:tv(new Uint8Array(i.signature)),userHandle:i.userHandle?tv(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function eae(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function uq(){var n,e;return!!(Ha()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function g4e(n){try{const e=await navigator.credentials.create(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new GO("Browser returned unexpected credential type",e)}:{data:null,error:new GO("Empty credential response",e)}}catch(e){return{data:null,error:l4e({error:e,options:n})}}}async function y4e(n){try{const e=await navigator.credentials.get(n);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new GO("Browser returned unexpected credential type",e)}:{data:null,error:new GO("Empty credential response",e)}}catch(e){return{data:null,error:c4e({error:e,options:n})}}}const v4e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},x4e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qO(...n){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),t=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of n)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(t(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=qO(o,a):r[s]=qO(a)}else r[s]=a}return r}function b4e(n,e){return qO(v4e,n,e||{})}function _4e(n,e){return qO(x4e,n,e||{})}class w4e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:i},s){var a;try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!o)return{data:null,error:l};const c=i??f4e.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:f}=o.webauthn.credential_options.publicKey;if(!f.name){const d=r;if(d)f.name=`${f.id}:${d}`;else{const g=(await this.client.getUser()).data.user,b=((a=g==null?void 0:g.user_metadata)===null||a===void 0?void 0:a.name)||(g==null?void 0:g.email)||(g==null?void 0:g.id)||"User";f.name=`${f.id}:${b}`}}f.displayName||(f.displayName=f.name)}switch(o.webauthn.type){case"create":{const f=b4e(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:p}=await g4e({publicKey:f,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}case"request":{const f=_4e(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:p}=await y4e(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:f,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:p}}}}catch(o){return sn(o)?{data:null,error:o}:{data:null,error:new jy("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new LA("rpId is required for WebAuthn authentication")};try{if(!uq())return{data:null,error:new jy("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:t,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return sn(a)?{data:null,error:a}:{data:null,error:new jy("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!t)return{data:null,error:new LA("rpId is required for WebAuthn registration")};try{if(!uq())return{data:null,error:new jy("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var d;return(d=f.data)===null||d===void 0?void 0:d.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:t,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return sn(a)?{data:null,error:a}:{data:null,error:new jy("Unexpected error in register",a)}}}}i4e();const S4e={url:bIe,storageKey:_Ie,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wIe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function fq(n,e,t){return await t()}const a1={};class BA{get jwks(){var e,t;return(t=(e=a1[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){a1[this.storageKey]=Object.assign(Object.assign({},a1[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=a1[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){a1[this.storageKey]=Object.assign(Object.assign({},a1[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},S4e),e);if(this.storageKey=s.storageKey,this.instanceID=(t=BA.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,BA.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ha()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new n4e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Jse(s.fetch),this.lock=s.lock||fq,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Ha()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=r4e:this.lock=fq,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new w4e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Kse()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lq(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=lq(this.memoryStorage)),Ha()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}s.skipAutoInitialize||this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${qse}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},r="none";if(Ha()&&(t=LIe(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),Ha()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(t,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),TIe(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return sn(t)?this._returnResult({error:t}):this._returnResult({error:new jy("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,i;try{const s=await bn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:af}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(sn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,r,i;try{let s;if("email"in e){const{email:f,password:d,options:p}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await r1(this.storage,this.storageKey)),s=await bn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:f,password:d,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:b},xform:af})}else if("phone"in e){const{phone:f,password:d,options:p}=e;s=await bn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:af})}else throw new sR("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await ja(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await ja(this.storage,`${this.storageKey}-code-verifier`),sn(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:o}=e;t=await bn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:aq})}else if("phone"in e){const{phone:s,password:a,options:o}=e;t=await bn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:aq})}else throw new sR("You must provide either an email or phone number and a password");const{data:r,error:i}=t;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new n1;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(t){if(sn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,i,s,a,o,l,c,f,d,p;let g,b;if("message"in e)g=e.message,b=e.signature;else{const{chain:S,wallet:w,statement:E,options:k}=e;let R;if(Ha())if(typeof w=="object")R=w;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")R=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=w}const O=new URL((t=k==null?void 0:k.url)!==null&&t!==void 0?t:window.location.href),D=await R.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const I=Qse(D[0]);let B=(r=k==null?void 0:k.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!B){const V=await R.request({method:"eth_chainId"});B=s4e(V)}const z={domain:O.host,address:I,statement:E,uri:O.href,version:"1",chainId:B,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=k==null?void 0:k.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(f=k==null?void 0:k.signInWithEthereum)===null||f===void 0?void 0:f.resources};g=o4e(z),b=await R.request({method:"personal_sign",params:[a4e(g),I]})}try{const{data:S,error:w}=await bn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:b},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:af});if(w)throw w;if(!S||!S.session||!S.user){const E=new n1;return this._returnResult({data:{user:null,session:null},error:E})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:w})}catch(S){if(sn(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var t,r,i,s,a,o,l,c,f,d,p,g;let b,S;if("message"in e)b=e.message,S=e.signature;else{const{chain:w,wallet:E,statement:k,options:R}=e;let O;if(Ha())if(typeof E=="object")O=E;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))O=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const D=new URL((t=R==null?void 0:R.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const I=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),k?{statement:k}:null));let B;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")B=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)B=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)b=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),S=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${D.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R==null?void 0:R.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((a=R==null?void 0:R.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((o=R==null?void 0:R.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((c=R==null?void 0:R.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((d=(f=R==null?void 0:R.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...R.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const I=await O.signMessage(new TextEncoder().encode(b),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=I}}try{const{data:w,error:E}=await bn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:tv(S)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:af});if(E)throw E;if(!w||!w.session||!w.user){const k=new n1;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(sn(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const t=await _y(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(t??"").split("/");try{if(!r&&this.flowType==="pkce")throw new CIe;const{data:s,error:a}=await bn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:af});if(await ja(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new n1;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await ja(this.storage,`${this.storageKey}-code-verifier`),sn(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:r,token:i,access_token:s,nonce:a}=e,o=await bn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:af}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const f=new n1;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(t){if(sn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await r1(this.storage,this.storageKey));const{error:d}=await bn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:f}=await bn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f})}throw new sR("You must provide either an email or phone number.")}catch(o){if(await ja(this.storage,`${this.storageKey}-code-verifier`),sn(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var t,r;try{let i,s;"options"in e&&(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await bn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:af});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(sn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var t,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await r1(this.storage,this.storageKey));const c=await bn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:QIe});return!((s=c.data)===null||s===void 0)&&s.url&&Ha()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await ja(this.storage,`${this.storageKey}-code-verifier`),sn(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ac;const{error:i}=await bn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(sn(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await bn(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await bn(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new sR("You must provide either an email or phone number and a type")}catch(t){if(sn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await _y(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<$6:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await _y(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Y6()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=XIe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{return e?await bn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:x0}):await this._useSession(async t=>{var r,i,s;const{data:a,error:o}=t;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ac}:await bn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:x0})})}catch(t){if(sn(t))return G6(t)&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new ac;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await r1(this.storage,this.storageKey));const{data:c,error:f}=await bn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:x0});if(f)throw f;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await ja(this.storage,`${this.storageKey}-code-verifier`),sn(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ac;const t=Date.now()/1e3;let r=t,i=!0,s=null;const{payload:a}=oR(e.access_token);if(a.exp&&(r=a.exp,i=r<=t),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(sn(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ac;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(sn(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Ha())throw new aR("No browser detected.");if(e.error||e.error_description||e.error_code)throw new aR(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new QG("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new aR("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new QG("No code detected.");const{data:k,error:R}=await this._exchangeCodeForSession(e.code);if(R)throw R;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new aR("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(o);let p=f+d;l&&(p=parseInt(l));const g=p-f;g*1e3<=_1&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const b=p-d;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,p,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,p,f);const{data:S,error:w}=await this._getUser(s);if(w)throw w;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:p,refresh_token:a,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(r){if(sn(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await _y(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s&&!G6(s))return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(AIe(o)&&(o.status===404||o.status===401||o.status===403)||G6(o)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ja(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=NIe(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,i;try{const{data:{session:s},error:a}=t;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await r1(this.storage,this.storageKey,!0));try{return await bn(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(await ja(this.storage,`${this.storageKey}-code-verifier`),sn(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,f;const{data:d,error:p}=s;if(p)throw p;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await bn(this.fetch,"GET",g,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Ha()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(sn(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{const{error:i,data:{session:s}}=t;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:f}=e,d=await bn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:af}),{data:p,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new n1}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:g}))}catch(i){if(await ja(this.storage,`${this.storageKey}-code-verifier`),sn(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)throw a;return await bn(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await zIe(async i=>(i>0&&await FIe(200*Math.pow(2,i-1)),this._debug(t,"refreshing attempt",i),await bn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:af})),(i,s)=>{const a=200*Math.pow(2,i);return s&&q6(s)&&Date.now()+a-r<_1})}catch(r){if(this._debug(t,"error",r),sn(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ha()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await _y(this.storage,this.storageKey);if(i&&this.userStorage){let a=await _y(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await w1(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Y6()}else if(i&&!i.user&&!i.user){const a=await _y(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ja(this.storage,this.storageKey+"-user"),await w1(this.storage,this.storageKey,i)):i.user=Y6()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<$6;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${$6}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),q6(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ac;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new pI;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new ac;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),sn(s)){const a={data:null,error:s};return q6(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,t,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ja(this.storage,`${this.storageKey}-code-verifier`);const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await w1(this.userStorage,this.storageKey+"-user",{user:t.user});const i=Object.assign({},t);delete i.user;const s=iq(i);await w1(this.storage,this.storageKey,s)}else{const i=iq(t);await w1(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ja(this.storage,this.storageKey),await ja(this.storage,this.storageKey+"-code-verifier"),await ja(this.storage,this.storageKey+"-user"),this.userStorage&&await ja(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ha()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),_1);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/_1);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${_1}ms, refresh threshold is ${NB} ticks`),i<=NB&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Zse)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ha()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const i=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await r1(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;return s?this._returnResult({data:null,error:s}):await bn(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,i;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await bn(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?p4e(e.webauthn.credential_response):m4e(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await bn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;const{data:i,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=await bn(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d4e(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h4e(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=t==null?void 0:t.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,i,s;if(e)try{const{payload:g}=oR(e);let b=null;g.aal&&(b=g.aal);let S=b;const{data:{user:w},error:E}=await this.getUser(e);if(E)return this._returnResult({data:null,error:E});((r=(t=w==null?void 0:w.factors)===null||t===void 0?void 0:t.filter(O=>O.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(S="aal2");const R=g.amr||[];return{data:{currentLevel:b,nextLevel:S,currentAuthenticationMethods:R},error:null}}catch(g){if(sn(g))return this._returnResult({data:null,error:g});throw g}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=oR(a.access_token);let c=null;l.aal&&(c=l.aal);let f=c;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const p=l.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?await bn(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ac})})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ac});const a=await bn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ha()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(sn(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new ac});const a=await bn(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Ha()&&!(t!=null&&t.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(sn(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await bn(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ac})})}catch(e){if(sn(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{const{data:{session:r},error:i}=t;return i?this._returnResult({data:null,error:i}):r?(await bn(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ac})})}catch(t){if(sn(t))return this._returnResult({data:null,error:t});throw t}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+EIe>i)return r;const{data:s,error:a}=await bn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:g,error:b}=await this.getSession();if(b||!g.session)return this._returnResult({data:null,error:b});r=g.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=oR(r);t!=null&&t.allowExpired||GIe(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:s,header:i,signature:a},error:null}}const f=qIe(i.alg),d=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,a,DIe(`${o}.${l}`)))throw new FB("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(sn(r))return this._returnResult({data:null,error:r});throw r}}}BA.nextInstanceID={};const E4e=BA,M4e="2.97.0";let _M="";typeof Deno<"u"?_M="deno":typeof document<"u"?_M="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_M="react-native":_M="node";const A4e={"X-Client-Info":`supabase-js-${_M}/${M4e}`},T4e={headers:A4e},C4e={schema:"public"},k4e={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},R4e={};function FA(n){"@babel/helpers - typeof";return FA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FA(n)}function O4e(n,e){if(FA(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(FA(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function P4e(n){var e=O4e(n,"string");return FA(e)=="symbol"?e:e+""}function D4e(n,e,t){return(e=P4e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function us(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(t),!0).forEach(function(r){D4e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const I4e=n=>n?(...e)=>n(...e):(...e)=>fetch(...e),N4e=()=>Headers,L4e=(n,e,t)=>{const r=I4e(t),i=N4e();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:n;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",n),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,us(us({},a),{},{headers:c}))}};function B4e(n){return n.endsWith("/")?n:n+"/"}function F4e(n,e){var t,r;const{db:i,auth:s,realtime:a,global:o}=n,{db:l,auth:c,realtime:f,global:d}=e,p={db:us(us({},l),i),auth:us(us({},c),s),realtime:us(us({},f),a),storage:{},global:us(us(us({},d),o),{},{headers:us(us({},(t=d==null?void 0:d.headers)!==null&&t!==void 0?t:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function z4e(n){const e=n==null?void 0:n.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(B4e(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var U4e=class extends E4e{constructor(n){super(n)}},j4e=class{constructor(n,e,t){var r,i;this.supabaseUrl=n,this.supabaseKey=e;const s=z4e(n);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:C4e,realtime:R4e,auth:us(us({},k4e),{},{storageKey:a}),global:T4e},l=F4e(t??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=L4e(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(us({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new ADe(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new xIe(this.storageUrl.href,this.headers,this.fetch,t==null?void 0:t.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new vDe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,e={},t={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,e,t)}channel(n,e={config:{}}){return this.realtime.channel(n,e)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,e,t;if(n.accessToken)return await n.accessToken();const{data:r}=await n.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},f,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new U4e({url:this.authUrl.href,headers:us(us({},p),f),storageKey:s,autoRefreshToken:n,persistSession:e,detectSessionInUrl:t,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new VDe(this.realtimeUrl.href,us(us({},n),{},{params:us(us({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,e)=>{this._handleTokenChanged(n,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(n,e,t){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==t?(this.changedAccessToken=t,this.realtime.setAuth(t)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const H4e=(n,e,t)=>new j4e(n,e,t);function V4e(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const e=n.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}V4e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const W4e="https://yerqcisrhowiautykiiy.supabase.co",$4e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InllcnFjaXNyaG93aWF1dHlraWl5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIwMzg5MjIsImV4cCI6MjA4NzYxNDkyMn0.ET6wmYknwgnyISePECW6yc63wskml6nKC9xXyTs8CD0",ea=H4e(W4e,$4e);function If(){const{getSigner:n,address:e}=Po(),{isDemo:t}=ww(),r=L.useCallback(()=>new n2(TB,CB,IG()),[]),i=L.useCallback(async()=>{const w=await n();return new n2(TB,CB,w)},[n]),s=L.useCallback(()=>new n2(BPe,pDe,IG()),[]),a=L.useCallback(async()=>{try{const E=await r().getAllJobs(),k=["open","open","in_progress","completed","disputed","refunded"],R=E.map(I=>({id:Number(I.id),client:I.client,freelancer_address:I.freelancer!=="0x0000000000000000000000000000000000000000"?I.freelancer:null,title:I.title,description:I.description,category:I.category,budget:_u(I.budget),deadline:Number(I.deadline),status:k[Number(I.status)]||"open",createdAt:Number(I.createdAt),isLocal:!1}));let O=R;const D=VM.map(I=>({id:Number(I.id),client:I.client,freelancer_address:I.freelancer!=="0x0000000000000000000000000000000000000000"?I.freelancer:null,title:I.title,description:I.description,category:I.category,budget:_u(I.budget),deadline:Number(I.deadline),status:k[Number(I.status)]||"open",createdAt:Number(I.createdAt),isLocal:!1,isDemo:!0}));return O=[...R,...D],O.sort((I,B)=>B.id-I.id)}catch(w){console.error("Failed to fetch jobs from chain:",w);const E=["open","open","in_progress","completed","disputed","refunded"];return VM.map(k=>({id:Number(k.id),client:k.client,freelancer_address:k.freelancer!=="0x0000000000000000000000000000000000000000"?k.freelancer:null,title:k.title,description:k.description,category:k.category,budget:_u(k.budget),deadline:Number(k.deadline),status:E[Number(k.status)]||"open",createdAt:Number(k.createdAt),isLocal:!1,isDemo:!0})).sort((k,R)=>R.id-k.id)}},[r]),o=L.useCallback(async w=>{try{const k=await r().getJob(w),{data:R}=await ea.from("jobs").select("status").eq("id",w).single(),O=Number(k.status);let I=["open","funded","in_progress","completed","disputed","refunded"][O]||"open";return(R==null?void 0:R.status)==="review_pending"&&I==="in_progress"&&(I="review_pending"),{id:Number(k.id),client:k.client,freelancer_address:k.freelancer!=="0x0000000000000000000000000000000000000000"?k.freelancer:null,title:k.title,description:k.description,category:k.category,budget:_u(k.budget),deadline:Number(k.deadline),status:I,createdAt:Number(k.createdAt),isLocal:!1}}catch(E){return console.error("Error in getJob:",E),null}},[r]),l=L.useCallback(async(w,E,k,R,O)=>{if(!e)throw new Error("Wallet not connected");await ea.from("profiles").upsert({wallet_address:e.toLowerCase(),user_type:"client"},{onConflict:"wallet_address",ignoreDuplicates:!0});const D=await i();console.log("Posting Job Tx...");const B=await(await D.postJob(w,E,k,R,{value:FPe(O)})).wait();let z=Date.now();for(const V of B.logs)try{const Y=D.interface.parseLog(V);if(console.log("Parsed Log",Y),(Y==null?void 0:Y.name)==="JobPosted"){z=Number(Y.args[0]);break}}catch{}return ea.from("jobs").upsert({id:z,client_address:e.toLowerCase(),title:w,description:E,category:k,deadline:R,budget:Number(O),status:"open"}).then(({error:V})=>{V&&console.error("Silent background DB sync failure:",V)}),B},[i,e]),c=L.useCallback(async(w,E,k)=>{const R=Number(w),O=E.toLowerCase();console.log("Accepting proposal on-chain - Params:",{jobIdNum:R,fAddr:O,tokenURI:k});try{const D=await i();console.log("Escrow contract obtained at:",D.target);const I=await D.acceptProposal(R,O,k);console.log("Transaction sent:",I.hash);const B=await I.wait();console.log("Transaction mined:",B);try{const{error:z}=await ea.from("proposals").update({status:"accepted"}).eq("job_id",w).eq("freelancer_address",O),{error:V}=await ea.from("jobs").update({status:"in_progress",freelancer_address:O}).eq("id",w);z&&console.warn("Supabase proposal update failed:",z),V&&console.warn("Supabase job update failed:",V);const q=JSON.parse(localStorage.getItem("quaiwork_local_proposals")||"[]").map(J=>Number(J.jobId)===Number(w)&&J.freelancerAddress.toLowerCase()===O?{...J,status:"accepted"}:J);localStorage.setItem("quaiwork_local_proposals",JSON.stringify(q))}catch(z){console.warn("DB/Local sync failed during acceptProposal:",z)}return B}catch(D){throw console.error("acceptProposal on-chain error:",D),D}},[i,e]),f=L.useCallback(async w=>{await(await(await i()).markJobDelivered(w)).wait(),await ea.from("jobs").update({status:"review_pending"}).eq("id",w)},[i]),d=L.useCallback(async(w,E,k)=>{const D=await(await(await i()).releasePayment(w)).wait(),{data:I}=await ea.from("jobs").select("freelancer_address").eq("id",w).single();let B="";if(I!=null&&I.freelancer_address&&(B=I.freelancer_address),await ea.from("jobs").update({status:"completed"}).eq("id",w),E&&B){const z=B.toLowerCase(),V=JSON.parse(localStorage.getItem("quaiwork_ratings")||"{}");V[z]||(V[z]=[]),V[z].push({jobId:w,rating:E,comment:k,date:Date.now()}),localStorage.setItem("quaiwork_ratings",JSON.stringify(V))}return D},[i]),p=L.useCallback(async w=>{const R=await(await(await i()).raiseDispute(w)).wait();return await ea.from("jobs").update({status:"disputed"}).eq("id",w),R},[i]),g=L.useCallback(async w=>{try{return await s().getAgreement(w)}catch(E){return console.error(E),null}},[s]),b=L.useCallback(async w=>{const E=s(),k=r(),R=w.toLowerCase();try{const O=E.filters.AgreementMinted(null,null,null,R),D=await E.queryFilter(O);if(D.length>0){const q=[];for(const J of D)try{const re=Number(J.args[0]),fe=await E.getAgreement(re),ne=await k.getJob(Number(fe.jobId));q.push({tokenId:re,jobId:Number(fe.jobId),client:fe.client,freelancer:fe.freelancer,amount:fe.amount.toString(),status:fe.status,createdAt:Number(fe.createdAt),jobTitle:ne.title,jobDescription:ne.description})}catch(re){console.warn("Event detail fetch fail:",re)}return q}console.log("Falling back to full NFT scan...");const I=Number(await E.tokenIds()),B=Array.from({length:I},(q,J)=>J);let V=(await Promise.all(B.map(async q=>{try{const J=await E.ownerOf(q),re=await E.getAgreement(q);if(J.toLowerCase()===R||re.freelancer.toLowerCase()===R){const fe=await k.getJob(Number(re.jobId));return{tokenId:q,jobId:Number(re.jobId),client:re.client,freelancer:re.freelancer,amount:re.amount.toString(),status:re.status,createdAt:Number(re.createdAt),jobTitle:fe.title,jobDescription:fe.description}}}catch{}return null}))).filter(Boolean);const Y=jG.filter(q=>q.freelancer.toLowerCase()===R||q.client.toLowerCase()===R).map(q=>({tokenId:q.tokenId,jobId:0,client:q.client,freelancer:q.freelancer,amount:q.amount.toString(),status:3,createdAt:q.completedAt,jobTitle:q.jobTitle,jobDescription:"Completed through QuaiWork historical records"}));return V=[...V,...Y],V}catch(O){return console.error("Hybrid NFT fetch error:",O),jG.filter(D=>D.freelancer.toLowerCase()===R||D.client.toLowerCase()===R).map(D=>({tokenId:D.tokenId,jobId:0,client:D.client,freelancer:D.freelancer,amount:D.amount.toString(),status:3,createdAt:D.completedAt,jobTitle:D.jobTitle,jobDescription:"Completed through QuaiWork historical records"}))}},[s,r]),S=L.useCallback(w=>{const E=w.toLowerCase(),R=JSON.parse(localStorage.getItem("quaiwork_ratings")||"{}")[E]||[];return R.length===0?{average:0,count:0,reviews:[]}:{average:R.reduce((D,I)=>D+I.rating,0)/R.length,count:R.length,reviews:R}},[]);return{getAllJobs:a,getJob:o,postJob:l,acceptProposal:c,markDelivered:f,releasePayment:d,raiseDispute:p,getAgreement:g,getWalletNFTs:b,getFreelancerRating:S}}const tae="quaiwork_local_proposals",XE=()=>{try{return JSON.parse(localStorage.getItem(tae)||"[]")}catch{return[]}},hq=n=>{try{localStorage.setItem(tae,JSON.stringify(n))}catch{}};function mx(){const{isDemo:n}=ww(),e=L.useCallback(async a=>{const o={...a,id:`local-${Date.now()}`,submittedAt:Math.floor(Date.now()/1e3),status:"pending"};hq([o,...XE()]),(async()=>{await ea.from("profiles").upsert({wallet_address:a.freelancerAddress.toLowerCase(),user_type:"freelancer"},{onConflict:"wallet_address",ignoreDuplicates:!0});const{error:c}=await ea.from("proposals").insert({job_id:a.jobId,freelancer_address:a.freelancerAddress.toLowerCase(),rate:Number(a.rate),cover_letter:a.coverLetter,status:"pending"});c&&console.warn("Silent proposal sync failure:",c)})(),fi.success("Proposal submitted!")},[]),t=L.useCallback(async a=>{const o=XE().filter(l=>Number(l.jobId)===Number(a));try{const l=new AbortController,c=setTimeout(()=>l.abort(),4e3),{data:f,error:d}=await ea.from("proposals").select("*").eq("job_id",a).order("created_at",{ascending:!1}).abortSignal(l.signal);if(clearTimeout(c),!d&&f){const p=f.map(S=>({id:S.id,jobId:S.job_id,freelancerAddress:S.freelancer_address,rate:_u(S.rate||"0"),coverLetter:S.cover_letter,submittedAt:Math.floor(new Date(S.created_at).getTime()/1e3),status:S.status})),g=new Set(p.map(S=>`${S.jobId}-${S.freelancerAddress}`));return[...o.filter(S=>!g.has(`${S.jobId}-${S.freelancerAddress}`)),...p]}}catch{}return o},[]),r=L.useCallback(async a=>{const o=a.toLowerCase();let l=[];try{l=JSON.parse(localStorage.getItem("quaiwork_local_jobs")||"[]")}catch{}const f=XE().filter(p=>{var g;return((g=p.freelancerAddress)==null?void 0:g.toLowerCase())===o}).map(p=>({...p,jobDetails:p.jobDetails||l.find(g=>Number(g.id)===Number(p.jobId))}));let d=[];try{const p=new AbortController,g=setTimeout(()=>p.abort(),4e3),{data:b,error:S}=await ea.from("proposals").select("*, jobs(*)").eq("freelancer_address",o).order("created_at",{ascending:!1}).abortSignal(p.signal);if(clearTimeout(g),!S&&b){const w=b.map(R=>{const O=Array.isArray(R.jobs)?R.jobs[0]:R.jobs;return{id:R.id,jobId:R.job_id,freelancerAddress:R.freelancer_address,rate:_u(R.rate||"0"),coverLetter:R.cover_letter,submittedAt:Math.floor(new Date(R.created_at).getTime()/1e3),status:R.status,jobDetails:O}}),E=new Set(w.map(R=>`${R.jobId}-${R.freelancerAddress.toLowerCase()}`));d=[...f.filter(R=>!E.has(`${R.jobId}-${R.freelancerAddress.toLowerCase()}`)),...w]}else d=f}catch{d=f}if(n&&o===zl.toLowerCase()){const p=hDe(),g=fDe.map(w=>({...w,id:`demo-${w.jobId}`,jobDetails:p.find(E=>Number(E.id)===Number(w.jobId))})),b=new Set(d.map(w=>Number(w.jobId))),S=g.filter(w=>!b.has(Number(w.jobId)));return[...d,...S]}return d},[n]),i=L.useCallback(async(a,o)=>{const l=o.toLowerCase();if(XE().some(f=>{var d;return Number(f.jobId)===Number(a)&&((d=f.freelancerAddress)==null?void 0:d.toLowerCase())===l}))return!0;try{const f=new AbortController,d=setTimeout(()=>f.abort(),4e3),{count:p,error:g}=await ea.from("proposals").select("*",{count:"exact",head:!0}).eq("job_id",a).eq("freelancer_address",l).abortSignal(f.signal);if(clearTimeout(d),!g)return(p??0)>0}catch{}return!1},[]),s=L.useCallback(async(a,o)=>{const l=o.toLowerCase();hq(XE().filter(c=>{var f;return!(Number(c.jobId)===Number(a)&&((f=c.freelancerAddress)==null?void 0:f.toLowerCase())===l)})),ea.from("proposals").delete().eq("job_id",a).eq("freelancer_address",l).then(({error:c})=>{c&&console.warn("Silent delete failure:",c)})},[]);return{submit:e,getByJob:t,getByWallet:r,hasSubmitted:i,withdraw:s}}const G4e={open:"OPEN",active:"ACTIVE",completed:"COMPLETED",disputed:"DISPUTED",pending:"PENDING",refunded:"REFUNDED",review_pending:"REVIEW PENDING"};function gx({status:n}){return T.jsx("span",{className:`badge badge-${n}`,children:G4e[n]})}function nae(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=nae(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function In(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=nae(n))&&(r&&(r+=" "),r+=e);return r}var q4e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ij(n){if(typeof n!="string")return!1;var e=q4e;return e.includes(n)}var Y4e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],X4e=new Set(Y4e);function rae(n){return typeof n!="string"?!1:X4e.has(n)}function iae(n){return typeof n=="string"&&n.startsWith("data-")}function Nf(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(rae(t)||iae(t))&&(e[t]=n[t]);return e}function mI(n){if(n==null)return null;if(L.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Nf(e)}return typeof n=="object"&&!Array.isArray(n)?Nf(n):null}function Ru(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(rae(t)||iae(t)||ij(t))&&(e[t]=n[t]);return e}function K4e(n){return n==null?null:L.isValidElement(n)?Ru(n.props):typeof n=="object"&&!Array.isArray(n)?Ru(n):null}var J4e=["children","width","height","viewBox","className","style","title","desc"];function zB(){return zB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},zB.apply(null,arguments)}function Z4e(n,e){if(n==null)return{};var t,r,i=Q4e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Q4e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var sae=L.forwardRef((n,e)=>{var{children:t,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=n,f=Z4e(n,J4e),d=s||{width:r,height:i,x:0,y:0},p=In("recharts-surface",a);return L.createElement("svg",zB({},Ru(f),{className:p,width:r,height:i,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:e}),L.createElement("title",null,l),L.createElement("desc",null,c),t)}),eNe=["children","className"];function UB(){return UB=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},UB.apply(null,arguments)}function tNe(n,e){if(n==null)return{};var t,r,i=nNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function nNe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var ah=L.forwardRef((n,e)=>{var{children:t,className:r}=n,i=tNe(n,eNe),s=In("recharts-layer",r);return L.createElement("g",UB({className:s},Ru(i),{ref:e}),t)}),rNe=L.createContext(null);function cs(n){return function(){return n}}const jB=Math.PI,HB=2*jB,Py=1e-6,iNe=HB-Py;function aae(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function sNe(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return aae;const t=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*t)/t+r[i]}}class aNe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?aae:sNe(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,s,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,t,r,i,s){if(e=+e,t=+t,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-t,f=a-e,d=o-t,p=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(p>Py)if(!(Math.abs(d*l-c*f)>Py)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let g=r-a,b=i-o,S=l*l+c*c,w=g*g+b*b,E=Math.sqrt(S),k=Math.sqrt(p),R=s*Math.tan((jB-Math.acos((S+p-w)/(2*E*k)))/2),O=R/k,D=R/E;Math.abs(O-1)>Py&&this._append`L${e+O*f},${t+O*d}`,this._append`A${s},${s},0,0,${+(d*g>f*b)},${this._x1=e+D*l},${this._y1=t+D*c}`}}arc(e,t,r,i,s,a){if(e=+e,t=+t,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,f=t+l,d=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Py||Math.abs(this._y1-f)>Py)&&this._append`L${c},${f}`,r&&(p<0&&(p=p%HB+HB),p>iNe?this._append`A${r},${r},0,1,${d},${e-o},${t-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:p>Py&&this._append`A${r},${r},0,${+(p>=jB)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=t+r*Math.sin(s)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oae(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const r=Math.floor(t);if(!(r>=0))throw new RangeError(`invalid digits: ${t}`);e=r}return n},()=>new aNe(e)}function sj(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function lae(n){this._context=n}lae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function gI(n){return new lae(n)}function cae(n){return n[0]}function uae(n){return n[1]}function fae(n,e){var t=cs(!0),r=null,i=gI,s=null,a=oae(o);n=typeof n=="function"?n:n===void 0?cae:cs(n),e=typeof e=="function"?e:e===void 0?uae:cs(e);function o(l){var c,f=(l=sj(l)).length,d,p=!1,g;for(r==null&&(s=i(g=a())),c=0;c<=f;++c)!(c<f&&t(d=l[c],c,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+n(d,c,l),+e(d,c,l));if(g)return s=null,g+""||null}return o.x=function(l){return arguments.length?(n=typeof l=="function"?l:cs(+l),o):n},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:cs(+l),o):e},o.defined=function(l){return arguments.length?(t=typeof l=="function"?l:cs(!!l),o):t},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function lR(n,e,t){var r=null,i=cs(!0),s=null,a=gI,o=null,l=oae(c);n=typeof n=="function"?n:n===void 0?cae:cs(+n),e=typeof e=="function"?e:cs(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?uae:cs(+t);function c(d){var p,g,b,S=(d=sj(d)).length,w,E=!1,k,R=new Array(S),O=new Array(S);for(s==null&&(o=a(k=l())),p=0;p<=S;++p){if(!(p<S&&i(w=d[p],p,d))===E)if(E=!E)g=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=p-1;b>=g;--b)o.point(R[b],O[b]);o.lineEnd(),o.areaEnd()}E&&(R[p]=+n(w,p,d),O[p]=+e(w,p,d),o.point(r?+r(w,p,d):R[p],t?+t(w,p,d):O[p]))}if(k)return o=null,k+""||null}function f(){return fae().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(n=typeof d=="function"?d:cs(+d),r=null,c):n},c.x0=function(d){return arguments.length?(n=typeof d=="function"?d:cs(+d),c):n},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:cs(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:cs(+d),t=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:cs(+d),c):e},c.y1=function(d){return arguments.length?(t=d==null?null:typeof d=="function"?d:cs(+d),c):t},c.lineX0=c.lineY0=function(){return f().x(n).y(e)},c.lineY1=function(){return f().x(n).y(t)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:cs(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class dae{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function oNe(n){return new dae(n,!0)}function lNe(n){return new dae(n,!1)}function YO(){}function XO(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function hae(n){this._context=n}hae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:XO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:XO(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function cNe(n){return new hae(n)}function pae(n){this._context=n}pae.prototype={areaStart:YO,areaEnd:YO,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:XO(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function uNe(n){return new pae(n)}function mae(n){this._context=n}mae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 3:this._point=4;default:XO(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function fNe(n){return new mae(n)}function gae(n){this._context=n}gae.prototype={areaStart:YO,areaEnd:YO,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function dNe(n){return new gae(n)}function pq(n){return n<0?-1:1}function mq(n,e,t){var r=n._x1-n._x0,i=e-n._x1,s=(n._y1-n._y0)/(r||i<0&&-0),a=(t-n._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(pq(s)+pq(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function gq(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function K6(n,e,t){var r=n._x0,i=n._y0,s=n._x1,a=n._y1,o=(s-r)/3;n._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*t,s,a)}function KO(n){this._context=n}KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:K6(this,this._t0,gq(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,K6(this,gq(this,t=mq(this,n,e)),t);break;default:K6(this,this._t0,t=mq(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function yae(n){this._context=new vae(n)}(yae.prototype=Object.create(KO.prototype)).point=function(n,e){KO.prototype.point.call(this,e,n)};function vae(n){this._context=n}vae.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,r,i,s){this._context.bezierCurveTo(e,n,r,t,s,i)}};function hNe(n){return new KO(n)}function pNe(n){return new yae(n)}function xae(n){this._context=n}xae.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var r=yq(n),i=yq(e),s=0,a=1;a<t;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],n[a],e[a]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function yq(n){var e,t=n.length-1,r,i=new Array(t),s=new Array(t),a=new Array(t);for(i[0]=0,s[0]=2,a[0]=n[0]+2*n[1],e=1;e<t-1;++e)i[e]=1,s[e]=4,a[e]=4*n[e]+2*n[e+1];for(i[t-1]=2,s[t-1]=7,a[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[t-1]=a[t-1]/s[t-1],e=t-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[t-1]=(n[t]+i[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-i[e+1];return[i,s]}function mNe(n){return new xae(n)}function yI(n,e){this._context=n,this._t=e}yI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function gNe(n){return new yI(n,.5)}function yNe(n){return new yI(n,0)}function vNe(n){return new yI(n,1)}function tx(n,e){if((a=n.length)>1)for(var t=1,r,i,s=n[e[0]],a,o=s.length;t<a;++t)for(i=s,s=n[e[t]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function VB(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function xNe(n,e){return n[e]}function bNe(n){const e=[];return e.key=n,e}function _Ne(){var n=cs([]),e=VB,t=tx,r=xNe;function i(s){var a=Array.from(n.apply(this,arguments),bNe),o,l=a.length,c=-1,f;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(d,a[o].key,c,s)]).data=d;for(o=0,f=sj(e(a));o<l;++o)a[f[o]].index=o;return t(a,f),a}return i.keys=function(s){return arguments.length?(n=typeof s=="function"?s:cs(Array.from(s)),i):n},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:cs(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?VB:typeof s=="function"?s:cs(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(t=s??tx,i):t},i}function wNe(n,e){if((r=n.length)>0){for(var t,r,i=0,s=n[0].length,a;i<s;++i){for(a=t=0;t<r;++t)a+=n[t][i][1]||0;if(a)for(t=0;t<r;++t)n[t][i][1]/=a}tx(n,e)}}function SNe(n,e){if((i=n.length)>0){for(var t=0,r=n[e[0]],i,s=r.length;t<s;++t){for(var a=0,o=0;a<i;++a)o+=n[a][t][1]||0;r[t][1]+=r[t][0]=-o/2}tx(n,e)}}function ENe(n,e){if(!(!((a=n.length)>0)||!((s=(i=n[e[0]]).length)>0))){for(var t=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var f=n[e[o]],d=f[r][1]||0,p=f[r-1][1]||0,g=(d-p)/2,b=0;b<o;++b){var S=n[e[b]],w=S[r][1]||0,E=S[r-1][1]||0;g+=w-E}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=t,l&&(t-=c/l)}i[r-1][1]+=i[r-1][0]=t,tx(n,e)}}var J6={},Z6={},vq;function MNe(){return vq||(vq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(Z6)),Z6}var Q6={},xq;function bae(){return xq||(xq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(Q6)),Q6}var eL={},bq;function aj(){return bq||(bq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){var r;return typeof t=="string"||typeof t=="symbol"?t:Object.is((r=t==null?void 0:t.valueOf)==null?void 0:r.call(t),-0)?"-0":String(t)}n.toKey=e})(eL)),eL}var tL={},nL={},_q;function ANe(){return _q||(_q=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return r==="0"&&Object.is(Number(t),-0)?"-0":r}n.toString=e})(nL)),nL}var wq;function oj(){return wq||(wq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=ANe(),t=aj();function r(i){if(Array.isArray(i))return i.map(t.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",c="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const d=i[o];c?d==="\\"&&o+1<a?(o++,l+=i[o]):d===c?c="":l+=d:f?d==='"'||d==="'"?c=d:d==="]"?(f=!1,s.push(l),l=""):l+=d:d==="["?(f=!0,l&&(s.push(l),l="")):d==="."?l&&(s.push(l),l=""):l+=d,o++}return l&&s.push(l),s}n.toPath=r})(tL)),tL}var Sq;function lj(){return Sq||(Sq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=MNe(),t=bae(),r=aj(),i=oj();function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const f=o[l];return f===void 0?t.isDeepKey(l)?s(o,i.toPath(l),c):c:f}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const f=o[l];return f===void 0?c:f}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const f=o[l];return f===void 0?c:f}}}function a(o,l,c){if(l.length===0)return c;let f=o;for(let d=0;d<l.length;d++){if(f==null||e.isUnsafeProperty(l[d]))return c;f=f[l[d]]}return f===void 0?c:f}n.get=s})(J6)),J6}var rL,Eq;function TNe(){return Eq||(Eq=1,rL=lj().get),rL}var CNe=TNe();const vI=Mc(CNe);var kNe=4;function z0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kNe,t=10**e,r=Math.round(n*t)/t;return Object.is(r,-0)?0:r}function qa(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return n.reduce((i,s,a)=>{var o=t[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+z0(o)+s:i+s},"")}var wu=n=>n===0?0:n>0?1:-1,oh=n=>typeof n=="number"&&n!=+n,nx=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,nn=n=>(typeof n=="number"||n instanceof Number)&&!oh(n),lh=n=>nn(n)||typeof n=="string",RNe=0,zA=n=>{var e=++RNe;return"".concat(n||"").concat(e)},ig=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nn(e)&&typeof e!="string")return r;var s;if(nx(e)){if(t==null)return r;var a=e.indexOf("%");s=t*parseFloat(e.slice(0,a))/100}else s=+e;return oh(s)&&(s=r),i&&t!=null&&s>t&&(s=t),s},_ae=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},r=0;r<e;r++)if(!t[String(n[r])])t[String(n[r])]=!0;else return!0;return!1};function Id(n,e,t){return nn(n)&&nn(e)?z0(n+t*(e-n)):e}function wae(n,e,t){if(!(!n||!n.length))return n.find(r=>r&&(typeof e=="function"?e(r):vI(r,e))===t)}var Ro=n=>n===null||typeof n>"u",cj=n=>Ro(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function Wl(n){return n!=null}function zw(){}var Sae=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,uj=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(L.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var r={};return Object.keys(t).forEach(i=>{ij(i)&&(r[i]=(s=>t[i](t,s)))}),r},ONe=(n,e,t)=>r=>(n(e,t,r),null),PNe=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var r=null;return Object.keys(n).forEach(i=>{var s=n[i];ij(i)&&typeof s=="function"&&(r||(r={}),r[i]=ONe(s,e,t))}),r};function Mq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DNe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mq(Object(t),!0).forEach(function(r){INe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mq(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function INe(n,e,t){return(e=NNe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function NNe(n){var e=LNe(n,"string");return typeof e=="symbol"?e:e+""}function LNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Cc(n,e){var t=DNe({},n),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),t);return s}var iL={},sL={},Aq;function BNe(){return Aq||(Aq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){const i=new Map;for(let s=0;s<t.length;s++){const a=t[s],o=r(a,s,t);i.has(o)||i.set(o,a)}return Array.from(i.values())}n.uniqBy=e})(sL)),sL}var aL={},Tq;function FNe(){return Tq||(Tq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return function(...i){return t.apply(this,i.slice(0,r))}}n.ary=e})(aL)),aL}var oL={},Cq;function Eae(){return Cq||(Cq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(oL)),oL}var lL={},cL={},uL={},kq;function zNe(){return kq||(kq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(uL)),uL}var Rq;function fj(){return Rq||(Rq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=zNe();function t(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}n.isArrayLike=t})(cL)),cL}var fL={},Oq;function UNe(){return Oq||(Oq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(fL)),fL}var Pq;function jNe(){return Pq||(Pq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=fj(),t=UNe();function r(i){return t.isObjectLike(i)&&e.isArrayLike(i)}n.isArrayLikeObject=r})(lL)),lL}var dL={},hL={},Dq;function HNe(){return Dq||(Dq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lj();function t(r){return function(i){return e.get(i,r)}}n.property=t})(hL)),hL}var pL={},mL={},gL={},yL={},Iq;function Mae(){return Iq||(Iq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(yL)),yL}var vL={},Nq;function Aae(){return Nq||(Nq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(vL)),vL}var xL={},Lq;function Tae(){return Lq||(Lq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r){return t===r||Number.isNaN(t)&&Number.isNaN(r)}n.isEqualsSameValueZero=e})(xL)),xL}var Bq;function VNe(){return Bq||(Bq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Mae(),t=Aae(),r=Tae();function i(f,d,p){return typeof p!="function"?i(f,d,()=>{}):s(f,d,function g(b,S,w,E,k,R){const O=p(b,S,w,E,k,R);return O!==void 0?!!O:s(b,S,g,R)},new Map)}function s(f,d,p,g){if(d===f)return!0;switch(typeof d){case"object":return a(f,d,p,g);case"function":return Object.keys(d).length>0?s(f,{...d},p,g):r.isEqualsSameValueZero(f,d);default:return e.isObject(f)?typeof d=="string"?d==="":!0:r.isEqualsSameValueZero(f,d)}}function a(f,d,p,g){if(d==null)return!0;if(Array.isArray(d))return l(f,d,p,g);if(d instanceof Map)return o(f,d,p,g);if(d instanceof Set)return c(f,d,p,g);const b=Object.keys(d);if(f==null||t.isPrimitive(f))return b.length===0;if(b.length===0)return!0;if(g!=null&&g.has(d))return g.get(d)===f;g==null||g.set(d,f);try{for(let S=0;S<b.length;S++){const w=b[S];if(!t.isPrimitive(f)&&!(w in f)||d[w]===void 0&&f[w]!==void 0||d[w]===null&&f[w]!==null||!p(f[w],d[w],w,f,d,g))return!1}return!0}finally{g==null||g.delete(d)}}function o(f,d,p,g){if(d.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,S]of d.entries()){const w=f.get(b);if(p(w,S,b,f,d,g)===!1)return!1}return!0}function l(f,d,p,g){if(d.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let S=0;S<d.length;S++){const w=d[S];let E=!1;for(let k=0;k<f.length;k++){if(b.has(k))continue;const R=f[k];let O=!1;if(p(R,w,S,f,d,g)&&(O=!0),O){b.add(k),E=!0;break}}if(!E)return!1}return!0}function c(f,d,p,g){return d.size===0?!0:f instanceof Set?l([...f],[...d],p,g):!1}n.isMatchWith=i,n.isSetMatch=c})(gL)),gL}var Fq;function Cae(){return Fq||(Fq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=VNe();function t(r,i){return e.isMatchWith(r,i,()=>{})}n.isMatch=t})(mL)),mL}var bL={},_L={},wL={},zq;function WNe(){return zq||(zq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(r=>Object.prototype.propertyIsEnumerable.call(t,r))}n.getSymbols=e})(wL)),wL}var SL={},Uq;function dj(){return Uq||(Uq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(SL)),SL}var EL={},jq;function kae(){return jq||(jq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",f="[object Array]",d="[object Function]",p="[object ArrayBuffer]",g="[object Object]",b="[object Error]",S="[object DataView]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",R="[object Uint32Array]",O="[object BigUint64Array]",D="[object Int8Array]",I="[object Int16Array]",B="[object Int32Array]",z="[object BigInt64Array]",V="[object Float32Array]",Y="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=p,n.arrayTag=f,n.bigInt64ArrayTag=z,n.bigUint64ArrayTag=O,n.booleanTag=i,n.dataViewTag=S,n.dateTag=o,n.errorTag=b,n.float32ArrayTag=V,n.float64ArrayTag=Y,n.functionTag=d,n.int16ArrayTag=I,n.int32ArrayTag=B,n.int8ArrayTag=D,n.mapTag=l,n.numberTag=r,n.objectTag=g,n.regexpTag=e,n.setTag=c,n.stringTag=t,n.symbolTag=a,n.uint16ArrayTag=k,n.uint32ArrayTag=R,n.uint8ArrayTag=w,n.uint8ClampedArrayTag=E})(EL)),EL}var ML={},Hq;function $Ne(){return Hq||(Hq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(ML)),ML}var Vq;function Rae(){return Vq||(Vq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=WNe(),t=dj(),r=kae(),i=Aae(),s=$Ne();function a(f,d){return o(f,void 0,f,new Map,d)}function o(f,d,p,g=new Map,b=void 0){const S=b==null?void 0:b(f,d,p,g);if(S!==void 0)return S;if(i.isPrimitive(f))return f;if(g.has(f))return g.get(f);if(Array.isArray(f)){const w=new Array(f.length);g.set(f,w);for(let E=0;E<f.length;E++)w[E]=o(f[E],E,p,g,b);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;g.set(f,w);for(const[E,k]of f)w.set(E,o(k,E,p,g,b));return w}if(f instanceof Set){const w=new Set;g.set(f,w);for(const E of f)w.add(o(E,void 0,p,g,b));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);g.set(f,w);for(let E=0;E<f.length;E++)w[E]=o(f[E],E,p,g,b);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return g.set(f,w),l(w,f,p,g,b),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return g.set(f,w),l(w,f,p,g,b),w}if(typeof Blob<"u"&&f instanceof Blob){const w=new Blob([f],{type:f.type});return g.set(f,w),l(w,f,p,g,b),w}if(f instanceof Error){const w=new f.constructor;return g.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,l(w,f,p,g,b),w}if(f instanceof Boolean){const w=new Boolean(f.valueOf());return g.set(f,w),l(w,f,p,g,b),w}if(f instanceof Number){const w=new Number(f.valueOf());return g.set(f,w),l(w,f,p,g,b),w}if(f instanceof String){const w=new String(f.valueOf());return g.set(f,w),l(w,f,p,g,b),w}if(typeof f=="object"&&c(f)){const w=Object.create(Object.getPrototypeOf(f));return g.set(f,w),l(w,f,p,g,b),w}return f}function l(f,d,p=f,g,b){const S=[...Object.keys(d),...e.getSymbols(d)];for(let w=0;w<S.length;w++){const E=S[w],k=Object.getOwnPropertyDescriptor(f,E);(k==null||k.writable)&&(f[E]=o(d[E],E,p,g,b))}}function c(f){switch(t.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=a,n.cloneDeepWithImpl=o,n.copyProperties=l})(_L)),_L}var Wq;function GNe(){return Wq||(Wq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Rae();function t(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}n.cloneDeep=t})(bL)),bL}var $q;function qNe(){return $q||($q=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Cae(),t=GNe();function r(i){return i=t.cloneDeep(i),s=>e.isMatch(s,i)}n.matches=r})(pL)),pL}var AL={},TL={},CL={},Gq;function YNe(){return Gq||(Gq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Rae(),t=dj(),r=kae();function i(s,a){return e.cloneDeepWith(s,(o,l,c,f)=>{const d=a==null?void 0:a(o,l,c,f);if(d!==void 0)return d;if(typeof s=="object"){if(t.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const p={};return f.set(s,p),e.copyProperties(p,s,c,f),p}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s==null?void 0:s.valueOf());return e.copyProperties(p,s),p}case r.argumentsTag:{const p={};return e.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}}})}n.cloneDeepWith=i})(CL)),CL}var qq;function XNe(){return qq||(qq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=YNe();function t(r){return e.cloneDeepWith(r)}n.cloneDeep=t})(TL)),TL}var kL={},RL={},Yq;function Oae(){return Yq||(Yq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}n.isIndex=t})(RL)),RL}var OL={},Xq;function KNe(){return Xq||(Xq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=dj();function t(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}n.isArguments=t})(OL)),OL}var Kq;function JNe(){return Kq||(Kq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=bae(),t=Oae(),r=KNe(),i=oj();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let f=0;f<l.length;f++){const d=l[f];if((c==null||!Object.hasOwn(c,d))&&!((Array.isArray(c)||r.isArguments(c))&&t.isIndex(d)&&d<c.length))return!1;c=c[d]}return!0}n.has=s})(kL)),kL}var Jq;function ZNe(){return Jq||(Jq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Cae(),t=aj(),r=XNe(),i=lj(),s=JNe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=t.toKey(o);break}}return l=r.cloneDeep(l),function(c){const f=i.get(c,o);return f===void 0?s.has(c,o):l===void 0?f===void 0:e.isMatch(f,l)}}n.matchesProperty=a})(AL)),AL}var Zq;function QNe(){return Zq||(Zq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Eae(),t=HNe(),r=qNe(),i=ZNe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return t.property(a)}}n.iteratee=s})(dL)),dL}var Qq;function e6e(){return Qq||(Qq=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=BNe(),t=FNe(),r=Eae(),i=jNe(),s=QNe();function a(o,l=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),t.ary(s.iteratee(l),1)):[]}n.uniqBy=a})(iL)),iL}var PL,eY;function t6e(){return eY||(eY=1,PL=e6e().uniqBy),PL}var n6e=t6e();const tY=Mc(n6e);function r6e(n,e,t){return e===!0?tY(n,t):typeof e=="function"?tY(n,e):n}var hj=L.createContext(null),i6e=n=>n,Ea=()=>{var n=L.useContext(hj);return n?n.store.dispatch:i6e},l2=()=>{},s6e=()=>l2,a6e=(n,e)=>n===e;function mn(n){var e=L.useContext(hj),t=L.useMemo(()=>e?r=>{if(r!=null)return n(r)}:l2,[e,n]);return Are.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:s6e,e?e.store.getState:l2,e?e.store.getState:l2,t,a6e)}function o6e(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function l6e(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function c6e(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${t}]`)}}var nY=n=>Array.isArray(n)?n:[n];function u6e(n){const e=Array.isArray(n[0])?n[0]:n;return c6e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function f6e(n,e){const t=[],{length:r}=n;for(let i=0;i<r;i++)t.push(n[i].apply(null,e));return t}var d6e=class{constructor(n){this.value=n}deref(){return this.value}},h6e=typeof WeakRef<"u"?WeakRef:d6e,p6e=0,rY=1;function cR(){return{s:p6e,v:void 0,o:null,p:null}}function Pae(n,e={}){let t=cR();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var d;let o=t;const{length:l}=arguments;for(let p=0,g=l;p<g;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let S=o.o;S===null&&(o.o=S=new WeakMap);const w=S.get(b);w===void 0?(o=cR(),S.set(b,o)):o=w}else{let S=o.p;S===null&&(o.p=S=new Map);const w=S.get(b);w===void 0?(o=cR(),S.set(b,o)):o=w}}const c=o;let f;if(o.s===rY)f=o.v;else if(f=n.apply(null,arguments),s++,r){const p=((d=i==null?void 0:i.deref)==null?void 0:d.call(i))??i;p!=null&&r(p,f)&&(f=p,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new h6e(f):f}return c.s=rY,c.v=f,f}return a.clearCache=()=>{t=cR(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function m6e(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,r=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),o6e(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const f={...t,...l},{memoize:d,memoizeOptions:p=[],argsMemoize:g=Pae,argsMemoizeOptions:b=[]}=f,S=nY(p),w=nY(b),E=u6e(i),k=d(function(){return s++,c.apply(null,arguments)},...S),R=g(function(){a++;const D=f6e(E,arguments);return o=k.apply(null,D),o},...w);return Object.assign(R,{resultFunc:c,memoizedResultFunc:k,dependencies:E,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:d,argsMemoize:g})};return Object.assign(r,{withTypes:()=>r}),r}var at=m6e(Pae),g6e=Object.assign((n,e=at)=>{l6e(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),r=t.map(s=>n[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[t[l]]=o,a),{}))},{withTypes:()=>g6e}),DL={},IL={},NL={},iY;function y6e(){return iY||(iY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const t=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};n.compareValues=t})(NL)),NL}var LL={},BL={},sY;function Dae(){return sY||(sY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(BL)),BL}var aY;function v6e(){return aY||(aY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Dae(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!t.test(s))||a!=null&&Object.hasOwn(a,s)}n.isKey=i})(LL)),LL}var oY;function x6e(){return oY||(oY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=y6e(),t=v6e(),r=oj();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(g=>String(g));const c=(g,b)=>{let S=g;for(let w=0;w<b.length&&S!=null;++w)S=S[b[w]];return S},f=(g,b)=>b==null||g==null?b:typeof g=="object"&&"key"in g?Object.hasOwn(b,g.key)?b[g.key]:c(b,g.path):typeof g=="function"?g(b):Array.isArray(g)?c(b,g):typeof b=="object"?b[g]:b,d=a.map(g=>(Array.isArray(g)&&g.length===1&&(g=g[0]),g==null||typeof g=="function"||Array.isArray(g)||t.isKey(g)?g:{key:g,path:r.toPath(g)}));return s.map(g=>({original:g,criteria:d.map(b=>f(b,g))})).slice().sort((g,b)=>{for(let S=0;S<d.length;S++){const w=e.compareValues(g.criteria[S],b.criteria[S],o[S]);if(w!==0)return w}return 0}).map(g=>g.original)}n.orderBy=i})(IL)),IL}var FL={},lY;function b6e(){return lY||(lY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let c=0;c<o.length;c++){const f=o[c];Array.isArray(f)&&l<s?a(f,l+1):i.push(f)}};return a(t,0),i}n.flatten=e})(FL)),FL}var zL={},cY;function Iae(){return cY||(cY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Oae(),t=fj(),r=Mae(),i=Tae();function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&t.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],a):!1}n.isIterateeCall=s})(zL)),zL}var uY;function _6e(){return uY||(uY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x6e(),t=b6e(),r=Iae();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,t.flatten(a),["asc"])}n.sortBy=i})(DL)),DL}var UL,fY;function w6e(){return fY||(fY=1,UL=_6e().sortBy),UL}var S6e=w6e();const xI=Mc(S6e);var Nae=n=>n.legend.settings,E6e=n=>n.legend.size,M6e=n=>n.legend.payload;at([M6e,Nae],(n,e)=>{var{itemSorter:t}=e,r=n.flat(1);return t?xI(r,t):r});var uR=1;function A6e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=L.useState({height:0,left:0,top:0,width:0}),r=L.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>uR||Math.abs(a.left-e.left)>uR||Math.abs(a.top-e.top)>uR||Math.abs(a.width-e.width)>uR)&&t({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,r]}function $a(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var T6e=typeof Symbol=="function"&&Symbol.observable||"@@observable",dY=T6e,jL=()=>Math.random().toString(36).substring(7).split("").join("."),C6e={INIT:`@@redux/INIT${jL()}`,REPLACE:`@@redux/REPLACE${jL()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${jL()}`},JO=C6e;function pj(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Lae(n,e,t){if(typeof n!="function")throw new Error($a(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error($a(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error($a(1));return t(Lae)(n,e)}let r=n,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((w,E)=>{a.set(E,w)}))}function f(){if(l)throw new Error($a(3));return i}function d(w){if(typeof w!="function")throw new Error($a(4));if(l)throw new Error($a(5));let E=!0;c();const k=o++;return a.set(k,w),function(){if(E){if(l)throw new Error($a(6));E=!1,c(),a.delete(k),s=null}}}function p(w){if(!pj(w))throw new Error($a(7));if(typeof w.type>"u")throw new Error($a(8));if(typeof w.type!="string")throw new Error($a(17));if(l)throw new Error($a(9));try{l=!0,i=r(i,w)}finally{l=!1}return(s=a).forEach(k=>{k()}),w}function g(w){if(typeof w!="function")throw new Error($a(10));r=w,p({type:JO.REPLACE})}function b(){const w=d;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error($a(11));function k(){const O=E;O.next&&O.next(f())}return k(),{unsubscribe:w(k)}},[dY](){return this}}}return p({type:JO.INIT}),{dispatch:p,subscribe:d,getState:f,replaceReducer:g,[dY]:b}}function k6e(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:JO.INIT})>"u")throw new Error($a(12));if(typeof t(void 0,{type:JO.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($a(13))})}function Bae(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const a=e[s];typeof n[a]=="function"&&(t[a]=n[a])}const r=Object.keys(t);let i;try{k6e(t)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let f=0;f<r.length;f++){const d=r[f],p=t[d],g=a[d],b=p(g,o);if(typeof b>"u")throw o&&o.type,new Error($a(14));c[d]=b,l=l||b!==g}return l=l||r.length!==Object.keys(a).length,l?c:a}}function ZO(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...r)=>e(t(...r)))}function R6e(...n){return e=>(t,r)=>{const i=e(t,r);let s=()=>{throw new Error($a(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=n.map(l=>l(a));return s=ZO(...o)(i.dispatch),{...i,dispatch:s}}}function Fae(n){return pj(n)&&"type"in n&&typeof n.type=="string"}var zae=Symbol.for("immer-nothing"),hY=Symbol.for("immer-draftable"),ll=Symbol.for("immer-state");function _f(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var yc=Object,aw=yc.getPrototypeOf,QO="constructor",bI="prototype",WB="configurable",eP="enumerable",c2="writable",UA="value",Hp=n=>!!n&&!!n[ll];function Lf(n){var e;return n?Uae(n)||wI(n)||!!n[hY]||!!((e=n[QO])!=null&&e[hY])||SI(n)||EI(n):!1}var O6e=yc[bI][QO].toString(),pY=new WeakMap;function Uae(n){if(!n||!mj(n))return!1;const e=aw(n);if(e===null||e===yc[bI])return!0;const t=yc.hasOwnProperty.call(e,QO)&&e[QO];if(t===Object)return!0;if(!S1(t))return!1;let r=pY.get(t);return r===void 0&&(r=Function.toString.call(t),pY.set(t,r)),r===O6e}function _I(n,e,t=!0){zT(n)===0?(t?Reflect.ownKeys(n):yc.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function zT(n){const e=n[ll];return e?e.type_:wI(n)?1:SI(n)?2:EI(n)?3:0}var mY=(n,e,t=zT(n))=>t===2?n.has(e):yc[bI].hasOwnProperty.call(n,e),$B=(n,e,t=zT(n))=>t===2?n.get(e):n[e],tP=(n,e,t,r=zT(n))=>{r===2?n.set(e,t):r===3?n.add(t):n[e]=t};function P6e(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var wI=Array.isArray,SI=n=>n instanceof Map,EI=n=>n instanceof Set,mj=n=>typeof n=="object",S1=n=>typeof n=="function",HL=n=>typeof n=="boolean";function D6e(n){const e=+n;return Number.isInteger(e)&&String(e)===n}var op=n=>n.copy_||n.base_,gj=n=>n.modified_?n.copy_:n.base_;function GB(n,e){if(SI(n))return new Map(n);if(EI(n))return new Set(n);if(wI(n))return Array[bI].slice.call(n);const t=Uae(n);if(e===!0||e==="class_only"&&!t){const r=yc.getOwnPropertyDescriptors(n);delete r[ll];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[c2]===!1&&(o[c2]=!0,o[WB]=!0),(o.get||o.set)&&(r[a]={[WB]:!0,[c2]:!0,[eP]:o[eP],[UA]:n[a]})}return yc.create(aw(n),r)}else{const r=aw(n);if(r!==null&&t)return{...n};const i=yc.create(r);return yc.assign(i,n)}}function yj(n,e=!1){return MI(n)||Hp(n)||!Lf(n)||(zT(n)>1&&yc.defineProperties(n,{set:fR,add:fR,clear:fR,delete:fR}),yc.freeze(n),e&&_I(n,(t,r)=>{yj(r,!0)},!1)),n}function I6e(){_f(2)}var fR={[UA]:I6e};function MI(n){return n===null||!mj(n)?!0:yc.isFrozen(n)}var nP="MapSet",qB="Patches",gY="ArrayMethods",jae={};function rx(n){const e=jae[n];return e||_f(0,n),e}var yY=n=>!!jae[n],jA,Hae=()=>jA,N6e=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:yY(nP)?rx(nP):void 0,arrayMethodsPlugin_:yY(gY)?rx(gY):void 0});function vY(n,e){e&&(n.patchPlugin_=rx(qB),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function YB(n){XB(n),n.drafts_.forEach(L6e),n.drafts_=null}function XB(n){n===jA&&(jA=n.parent_)}var xY=n=>jA=N6e(jA,n);function L6e(n){const e=n[ll];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function bY(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[ll].modified_&&(YB(e),_f(4)),Lf(n)&&(n=_Y(e,n));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(t[ll].base_,n,e)}else n=_Y(e,t);return B6e(e,n,!0),YB(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==zae?n:void 0}function _Y(n,e){if(MI(e))return e;const t=e[ll];if(!t)return rP(e,n.handledSet_,n);if(!AI(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:r}=t;if(r)for(;r.length>0;)r.pop()(n);$ae(t,n)}return t.copy_}function B6e(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&yj(e,t)}function Vae(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var AI=(n,e)=>n.scope_===e,F6e=[];function Wae(n,e,t,r){const i=op(n),s=n.type_;if(r!==void 0&&$B(i,r,s)===e){tP(i,r,t,s);return}if(!n.draftLocations_){const o=n.draftLocations_=new Map;_I(i,(l,c)=>{if(Hp(c)){const f=o.get(c)||[];f.push(l),o.set(c,f)}})}const a=n.draftLocations_.get(e)??F6e;for(const o of a)tP(i,o,t,s)}function z6e(n,e,t){n.callbacks_.push(function(i){var o;const s=e;if(!s||!AI(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=gj(s);Wae(n,s.draft_??s,a,t),$ae(s,i)})}function $ae(n,e){var r;if(n.modified_&&!n.finalized_&&(n.type_===3||n.type_===1&&n.allIndicesReassigned_||(((r=n.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(n);s&&i.generatePatches_(n,s,e)}Vae(n)}}function U6e(n,e,t){const{scope_:r}=n;if(Hp(t)){const i=t[ll];AI(i,r)&&i.callbacks_.push(function(){u2(n);const a=gj(i);Wae(n,t,a,e)})}else Lf(t)&&n.callbacks_.push(function(){const s=op(n);n.type_===3?s.has(t)&&rP(t,r.handledSet_,r):$B(s,e,n.type_)===t&&r.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&rP($B(n.copy_,e,n.type_),r.handledSet_,r)})}function rP(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Hp(n)||e.has(n)||!Lf(n)||MI(n)||(e.add(n),_I(n,(r,i)=>{if(Hp(i)){const s=i[ll];if(AI(s,t)){const a=gj(s);tP(n,r,a,n.type_),Vae(s)}}else Lf(i)&&rP(i,e,t)})),n}function j6e(n,e){const t=wI(n),r={type_:t?1:0,scope_:e?e.scope_:Hae(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=iP;t&&(i=[r],s=HA);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var iP={get(n,e){if(e===ll)return n;let t=n.scope_.arrayMethodsPlugin_;const r=n.type_===1&&typeof e=="string";if(r&&t!=null&&t.isArrayOperationMethod(e))return t.createMethodInterceptor(n,e);const i=op(n);if(!mY(i,e,n.type_))return H6e(n,i,e);const s=i[e];if(n.finalized_||!Lf(s)||r&&n.operationMethod&&(t!=null&&t.isMutatingArrayMethod(n.operationMethod))&&D6e(e))return s;if(s===VL(n.base_,e)){u2(n);const a=n.type_===1?+e:e,o=JB(n.scope_,s,n,a);return n.copy_[a]=o}return s},has(n,e){return e in op(n)},ownKeys(n){return Reflect.ownKeys(op(n))},set(n,e,t){const r=Gae(op(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=VL(op(n),e),s=i==null?void 0:i[ll];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(P6e(t,i)&&(t!==void 0||mY(n.base_,e,n.type_)))return!0;u2(n),KB(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),U6e(n,e,t)),!0},deleteProperty(n,e){return u2(n),VL(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),KB(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=op(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{[c2]:!0,[WB]:n.type_!==1||e!=="length",[eP]:r[eP],[UA]:t[e]}},defineProperty(){_f(11)},getPrototypeOf(n){return aw(n.base_)},setPrototypeOf(){_f(12)}},HA={};for(let n in iP){let e=iP[n];HA[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}HA.deleteProperty=function(n,e){return HA.set.call(this,n,e,void 0)};HA.set=function(n,e,t){return iP.set.call(this,n[0],e,t,n[0])};function VL(n,e){const t=n[ll];return(t?op(t):n)[e]}function H6e(n,e,t){var i;const r=Gae(e,t);return r?UA in r?r[UA]:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function Gae(n,e){if(!(e in n))return;let t=aw(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=aw(t)}}function KB(n){n.modified_||(n.modified_=!0,n.parent_&&KB(n.parent_))}function u2(n){n.copy_||(n.assigned_=new Map,n.copy_=GB(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var V6e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,r,i)=>{if(S1(t)&&!S1(r)){const a=r;r=t;const o=this;return function(c=a,...f){return o.produce(c,d=>r.call(this,d,...f))}}S1(r)||_f(6),i!==void 0&&!S1(i)&&_f(7);let s;if(Lf(t)){const a=xY(this),o=JB(a,t,void 0);let l=!0;try{s=r(o),l=!1}finally{l?YB(a):XB(a)}return vY(a,i),bY(s,a)}else if(!t||!mj(t)){if(s=r(t),s===void 0&&(s=t),s===zae&&(s=void 0),this.autoFreeze_&&yj(s,!0),i){const a=[],o=[];rx(qB).generateReplacementPatches_(t,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else _f(1,t)},this.produceWithPatches=(t,r)=>{if(S1(t))return(o,...l)=>this.produceWithPatches(o,c=>t(c,...l));let i,s;return[this.produce(t,r,(o,l)=>{i=o,s=l}),i,s]},HL(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),HL(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),HL(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Lf(e)||_f(8),Hp(e)&&(e=kf(e));const t=xY(this),r=JB(t,e,void 0);return r[ll].isManual_=!0,XB(t),r}finishDraft(e,t){const r=e&&e[ll];(!r||!r.isManual_)&&_f(9);const{scope_:i}=r;return vY(i,t),bY(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const i=rx(qB).applyPatches_;return Hp(e)?i(e,t):this.produce(e,s=>i(s,t))}};function JB(n,e,t,r){const[i,s]=SI(e)?rx(nP).proxyMap_(e,t):EI(e)?rx(nP).proxySet_(e,t):j6e(e,t);return((t==null?void 0:t.scope_)??Hae()).drafts_.push(i),s.callbacks_=(t==null?void 0:t.callbacks_)??[],s.key_=r,t&&r!==void 0?z6e(t,s,r):s.callbacks_.push(function(l){var f;(f=l.mapSetPlugin_)==null||f.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function kf(n){return Hp(n)||_f(10,n),qae(n)}function qae(n){if(!Lf(n)||MI(n))return n;const e=n[ll];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=GB(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=GB(n,!0);return _I(t,(i,s)=>{tP(t,i,qae(s))},r),e&&(e.finalized_=!1),t}var W6e=new V6e,Yae=W6e.produce;function Xae(n){return({dispatch:t,getState:r})=>i=>s=>typeof s=="function"?s(t,r,n):i(s)}var $6e=Xae(),G6e=Xae,q6e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?ZO:ZO.apply(null,arguments)};function Ou(n,e){function t(...r){if(e){let i=e(...r);if(!i)throw new Error(_c(0));return{type:n,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:n,payload:r[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=r=>Fae(r)&&r.type===n,t}var Kae=class wM extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,wM.prototype)}static get[Symbol.species](){return wM}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new wM(...e[0].concat(this)):new wM(...e.concat(this))}};function wY(n){return Lf(n)?Yae(n,()=>{}):n}function dR(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function Y6e(n){return typeof n=="boolean"}var X6e=()=>function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new Kae;return t&&(Y6e(t)?a.push($6e):a.push(G6e(t.extraArgument))),a},Jae="RTK_autoBatch",Li=()=>n=>({payload:n,meta:{[Jae]:!0}}),SY=n=>e=>{setTimeout(e,n)},Zae=(n={type:"raf"})=>e=>(...t)=>{const r=e(...t);let i=!0,s=!1,a=!1;const o=new Set,l=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:SY(10):n.type==="callback"?n.queueNotification:SY(n.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const d=()=>i&&f(),p=r.subscribe(d);return o.add(f),()=>{p(),o.delete(f)}},dispatch(f){var d;try{return i=!((d=f==null?void 0:f.meta)!=null&&d[Jae]),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(f)}finally{i=!0}}})},K6e=n=>function(t){const{autoBatch:r=!0}=t??{};let i=new Kae(n);return r&&i.push(Zae(typeof r=="object"?r:void 0)),i};function J6e(n){const e=X6e(),{reducer:t=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=n||{};let o;if(typeof t=="function")o=t;else if(pj(t))o=Bae(t);else throw new Error(_c(1));let l;typeof r=="function"?l=r(e):l=e();let c=ZO;i&&(c=q6e({trace:!1,...typeof i=="object"&&i}));const f=R6e(...l),d=K6e(f);let p=typeof a=="function"?a(d):d();const g=c(...p);return Lae(o,s,g)}function Qae(n){const e={},t=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(_c(28));if(o in e)throw new Error(_c(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&t.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return t.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return n(i),[e,t,r]}function Z6e(n){return typeof n=="function"}function Q6e(n,e){let[t,r,i]=Qae(e),s;if(Z6e(n))s=()=>wY(n());else{const o=wY(n);s=()=>o}function a(o=s(),l){let c=[t[l.type],...r.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return c.filter(f=>!!f).length===0&&(c=[i]),c.reduce((f,d)=>{if(d)if(Hp(f)){const g=d(f,l);return g===void 0?f:g}else{if(Lf(f))return Yae(f,p=>d(p,l));{const p=d(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},o)}return a.getInitialState=s,a}var eLe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",tLe=(n=21)=>{let e="",t=n;for(;t--;)e+=eLe[Math.random()*64|0];return e},nLe=Symbol.for("rtk-slice-createasyncthunk");function rLe(n,e){return`${n}/${e}`}function iLe({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[nLe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(_c(11));const o=(typeof i.reducers=="function"?i.reducers(aLe()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(O,D){const I=typeof O=="string"?O:O.type;if(!I)throw new Error(_c(12));if(I in c.sliceCaseReducersByType)throw new Error(_c(13));return c.sliceCaseReducersByType[I]=D,f},addMatcher(O,D){return c.sliceMatchers.push({matcher:O,reducer:D}),f},exposeAction(O,D){return c.actionCreators[O]=D,f},exposeCaseReducer(O,D){return c.sliceCaseReducersByName[O]=D,f}};l.forEach(O=>{const D=o[O],I={reducerName:O,type:rLe(s,O),createNotation:typeof i.reducers=="function"};lLe(D)?uLe(I,D,f,e):oLe(I,D,f)});function d(){const[O={},D=[],I=void 0]=typeof i.extraReducers=="function"?Qae(i.extraReducers):[i.extraReducers],B={...O,...c.sliceCaseReducersByType};return Q6e(i.initialState,z=>{for(let V in B)z.addCase(V,B[V]);for(let V of c.sliceMatchers)z.addMatcher(V.matcher,V.reducer);for(let V of D)z.addMatcher(V.matcher,V.reducer);I&&z.addDefaultCase(I)})}const p=O=>O,g=new Map,b=new WeakMap;let S;function w(O,D){return S||(S=d()),S(O,D)}function E(){return S||(S=d()),S.getInitialState()}function k(O,D=!1){function I(z){let V=z[O];return typeof V>"u"&&D&&(V=dR(b,I,E)),V}function B(z=p){const V=dR(g,D,()=>new WeakMap);return dR(V,z,()=>{const Y={};for(const[q,J]of Object.entries(i.selectors??{}))Y[q]=sLe(J,z,()=>dR(b,z,E),D);return Y})}return{reducerPath:O,getSelectors:B,get selectors(){return B(I)},selectSlice:I}}const R={name:s,reducer:w,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:E,...k(a),injectInto(O,{reducerPath:D,...I}={}){const B=D??a;return O.inject({reducerPath:B,reducer:w},I),{...R,...k(B,!0)}}};return R}}function sLe(n,e,t,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=t()),n(o,...a)}return i.unwrapped=n,i}var Kl=iLe();function aLe(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function oLe({type:n,reducerName:e,createNotation:t},r,i){let s,a;if("reducer"in r){if(t&&!cLe(r))throw new Error(_c(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,a?Ou(n,a):Ou(n))}function lLe(n){return n._reducerDefinitionType==="asyncThunk"}function cLe(n){return n._reducerDefinitionType==="reducerWithPrepare"}function uLe({type:n,reducerName:e},t,r,i){if(!i)throw new Error(_c(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:f}=t,d=i(n,s,f);r.exposeAction(e,d),a&&r.addCase(d.fulfilled,a),o&&r.addCase(d.pending,o),l&&r.addCase(d.rejected,l),c&&r.addMatcher(d.settled,c),r.exposeCaseReducer(e,{fulfilled:a||hR,pending:o||hR,rejected:l||hR,settled:c||hR})}function hR(){}var fLe="task",eoe="listener",toe="completed",vj="cancelled",dLe=`task-${vj}`,hLe=`task-${toe}`,ZB=`${eoe}-${vj}`,pLe=`${eoe}-${toe}`,TI=class{constructor(n){me(this,"name","TaskAbortError");me(this,"message");this.code=n,this.message=`${fLe} ${vj} (reason: ${n})`}},xj=(n,e)=>{if(typeof n!="function")throw new TypeError(_c(32))},sP=()=>{},noe=(n,e=sP)=>(n.catch(e),n),roe=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),zv=n=>{if(n.aborted)throw new TI(n.reason)};function ioe(n,e){let t=sP;return new Promise((r,i)=>{const s=()=>i(new TI(n.reason));if(n.aborted){s();return}t=roe(n,s),e.finally(()=>t()).then(r,i)}).finally(()=>{t=sP})}var mLe=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof TI?"cancelled":"rejected",error:t}}finally{e==null||e()}},aP=n=>e=>noe(ioe(n,e).then(t=>(zv(n),t))),soe=n=>{const e=aP(n);return t=>e(new Promise(r=>setTimeout(r,t)))},{assign:Z1}=Object,EY={},CI="listenerMiddleware",gLe=(n,e)=>{const t=r=>roe(n,()=>r.abort(n.reason));return(r,i)=>{xj(r);const s=new AbortController;t(s);const a=mLe(async()=>{zv(n),zv(s.signal);const o=await r({pause:aP(s.signal),delay:soe(s.signal),signal:s.signal});return zv(s.signal),o},()=>s.abort(hLe));return i!=null&&i.autoJoin&&e.push(a.catch(sP)),{result:aP(n)(a),cancel(){s.abort(dLe)}}}},yLe=(n,e)=>{const t=async(r,i)=>{zv(e);let s=()=>{};const o=[new Promise((l,c)=>{let f=n({predicate:r,effect:(d,p)=>{p.unsubscribe(),l([d,p.getState(),p.getOriginalState()])}});s=()=>{f(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await ioe(e,Promise.race(o));return zv(e),l}finally{s()}};return(r,i)=>noe(t(r,i))},aoe=n=>{let{type:e,actionCreator:t,matcher:r,predicate:i,effect:s}=n;if(e)i=Ou(e).match;else if(t)e=t.type,i=t.match;else if(r)i=r;else if(!i)throw new Error(_c(21));return xj(s),{predicate:i,type:e,effect:s}},ooe=Z1(n=>{const{type:e,predicate:t,effect:r}=aoe(n);return{id:tLe(),effect:r,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(_c(22))}}},{withTypes:()=>ooe}),MY=(n,e)=>{const{type:t,effect:r,predicate:i}=aoe(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===i)&&s.effect===r)},QB=n=>{n.pending.forEach(e=>{e.abort(ZB)})},vLe=(n,e)=>()=>{for(const t of e.keys())QB(t);n.clear()},AY=(n,e,t)=>{try{n(e,t)}catch(r){setTimeout(()=>{throw r},0)}},loe=Z1(Ou(`${CI}/add`),{withTypes:()=>loe}),xLe=Ou(`${CI}/removeAll`),coe=Z1(Ou(`${CI}/remove`),{withTypes:()=>coe}),bLe=(...n)=>{console.error(`${CI}/error`,...n)},UT=(n={})=>{const e=new Map,t=new Map,r=g=>{const b=t.get(g)??0;t.set(g,b+1)},i=g=>{const b=t.get(g)??1;b===1?t.delete(g):t.set(g,b-1)},{extra:s,onError:a=bLe}=n;xj(a);const o=g=>(g.unsubscribe=()=>e.delete(g.id),e.set(g.id,g),b=>{g.unsubscribe(),b!=null&&b.cancelActive&&QB(g)}),l=g=>{const b=MY(e,g)??ooe(g);return o(b)};Z1(l,{withTypes:()=>l});const c=g=>{const b=MY(e,g);return b&&(b.unsubscribe(),g.cancelActive&&QB(b)),!!b};Z1(c,{withTypes:()=>c});const f=async(g,b,S,w)=>{const E=new AbortController,k=yLe(l,E.signal),R=[];try{g.pending.add(E),r(g),await Promise.resolve(g.effect(b,Z1({},S,{getOriginalState:w,condition:(O,D)=>k(O,D).then(Boolean),take:k,delay:soe(E.signal),pause:aP(E.signal),extra:s,signal:E.signal,fork:gLe(E.signal,R),unsubscribe:g.unsubscribe,subscribe:()=>{e.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((O,D,I)=>{O!==E&&(O.abort(ZB),I.delete(O))})},cancel:()=>{E.abort(ZB),g.pending.delete(E)},throwIfCancelled:()=>{zv(E.signal)}})))}catch(O){O instanceof TI||AY(a,O,{raisedBy:"effect"})}finally{await Promise.all(R),E.abort(pLe),i(g),g.pending.delete(E)}},d=vLe(e,t);return{middleware:g=>b=>S=>{if(!Fae(S))return b(S);if(loe.match(S))return l(S.payload);if(xLe.match(S)){d();return}if(coe.match(S))return c(S.payload);let w=g.getState();const E=()=>{if(w===EY)throw new Error(_c(23));return w};let k;try{if(k=b(S),e.size>0){const R=g.getState(),O=Array.from(e.values());for(const D of O){let I=!1;try{I=D.predicate(S,R,w)}catch(B){I=!1,AY(a,B,{raisedBy:"predicate"})}I&&f(D,S,g,E)}}}finally{w=EY}return k},startListening:l,stopListening:c,clearListeners:d}};function _c(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var _Le={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},uoe=Kl({name:"chartLayout",initialState:_Le,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,r,i,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,n.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:wLe,setLayout:SLe,setChartSize:ELe,setScale:MLe}=uoe.actions,ALe=uoe.reducer;function foe(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function hr(n){return Number.isFinite(n)}function ch(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function TY(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function F1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TY(Object(t),!0).forEach(function(r){TLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TY(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function TLe(n,e,t){return(e=CLe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function CLe(n){var e=kLe(n,"string");return typeof e=="symbol"?e:e+""}function kLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qa(n,e,t){return Ro(n)||Ro(e)?t:lh(e)?vI(n,e,t):typeof e=="function"?e(n):t}var RLe=(n,e,t)=>{if(e&&t){var{width:r,height:i}=t,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&nn(n[s]))return F1(F1({},n),{},{[s]:n[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&nn(n[a]))return F1(F1({},n),{},{[a]:n[a]+(i||0)})}return n},mh=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",doe=(n,e,t,r)=>{if(r)return n.map(o=>o.coordinate);var i,s,a=n.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===t&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(t),a},hoe=(n,e,t)=>{if(!n)return null;var{duplicateDomain:r,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:f,ticks:d,niceTicks:p,axisType:g}=n;if(!a)return null;var b=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,S=i==="category"&&a.bandwidth?a.bandwidth()/b:0;if(S=g==="angleAxis"&&s&&s.length>=2?wu(s[0]-s[1])*2*S:S,d||p){var w=(d||p||[]).map((E,k)=>{var R=r?r.indexOf(E):E,O=a.map(R);return hr(O)?{coordinate:O+S,value:E,offset:S,index:k}:null}).filter(Wl);return w}return l&&c?c.map((E,k)=>{var R=a.map(E);return hr(R)?{coordinate:R+S,value:E,index:k,offset:S}:null}).filter(Wl):a.ticks&&f!=null?a.ticks(f).map((E,k)=>{var R=a.map(E);return hr(R)?{coordinate:R+S,value:E,index:k,offset:S}:null}).filter(Wl):a.domain().map((E,k)=>{var R=a.map(E);return hr(R)?{coordinate:R+S,value:r?r[E]:E,index:k,offset:S}:null}).filter(Wl)},OLe=n=>{var e,t=n.length;if(!(t<=0)){var r=(e=n[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,o=0;o<t;++o){var l=n[o],c=l==null?void 0:l[i];if(c!=null){var f=c[1],d=c[0],p=oh(f)?d:f;p>=0?(c[0]=s,s+=p,c[1]=s):(c[0]=a,a+=p,c[1]=a)}}}},PLe=n=>{var e,t=n.length;if(!(t<=0)){var r=(e=n[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<t;++a){var o=n[a],l=o==null?void 0:o[i];if(l!=null){var c=oh(l[1])?l[0]:l[1];c>=0?(l[0]=s,s+=c,l[1]=s):(l[0]=0,l[1]=0)}}}},DLe={sign:OLe,expand:wNe,none:tx,silhouette:SNe,wiggle:ENe,positive:PLe},ILe=(n,e,t)=>{var r,i=(r=DLe[t])!==null&&r!==void 0?r:tx,s=_Ne().keys(e).value((o,l)=>Number(Qa(o,l,0))).order(VB).offset(i),a=s(n);return a.forEach((o,l)=>{o.forEach((c,f)=>{var d=Qa(n[f],e[l],0);Array.isArray(d)&&d.length===2&&nn(d[0])&&nn(d[1])&&(c[0]=d[0],c[1]=d[1])})}),a};function NLe(n){return n==null?void 0:String(n)}function CY(n){var{axis:e,ticks:t,bandSize:r,entry:i,index:s,dataKey:a}=n;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ro(i[e.dataKey])){var o=wae(t,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return t!=null&&t[s]?t[s].coordinate+r/2:null}var l=Qa(i,Ro(a)?e.dataKey:a),c=e.scale.map(l);return nn(c)?c:null}var LLe=n=>{var e=n.flat(2).filter(nn);return[Math.min(...e),Math.max(...e)]},BLe=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],FLe=(n,e,t)=>{if(n!=null)return BLe(Object.keys(n).reduce((r,i)=>{var s=n[i];if(!s)return r;var{stackedData:a}=s,o=a.reduce((l,c)=>{var f=foe(c,e,t),d=LLe(f);return!hr(d[0])||!hr(d[1])?l:[Math.min(l[0],d[0]),Math.max(l[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},kY=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RY=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,oP=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var r=n.scale.bandwidth();if(!t||r>0)return r}if(n&&e&&e.length>=2){for(var i=xI(e,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min(((l==null?void 0:l.coordinate)||0)-((c==null?void 0:c.coordinate)||0),s)}return s===1/0?0:s}return t?void 0:0};function OY(n){var{tooltipEntrySettings:e,dataKey:t,payload:r,value:i,name:s}=n;return F1(F1({},e),{},{dataKey:t,payload:r,value:i,name:s})}function poe(n,e){if(n)return String(n);if(typeof e=="string")return e}var zLe=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},ULe=(n,e)=>e==="centric"?n.angle:n.radius,Jp=n=>n.layout.width,Zp=n=>n.layout.height,jLe=n=>n.layout.scale,moe=n=>n.layout.margin,kI=at(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),RI=at(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),HLe="data-recharts-item-index",VLe="data-recharts-item-id",jT=60;function PY(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function pR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?PY(Object(t),!0).forEach(function(r){WLe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):PY(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function WLe(n,e,t){return(e=$Le(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $Le(n){var e=GLe(n,"string");return typeof e=="symbol"?e:e+""}function GLe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var qLe=n=>n.brush.height;function YLe(n){var e=RI(n);return e.reduce((t,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jT;return t+i}return t},0)}function XLe(n){var e=RI(n);return e.reduce((t,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:jT;return t+i}return t},0)}function KLe(n){var e=kI(n);return e.reduce((t,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?t+r.height:t,0)}function JLe(n){var e=kI(n);return e.reduce((t,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?t+r.height:t,0)}var eo=at([Jp,Zp,moe,qLe,YLe,XLe,KLe,JLe,Nae,E6e],(n,e,t,r,i,s,a,o,l,c)=>{var f={left:(t.left||0)+i,right:(t.right||0)+s},d={top:(t.top||0)+a,bottom:(t.bottom||0)+o},p=pR(pR({},d),f),g=p.bottom;p.bottom+=r,p=RLe(p,l,c);var b=n-p.left-p.right,S=e-p.top-p.bottom;return pR(pR({brushBottom:g},p),{},{width:Math.max(b,0),height:Math.max(S,0)})}),ZLe=at(eo,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),goe=at(Jp,Zp,(n,e)=>({x:0,y:0,width:n,height:e})),QLe=L.createContext(null),Jl=()=>L.useContext(QLe)!=null,OI=n=>n.brush,PI=at([OI,eo,moe],(n,e,t)=>({height:n.height,x:nn(n.x)?n.x:e.left,y:nn(n.y)?n.y:e.top+e.height+e.brushBottom-((t==null?void 0:t.bottom)||0),width:nn(n.width)?n.width:e.width})),WL={},$L={},GL={},DY;function e5e(){return DY||(DY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),f=()=>{o!==null&&(t.apply(a,o),a=void 0,o=null)},d=()=>{c&&f(),S()};let p=null;const g=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,d()},r)},b=()=>{p!==null&&(clearTimeout(p),p=null)},S=()=>{b(),a=void 0,o=null},w=()=>{f()},E=function(...k){if(i!=null&&i.aborted)return;a=this,o=k;const R=p==null;g(),l&&R&&f()};return E.schedule=g,E.cancel=S,E.flush=w,i==null||i.addEventListener("abort",S,{once:!0}),E}n.debounce=e})(GL)),GL}var IY;function t5e(){return IY||(IY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=e5e();function t(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);a&&(c[0]="leading"),o&&(c[1]="trailing");let f,d=null;const p=e.debounce(function(...S){f=r.apply(this,S),d=null},i,{edges:c}),g=function(...S){return l!=null&&(d===null&&(d=Date.now()),Date.now()-d>=l)?(f=r.apply(this,S),d=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,S),f)},b=()=>(p.flush(),f);return g.cancel=p.cancel,g.flush=b,g}n.debounce=t})($L)),$L}var NY;function n5e(){return NY||(NY=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=t5e();function t(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}n.throttle=t})(WL)),WL}var qL,LY;function r5e(){return LY||(LY=1,qL=n5e().throttle),qL}var i5e=r5e();const s5e=Mc(i5e);var lP=function(e,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>i[a++]))}},$d={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},yoe=(n,e,t)=>{var{width:r=$d.width,height:i=$d.height,aspect:s,maxHeight:a}=t,o=nx(r)?n:Number(r),l=nx(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},a5e={width:0,height:0,overflow:"visible"},o5e={width:0,overflowX:"visible"},l5e={height:0,overflowY:"visible"},c5e={},u5e=n=>{var{width:e,height:t}=n,r=nx(e),i=nx(t);return r&&i?a5e:r?o5e:i?l5e:c5e};function f5e(n){var{width:e,height:t,aspect:r}=n,i=e,s=t;return i===void 0&&s===void 0?(i=$d.width,s=$d.height):i===void 0?i=r&&r>0?void 0:$d.width:s===void 0&&(s=r&&r>0?void 0:$d.height),{width:i,height:s}}function eF(){return eF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},eF.apply(null,arguments)}function BY(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function FY(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BY(Object(t),!0).forEach(function(r){d5e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BY(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function d5e(n,e,t){return(e=h5e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function h5e(n){var e=p5e(n,"string");return typeof e=="symbol"?e:e+""}function p5e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var voe=L.createContext($d.initialDimension);function m5e(n){return ch(n.width)&&ch(n.height)}function xoe(n){var{children:e,width:t,height:r}=n,i=L.useMemo(()=>({width:t,height:r}),[t,r]);return m5e(i)?L.createElement(voe.Provider,{value:i},e):null}var bj=()=>L.useContext(voe),g5e=L.forwardRef((n,e)=>{var{aspect:t,initialDimension:r=$d.initialDimension,width:i,height:s,minWidth:a=$d.minWidth,minHeight:o,maxHeight:l,children:c,debounce:f=$d.debounce,id:d,className:p,onResize:g,style:b={}}=n,S=L.useRef(null),w=L.useRef();w.current=g,L.useImperativeHandle(e,()=>S.current);var[E,k]=L.useState({containerWidth:r.width,containerHeight:r.height}),R=L.useCallback((z,V)=>{k(Y=>{var q=Math.round(z),J=Math.round(V);return Y.containerWidth===q&&Y.containerHeight===J?Y:{containerWidth:q,containerHeight:J}})},[]);L.useEffect(()=>{if(S.current==null||typeof ResizeObserver>"u")return zw;var z=J=>{var re,fe=J[0];if(fe!=null){var{width:ne,height:te}=fe.contentRect;R(ne,te),(re=w.current)===null||re===void 0||re.call(w,ne,te)}};f>0&&(z=s5e(z,f,{trailing:!0,leading:!1}));var V=new ResizeObserver(z),{width:Y,height:q}=S.current.getBoundingClientRect();return R(Y,q),V.observe(S.current),()=>{V.disconnect()}},[R,f]);var{containerWidth:O,containerHeight:D}=E;lP(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:I,calculatedHeight:B}=yoe(O,D,{width:i,height:s,aspect:t,maxHeight:l});return lP(I!=null&&I>0||B!=null&&B>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,B,i,s,a,o,t),L.createElement("div",{id:d?"".concat(d):void 0,className:In("recharts-responsive-container",p),style:FY(FY({},b),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:S},L.createElement("div",{style:u5e({width:i,height:s})},L.createElement(xoe,{width:I,height:B},c)))}),boe=L.forwardRef((n,e)=>{var t=bj();if(ch(t.width)&&ch(t.height))return n.children;var{width:r,height:i}=f5e({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:a}=yoe(void 0,void 0,{width:r,height:i,aspect:n.aspect,maxHeight:n.maxHeight});return nn(s)&&nn(a)?L.createElement(xoe,{width:s,height:a},n.children):L.createElement(g5e,eF({},n,{width:r,height:i,ref:e}))});function _j(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var DI=()=>{var n,e=Jl(),t=mn(ZLe),r=mn(PI),i=(n=mn(OI))===null||n===void 0?void 0:n.padding;return!e||!r||!i?t:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},y5e={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},_oe=()=>{var n;return(n=mn(eo))!==null&&n!==void 0?n:y5e},woe=()=>mn(Jp),Soe=()=>mn(Zp),ji=n=>n.layout.layoutType,Uw=()=>mn(ji),wj=()=>{var n=Uw();if(n==="horizontal"||n==="vertical")return n},Eoe=n=>{var e=n.layout.layoutType;if(e==="centric"||e==="radial")return e},v5e=()=>{var n=Uw();return n!==void 0},HT=n=>{var e=Ea(),t=Jl(),{width:r,height:i}=n,s=bj(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),L.useEffect(()=>{!t&&ch(a)&&ch(o)&&e(ELe({width:a,height:o}))},[e,t,a,o]),null},Moe=Symbol.for("immer-nothing"),zY=Symbol.for("immer-draftable"),Ec=Symbol.for("immer-state");function wf(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var VA=Object.getPrototypeOf;function ow(n){return!!n&&!!n[Ec]}function ix(n){var e;return n?Aoe(n)||Array.isArray(n)||!!n[zY]||!!((e=n.constructor)!=null&&e[zY])||VT(n)||NI(n):!1}var x5e=Object.prototype.constructor.toString(),UY=new WeakMap;function Aoe(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let r=UY.get(t);return r===void 0&&(r=Function.toString.call(t),UY.set(t,r)),r===x5e}function cP(n,e,t=!0){II(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(i=>{e(i,n[i],n)}):n.forEach((r,i)=>e(i,r,n))}function II(n){const e=n[Ec];return e?e.type_:Array.isArray(n)?1:VT(n)?2:NI(n)?3:0}function tF(n,e){return II(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function Toe(n,e,t){const r=II(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function b5e(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function VT(n){return n instanceof Map}function NI(n){return n instanceof Set}function Dy(n){return n.copy_||n.base_}function nF(n,e){if(VT(n))return new Map(n);if(NI(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=Aoe(n);if(e===!0||e==="class_only"&&!t){const r=Object.getOwnPropertyDescriptors(n);delete r[Ec];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[a]})}return Object.create(VA(n),r)}else{const r=VA(n);if(r!==null&&t)return{...n};const i=Object.create(r);return Object.assign(i,n)}}function Sj(n,e=!1){return LI(n)||ow(n)||!ix(n)||(II(n)>1&&Object.defineProperties(n,{set:mR,add:mR,clear:mR,delete:mR}),Object.freeze(n),e&&Object.values(n).forEach(t=>Sj(t,!0))),n}function _5e(){wf(2)}var mR={value:_5e};function LI(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var w5e={};function sx(n){const e=w5e[n];return e||wf(0,n),e}var WA;function Coe(){return WA}function S5e(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jY(n,e){e&&(sx("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function rF(n){iF(n),n.drafts_.forEach(E5e),n.drafts_=null}function iF(n){n===WA&&(WA=n.parent_)}function HY(n){return WA=S5e(WA,n)}function E5e(n){const e=n[Ec];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function VY(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[Ec].modified_&&(rF(e),wf(4)),ix(n)&&(n=uP(e,n),e.parent_||fP(e,n)),e.patches_&&sx("Patches").generateReplacementPatches_(t[Ec].base_,n,e.patches_,e.inversePatches_)):n=uP(e,t,[]),rF(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Moe?n:void 0}function uP(n,e,t){if(LI(e))return e;const r=n.immer_.shouldUseStrictIteration(),i=e[Ec];if(!i)return cP(e,(s,a)=>WY(n,i,e,s,a,t),r),e;if(i.scope_!==n)return e;if(!i.modified_)return fP(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),cP(a,(l,c)=>WY(n,i,s,l,c,t,o),r),fP(n,s,!1),t&&n.patches_&&sx("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function WY(n,e,t,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=LI(i);if(!(o&&!a)){if(ow(i)){const l=s&&e&&e.type_!==3&&!tF(e.assigned_,r)?s.concat(r):void 0,c=uP(n,i,l);if(Toe(t,r,c),ow(c))n.canAutoFreeze_=!1;else return}else a&&t.add(i);if(ix(i)&&!o){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;uP(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(VT(t)?t.has(r):Object.prototype.propertyIsEnumerable.call(t,r))&&fP(n,i)}}}function fP(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Sj(e,t)}function M5e(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:Coe(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Ej;t&&(i=[r],s=$A);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var Ej={get(n,e){if(e===Ec)return n;const t=Dy(n);if(!tF(t,e))return A5e(n,t,e);const r=t[e];return n.finalized_||!ix(r)?r:r===YL(n.base_,e)?(XL(n),n.copy_[e]=aF(r,n)):r},has(n,e){return e in Dy(n)},ownKeys(n){return Reflect.ownKeys(Dy(n))},set(n,e,t){const r=koe(Dy(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=YL(Dy(n),e),s=i==null?void 0:i[Ec];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(b5e(t,i)&&(t!==void 0||tF(n.base_,e)))return!0;XL(n),sF(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return YL(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,XL(n),sF(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Dy(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){wf(11)},getPrototypeOf(n){return VA(n.base_)},setPrototypeOf(){wf(12)}},$A={};cP(Ej,(n,e)=>{$A[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$A.deleteProperty=function(n,e){return $A.set.call(this,n,e,void 0)};$A.set=function(n,e,t){return Ej.set.call(this,n[0],e,t,n[0])};function YL(n,e){const t=n[Ec];return(t?Dy(t):n)[e]}function A5e(n,e,t){var i;const r=koe(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function koe(n,e){if(!(e in n))return;let t=VA(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=VA(t)}}function sF(n){n.modified_||(n.modified_=!0,n.parent_&&sF(n.parent_))}function XL(n){n.copy_||(n.copy_=nF(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var T5e=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const a=this;return function(l=s,...c){return a.produce(l,f=>t.call(this,f,...c))}}typeof t!="function"&&wf(6),r!==void 0&&typeof r!="function"&&wf(7);let i;if(ix(e)){const s=HY(this),a=aF(e,void 0);let o=!0;try{i=t(a),o=!1}finally{o?rF(s):iF(s)}return jY(s,r),VY(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===Moe&&(i=void 0),this.autoFreeze_&&Sj(i,!0),r){const s=[],a=[];sx("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else wf(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,t,(a,o)=>{r=a,i=o}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof(n==null?void 0:n.useStrictIteration)=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){ix(n)||wf(8),ow(n)&&(n=C5e(n));const e=HY(this),t=aF(n,void 0);return t[Ec].isManual_=!0,iF(e),t}finishDraft(n,e){const t=n&&n[Ec];(!t||!t.isManual_)&&wf(9);const{scope_:r}=t;return jY(r,e),VY(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=sx("Patches").applyPatches_;return ow(n)?r(n,e):this.produce(n,i=>r(i,e))}};function aF(n,e){const t=VT(n)?sx("MapSet").proxyMap_(n,e):NI(n)?sx("MapSet").proxySet_(n,e):M5e(n,e);return(e?e.scope_:Coe()).drafts_.push(t),t}function C5e(n){return ow(n)||wf(10,n),Roe(n)}function Roe(n){if(!ix(n)||LI(n))return n;const e=n[Ec];let t,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=nF(n,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else t=nF(n,!0);return cP(t,(i,s)=>{Toe(t,i,Roe(s))},r),e&&(e.finalized_=!1),t}var k5e=new T5e;k5e.produce;var R5e={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Ooe=Kl({name:"legend",initialState:R5e,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:Li()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:r}=e.payload,i=kf(n).payload.indexOf(t);i>-1&&(n.payload[i]=r)},prepare:Li()},removeLegendPayload:{reducer(n,e){var t=kf(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:Li()}}}),{setLegendSize:Ztt,setLegendSettings:Qtt,addLegendPayload:O5e,replaceLegendPayload:P5e,removeLegendPayload:D5e}=Ooe.actions,I5e=Ooe.reducer;function oF(){return oF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},oF.apply(null,arguments)}function $Y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function KE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$Y(Object(t),!0).forEach(function(r){N5e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$Y(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function N5e(n,e,t){return(e=L5e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function L5e(n){var e=B5e(n,"string");return typeof e=="symbol"?e:e+""}function B5e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function F5e(n){return Array.isArray(n)&&lh(n[0])&&lh(n[1])?n.join(" ~ "):n}var o1={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},z5e=n=>{var{separator:e=o1.separator,contentStyle:t,itemStyle:r,labelStyle:i=o1.labelStyle,payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:f,labelFormatter:d,accessibilityLayer:p=o1.accessibilityLayer}=n,g=()=>{if(s&&s.length){var D={padding:0,margin:0},I=(o?xI(s,o):s).map((B,z)=>{if(B.type==="none")return null;var V=B.formatter||a||F5e,{value:Y,name:q}=B,J=Y,re=q;if(V){var fe=V(Y,q,B,z,s);if(Array.isArray(fe))[J,re]=fe;else if(fe!=null)J=fe;else return null}var ne=KE(KE({},o1.itemStyle),{},{color:B.color||o1.itemStyle.color},r);return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:ne},lh(re)?L.createElement("span",{className:"recharts-tooltip-item-name"},re):null,lh(re)?L.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,L.createElement("span",{className:"recharts-tooltip-item-value"},J),L.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:D},I)}return null},b=KE(KE({},o1.contentStyle),t),S=KE({margin:0},i),w=!Ro(f),E=w?f:"",k=In("recharts-default-tooltip",l),R=In("recharts-tooltip-label",c);w&&d&&s!==void 0&&s!==null&&(E=d(f,s));var O=p?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",oF({className:k,style:b},O),L.createElement("p",{className:R,style:S},L.isValidElement(E)?E:"".concat(E)),g())},JE="recharts-tooltip-wrapper",U5e={visibility:"hidden"};function j5e(n){var{coordinate:e,translateX:t,translateY:r}=n;return In(JE,{["".concat(JE,"-right")]:nn(t)&&e&&nn(e.x)&&t>=e.x,["".concat(JE,"-left")]:nn(t)&&e&&nn(e.x)&&t<e.x,["".concat(JE,"-bottom")]:nn(r)&&e&&nn(e.y)&&r>=e.y,["".concat(JE,"-top")]:nn(r)&&e&&nn(e.y)&&r<e.y})}function GY(n){var{allowEscapeViewBox:e,coordinate:t,key:r,offset:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=n;if(s&&nn(s[r]))return s[r];var f=t[r]-o-(i>0?i:0),d=t[r]+i;if(e[r])return a[r]?f:d;var p=l[r];if(p==null)return 0;if(a[r]){var g=f,b=p;return g<b?Math.max(d,p):Math.max(f,p)}if(c==null)return 0;var S=d+o,w=p+c;return S>w?Math.max(f,p):Math.max(d,p)}function H5e(n){var{translateX:e,translateY:t,useTranslate3d:r}=n;return{transform:r?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function V5e(n){var{allowEscapeViewBox:e,coordinate:t,offsetTop:r,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:c}=n,f,d,p;return o.height>0&&o.width>0&&t?(d=GY({allowEscapeViewBox:e,coordinate:t,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=GY({allowEscapeViewBox:e,coordinate:t,key:"y",offset:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),f=H5e({translateX:d,translateY:p,useTranslate3d:l})):f=U5e,{cssProperties:f,cssClasses:j5e({translateX:d,translateY:p,coordinate:t})}}function qY(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function gR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qY(Object(t),!0).forEach(function(r){lF(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qY(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function lF(n,e,t){return(e=W5e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function W5e(n){var e=$5e(n,"string");return typeof e=="symbol"?e:e+""}function $5e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class G5e extends L.PureComponent{constructor(){super(...arguments),lF(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),lF(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&t!==void 0?t:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:f,reverseDirection:d,useTranslate3d:p,viewBox:g,wrapperStyle:b,lastBoundingBox:S,innerRef:w,hasPortalFromProps:E}=this.props,k=typeof c=="number"?c:c.x,R=typeof c=="number"?c:c.y,{cssClasses:O,cssProperties:D}=V5e({allowEscapeViewBox:t,coordinate:a,offsetLeft:k,offsetTop:R,position:f,reverseDirection:d,tooltipBox:{height:S.height,width:S.width},useTranslate3d:p,viewBox:g}),I=E?{}:gR(gR({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},D),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),B=gR(gR({},I),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return L.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:B,ref:w},s)}}var Poe=()=>{var n;return(n=mn(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function cF(){return cF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},cF.apply(null,arguments)}function YY(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function XY(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YY(Object(t),!0).forEach(function(r){q5e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YY(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function q5e(n,e,t){return(e=Y5e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Y5e(n){var e=X5e(n,"string");return typeof e=="symbol"?e:e+""}function X5e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var KY={curveBasisClosed:uNe,curveBasisOpen:fNe,curveBasis:cNe,curveBumpX:oNe,curveBumpY:lNe,curveLinearClosed:dNe,curveLinear:gI,curveMonotoneX:hNe,curveMonotoneY:pNe,curveNatural:mNe,curveStep:gNe,curveStepAfter:vNe,curveStepBefore:yNe},dP=n=>hr(n.x)&&hr(n.y),JY=n=>n.base!=null&&dP(n.base)&&dP(n),ZE=n=>n.x,QE=n=>n.y,K5e=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(cj(n));if((t==="curveMonotone"||t==="curveBump")&&e){var r=KY["".concat(t).concat(e==="vertical"?"Y":"X")];if(r)return r}return KY[t]||gI},ZY={connectNulls:!1,type:"linear"},J5e=n=>{var{type:e=ZY.type,points:t=[],baseLine:r,layout:i,connectNulls:s=ZY.connectNulls}=n,a=K5e(e,i),o=s?t.filter(dP):t;if(Array.isArray(r)){var l,c=t.map((b,S)=>XY(XY({},b),{},{base:r[S]}));i==="vertical"?l=lR().y(QE).x1(ZE).x0(b=>b.base.x):l=lR().x(ZE).y1(QE).y0(b=>b.base.y);var f=l.defined(JY).curve(a),d=s?c.filter(JY):c;return f(d)}var p;i==="vertical"&&nn(r)?p=lR().y(QE).x1(ZE).x0(r):nn(r)?p=lR().x(ZE).y1(QE).y0(r):p=fae().x(ZE).y(QE);var g=p.defined(dP).curve(a);return g(o)},f2=n=>{var{className:e,points:t,path:r,pathRef:i}=n,s=Uw();if((!t||!t.length)&&!r)return null;var a={type:n.type,points:n.points,baseLine:n.baseLine,layout:n.layout||s,connectNulls:n.connectNulls},o=t&&t.length?J5e(a):r;return L.createElement("path",cF({},Nf(n),uj(n),{className:In("recharts-curve",e),d:o===null?void 0:o,ref:i}))},Z5e=["x","y","top","left","width","height","className"];function uF(){return uF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},uF.apply(null,arguments)}function QY(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Q5e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?QY(Object(t),!0).forEach(function(r){e8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):QY(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function e8e(n,e,t){return(e=t8e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function t8e(n){var e=n8e(n,"string");return typeof e=="symbol"?e:e+""}function n8e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function r8e(n,e){if(n==null)return{};var t,r,i=i8e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function i8e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var s8e=(n,e,t,r,i,s)=>"M".concat(n,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(t),a8e=n=>{var{x:e=0,y:t=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=n,l=r8e(n,Z5e),c=Q5e({x:e,y:t,top:r,left:i,width:s,height:a},l);return!nn(e)||!nn(t)||!nn(s)||!nn(a)||!nn(r)||!nn(i)?null:L.createElement("path",uF({},Ru(c),{className:In("recharts-cross",o),d:s8e(e,t,s,a,r,i)}))};function o8e(n,e,t,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-i:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-i,width:n==="horizontal"?r:t.width-1,height:n==="horizontal"?t.height-1:r}}function eX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function tX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eX(Object(t),!0).forEach(function(r){l8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function l8e(n,e,t){return(e=c8e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function c8e(n){var e=u8e(n,"string");return typeof e=="symbol"?e:e+""}function u8e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var f8e=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),d8e=(n,e,t)=>n.map(r=>"".concat(f8e(r)," ").concat(e,"ms ").concat(t)).join(","),h8e=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,r)=>t.filter(i=>r.includes(i))),GA=(n,e)=>Object.keys(e).reduce((t,r)=>tX(tX({},t),{},{[r]:n(r,e[r])}),{});function nX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ta(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nX(Object(t),!0).forEach(function(r){p8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function p8e(n,e,t){return(e=m8e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function m8e(n){var e=g8e(n,"string");return typeof e=="symbol"?e:e+""}function g8e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var hP=(n,e,t)=>n+(e-n)*t,fF=n=>{var{from:e,to:t}=n;return e!==t},Doe=(n,e,t)=>{var r=GA((i,s)=>{if(fF(s)){var[a,o]=n(s.from,s.to,s.velocity);return ta(ta({},s),{},{from:a,velocity:o})}return s},e);return t<1?GA((i,s)=>fF(s)&&r[i]!=null?ta(ta({},s),{},{velocity:hP(s.velocity,r[i].velocity,t),from:hP(s.from,r[i].from,t)}):s,e):Doe(n,r,t-1)};function y8e(n,e,t,r,i,s){var a,o=r.reduce((p,g)=>ta(ta({},p),{},{[g]:{from:n[g],velocity:0,to:e[g]}}),{}),l=()=>GA((p,g)=>g.from,o),c=()=>!Object.values(o).filter(fF).length,f=null,d=p=>{a||(a=p);var g=p-a,b=g/t.dt;o=Doe(t,o,b),i(ta(ta(ta({},n),e),l())),a=p,c()||(f=s.setTimeout(d))};return()=>(f=s.setTimeout(d),()=>{var p;(p=f)===null||p===void 0||p()})}function v8e(n,e,t,r,i,s,a){var o=null,l=i.reduce((d,p)=>{var g=n[p],b=e[p];return g==null||b==null?d:ta(ta({},d),{},{[p]:[g,b]})},{}),c,f=d=>{c||(c=d);var p=(d-c)/r,g=GA((S,w)=>hP(...w,t(p)),l);if(s(ta(ta(ta({},n),e),g)),p<1)o=a.setTimeout(f);else{var b=GA((S,w)=>hP(...w,t(1)),l);s(ta(ta(ta({},n),e),b))}};return()=>(o=a.setTimeout(f),()=>{var d;(d=o)===null||d===void 0||d()})}const x8e=(n,e,t,r,i,s)=>{var a=h8e(n,e);return t==null?()=>(i(ta(ta({},n),e)),()=>{}):t.isStepper===!0?y8e(n,e,t,a,i,s):v8e(n,e,t,r,a,i,s)};var pP=1e-4,Ioe=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],Noe=(n,e)=>n.map((t,r)=>t*e**r).reduce((t,r)=>t+r),rX=(n,e)=>t=>{var r=Ioe(n,e);return Noe(r,t)},b8e=(n,e)=>t=>{var r=Ioe(n,e),i=[...r.map((s,a)=>s*a).slice(1),0];return Noe(i,t)},_8e=n=>{var e,t=n.split("(");if(t.length!==2||t[0]!=="cubic-bezier")return null;var r=(e=t[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},w8e=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=_8e(t[0]);if(i)return i}}return t.length===4?t:[0,0,1,1]},S8e=(n,e,t,r)=>{var i=rX(n,t),s=rX(e,r),a=b8e(n,t),o=c=>c>1?1:c<0?0:c,l=c=>{for(var f=c>1?1:c,d=f,p=0;p<8;++p){var g=i(d)-f,b=a(d);if(Math.abs(g-f)<pP||b<pP)return s(d);d=o(d-g/b)}return s(d)};return l.isStepper=!1,l},iX=function(){return S8e(...w8e(...arguments))},E8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var c=-(a-o)*t,f=l*r,d=l+(c-f)*i/1e3,p=l*i/1e3+a;return Math.abs(p-o)<pP&&Math.abs(d)<pP?[o,0]:[p,d]};return s.isStepper=!0,s.dt=i,s},M8e=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return iX(n);case"spring":return E8e();default:if(n.split("(")[0]==="cubic-bezier")return iX(n)}return typeof n=="function"?n:null};function A8e(n){var e,t=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=n.setTimeout(s.bind(null,c),l);return}s(l),i=n.setTimeout(s.bind(null,c));return}typeof a=="string"&&(e=a,t(e)),typeof a=="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(t=a,()=>{t=()=>null}),getTimeoutController:()=>n}}class T8e{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=t?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function C8e(){return A8e(new T8e)}var k8e=L.createContext(C8e);function R8e(n,e){var t=L.useContext(k8e);return L.useMemo(()=>e??t(n),[n,e,t])}var O8e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),WT={isSsr:O8e()},P8e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sX={t:0},KL={t:1};function Loe(n){var e=Cc(n,P8e),{isActive:t,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:c}=e,f=t==="auto"?!WT.isSsr:t,d=R8e(e.animationId,e.animationManager),[p,g]=L.useState(f?sX:KL),b=L.useRef(null);return L.useEffect(()=>{f||g(KL)},[f]),L.useEffect(()=>{if(!f||!r)return zw;var S=x8e(sX,KL,M8e(s),i,g,d.getTimeoutController()),w=()=>{b.current=S()};return d.start([l,a,w,i,o]),()=>{d.stop(),b.current&&b.current(),o()}},[f,r,i,s,a,l,o,d]),c(p.t)}function Boe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=L.useRef(zA(e)),r=L.useRef(n);return r.current!==n&&(t.current=zA(e),r.current=n),t.current}var D8e=["radius"],I8e=["radius"],aX,oX,lX,cX,uX,fX,dX,hX,pX,mX;function gX(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function yX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gX(Object(t),!0).forEach(function(r){N8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gX(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function N8e(n,e,t){return(e=L8e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function L8e(n){var e=B8e(n,"string");return typeof e=="symbol"?e:e+""}function B8e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mP(){return mP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mP.apply(null,arguments)}function vX(n,e){if(n==null)return{};var t,r,i=F8e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function F8e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function bd(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var xX=(n,e,t,r,i)=>{var s=z0(t),a=z0(r),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,d;if(o>0&&Array.isArray(i)){for(var p=[0,0,0,0],g=0,b=4;g<b;g++){var S,w=(S=i[g])!==null&&S!==void 0?S:0;p[g]=w>o?o:w}d=qa(aX||(aX=bd(["M",",",""])),n,e+l*p[0]),p[0]>0&&(d+=qa(oX||(oX=bd(["A ",",",",0,0,",",",",",""])),p[0],p[0],f,n+c*p[0],e)),d+=qa(lX||(lX=bd(["L ",",",""])),n+t-c*p[1],e),p[1]>0&&(d+=qa(cX||(cX=bd(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],f,n+t,e+l*p[1])),d+=qa(uX||(uX=bd(["L ",",",""])),n+t,e+r-l*p[2]),p[2]>0&&(d+=qa(fX||(fX=bd(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],f,n+t-c*p[2],e+r)),d+=qa(dX||(dX=bd(["L ",",",""])),n+c*p[3],e+r),p[3]>0&&(d+=qa(hX||(hX=bd(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],f,n,e+r-l*p[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var E=Math.min(o,i);d=qa(pX||(pX=bd(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),n,e+l*E,E,E,f,n+c*E,e,n+t-c*E,e,E,E,f,n+t,e+l*E,n+t,e+r-l*E,E,E,f,n+t-c*E,e+r,n+c*E,e+r,E,E,f,n,e+r-l*E)}else d=qa(mX||(mX=bd(["M ",","," h "," v "," h "," Z"])),n,e,t,r,-t);return d},bX={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z8e=n=>{var e=Cc(n,bX),t=L.useRef(null),[r,i]=L.useState(-1);L.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var se=t.current.getTotalLength();se&&i(se)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:f}=e,{animationEasing:d,animationDuration:p,animationBegin:g,isAnimationActive:b,isUpdateAnimationActive:S}=e,w=L.useRef(o),E=L.useRef(l),k=L.useRef(s),R=L.useRef(a),O=L.useMemo(()=>({x:s,y:a,width:o,height:l,radius:c}),[s,a,o,l,c]),D=Boe(O,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var I=In("recharts-rectangle",f);if(!S){var B=Ru(e),{radius:z}=B,V=vX(B,D8e);return L.createElement("path",mP({},V,{x:z0(s),y:z0(a),width:z0(o),height:z0(l),radius:typeof c=="number"?c:void 0,className:I,d:xX(s,a,o,l,c)}))}var Y=w.current,q=E.current,J=k.current,re=R.current,fe="0px ".concat(r===-1?1:r,"px"),ne="".concat(r,"px 0px"),te=d8e(["strokeDasharray"],p,typeof d=="string"?d:bX.animationEasing);return L.createElement(Loe,{animationId:D,key:D,canBegin:r>0,duration:p,easing:d,isActive:S,begin:g},se=>{var be=Id(Y,o,se),Ee=Id(q,l,se),oe=Id(J,s,se),ee=Id(re,a,se);t.current&&(w.current=be,E.current=Ee,k.current=oe,R.current=ee);var xe;b?se>0?xe={transition:te,strokeDasharray:ne}:xe={strokeDasharray:fe}:xe={strokeDasharray:ne};var ae=Ru(e),{radius:De}=ae,dt=vX(ae,I8e);return L.createElement("path",mP({},dt,{radius:typeof c=="number"?c:void 0,className:I,d:xX(oe,ee,be,Ee,c),ref:t,style:yX(yX({},xe),e.style)}))})};function _X(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wX(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_X(Object(t),!0).forEach(function(r){U8e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_X(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U8e(n,e,t){return(e=j8e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j8e(n){var e=H8e(n,"string");return typeof e=="symbol"?e:e+""}function H8e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var gP=Math.PI/180,V8e=n=>n*180/Math.PI,Ka=(n,e,t,r)=>({x:n+Math.cos(-gP*r)*t,y:e+Math.sin(-gP*r)*t}),W8e=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},$8e=(n,e)=>{var{x:t,y:r}=n,{x:i,y:s}=e;return Math.sqrt((t-i)**2+(r-s)**2)},G8e=(n,e)=>{var{x:t,y:r}=n,{cx:i,cy:s}=e,a=$8e({x:t,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(t-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:V8e(l),angleInRadian:l}},q8e=n=>{var{startAngle:e,endAngle:t}=n,r=Math.floor(e/360),i=Math.floor(t/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:t-s*360}},Y8e=(n,e)=>{var{startAngle:t,endAngle:r}=e,i=Math.floor(t/360),s=Math.floor(r/360),a=Math.min(i,s);return n+a*360},X8e=(n,e)=>{var{chartX:t,chartY:r}=n,{radius:i,angle:s}=G8e({x:t,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=q8e(e),f=s,d;if(l<=c){for(;f>c;)f-=360;for(;f<l;)f+=360;d=f>=l&&f<=c}else{for(;f>l;)f-=360;for(;f<c;)f+=360;d=f>=c&&f<=l}return d?wX(wX({},e),{},{radius:i,angle:Y8e(f,e)}):null};function Foe(n){var{cx:e,cy:t,radius:r,startAngle:i,endAngle:s}=n,a=Ka(e,t,r,i),o=Ka(e,t,r,s);return{points:[a,o],cx:e,cy:t,radius:r,startAngle:i,endAngle:s}}var SX,EX,MX,AX,TX,CX,kX;function dF(){return dF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},dF.apply(null,arguments)}function nv(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var K8e=(n,e)=>{var t=wu(e-n),r=Math.min(Math.abs(e-n),359.999);return t*r},yR=n=>{var{cx:e,cy:t,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=n,c=o*(a?1:-1)+r,f=Math.asin(o/c)/gP,d=l?i:i+s*f,p=Ka(e,t,c,d),g=Ka(e,t,r,d),b=l?i-s*f:i,S=Ka(e,t,c*Math.cos(f*gP),b);return{center:p,circleTangency:g,lineTangency:S,theta:f}},zoe=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=n,o=K8e(s,a),l=s+o,c=Ka(e,t,i,s),f=Ka(e,t,i,l),d=qa(SX||(SX=nv(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),c.x,c.y,i,i,+(Math.abs(o)>180),+(s>l),f.x,f.y);if(r>0){var p=Ka(e,t,r,s),g=Ka(e,t,r,l);d+=qa(EX||(EX=nv(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),g.x,g.y,r,r,+(Math.abs(o)>180),+(s<=l),p.x,p.y)}else d+=qa(MX||(MX=nv(["L ",","," Z"])),e,t);return d},J8e=n=>{var{cx:e,cy:t,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=n,f=wu(c-l),{circleTangency:d,lineTangency:p,theta:g}=yR({cx:e,cy:t,radius:i,angle:l,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:b,lineTangency:S,theta:w}=yR({cx:e,cy:t,radius:i,angle:c,sign:-f,cornerRadius:s,cornerIsExternal:o}),E=o?Math.abs(l-c):Math.abs(l-c)-g-w;if(E<0)return a?qa(AX||(AX=nv(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):zoe({cx:e,cy:t,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var k=qa(TX||(TX=nv(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(f<0),d.x,d.y,i,i,+(E>180),+(f<0),b.x,b.y,s,s,+(f<0),S.x,S.y);if(r>0){var{circleTangency:R,lineTangency:O,theta:D}=yR({cx:e,cy:t,radius:r,angle:l,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:I,lineTangency:B,theta:z}=yR({cx:e,cy:t,radius:r,angle:c,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),V=o?Math.abs(l-c):Math.abs(l-c)-D-z;if(V<0&&s===0)return"".concat(k,"L").concat(e,",").concat(t,"Z");k+=qa(CX||(CX=nv(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),B.x,B.y,s,s,+(f<0),I.x,I.y,r,r,+(V>180),+(f>0),R.x,R.y,s,s,+(f<0),O.x,O.y)}else k+=qa(kX||(kX=nv(["L",",","Z"])),e,t);return k},Z8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Q8e=n=>{var e=Cc(n,Z8e),{cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:f,className:d}=e;if(s<i||c===f)return null;var p=In("recharts-sector",d),g=s-i,b=ig(a,g,0,!0),S;return b>0&&Math.abs(c-f)<360?S=J8e({cx:t,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(b,g/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:f}):S=zoe({cx:t,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:f}),L.createElement("path",dF({},Ru(e),{className:p,d:S}))};function eBe(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(Sae(e)){if(n==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=Ka(r,i,s,o),c=Ka(r,i,a,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return Foe(e)}}var JL={},ZL={},QL={},RX;function tBe(){return RX||(RX=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Dae();function t(r){return e.isSymbol(r)?NaN:Number(r)}n.toNumber=t})(QL)),QL}var OX;function nBe(){return OX||(OX=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=tBe();function t(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}n.toFinite=t})(ZL)),ZL}var PX;function rBe(){return PX||(PX=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=Iae(),t=nBe();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=t.toFinite(i),s===void 0?(s=i,i=0):s=t.toFinite(s),a=a===void 0?i<s?1:-1:t.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}n.range=r})(JL)),JL}var e5,DX;function iBe(){return DX||(DX=1,e5=rBe().range),e5}var sBe=iBe();const Uoe=Mc(sBe);function W0(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function aBe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function Mj(n){let e,t,r;n.length!==2?(e=W0,t=(o,l)=>W0(n(o),l),r=(o,l)=>n(o)-l):(e=n===W0||n===aBe?n:oBe,t=n,r=n);function i(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;t(o[d],l)<0?c=d+1:f=d}while(c<f)}return c}function s(o,l,c=0,f=o.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;t(o[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function a(o,l,c=0,f=o.length){const d=i(o,l,c,f-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function oBe(){return 0}function joe(n){return n===null?NaN:+n}function*lBe(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const cBe=Mj(W0),$T=cBe.right;Mj(joe).center;class IX extends Map{constructor(e,t=dBe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(NX(this,e))}has(e){return super.has(NX(this,e))}set(e,t){return super.set(uBe(this,e),t)}delete(e){return super.delete(fBe(this,e))}}function NX({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):t}function uBe({_intern:n,_key:e},t){const r=e(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function fBe({_intern:n,_key:e},t){const r=e(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function dBe(n){return n!==null&&typeof n=="object"?n.valueOf():n}function hBe(n=W0){if(n===W0)return Hoe;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const r=n(e,t);return r||r===0?r:(n(t,t)===0)-(n(e,e)===0)}}function Hoe(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const pBe=Math.sqrt(50),mBe=Math.sqrt(10),gBe=Math.sqrt(2);function yP(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=pBe?10:s>=mBe?5:s>=gBe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(n*c),l=Math.round(e*c),o/c<n&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(n/c),l=Math.round(e/c),o*c<n&&++o,l*c>e&&--l),l<o&&.5<=t&&t<2?yP(n,e,t*2):[o,l,c]}function hF(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,a]=r?yP(e,n,t):yP(n,e,t);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function pF(n,e,t){return e=+e,n=+n,t=+t,yP(n,e,t)[2]}function mF(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?pF(e,n,t):pF(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function LX(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function BX(n,e){let t;for(const r of n)r!=null&&(t>r||t===void 0&&r>=r)&&(t=r);return t}function Voe(n,e,t=0,r=1/0,i){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),r=Math.floor(Math.min(n.length-1,r)),!(t<=e&&e<=r))return n;for(i=i===void 0?Hoe:hBe(i);r>t;){if(r-t>600){const l=r-t+1,c=e-t+1,f=Math.log(l),d=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(t,Math.floor(e-c*d/l+p)),b=Math.min(r,Math.floor(e+(l-c)*d/l+p));Voe(n,e,g,b,i)}const s=n[e];let a=t,o=r;for(eM(n,t,e),i(n[r],s)>0&&eM(n,t,r);a<o;){for(eM(n,a,o),++a,--o;i(n[a],s)<0;)++a;for(;i(n[o],s)>0;)--o}i(n[t],s)===0?eM(n,t,o):(++o,eM(n,o,r)),o<=e&&(t=o+1),e<=o&&(r=o-1)}return n}function eM(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function yBe(n,e,t){if(n=Float64Array.from(lBe(n)),!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return BX(n);if(e>=1)return LX(n);var r,i=(r-1)*e,s=Math.floor(i),a=LX(Voe(n,s).subarray(0,s+1)),o=BX(n.subarray(s+1));return a+(o-a)*(i-s)}}function vBe(n,e,t=joe){if(!(!(r=n.length)||isNaN(e=+e))){if(e<=0||r<2)return+t(n[0],0,n);if(e>=1)return+t(n[r-1],r-1,n);var r,i=(r-1)*e,s=Math.floor(i),a=+t(n[s],s,n),o=+t(n[s+1],s+1,n);return a+(o-a)*(i-s)}}function xBe(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function Lu(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Qp(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const gF=Symbol("implicit");function Aj(){var n=new IX,e=[],t=[],r=gF;function i(s){let a=n.get(s);if(a===void 0){if(r!==gF)return r;n.set(s,a=e.push(s)-1)}return t[a%t.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new IX;for(const a of s)n.has(a)||n.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(t=Array.from(s),i):t.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Aj(e,t).unknown(r)},Lu.apply(i,arguments),i}function Tj(){var n=Aj().unknown(void 0),e=n.domain,t=n.range,r=0,i=1,s,a,o=!1,l=0,c=0,f=.5;delete n.unknown;function d(){var p=e().length,g=i<r,b=g?i:r,S=g?r:i;s=(S-b)/Math.max(1,p-l+c*2),o&&(s=Math.floor(s)),b+=(S-b-s*(p-l))*f,a=s*(1-l),o&&(b=Math.round(b),a=Math.round(a));var w=xBe(p).map(function(E){return b+s*E});return t(g?w.reverse():w)}return n.domain=function(p){return arguments.length?(e(p),d()):e()},n.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,d()):[r,i]},n.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,d()},n.bandwidth=function(){return a},n.step=function(){return s},n.round=function(p){return arguments.length?(o=!!p,d()):o},n.padding=function(p){return arguments.length?(l=Math.min(1,c=+p),d()):l},n.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),d()):l},n.paddingOuter=function(p){return arguments.length?(c=+p,d()):c},n.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),d()):f},n.copy=function(){return Tj(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(f)},Lu.apply(d(),arguments)}function Woe(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return Woe(e())},n}function bBe(){return Woe(Tj.apply(null,arguments).paddingInner(1))}function Cj(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function $oe(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function GT(){}var qA=.7,vP=1/qA,Q1="\\s*([+-]?\\d+)\\s*",YA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_Be=/^#([0-9a-f]{3,8})$/,wBe=new RegExp(`^rgb\\(${Q1},${Q1},${Q1}\\)$`),SBe=new RegExp(`^rgb\\(${Zd},${Zd},${Zd}\\)$`),EBe=new RegExp(`^rgba\\(${Q1},${Q1},${Q1},${YA}\\)$`),MBe=new RegExp(`^rgba\\(${Zd},${Zd},${Zd},${YA}\\)$`),ABe=new RegExp(`^hsl\\(${YA},${Zd},${Zd}\\)$`),TBe=new RegExp(`^hsla\\(${YA},${Zd},${Zd},${YA}\\)$`),FX={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Cj(GT,XA,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:zX,formatHex:zX,formatHex8:CBe,formatHsl:kBe,formatRgb:UX,toString:UX});function zX(){return this.rgb().formatHex()}function CBe(){return this.rgb().formatHex8()}function kBe(){return Goe(this).formatHsl()}function UX(){return this.rgb().formatRgb()}function XA(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=_Be.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?jX(e):t===3?new $l(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?vR(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?vR(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=wBe.exec(n))?new $l(e[1],e[2],e[3],1):(e=SBe.exec(n))?new $l(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=EBe.exec(n))?vR(e[1],e[2],e[3],e[4]):(e=MBe.exec(n))?vR(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ABe.exec(n))?WX(e[1],e[2]/100,e[3]/100,1):(e=TBe.exec(n))?WX(e[1],e[2]/100,e[3]/100,e[4]):FX.hasOwnProperty(n)?jX(FX[n]):n==="transparent"?new $l(NaN,NaN,NaN,0):null}function jX(n){return new $l(n>>16&255,n>>8&255,n&255,1)}function vR(n,e,t,r){return r<=0&&(n=e=t=NaN),new $l(n,e,t,r)}function RBe(n){return n instanceof GT||(n=XA(n)),n?(n=n.rgb(),new $l(n.r,n.g,n.b,n.opacity)):new $l}function yF(n,e,t,r){return arguments.length===1?RBe(n):new $l(n,e,t,r??1)}function $l(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}Cj($l,yF,$oe(GT,{brighter(n){return n=n==null?vP:Math.pow(vP,n),new $l(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?qA:Math.pow(qA,n),new $l(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new $l(Uv(this.r),Uv(this.g),Uv(this.b),xP(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:HX,formatHex:HX,formatHex8:OBe,formatRgb:VX,toString:VX}));function HX(){return`#${rv(this.r)}${rv(this.g)}${rv(this.b)}`}function OBe(){return`#${rv(this.r)}${rv(this.g)}${rv(this.b)}${rv((isNaN(this.opacity)?1:this.opacity)*255)}`}function VX(){const n=xP(this.opacity);return`${n===1?"rgb(":"rgba("}${Uv(this.r)}, ${Uv(this.g)}, ${Uv(this.b)}${n===1?")":`, ${n})`}`}function xP(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Uv(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function rv(n){return n=Uv(n),(n<16?"0":"")+n.toString(16)}function WX(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Sf(n,e,t,r)}function Goe(n){if(n instanceof Sf)return new Sf(n.h,n.s,n.l,n.opacity);if(n instanceof GT||(n=XA(n)),!n)return new Sf;if(n instanceof Sf)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(t-r)/o+(t<r)*6:t===s?a=(r-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Sf(a,o,l,n.opacity)}function PBe(n,e,t,r){return arguments.length===1?Goe(n):new Sf(n,e,t,r??1)}function Sf(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}Cj(Sf,PBe,$oe(GT,{brighter(n){return n=n==null?vP:Math.pow(vP,n),new Sf(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?qA:Math.pow(qA,n),new Sf(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new $l(t5(n>=240?n-240:n+120,i,r),t5(n,i,r),t5(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Sf($X(this.h),xR(this.s),xR(this.l),xP(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=xP(this.opacity);return`${n===1?"hsl(":"hsla("}${$X(this.h)}, ${xR(this.s)*100}%, ${xR(this.l)*100}%${n===1?")":`, ${n})`}`}}));function $X(n){return n=(n||0)%360,n<0?n+360:n}function xR(n){return Math.max(0,Math.min(1,n||0))}function t5(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const kj=n=>()=>n;function DBe(n,e){return function(t){return n+t*e}}function IBe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function NBe(n){return(n=+n)==1?qoe:function(e,t){return t-e?IBe(e,t,n):kj(isNaN(e)?t:e)}}function qoe(n,e){var t=e-n;return t?DBe(n,t):kj(isNaN(n)?e:n)}const GX=(function n(e){var t=NBe(e);function r(i,s){var a=t((i=yF(i)).r,(s=yF(s)).r),o=t(i.g,s.g),l=t(i.b,s.b),c=qoe(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=n,r})(1);function LBe(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function BBe(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function FBe(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),a;for(a=0;a<r;++a)i[a]=jw(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function zBe(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function bP(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function UBe(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=jw(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var vF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n5=new RegExp(vF.source,"g");function jBe(n){return function(){return n}}function HBe(n){return function(e){return n(e)+""}}function VBe(n,e){var t=vF.lastIndex=n5.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(r=vF.exec(n))&&(i=n5.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:bP(r,i)})),t=n5.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?HBe(l[0].x):jBe(e):(e=l.length,function(c){for(var f=0,d;f<e;++f)o[(d=l[f]).i]=d.x(c);return o.join("")})}function jw(n,e){var t=typeof e,r;return e==null||t==="boolean"?kj(e):(t==="number"?bP:t==="string"?(r=XA(e))?(e=r,GX):VBe:e instanceof XA?GX:e instanceof Date?zBe:BBe(e)?LBe:Array.isArray(e)?FBe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?UBe:bP)(n,e)}function Rj(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function WBe(n,e){e===void 0&&(e=n,n=jw);for(var t=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);t<r;)s[t]=n(i,i=e[++t]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function $Be(n){return function(){return n}}function _P(n){return+n}var qX=[0,1];function rl(n){return n}function xF(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:$Be(isNaN(e)?NaN:.5)}function GBe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function qBe(n,e,t){var r=n[0],i=n[1],s=e[0],a=e[1];return i<r?(r=xF(i,r),s=t(a,s)):(r=xF(r,i),s=t(s,a)),function(o){return s(r(o))}}function YBe(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=xF(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=$T(n,o,1,r)-1;return s[l](i[l](o))}}function qT(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function BI(){var n=qX,e=qX,t=jw,r,i,s,a=rl,o,l,c;function f(){var p=Math.min(n.length,e.length);return a!==rl&&(a=GBe(n[0],n[p-1])),o=p>2?YBe:qBe,l=c=null,d}function d(p){return p==null||isNaN(p=+p)?s:(l||(l=o(n.map(r),e,t)))(r(a(p)))}return d.invert=function(p){return a(i((c||(c=o(e,n.map(r),bP)))(p)))},d.domain=function(p){return arguments.length?(n=Array.from(p,_P),f()):n.slice()},d.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},d.rangeRound=function(p){return e=Array.from(p),t=Rj,f()},d.clamp=function(p){return arguments.length?(a=p?!0:rl,f()):a!==rl},d.interpolate=function(p){return arguments.length?(t=p,f()):t},d.unknown=function(p){return arguments.length?(s=p,d):s},function(p,g){return r=p,i=g,f()}}function Oj(){return BI()(rl,rl)}function XBe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function wP(n,e){if(!isFinite(n)||n===0)return null;var t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"),r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function lw(n){return n=wP(Math.abs(n)),n?n[1]:NaN}function KBe(n,e){return function(t,r){for(var i=t.length,s=[],a=0,o=n[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(t.substring(i-=o,i+o)),!((l+=o+1)>r));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function JBe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var ZBe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function KA(n){if(!(e=ZBe.exec(n)))throw new Error("invalid format: "+n);var e;return new Pj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}KA.prototype=Pj.prototype;function Pj(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}Pj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function QBe(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var SP;function eFe(n,e){var t=wP(n,e);if(!t)return SP=void 0,n.toPrecision(e);var r=t[0],i=t[1],s=i-(SP=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+wP(n,Math.max(0,e+s-1))[0]}function YX(n,e){var t=wP(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const XX={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:XBe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>YX(n*100,e),r:YX,s:eFe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function KX(n){return n}var JX=Array.prototype.map,ZX=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function tFe(n){var e=n.grouping===void 0||n.thousands===void 0?KX:KBe(JX.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?KX:JBe(JX.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function c(d,p){d=KA(d);var g=d.fill,b=d.align,S=d.sign,w=d.symbol,E=d.zero,k=d.width,R=d.comma,O=d.precision,D=d.trim,I=d.type;I==="n"?(R=!0,I="g"):XX[I]||(O===void 0&&(O=12),D=!0,I="g"),(E||g==="0"&&b==="=")&&(E=!0,g="0",b="=");var B=(p&&p.prefix!==void 0?p.prefix:"")+(w==="$"?t:w==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():""),z=(w==="$"?r:/[%p]/.test(I)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),V=XX[I],Y=/[defgprs%]/.test(I);O=O===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,O)):Math.max(0,Math.min(20,O));function q(J){var re=B,fe=z,ne,te,se;if(I==="c")fe=V(J)+fe,J="";else{J=+J;var be=J<0||1/J<0;if(J=isNaN(J)?l:V(Math.abs(J),O),D&&(J=QBe(J)),be&&+J==0&&S!=="+"&&(be=!1),re=(be?S==="("?S:o:S==="-"||S==="("?"":S)+re,fe=(I==="s"&&!isNaN(J)&&SP!==void 0?ZX[8+SP/3]:"")+fe+(be&&S==="("?")":""),Y){for(ne=-1,te=J.length;++ne<te;)if(se=J.charCodeAt(ne),48>se||se>57){fe=(se===46?i+J.slice(ne+1):J.slice(ne))+fe,J=J.slice(0,ne);break}}}R&&!E&&(J=e(J,1/0));var Ee=re.length+J.length+fe.length,oe=Ee<k?new Array(k-Ee+1).join(g):"";switch(R&&E&&(J=e(oe+J,oe.length?k-fe.length:1/0),oe=""),b){case"<":J=re+J+fe+oe;break;case"=":J=re+oe+J+fe;break;case"^":J=oe.slice(0,Ee=oe.length>>1)+re+J+fe+oe.slice(Ee);break;default:J=oe+re+J+fe;break}return s(J)}return q.toString=function(){return d+""},q}function f(d,p){var g=Math.max(-8,Math.min(8,Math.floor(lw(p)/3)))*3,b=Math.pow(10,-g),S=c((d=KA(d),d.type="f",d),{suffix:ZX[8+g/3]});return function(w){return S(b*w)}}return{format:c,formatPrefix:f}}var bR,Dj,Yoe;nFe({thousands:",",grouping:[3],currency:["$",""]});function nFe(n){return bR=tFe(n),Dj=bR.format,Yoe=bR.formatPrefix,bR}function rFe(n){return Math.max(0,-lw(Math.abs(n)))}function iFe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lw(e)/3)))*3-lw(Math.abs(n)))}function sFe(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,lw(e)-lw(n))+1}function Xoe(n,e,t,r){var i=mF(n,e,t),s;switch(r=KA(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=iFe(i,a))&&(r.precision=s),Yoe(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=sFe(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=rFe(i))&&(r.precision=s-(r.type==="%")*2);break}}return Dj(r)}function mg(n){var e=n.domain;return n.ticks=function(t){var r=e();return hF(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return Xoe(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,f=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);f-- >0;){if(c=pF(a,o,t),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return n},n}function Koe(){var n=Oj();return n.copy=function(){return qT(n,Koe())},Lu.apply(n,arguments),mg(n)}function Joe(n){var e;function t(r){return r==null||isNaN(r=+r)?e:r}return t.invert=t,t.domain=t.range=function(r){return arguments.length?(n=Array.from(r,_P),t):n.slice()},t.unknown=function(r){return arguments.length?(e=r,t):e},t.copy=function(){return Joe(n).unknown(e)},n=arguments.length?Array.from(n,_P):[0,1],mg(t)}function Zoe(n,e){n=n.slice();var t=0,r=n.length-1,i=n[t],s=n[r],a;return s<i&&(a=t,t=r,r=a,a=i,i=s,s=a),n[t]=e.floor(i),n[r]=e.ceil(s),n}function QX(n){return Math.log(n)}function eK(n){return Math.exp(n)}function aFe(n){return-Math.log(-n)}function oFe(n){return-Math.exp(-n)}function lFe(n){return isFinite(n)?+("1e"+n):n<0?0:n}function cFe(n){return n===10?lFe:n===Math.E?Math.exp:e=>Math.pow(n,e)}function uFe(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function tK(n){return(e,t)=>-n(-e,t)}function Ij(n){const e=n(QX,eK),t=e.domain;let r=10,i,s;function a(){return i=uFe(r),s=cFe(r),t()[0]<0?(i=tK(i),s=tK(s),n(aFe,oFe)):n(QX,eK),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(t(o),a()):t()},e.ticks=o=>{const l=t();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let p=i(c),g=i(f),b,S;const w=o==null?10:+o;let E=[];if(!(r%1)&&g-p<w){if(p=Math.floor(p),g=Math.ceil(g),c>0){for(;p<=g;++p)for(b=1;b<r;++b)if(S=p<0?b/s(-p):b*s(p),!(S<c)){if(S>f)break;E.push(S)}}else for(;p<=g;++p)for(b=r-1;b>=1;--b)if(S=p>0?b/s(-p):b*s(p),!(S<c)){if(S>f)break;E.push(S)}E.length*2<w&&(E=hF(c,f,w))}else E=hF(p,g,Math.min(g-p,w)).map(s);return d?E.reverse():E},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=KA(l)).precision==null&&(l.trim=!0),l=Dj(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return f=>{let d=f/s(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=c?l(f):""}},e.nice=()=>t(Zoe(t(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Qoe(){const n=Ij(BI()).domain([1,10]);return n.copy=()=>qT(n,Qoe()).base(n.base()),Lu.apply(n,arguments),n}function nK(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function rK(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function Nj(n){var e=1,t=n(nK(e),rK(e));return t.constant=function(r){return arguments.length?n(nK(e=+r),rK(e)):e},mg(t)}function ele(){var n=Nj(BI());return n.copy=function(){return qT(n,ele()).constant(n.constant())},Lu.apply(n,arguments)}function iK(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function fFe(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function dFe(n){return n<0?-n*n:n*n}function Lj(n){var e=n(rl,rl),t=1;function r(){return t===1?n(rl,rl):t===.5?n(fFe,dFe):n(iK(t),iK(1/t))}return e.exponent=function(i){return arguments.length?(t=+i,r()):t},mg(e)}function Bj(){var n=Lj(BI());return n.copy=function(){return qT(n,Bj()).exponent(n.exponent())},Lu.apply(n,arguments),n}function hFe(){return Bj.apply(null,arguments).exponent(.5)}function sK(n){return Math.sign(n)*n*n}function pFe(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function tle(){var n=Oj(),e=[0,1],t=!1,r;function i(s){var a=pFe(n(s));return isNaN(a)?r:t?Math.round(a):a}return i.invert=function(s){return n.invert(sK(s))},i.domain=function(s){return arguments.length?(n.domain(s),i):n.domain()},i.range=function(s){return arguments.length?(n.range((e=Array.from(s,_P)).map(sK)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(t=!!s,i):t},i.clamp=function(s){return arguments.length?(n.clamp(s),i):n.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return tle(n.domain(),e).round(t).clamp(n.clamp()).unknown(r)},Lu.apply(i,arguments),mg(i)}function nle(){var n=[],e=[],t=[],r;function i(){var a=0,o=Math.max(1,e.length);for(t=new Array(o-1);++a<o;)t[a-1]=vBe(n,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[$T(t,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?t[o-1]:n[0],o<t.length?t[o]:n[n.length-1]]},s.domain=function(a){if(!arguments.length)return n.slice();n=[];for(let o of a)o!=null&&!isNaN(o=+o)&&n.push(o);return n.sort(W0),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return t.slice()},s.copy=function(){return nle().domain(n).range(e).unknown(r)},Lu.apply(s,arguments)}function rle(){var n=0,e=1,t=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[$T(r,l,0,t)]:s}function o(){var l=-1;for(r=new Array(t);++l<t;)r[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[n,r[0]]:c>=t?[r[t-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return rle().domain([n,e]).range(i).unknown(s)},Lu.apply(mg(a),arguments)}function ile(){var n=[.5],e=[0,1],t,r=1;function i(s){return s!=null&&s<=s?e[$T(n,s,0,r)]:t}return i.domain=function(s){return arguments.length?(n=Array.from(s),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[n[a-1],n[a]]},i.unknown=function(s){return arguments.length?(t=s,i):t},i.copy=function(){return ile().domain(n).range(e).unknown(t)},Lu.apply(i,arguments)}const r5=new Date,i5=new Date;function aa(n,e,t,r){function i(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(n(s=new Date(+s)),s),i.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),n(s);while(c<s&&s<a);return l},i.filter=s=>aa(a=>{if(a>=a)for(;n(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),t&&(i.count=(s,a)=>(r5.setTime(+s),i5.setTime(+a),n(r5),n(i5),Math.floor(t(r5,i5))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const EP=aa(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);EP.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?aa(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):EP);EP.range;const Mp=1e3,Su=Mp*60,Ap=Su*60,Vp=Ap*24,Fj=Vp*7,aK=Vp*30,s5=Vp*365,iv=aa(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*Mp)},(n,e)=>(e-n)/Mp,n=>n.getUTCSeconds());iv.range;const zj=aa(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Mp)},(n,e)=>{n.setTime(+n+e*Su)},(n,e)=>(e-n)/Su,n=>n.getMinutes());zj.range;const Uj=aa(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Su)},(n,e)=>(e-n)/Su,n=>n.getUTCMinutes());Uj.range;const jj=aa(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*Mp-n.getMinutes()*Su)},(n,e)=>{n.setTime(+n+e*Ap)},(n,e)=>(e-n)/Ap,n=>n.getHours());jj.range;const Hj=aa(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Ap)},(n,e)=>(e-n)/Ap,n=>n.getUTCHours());Hj.range;const YT=aa(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Su)/Vp,n=>n.getDate()-1);YT.range;const FI=aa(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Vp,n=>n.getUTCDate()-1);FI.range;const sle=aa(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Vp,n=>Math.floor(n/Vp));sle.range;function yx(n){return aa(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Su)/Fj)}const zI=yx(0),MP=yx(1),mFe=yx(2),gFe=yx(3),cw=yx(4),yFe=yx(5),vFe=yx(6);zI.range;MP.range;mFe.range;gFe.range;cw.range;yFe.range;vFe.range;function vx(n){return aa(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Fj)}const UI=vx(0),AP=vx(1),xFe=vx(2),bFe=vx(3),uw=vx(4),_Fe=vx(5),wFe=vx(6);UI.range;AP.range;xFe.range;bFe.range;uw.range;_Fe.range;wFe.range;const Vj=aa(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());Vj.range;const Wj=aa(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());Wj.range;const Wp=aa(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());Wp.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:aa(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});Wp.range;const $p=aa(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());$p.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:aa(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});$p.range;function ale(n,e,t,r,i,s){const a=[[iv,1,Mp],[iv,5,5*Mp],[iv,15,15*Mp],[iv,30,30*Mp],[s,1,Su],[s,5,5*Su],[s,15,15*Su],[s,30,30*Su],[i,1,Ap],[i,3,3*Ap],[i,6,6*Ap],[i,12,12*Ap],[r,1,Vp],[r,2,2*Vp],[t,1,Fj],[e,1,aK],[e,3,3*aK],[n,1,s5]];function o(c,f,d){const p=f<c;p&&([c,f]=[f,c]);const g=d&&typeof d.range=="function"?d:l(c,f,d),b=g?g.range(c,+f+1):[];return p?b.reverse():b}function l(c,f,d){const p=Math.abs(f-c)/d,g=Mj(([,,w])=>w).right(a,p);if(g===a.length)return n.every(mF(c/s5,f/s5,d));if(g===0)return EP.every(Math.max(mF(c,f,d),1));const[b,S]=a[p/a[g-1][2]<a[g][2]/p?g-1:g];return b.every(S)}return[o,l]}const[SFe,EFe]=ale($p,Wj,UI,sle,Hj,Uj),[MFe,AFe]=ale(Wp,Vj,zI,YT,jj,zj);function a5(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function o5(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function tM(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function TFe(n){var e=n.dateTime,t=n.date,r=n.time,i=n.periods,s=n.days,a=n.shortDays,o=n.months,l=n.shortMonths,c=nM(i),f=rM(i),d=nM(s),p=rM(s),g=nM(a),b=rM(a),S=nM(o),w=rM(o),E=nM(l),k=rM(l),R={a:se,A:be,b:Ee,B:oe,c:null,d:dK,e:dK,f:KFe,g:aze,G:lze,H:qFe,I:YFe,j:XFe,L:ole,m:JFe,M:ZFe,p:ee,q:xe,Q:mK,s:gK,S:QFe,u:eze,U:tze,V:nze,w:rze,W:ize,x:null,X:null,y:sze,Y:oze,Z:cze,"%":pK},O={a:ae,A:De,b:dt,B:Ne,c:null,d:hK,e:hK,f:hze,g:Sze,G:Mze,H:uze,I:fze,j:dze,L:cle,m:pze,M:mze,p:Ue,q:qe,Q:mK,s:gK,S:gze,u:yze,U:vze,V:xze,w:bze,W:_ze,x:null,X:null,y:wze,Y:Eze,Z:Aze,"%":pK},D={a:Y,A:q,b:J,B:re,c:fe,d:uK,e:uK,f:VFe,g:cK,G:lK,H:fK,I:fK,j:zFe,L:HFe,m:FFe,M:UFe,p:V,q:BFe,Q:$Fe,s:GFe,S:jFe,u:PFe,U:DFe,V:IFe,w:OFe,W:NFe,x:ne,X:te,y:cK,Y:lK,Z:LFe,"%":WFe};R.x=I(t,R),R.X=I(r,R),R.c=I(e,R),O.x=I(t,O),O.X=I(r,O),O.c=I(e,O);function I(Pe,lt){return function(Mt){var Ze=[],_t=-1,Ve=0,ot=Pe.length,Qe,mt,_e;for(Mt instanceof Date||(Mt=new Date(+Mt));++_t<ot;)Pe.charCodeAt(_t)===37&&(Ze.push(Pe.slice(Ve,_t)),(mt=oK[Qe=Pe.charAt(++_t)])!=null?Qe=Pe.charAt(++_t):mt=Qe==="e"?" ":"0",(_e=lt[Qe])&&(Qe=_e(Mt,mt)),Ze.push(Qe),Ve=_t+1);return Ze.push(Pe.slice(Ve,_t)),Ze.join("")}}function B(Pe,lt){return function(Mt){var Ze=tM(1900,void 0,1),_t=z(Ze,Pe,Mt+="",0),Ve,ot;if(_t!=Mt.length)return null;if("Q"in Ze)return new Date(Ze.Q);if("s"in Ze)return new Date(Ze.s*1e3+("L"in Ze?Ze.L:0));if(lt&&!("Z"in Ze)&&(Ze.Z=0),"p"in Ze&&(Ze.H=Ze.H%12+Ze.p*12),Ze.m===void 0&&(Ze.m="q"in Ze?Ze.q:0),"V"in Ze){if(Ze.V<1||Ze.V>53)return null;"w"in Ze||(Ze.w=1),"Z"in Ze?(Ve=o5(tM(Ze.y,0,1)),ot=Ve.getUTCDay(),Ve=ot>4||ot===0?AP.ceil(Ve):AP(Ve),Ve=FI.offset(Ve,(Ze.V-1)*7),Ze.y=Ve.getUTCFullYear(),Ze.m=Ve.getUTCMonth(),Ze.d=Ve.getUTCDate()+(Ze.w+6)%7):(Ve=a5(tM(Ze.y,0,1)),ot=Ve.getDay(),Ve=ot>4||ot===0?MP.ceil(Ve):MP(Ve),Ve=YT.offset(Ve,(Ze.V-1)*7),Ze.y=Ve.getFullYear(),Ze.m=Ve.getMonth(),Ze.d=Ve.getDate()+(Ze.w+6)%7)}else("W"in Ze||"U"in Ze)&&("w"in Ze||(Ze.w="u"in Ze?Ze.u%7:"W"in Ze?1:0),ot="Z"in Ze?o5(tM(Ze.y,0,1)).getUTCDay():a5(tM(Ze.y,0,1)).getDay(),Ze.m=0,Ze.d="W"in Ze?(Ze.w+6)%7+Ze.W*7-(ot+5)%7:Ze.w+Ze.U*7-(ot+6)%7);return"Z"in Ze?(Ze.H+=Ze.Z/100|0,Ze.M+=Ze.Z%100,o5(Ze)):a5(Ze)}}function z(Pe,lt,Mt,Ze){for(var _t=0,Ve=lt.length,ot=Mt.length,Qe,mt;_t<Ve;){if(Ze>=ot)return-1;if(Qe=lt.charCodeAt(_t++),Qe===37){if(Qe=lt.charAt(_t++),mt=D[Qe in oK?lt.charAt(_t++):Qe],!mt||(Ze=mt(Pe,Mt,Ze))<0)return-1}else if(Qe!=Mt.charCodeAt(Ze++))return-1}return Ze}function V(Pe,lt,Mt){var Ze=c.exec(lt.slice(Mt));return Ze?(Pe.p=f.get(Ze[0].toLowerCase()),Mt+Ze[0].length):-1}function Y(Pe,lt,Mt){var Ze=g.exec(lt.slice(Mt));return Ze?(Pe.w=b.get(Ze[0].toLowerCase()),Mt+Ze[0].length):-1}function q(Pe,lt,Mt){var Ze=d.exec(lt.slice(Mt));return Ze?(Pe.w=p.get(Ze[0].toLowerCase()),Mt+Ze[0].length):-1}function J(Pe,lt,Mt){var Ze=E.exec(lt.slice(Mt));return Ze?(Pe.m=k.get(Ze[0].toLowerCase()),Mt+Ze[0].length):-1}function re(Pe,lt,Mt){var Ze=S.exec(lt.slice(Mt));return Ze?(Pe.m=w.get(Ze[0].toLowerCase()),Mt+Ze[0].length):-1}function fe(Pe,lt,Mt){return z(Pe,e,lt,Mt)}function ne(Pe,lt,Mt){return z(Pe,t,lt,Mt)}function te(Pe,lt,Mt){return z(Pe,r,lt,Mt)}function se(Pe){return a[Pe.getDay()]}function be(Pe){return s[Pe.getDay()]}function Ee(Pe){return l[Pe.getMonth()]}function oe(Pe){return o[Pe.getMonth()]}function ee(Pe){return i[+(Pe.getHours()>=12)]}function xe(Pe){return 1+~~(Pe.getMonth()/3)}function ae(Pe){return a[Pe.getUTCDay()]}function De(Pe){return s[Pe.getUTCDay()]}function dt(Pe){return l[Pe.getUTCMonth()]}function Ne(Pe){return o[Pe.getUTCMonth()]}function Ue(Pe){return i[+(Pe.getUTCHours()>=12)]}function qe(Pe){return 1+~~(Pe.getUTCMonth()/3)}return{format:function(Pe){var lt=I(Pe+="",R);return lt.toString=function(){return Pe},lt},parse:function(Pe){var lt=B(Pe+="",!1);return lt.toString=function(){return Pe},lt},utcFormat:function(Pe){var lt=I(Pe+="",O);return lt.toString=function(){return Pe},lt},utcParse:function(Pe){var lt=B(Pe+="",!0);return lt.toString=function(){return Pe},lt}}}var oK={"-":"",_:" ",0:"0"},Ma=/^\s*\d+/,CFe=/^%/,kFe=/[\\^$*+?|[\]().{}]/g;function Cr(n,e,t){var r=n<0?"-":"",i=(r?-n:n)+"",s=i.length;return r+(s<t?new Array(t-s+1).join(e)+i:i)}function RFe(n){return n.replace(kFe,"\\$&")}function nM(n){return new RegExp("^(?:"+n.map(RFe).join("|")+")","i")}function rM(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function OFe(n,e,t){var r=Ma.exec(e.slice(t,t+1));return r?(n.w=+r[0],t+r[0].length):-1}function PFe(n,e,t){var r=Ma.exec(e.slice(t,t+1));return r?(n.u=+r[0],t+r[0].length):-1}function DFe(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.U=+r[0],t+r[0].length):-1}function IFe(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.V=+r[0],t+r[0].length):-1}function NFe(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.W=+r[0],t+r[0].length):-1}function lK(n,e,t){var r=Ma.exec(e.slice(t,t+4));return r?(n.y=+r[0],t+r[0].length):-1}function cK(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.y=+r[0]+(+r[0]>68?1900:2e3),t+r[0].length):-1}function LFe(n,e,t){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return r?(n.Z=r[1]?0:-(r[2]+(r[3]||"00")),t+r[0].length):-1}function BFe(n,e,t){var r=Ma.exec(e.slice(t,t+1));return r?(n.q=r[0]*3-3,t+r[0].length):-1}function FFe(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.m=r[0]-1,t+r[0].length):-1}function uK(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.d=+r[0],t+r[0].length):-1}function zFe(n,e,t){var r=Ma.exec(e.slice(t,t+3));return r?(n.m=0,n.d=+r[0],t+r[0].length):-1}function fK(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.H=+r[0],t+r[0].length):-1}function UFe(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.M=+r[0],t+r[0].length):-1}function jFe(n,e,t){var r=Ma.exec(e.slice(t,t+2));return r?(n.S=+r[0],t+r[0].length):-1}function HFe(n,e,t){var r=Ma.exec(e.slice(t,t+3));return r?(n.L=+r[0],t+r[0].length):-1}function VFe(n,e,t){var r=Ma.exec(e.slice(t,t+6));return r?(n.L=Math.floor(r[0]/1e3),t+r[0].length):-1}function WFe(n,e,t){var r=CFe.exec(e.slice(t,t+1));return r?t+r[0].length:-1}function $Fe(n,e,t){var r=Ma.exec(e.slice(t));return r?(n.Q=+r[0],t+r[0].length):-1}function GFe(n,e,t){var r=Ma.exec(e.slice(t));return r?(n.s=+r[0],t+r[0].length):-1}function dK(n,e){return Cr(n.getDate(),e,2)}function qFe(n,e){return Cr(n.getHours(),e,2)}function YFe(n,e){return Cr(n.getHours()%12||12,e,2)}function XFe(n,e){return Cr(1+YT.count(Wp(n),n),e,3)}function ole(n,e){return Cr(n.getMilliseconds(),e,3)}function KFe(n,e){return ole(n,e)+"000"}function JFe(n,e){return Cr(n.getMonth()+1,e,2)}function ZFe(n,e){return Cr(n.getMinutes(),e,2)}function QFe(n,e){return Cr(n.getSeconds(),e,2)}function eze(n){var e=n.getDay();return e===0?7:e}function tze(n,e){return Cr(zI.count(Wp(n)-1,n),e,2)}function lle(n){var e=n.getDay();return e>=4||e===0?cw(n):cw.ceil(n)}function nze(n,e){return n=lle(n),Cr(cw.count(Wp(n),n)+(Wp(n).getDay()===4),e,2)}function rze(n){return n.getDay()}function ize(n,e){return Cr(MP.count(Wp(n)-1,n),e,2)}function sze(n,e){return Cr(n.getFullYear()%100,e,2)}function aze(n,e){return n=lle(n),Cr(n.getFullYear()%100,e,2)}function oze(n,e){return Cr(n.getFullYear()%1e4,e,4)}function lze(n,e){var t=n.getDay();return n=t>=4||t===0?cw(n):cw.ceil(n),Cr(n.getFullYear()%1e4,e,4)}function cze(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Cr(e/60|0,"0",2)+Cr(e%60,"0",2)}function hK(n,e){return Cr(n.getUTCDate(),e,2)}function uze(n,e){return Cr(n.getUTCHours(),e,2)}function fze(n,e){return Cr(n.getUTCHours()%12||12,e,2)}function dze(n,e){return Cr(1+FI.count($p(n),n),e,3)}function cle(n,e){return Cr(n.getUTCMilliseconds(),e,3)}function hze(n,e){return cle(n,e)+"000"}function pze(n,e){return Cr(n.getUTCMonth()+1,e,2)}function mze(n,e){return Cr(n.getUTCMinutes(),e,2)}function gze(n,e){return Cr(n.getUTCSeconds(),e,2)}function yze(n){var e=n.getUTCDay();return e===0?7:e}function vze(n,e){return Cr(UI.count($p(n)-1,n),e,2)}function ule(n){var e=n.getUTCDay();return e>=4||e===0?uw(n):uw.ceil(n)}function xze(n,e){return n=ule(n),Cr(uw.count($p(n),n)+($p(n).getUTCDay()===4),e,2)}function bze(n){return n.getUTCDay()}function _ze(n,e){return Cr(AP.count($p(n)-1,n),e,2)}function wze(n,e){return Cr(n.getUTCFullYear()%100,e,2)}function Sze(n,e){return n=ule(n),Cr(n.getUTCFullYear()%100,e,2)}function Eze(n,e){return Cr(n.getUTCFullYear()%1e4,e,4)}function Mze(n,e){var t=n.getUTCDay();return n=t>=4||t===0?uw(n):uw.ceil(n),Cr(n.getUTCFullYear()%1e4,e,4)}function Aze(){return"+0000"}function pK(){return"%"}function mK(n){return+n}function gK(n){return Math.floor(+n/1e3)}var l1,fle,dle;Tze({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Tze(n){return l1=TFe(n),fle=l1.format,l1.parse,dle=l1.utcFormat,l1.utcParse,l1}function Cze(n){return new Date(n)}function kze(n){return n instanceof Date?+n:+new Date(+n)}function $j(n,e,t,r,i,s,a,o,l,c){var f=Oj(),d=f.invert,p=f.domain,g=c(".%L"),b=c(":%S"),S=c("%I:%M"),w=c("%I %p"),E=c("%a %d"),k=c("%b %d"),R=c("%B"),O=c("%Y");function D(I){return(l(I)<I?g:o(I)<I?b:a(I)<I?S:s(I)<I?w:r(I)<I?i(I)<I?E:k:t(I)<I?R:O)(I)}return f.invert=function(I){return new Date(d(I))},f.domain=function(I){return arguments.length?p(Array.from(I,kze)):p().map(Cze)},f.ticks=function(I){var B=p();return n(B[0],B[B.length-1],I??10)},f.tickFormat=function(I,B){return B==null?D:c(B)},f.nice=function(I){var B=p();return(!I||typeof I.range!="function")&&(I=e(B[0],B[B.length-1],I??10)),I?p(Zoe(B,I)):f},f.copy=function(){return qT(f,$j(n,e,t,r,i,s,a,o,l,c))},f}function Rze(){return Lu.apply($j(MFe,AFe,Wp,Vj,zI,YT,jj,zj,iv,fle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Oze(){return Lu.apply($j(SFe,EFe,$p,Wj,UI,FI,Hj,Uj,iv,dle).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jI(){var n=0,e=1,t,r,i,s,a=rl,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-t)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([n,e]=d,t=s(n=+n),r=s(e=+e),i=t===r?0:1/(r-t),c):[n,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function f(d){return function(p){var g,b;return arguments.length?([g,b]=p,a=d(g,b),c):[a(0),a(1)]}}return c.range=f(jw),c.rangeRound=f(Rj),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,t=d(n),r=d(e),i=t===r?0:1/(r-t),c}}function gg(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function hle(){var n=mg(jI()(rl));return n.copy=function(){return gg(n,hle())},Qp.apply(n,arguments)}function ple(){var n=Ij(jI()).domain([1,10]);return n.copy=function(){return gg(n,ple()).base(n.base())},Qp.apply(n,arguments)}function mle(){var n=Nj(jI());return n.copy=function(){return gg(n,mle()).constant(n.constant())},Qp.apply(n,arguments)}function Gj(){var n=Lj(jI());return n.copy=function(){return gg(n,Gj()).exponent(n.exponent())},Qp.apply(n,arguments)}function Pze(){return Gj.apply(null,arguments).exponent(.5)}function gle(){var n=[],e=rl;function t(r){if(r!=null&&!isNaN(r=+r))return e(($T(n,r,1)-1)/(n.length-1))}return t.domain=function(r){if(!arguments.length)return n.slice();n=[];for(let i of r)i!=null&&!isNaN(i=+i)&&n.push(i);return n.sort(W0),t},t.interpolator=function(r){return arguments.length?(e=r,t):e},t.range=function(){return n.map((r,i)=>e(i/(n.length-1)))},t.quantiles=function(r){return Array.from({length:r+1},(i,s)=>yBe(n,s/r))},t.copy=function(){return gle(e).domain(n)},Qp.apply(t,arguments)}function HI(){var n=0,e=.5,t=1,r=1,i,s,a,o,l,c=rl,f,d=!1,p;function g(S){return isNaN(S=+S)?p:(S=.5+((S=+f(S))-s)*(r*S<r*s?o:l),c(d?Math.max(0,Math.min(1,S)):S))}g.domain=function(S){return arguments.length?([n,e,t]=S,i=f(n=+n),s=f(e=+e),a=f(t=+t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g):[n,e,t]},g.clamp=function(S){return arguments.length?(d=!!S,g):d},g.interpolator=function(S){return arguments.length?(c=S,g):c};function b(S){return function(w){var E,k,R;return arguments.length?([E,k,R]=w,c=WBe(S,[E,k,R]),g):[c(0),c(.5),c(1)]}}return g.range=b(jw),g.rangeRound=b(Rj),g.unknown=function(S){return arguments.length?(p=S,g):p},function(S){return f=S,i=S(n),s=S(e),a=S(t),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g}}function yle(){var n=mg(HI()(rl));return n.copy=function(){return gg(n,yle())},Qp.apply(n,arguments)}function vle(){var n=Ij(HI()).domain([.1,1,10]);return n.copy=function(){return gg(n,vle()).base(n.base())},Qp.apply(n,arguments)}function xle(){var n=Nj(HI());return n.copy=function(){return gg(n,xle()).constant(n.constant())},Qp.apply(n,arguments)}function qj(){var n=Lj(HI());return n.copy=function(){return gg(n,qj()).exponent(n.exponent())},Qp.apply(n,arguments)}function Dze(){return qj.apply(null,arguments).exponent(.5)}const SM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tj,scaleDiverging:yle,scaleDivergingLog:vle,scaleDivergingPow:qj,scaleDivergingSqrt:Dze,scaleDivergingSymlog:xle,scaleIdentity:Joe,scaleImplicit:gF,scaleLinear:Koe,scaleLog:Qoe,scaleOrdinal:Aj,scalePoint:bBe,scalePow:Bj,scaleQuantile:nle,scaleQuantize:rle,scaleRadial:tle,scaleSequential:hle,scaleSequentialLog:ple,scaleSequentialPow:Gj,scaleSequentialQuantile:gle,scaleSequentialSqrt:Pze,scaleSequentialSymlog:mle,scaleSqrt:hFe,scaleSymlog:ele,scaleThreshold:ile,scaleTime:Rze,scaleUtc:Oze,tickFormat:Xoe},Symbol.toStringTag,{value:"Module"}));var em=n=>n.chartData,ble=at([em],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),_le=(n,e,t,r)=>r?ble(n):em(n),Ize=(n,e,t)=>t?ble(n):em(n);function Gp(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(hr(e)&&hr(t))return!0}return!1}function yK(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function wle(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,r]=n,i,s;if(hr(t))i=t;else if(typeof t=="function")return;if(hr(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Gp(a))return a}}function Nze(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var r=n(e,t);if(Gp(r))return yK(r,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[i,s]=n,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(nn(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&kY.test(i)){var l=kY.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(nn(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&RY.test(s)){var f=RY.exec(s);if(f==null||f[1]==null||e==null)o=void 0;else{var d=+f[1];o=e[1]+d}}else o=e==null?void 0:e[1];var p=[a,o];if(Gp(p))return e==null?p:yK(p,e,t)}}}var Hw=1e9,Lze={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Xj,Fi=!0,Pu="[DecimalError] ",jv=Pu+"Invalid argument: ",Yj=Pu+"Exponent out of range: ",Vw=Math.floor,Iy=Math.pow,Bze=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mc,ba=1e7,Ei=7,Sle=9007199254740991,TP=Vw(Sle/Ei),Xt={};Xt.absoluteValue=Xt.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};Xt.comparedTo=Xt.cmp=function(n){var e,t,r,i,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(r=s.d.length,i=n.d.length,e=0,t=r<i?r:i;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Xt.decimalPlaces=Xt.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*Ei;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};Xt.dividedBy=Xt.div=function(n){return Rp(this,new this.constructor(n))};Xt.dividedToIntegerBy=Xt.idiv=function(n){var e=this,t=e.constructor;return ni(Rp(e,new t(n),0,1),t.precision)};Xt.equals=Xt.eq=function(n){return!this.cmp(n)};Xt.exponent=function(){return Hs(this)};Xt.greaterThan=Xt.gt=function(n){return this.cmp(n)>0};Xt.greaterThanOrEqualTo=Xt.gte=function(n){return this.cmp(n)>=0};Xt.isInteger=Xt.isint=function(){return this.e>this.d.length-2};Xt.isNegative=Xt.isneg=function(){return this.s<0};Xt.isPositive=Xt.ispos=function(){return this.s>0};Xt.isZero=function(){return this.s===0};Xt.lessThan=Xt.lt=function(n){return this.cmp(n)<0};Xt.lessThanOrEqualTo=Xt.lte=function(n){return this.cmp(n)<1};Xt.logarithm=Xt.log=function(n){var e,t=this,r=t.constructor,i=r.precision,s=i+5;if(n===void 0)n=new r(10);else if(n=new r(n),n.s<1||n.eq(mc))throw Error(Pu+"NaN");if(t.s<1)throw Error(Pu+(t.s?"NaN":"-Infinity"));return t.eq(mc)?new r(0):(Fi=!1,e=Rp(JA(t,s),JA(n,s),s),Fi=!0,ni(e,i))};Xt.minus=Xt.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?Ale(e,n):Ele(e,(n.s=-n.s,n))};Xt.modulo=Xt.mod=function(n){var e,t=this,r=t.constructor,i=r.precision;if(n=new r(n),!n.s)throw Error(Pu+"NaN");return t.s?(Fi=!1,e=Rp(t,n,0,1).times(n),Fi=!0,t.minus(e)):ni(new r(t),i)};Xt.naturalExponential=Xt.exp=function(){return Mle(this)};Xt.naturalLogarithm=Xt.ln=function(){return JA(this)};Xt.negated=Xt.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};Xt.plus=Xt.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?Ele(e,n):Ale(e,(n.s=-n.s,n))};Xt.precision=Xt.sd=function(n){var e,t,r,i=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(jv+n);if(e=Hs(i)+1,r=i.d.length-1,t=r*Ei+1,r=i.d[r],r){for(;r%10==0;r/=10)t--;for(r=i.d[0];r>=10;r/=10)t++}return n&&e>t?e:t};Xt.squareRoot=Xt.sqrt=function(){var n,e,t,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Pu+"NaN")}for(n=Hs(o),Fi=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Gd(o.d),(e.length+n)%2==0&&(e+="0"),i=Math.sqrt(e),n=Vw((n+1)/2)-(n<0||n%2),i==1/0?e="5e"+n:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),r=new l(e)):r=new l(i.toString()),t=l.precision,i=a=t+3;;)if(s=r,r=s.plus(Rp(o,s,a+2)).times(.5),Gd(s.d).slice(0,a)===(e=Gd(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ni(s,t+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Fi=!0,ni(r,t)};Xt.times=Xt.mul=function(n){var e,t,r,i,s,a,o,l,c,f=this,d=f.constructor,p=f.d,g=(n=new d(n)).d;if(!f.s||!n.s)return new d(0);for(n.s*=f.s,t=f.e+n.e,l=p.length,c=g.length,l<c&&(s=p,p=g,g=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+g[r]*p[i-r-1]+e,s[i--]=o%ba|0,e=o/ba|0;s[i]=(s[i]+e)%ba|0}for(;!s[--a];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,Fi?ni(n,d.precision):n};Xt.toDecimalPlaces=Xt.todp=function(n,e){var t=this,r=t.constructor;return t=new r(t),n===void 0?t:(uh(n,0,Hw),e===void 0?e=r.rounding:uh(e,0,8),ni(t,n+Hs(t)+1,e))};Xt.toExponential=function(n,e){var t,r=this,i=r.constructor;return n===void 0?t=ax(r,!0):(uh(n,0,Hw),e===void 0?e=i.rounding:uh(e,0,8),r=ni(new i(r),n+1,e),t=ax(r,!0,n+1)),t};Xt.toFixed=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?ax(i):(uh(n,0,Hw),e===void 0?e=s.rounding:uh(e,0,8),r=ni(new s(i),n+Hs(i)+1,e),t=ax(r.abs(),!1,n+Hs(r)+1),i.isneg()&&!i.isZero()?"-"+t:t)};Xt.toInteger=Xt.toint=function(){var n=this,e=n.constructor;return ni(new e(n),Hs(n)+1,e.rounding)};Xt.toNumber=function(){return+this};Xt.toPower=Xt.pow=function(n){var e,t,r,i,s,a,o=this,l=o.constructor,c=12,f=+(n=new l(n));if(!n.s)return new l(mc);if(o=new l(o),!o.s){if(n.s<1)throw Error(Pu+"Infinity");return o}if(o.eq(mc))return o;if(r=l.precision,n.eq(mc))return ni(o,r);if(e=n.e,t=n.d.length-1,a=e>=t,s=o.s,a){if((t=f<0?-f:f)<=Sle){for(i=new l(mc),e=Math.ceil(r/Ei+4),Fi=!1;t%2&&(i=i.times(o),xK(i.d,e)),t=Vw(t/2),t!==0;)o=o.times(o),xK(o.d,e);return Fi=!0,n.s<0?new l(mc).div(i):ni(i,r)}}else if(s<0)throw Error(Pu+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,o.s=1,Fi=!1,i=n.times(JA(o,r+c)),Fi=!0,i=Mle(i),i.s=s,i};Xt.toPrecision=function(n,e){var t,r,i=this,s=i.constructor;return n===void 0?(t=Hs(i),r=ax(i,t<=s.toExpNeg||t>=s.toExpPos)):(uh(n,1,Hw),e===void 0?e=s.rounding:uh(e,0,8),i=ni(new s(i),n,e),t=Hs(i),r=ax(i,n<=t||t<=s.toExpNeg,n)),r};Xt.toSignificantDigits=Xt.tosd=function(n,e){var t=this,r=t.constructor;return n===void 0?(n=r.precision,e=r.rounding):(uh(n,1,Hw),e===void 0?e=r.rounding:uh(e,0,8)),ni(new r(t),n,e)};Xt.toString=Xt.valueOf=Xt.val=Xt.toJSON=Xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=Hs(n),t=n.constructor;return ax(n,e<=t.toExpNeg||e>=t.toExpPos)};function Ele(n,e){var t,r,i,s,a,o,l,c,f=n.constructor,d=f.precision;if(!n.s||!e.s)return e.s||(e=new f(n)),Fi?ni(e,d):e;if(l=n.d,c=e.d,a=n.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(d/Ei),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),t=0;s;)t=(l[--s]=l[s]+c[s]+t)/ba|0,l[s]%=ba;for(t&&(l.unshift(t),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Fi?ni(e,d):e}function uh(n,e,t){if(n!==~~n||n<e||n>t)throw Error(jv+n)}function Gd(n){var e,t,r,i=n.length-1,s="",a=n[0];if(i>0){for(s+=a,e=1;e<i;e++)r=n[e]+"",t=Ei-r.length,t&&(s+=h0(t)),s+=r;a=n[e],r=a+"",t=Ei-r.length,t&&(s+=h0(t))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Rp=(function(){function n(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ba|0,a=s/ba|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function t(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ba+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,f,d,p,g,b,S,w,E,k,R,O,D,I,B,z,V=r.constructor,Y=r.s==i.s?1:-1,q=r.d,J=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Pu+"Division by zero");for(l=r.e-i.e,B=J.length,D=q.length,g=new V(Y),b=g.d=[],c=0;J[c]==(q[c]||0);)++c;if(J[c]>(q[c]||0)&&--l,s==null?k=s=V.precision:a?k=s+(Hs(r)-Hs(i))+1:k=s,k<0)return new V(0);if(k=k/Ei+2|0,c=0,B==1)for(f=0,J=J[0],k++;(c<D||f)&&k--;c++)R=f*ba+(q[c]||0),b[c]=R/J|0,f=R%J|0;else{for(f=ba/(J[0]+1)|0,f>1&&(J=n(J,f),q=n(q,f),B=J.length,D=q.length),O=B,S=q.slice(0,B),w=S.length;w<B;)S[w++]=0;z=J.slice(),z.unshift(0),I=J[0],J[1]>=ba/2&&++I;do f=0,o=e(J,S,B,w),o<0?(E=S[0],B!=w&&(E=E*ba+(S[1]||0)),f=E/I|0,f>1?(f>=ba&&(f=ba-1),d=n(J,f),p=d.length,w=S.length,o=e(d,S,p,w),o==1&&(f--,t(d,B<p?z:J,p))):(f==0&&(o=f=1),d=J.slice()),p=d.length,p<w&&d.unshift(0),t(S,d,w),o==-1&&(w=S.length,o=e(J,S,B,w),o<1&&(f++,t(S,B<w?z:J,w))),w=S.length):o===0&&(f++,S=[0]),b[c++]=f,o&&S[0]?S[w++]=q[O]||0:(S=[q[O]],w=1);while((O++<D||S[0]!==void 0)&&k--)}return b[0]||b.shift(),g.e=l,ni(g,a?s+Hs(g)+1:s)}})();function Mle(n,e){var t,r,i,s,a,o,l=0,c=0,f=n.constructor,d=f.precision;if(Hs(n)>16)throw Error(Yj+Hs(n));if(!n.s)return new f(mc);for(Fi=!1,o=d,a=new f(.03125);n.abs().gte(.1);)n=n.times(a),c+=5;for(r=Math.log(Iy(2,c))/Math.LN10*2+5|0,o+=r,t=i=s=new f(mc),f.precision=o;;){if(i=ni(i.times(n),o),t=t.times(++l),a=s.plus(Rp(i,t,o)),Gd(a.d).slice(0,o)===Gd(s.d).slice(0,o)){for(;c--;)s=ni(s.times(s),o);return f.precision=d,e==null?(Fi=!0,ni(s,d)):s}s=a}}function Hs(n){for(var e=n.e*Ei,t=n.d[0];t>=10;t/=10)e++;return e}function l5(n,e,t){if(e>n.LN10.sd())throw Fi=!0,t&&(n.precision=t),Error(Pu+"LN10 precision limit exceeded");return ni(new n(n.LN10),e)}function h0(n){for(var e="";n--;)e+="0";return e}function JA(n,e){var t,r,i,s,a,o,l,c,f,d=1,p=10,g=n,b=g.d,S=g.constructor,w=S.precision;if(g.s<1)throw Error(Pu+(g.s?"NaN":"-Infinity"));if(g.eq(mc))return new S(0);if(e==null?(Fi=!1,c=w):c=e,g.eq(10))return e==null&&(Fi=!0),l5(S,c);if(c+=p,S.precision=c,t=Gd(b),r=t.charAt(0),s=Hs(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&t.charAt(1)>3;)g=g.times(n),t=Gd(g.d),r=t.charAt(0),d++;s=Hs(g),r>1?(g=new S("0."+t),s++):g=new S(r+"."+t.slice(1))}else return l=l5(S,c+2,w).times(s+""),g=JA(new S(r+"."+t.slice(1)),c-p).plus(l),S.precision=w,e==null?(Fi=!0,ni(g,w)):g;for(o=a=g=Rp(g.minus(mc),g.plus(mc),c),f=ni(g.times(g),c),i=3;;){if(a=ni(a.times(f),c),l=o.plus(Rp(a,new S(i),c)),Gd(l.d).slice(0,c)===Gd(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(l5(S,c+2,w).times(s+""))),o=Rp(o,new S(d),c),S.precision=w,e==null?(Fi=!0,ni(o,w)):o;o=l,i+=2}}function vK(n,e){var t,r,i;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(t<0&&(t=r),t+=+e.slice(r+1),e=e.substring(0,r)):t<0&&(t=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,t=t-r-1,n.e=Vw(t/Ei),n.d=[],r=(t+1)%Ei,t<0&&(r+=Ei),r<i){for(r&&n.d.push(+e.slice(0,r)),i-=Ei;r<i;)n.d.push(+e.slice(r,r+=Ei));e=e.slice(r),r=Ei-e.length}else r-=i;for(;r--;)e+="0";if(n.d.push(+e),Fi&&(n.e>TP||n.e<-TP))throw Error(Yj+t)}else n.s=0,n.e=0,n.d=[0];return n}function ni(n,e,t){var r,i,s,a,o,l,c,f,d=n.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Ei,i=e,c=d[f=0];else{if(f=Math.ceil((r+1)/Ei),s=d.length,f>=s)return n;for(c=s=d[f],a=1;s>=10;s/=10)a++;r%=Ei,i=r-Ei+a}if(t!==void 0&&(s=Iy(10,a-i-1),o=c/s%10|0,l=e<0||d[f+1]!==void 0||c%s,l=t<4?(o||l)&&(t==0||t==(n.s<0?3:2)):o>5||o==5&&(t==4||l||t==6&&(r>0?i>0?c/Iy(10,a-i):0:d[f-1])%10&1||t==(n.s<0?8:7))),e<1||!d[0])return l?(s=Hs(n),d.length=1,e=e-s-1,d[0]=Iy(10,(Ei-e%Ei)%Ei),n.e=Vw(-e/Ei)||0):(d.length=1,d[0]=n.e=n.s=0),n;if(r==0?(d.length=f,s=1,f--):(d.length=f+1,s=Iy(10,Ei-r),d[f]=i>0?(c/Iy(10,a-i)%Iy(10,i)|0)*s:0),l)for(;;)if(f==0){(d[0]+=s)==ba&&(d[0]=1,++n.e);break}else{if(d[f]+=s,d[f]!=ba)break;d[f--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(Fi&&(n.e>TP||n.e<-TP))throw Error(Yj+Hs(n));return n}function Ale(n,e){var t,r,i,s,a,o,l,c,f,d,p=n.constructor,g=p.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new p(n),Fi?ni(e,g):e;if(l=n.d,d=e.d,r=e.e,c=n.e,l=l.slice(),a=c-r,a){for(f=a<0,f?(t=l,a=-a,o=d.length):(t=d,r=c,o=l.length),i=Math.max(Math.ceil(g/Ei),o)+2,a>i&&(a=i,t.length=1),t.reverse(),i=a;i--;)t.push(0);t.reverse()}else{for(i=l.length,o=d.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}a=0}for(f&&(t=l,l=d,d=t,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=ba-1;--l[s],l[i]+=ba}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Fi?ni(e,g):e):new p(0)}function ax(n,e,t){var r,i=Hs(n),s=Gd(n.d),a=s.length;return e?(t&&(r=t-a)>0?s=s.charAt(0)+"."+s.slice(1)+h0(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+h0(-i-1)+s,t&&(r=t-a)>0&&(s+=h0(r))):i>=a?(s+=h0(i+1-a),t&&(r=t-i-1)>0&&(s=s+"."+h0(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),t&&(r=t-a)>0&&(i+1===a&&(s+="."),s+=h0(r))),n.s<0?"-"+s:s}function xK(n,e){if(n.length>e)return n.length=e,!0}function Tle(n){var e,t,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jv+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return vK(a,s.toString())}else if(typeof s!="string")throw Error(jv+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Bze.test(s))vK(a,s);else throw Error(jv+s)}if(i.prototype=Xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Tle,i.config=i.set=Fze,n===void 0&&(n={}),n)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)n.hasOwnProperty(t=r[e++])||(n[t]=this[t]);return i.config(n),i}function Fze(n){if(!n||typeof n!="object")throw Error(Pu+"Object expected");var e,t,r,i=["precision",1,Hw,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=n[t=i[e]])!==void 0)if(Vw(r)===r&&r>=i[e+1]&&r<=i[e+2])this[t]=r;else throw Error(jv+t+": "+r);if((r=n[t="LN10"])!==void 0)if(r==Math.LN10)this[t]=new this(r);else throw Error(jv+t+": "+r);return this}var Xj=Tle(Lze);mc=new Xj(1);const Hr=Xj;function Cle(n){var e;return n===0?e=1:e=Math.floor(new Hr(n).abs().log(10).toNumber())+1,e}function kle(n,e,t){for(var r=new Hr(n),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(t),i++;return s}var Rle=n=>{var[e,t]=n,[r,i]=[e,t];return e>t&&([r,i]=[t,e]),[r,i]},Ole=(n,e,t)=>{if(n.lte(0))return new Hr(0);var r=Cle(n.toNumber()),i=new Hr(10).pow(r),s=n.div(i),a=r!==1?.05:.1,o=new Hr(Math.ceil(s.div(a).toNumber())).add(t).mul(a),l=o.mul(i);return e?new Hr(l.toNumber()):new Hr(Math.ceil(l.toNumber()))},zze=(n,e,t)=>{var r=new Hr(1),i=new Hr(n);if(!i.isint()&&t){var s=Math.abs(n);s<1?(r=new Hr(10).pow(Cle(n)-1),i=new Hr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Hr(Math.floor(n)))}else n===0?i=new Hr(Math.floor((e-1)/2)):t||(i=new Hr(Math.floor(n)));for(var a=Math.floor((e-1)/2),o=[],l=0;l<e;l++)o.push(i.add(new Hr(l-a).mul(r)).toNumber());return o},Ple=function(e,t,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Hr(0),tickMin:new Hr(0),tickMax:new Hr(0)};var a=Ole(new Hr(t).sub(e).div(r-1),i,s),o;e<=0&&t>=0?o=new Hr(0):(o=new Hr(e).add(t).div(2),o=o.sub(new Hr(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Hr(t).sub(o).div(a).toNumber()),f=l+c+1;return f>r?Ple(e,t,r,i,s+1):(f<r&&(c=t>0?c+(r-f):c,l=t>0?l:l+(r-f)),{step:a,tickMin:o.sub(new Hr(l).mul(a)),tickMax:o.add(new Hr(c).mul(a))})},Uze=function(e){var[t,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=Rle([t,r]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return t>r?c.reverse():c}if(o===l)return zze(o,i,s);var{step:f,tickMin:d,tickMax:p}=Ple(o,l,a,s,0),g=kle(d,p.add(new Hr(.1).mul(f)),f);return t>r?g.reverse():g},jze=function(e,t){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=Rle([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(t,2),c=Ole(new Hr(o).sub(a).div(l-1),s,0),f=[...kle(new Hr(a),new Hr(o),c),o];return s===!1&&(f=f.map(d=>Math.round(d))),r>i?f.reverse():f},Hze=n=>n.rootProps.barCategoryGap,VI=n=>n.rootProps.stackOffset,Dle=n=>n.rootProps.reverseStackOrder,Kj=n=>n.options.chartName,Jj=n=>n.rootProps.syncId,Ile=n=>n.rootProps.syncMethod,Zj=n=>n.options.eventEmitter,Vze=n=>n.rootProps.baseValue,il={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},wy={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},_d={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},WI=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e};function $I(n,e,t){if(t!=="auto")return t;if(n!=null)return mh(n,e)?"category":"number"}function bK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?bK(Object(t),!0).forEach(function(r){Wze(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):bK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Wze(n,e,t){return(e=$ze(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $ze(n){var e=Gze(n,"string");return typeof e=="symbol"?e:e+""}function Gze(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _K={allowDataOverflow:wy.allowDataOverflow,allowDecimals:wy.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:wy.angleAxisId,includeHidden:!1,name:void 0,reversed:wy.reversed,scale:wy.scale,tick:wy.tick,tickCount:void 0,ticks:void 0,type:wy.type,unit:void 0},wK={allowDataOverflow:_d.allowDataOverflow,allowDecimals:_d.allowDecimals,allowDuplicatedCategory:_d.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_d.radiusAxisId,includeHidden:_d.includeHidden,name:void 0,reversed:_d.reversed,scale:_d.scale,tick:_d.tick,tickCount:_d.tickCount,ticks:void 0,type:_d.type,unit:void 0},qze=(n,e)=>{if(e!=null)return n.polarAxis.angleAxis[e]},Qj=at([qze,Eoe],(n,e)=>{var t;if(n!=null)return n;var r=(t=$I(e,"angleAxis",_K.type))!==null&&t!==void 0?t:"category";return CP(CP({},_K),{},{type:r})}),Yze=(n,e)=>n.polarAxis.radiusAxis[e],e7=at([Yze,Eoe],(n,e)=>{var t;if(n!=null)return n;var r=(t=$I(e,"radiusAxis",wK.type))!==null&&t!==void 0?t:"category";return CP(CP({},wK),{},{type:r})}),GI=n=>n.polarOptions,t7=at([Jp,Zp,eo],W8e),Nle=at([GI,t7],(n,e)=>{if(n!=null)return ig(n.innerRadius,e,0)}),Lle=at([GI,t7],(n,e)=>{if(n!=null)return ig(n.outerRadius,e,e*.8)}),Xze=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},Ble=at([GI],Xze);at([Qj,Ble],WI);var Fle=at([t7,Nle,Lle],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});at([e7,Fle],WI);var zle=at([ji,GI,Nle,Lle,Jp,Zp],(n,e,t,r,i,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=e;return{cx:ig(a,i,i/2),cy:ig(o,s,s/2),innerRadius:t,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),Aa=(n,e)=>e,qI=(n,e,t)=>t;function n7(n){return n==null?void 0:n.id}function Ule(n,e,t){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=t,a=new Map;return n.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:r;if(!(c==null||c.length===0)){var f=n7(o);c.forEach((d,p)=>{var g=s==null||i?p:String(Qa(d,s,null)),b=Qa(d,o.dataKey,0),S;a.has(g)?S=a.get(g):S={},Object.assign(S,{[f]:b}),a.set(g,S)})}}),Array.from(a.values())}function r7(n){return"stackId"in n&&n.stackId!=null&&n.dataKey!=null}var YI=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function XI(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function Kze(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var Ta=n=>{var e=ji(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Ww=n=>n.tooltip.settings.axisId;function Jze(n){if(n in SM)return SM[n]();var e="scale".concat(cj(n));if(e in SM)return SM[e]()}function SK(n){var e=n.ticks,t=n.bandwidth,r=n.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>n.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],o=i[1];return a<=o?s>=a&&s<=o:s>=o&&s<=a},bandwidth:t?()=>t.call(n):void 0,ticks:e?s=>e.call(n,s):void 0,map:(s,a)=>{var o=n(s);if(o!=null){if(n.bandwidth&&a!==null&&a!==void 0&&a.position){var l=n.bandwidth();switch(a.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function EK(n,e,t){if(typeof n=="function")return SK(n.copy().domain(e).range(t));if(n!=null){var r=Jze(n);if(r!=null)return r.domain(e).range(t),SK(r)}}var Zze=(n,e)=>{if(e!=null)switch(n){case"linear":{if(!Gp(e)){for(var t,r,i=0;i<e.length;i++){var s=e[i];hr(s)&&((t===void 0||s<t)&&(t=s),(r===void 0||s>r)&&(r=s))}return t!==void 0&&r!==void 0?[t,r]:void 0}return e}default:return e}};function MK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function kP(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MK(Object(t),!0).forEach(function(r){Qze(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Qze(n,e,t){return(e=eUe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eUe(n){var e=tUe(n,"string");return typeof e=="symbol"?e:e+""}function tUe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var bF=[0,"auto"],ga={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},jle=(n,e)=>n.cartesianAxis.xAxis[e],tm=(n,e)=>{var t=jle(n,e);return t??ga},ya={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:bF,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:jT},Hle=(n,e)=>n.cartesianAxis.yAxis[e],nm=(n,e)=>{var t=Hle(n,e);return t??ya},nUe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},i7=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??nUe},ul=(n,e,t)=>{switch(e){case"xAxis":return tm(n,t);case"yAxis":return nm(n,t);case"zAxis":return i7(n,t);case"angleAxis":return Qj(n,t);case"radiusAxis":return e7(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},rUe=(n,e,t)=>{switch(e){case"xAxis":return tm(n,t);case"yAxis":return nm(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},XT=(n,e,t)=>{switch(e){case"xAxis":return tm(n,t);case"yAxis":return nm(n,t);case"angleAxis":return Qj(n,t);case"radiusAxis":return e7(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},Vle=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Wle(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var $le=n=>n.graphicalItems.cartesianItems,iUe=at([Aa,qI],Wle),Gle=(n,e,t)=>n.filter(t).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),KT=at([$le,ul,iUe],Gle,{memoizeOptions:{resultEqualityCheck:XI}}),qle=at([KT],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(r7)),Yle=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),sUe=at([KT],Yle),Xle=n=>n.map(e=>e.data).filter(Boolean).flat(1),aUe=at([KT],Xle,{memoizeOptions:{resultEqualityCheck:XI}}),Kle=(n,e)=>{var{chartData:t=[],dataStartIndex:r,dataEndIndex:i}=e;return n.length>0?n:t.slice(r,i+1)},s7=at([aUe,_le],Kle),Jle=(n,e,t)=>(e==null?void 0:e.dataKey)!=null?n.map(r=>({value:Qa(r,e.dataKey)})):t.length>0?t.map(r=>r.dataKey).flatMap(r=>n.map(i=>({value:Qa(i,r)}))):n.map(r=>({value:r})),KI=at([s7,ul,KT],Jle);function Zle(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function d2(n){if(lh(n)||n instanceof Date){var e=Number(n);if(hr(e))return e}}function AK(n){if(Array.isArray(n)){var e=[d2(n[0]),d2(n[1])];return Gp(e)?e:void 0}var t=d2(n);if(t!=null)return[t,t]}function qp(n){return n.map(d2).filter(Wl)}function oUe(n,e,t){return!t||typeof e!="number"||oh(e)?[]:t.length?qp(t.flatMap(r=>{var i=Qa(n,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!hr(s)||!hr(a)))return[e-s,e+a]})):[]}var oa=n=>{var e=Ta(n),t=Ww(n);return XT(n,e,t)},JT=at([oa],n=>n==null?void 0:n.dataKey),lUe=at([qle,_le,oa],Ule),Qle=(n,e,t,r)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,c=r?[...l].reverse():l,f=c.map(n7);return[o,{stackedData:ILe(n,f,t),graphicalItems:c}]}))},ece=at([lUe,qle,VI,Dle],Qle),tce=(n,e,t,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&t!=="zAxis"){var a=FLe(n,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},cUe=at([ul],n=>n.allowDataOverflow),a7=n=>{var e;if(n==null||!("domain"in n))return bF;if(n.domain!=null)return n.domain;if("ticks"in n&&n.ticks!=null){if(n.type==="number"){var t=qp(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n==null?void 0:n.domain)!==null&&e!==void 0?e:bF},nce=at([ul],a7),rce=at([nce,cUe],wle),uUe=at([ece,em,Aa,rce],tce,{memoizeOptions:{resultEqualityCheck:YI}}),o7=n=>n.errorBars,fUe=(n,e,t)=>n.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>Zle(t,r)),RP=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},ice=(n,e,t,r,i)=>{var s,a;if(t.length>0&&n.forEach(o=>{t.forEach(l=>{var c,f,d=(c=r[l.id])===null||c===void 0?void 0:c.filter(E=>Zle(i,E)),p=Qa(o,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey),g=oUe(o,p,d);if(g.length>=2){var b=Math.min(...g),S=Math.max(...g);(s==null||b<s)&&(s=b),(a==null||S>a)&&(a=S)}var w=AK(p);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),a=a==null?w[1]:Math.max(a,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&n.forEach(o=>{var l=AK(Qa(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),hr(s)&&hr(a))return[s,a]},dUe=at([s7,ul,sUe,o7,Aa],ice,{memoizeOptions:{resultEqualityCheck:YI}});function hUe(n){var{value:e}=n;if(lh(e)||e instanceof Date)return e}var pUe=(n,e,t)=>{var r=n.map(hUe).filter(i=>i!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&_ae(r))?Uoe(0,n.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},sce=n=>n.referenceElements.dots,$w=(n,e,t)=>n.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===t:r.yAxisId===t),mUe=at([sce,Aa,qI],$w),ace=n=>n.referenceElements.areas,gUe=at([ace,Aa,qI],$w),oce=n=>n.referenceElements.lines,yUe=at([oce,Aa,qI],$w),lce=(n,e)=>{if(n!=null){var t=qp(n.map(r=>e==="xAxis"?r.x:r.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},vUe=at(mUe,Aa,lce),cce=(n,e)=>{if(n!=null){var t=qp(n.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},xUe=at([gUe,Aa],cce);function bUe(n){var e;if(n.x!=null)return qp([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.x);return t==null||t.length===0?[]:qp(t)}function _Ue(n){var e;if(n.y!=null)return qp([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(r=>r.y);return t==null||t.length===0?[]:qp(t)}var uce=(n,e)=>{if(n!=null){var t=n.flatMap(r=>e==="xAxis"?bUe(r):_Ue(r));if(t.length!==0)return[Math.min(...t),Math.max(...t)]}},wUe=at([yUe,Aa],uce),SUe=at(vUe,wUe,xUe,(n,e,t)=>RP(n,t,e)),fce=(n,e,t,r,i,s,a,o)=>{if(t!=null)return t;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",c=l?RP(r,s,i):RP(s,i);return Nze(e,c,n.allowDataOverflow)},EUe=at([ul,nce,rce,uUe,dUe,SUe,ji,Aa],fce,{memoizeOptions:{resultEqualityCheck:YI}}),MUe=[0,1],dce=(n,e,t,r,i,s,a)=>{if(!((n==null||t==null||t.length===0)&&a===void 0)){var{dataKey:o,type:l}=n,c=mh(e,s);if(c&&o==null){var f;return Uoe(0,(f=t==null?void 0:t.length)!==null&&f!==void 0?f:0)}return l==="category"?pUe(r,n,c):i==="expand"?MUe:a}},l7=at([ul,ji,s7,KI,VI,Aa,EUe],dce);function AUe(n){return n in SM}var hce=(n,e,t)=>{if(n!=null){var{scale:r,type:i}=n;if(r==="auto")return i==="category"&&t&&(t.indexOf("LineChart")>=0||t.indexOf("AreaChart")>=0||t.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(cj(r));return AUe(s)?s:"point"}}},Gw=at([ul,Vle,Kj],hce);function c7(n,e,t,r){if(!(t==null||r==null))return typeof n.scale=="function"?EK(n.scale,t,r):EK(e,t,r)}var pce=(n,e,t)=>{var r=a7(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Gp(n))return Uze(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Gp(n))return jze(n,e.tickCount,e.allowDecimals)}},u7=at([l7,XT,Gw],pce),mce=(n,e,t,r)=>{if(r!=="angleAxis"&&(n==null?void 0:n.type)==="number"&&Gp(e)&&Array.isArray(t)&&t.length>0){var i,s,a=e[0],o=(i=t[0])!==null&&i!==void 0?i:0,l=e[1],c=(s=t[t.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,o),Math.max(l,c)]}return e},TUe=at([ul,l7,u7,Aa],mce),CUe=at(KI,ul,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,r=Array.from(qp(n.map(d=>d.value))).sort((d,p)=>d-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],c=r[o+1];if(!(l==null||c==null)){var f=c-l;t=Math.min(t,f)}}return t/a}}),gce=at(CUe,ji,Hze,eo,(n,e,t,r,i)=>i,(n,e,t,r,i)=>{if(!hr(n))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return n*s/2;if(i==="no-gap"){var a=ig(t,n*s),o=n*s/2;return o-a-(o-a)/s*a}return 0}),kUe=(n,e,t)=>{var r=tm(n,e);return r==null||typeof r.padding!="string"?0:gce(n,"xAxis",e,t,r.padding)},RUe=(n,e,t)=>{var r=nm(n,e);return r==null||typeof r.padding!="string"?0:gce(n,"yAxis",e,t,r.padding)},OUe=at(tm,kUe,(n,e)=>{var t,r;if(n==null)return{left:0,right:0};var{padding:i}=n;return typeof i=="string"?{left:e,right:e}:{left:((t=i.left)!==null&&t!==void 0?t:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),PUe=at(nm,RUe,(n,e)=>{var t,r;if(n==null)return{top:0,bottom:0};var{padding:i}=n;return typeof i=="string"?{top:e,bottom:e}:{top:((t=i.top)!==null&&t!==void 0?t:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),DUe=at([eo,OUe,PI,OI,(n,e,t)=>t],(n,e,t,r,i)=>{var{padding:s}=r;return i?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),IUe=at([eo,ji,PUe,PI,OI,(n,e,t)=>t],(n,e,t,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),ZT=(n,e,t,r)=>{var i;switch(e){case"xAxis":return DUe(n,t,r);case"yAxis":return IUe(n,t,r);case"zAxis":return(i=i7(n,t))===null||i===void 0?void 0:i.range;case"angleAxis":return Ble(n);case"radiusAxis":return Fle(n,t);default:return}},yce=at([ul,ZT],WI),NUe=at([Gw,TUe],Zze),JI=at([ul,Gw,NUe,yce],c7);at([KT,o7,Aa],fUe);function vce(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var ZI=(n,e)=>e,QI=(n,e,t)=>t,LUe=at(kI,ZI,QI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(vce)),BUe=at(RI,ZI,QI,(n,e,t)=>n.filter(r=>r.orientation===e).filter(r=>r.mirror===t).sort(vce)),xce=(n,e)=>({width:n.width,height:e.height}),FUe=(n,e)=>{var t=typeof e.width=="number"?e.width:jT;return{width:t,height:n.height}},zUe=at(eo,tm,xce),UUe=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},jUe=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},HUe=at(Zp,eo,LUe,ZI,QI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=xce(e,o);a==null&&(a=UUe(e,r,n));var c=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s}),VUe=at(Jp,eo,BUe,ZI,QI,(n,e,t,r,i)=>{var s={},a;return t.forEach(o=>{var l=FUe(e,o);a==null&&(a=jUe(e,r,n));var c=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s}),WUe=(n,e)=>{var t=tm(n,e);if(t!=null)return HUe(n,t.orientation,t.mirror)},$Ue=at([eo,tm,WUe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:n.left,y:0}:{x:n.left,y:i}}}),GUe=(n,e)=>{var t=nm(n,e);if(t!=null)return VUe(n,t.orientation,t.mirror)},qUe=at([eo,nm,GUe,(n,e)=>e],(n,e,t,r)=>{if(e!=null){var i=t==null?void 0:t[r];return i==null?{x:0,y:n.top}:{x:i,y:n.top}}}),YUe=at(eo,nm,(n,e)=>{var t=typeof e.width=="number"?e.width:jT;return{width:t,height:n.height}}),bce=(n,e,t,r)=>{if(t!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=t,o=mh(n,r),l=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&_ae(l))return l}},f7=at([ji,KI,ul,Aa],bce),_ce=(n,e,t,r)=>{if(!(t==null||t.dataKey==null)){var{type:i,scale:s}=t,a=mh(n,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},d7=at([ji,KI,XT,Aa],_ce),TK=at([ji,rUe,Gw,JI,f7,d7,ZT,u7,Aa],(n,e,t,r,i,s,a,o,l)=>{if(e!=null){var c=mh(n,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:t,scale:r}}}),XUe=(n,e,t,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var c=mh(n,l),{type:f,ticks:d,tickCount:p}=e,g=t==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=f==="category"&&r.bandwidth?r.bandwidth()/g:0;b=l==="angleAxis"&&s!=null&&s.length>=2?wu(s[0]-s[1])*2*b:b;var S=d||i;return S?S.map((w,E)=>{var k=a?a.indexOf(w):w,R=r.map(k);return hr(R)?{index:E,coordinate:R+b,value:w,offset:b}:null}).filter(Wl):c&&o?o.map((w,E)=>{var k=r.map(w);return hr(k)?{coordinate:k+b,value:w,index:E,offset:b}:null}).filter(Wl):r.ticks?r.ticks(p).map((w,E)=>{var k=r.map(w);return hr(k)?{coordinate:k+b,value:w,index:E,offset:b}:null}).filter(Wl):r.domain().map((w,E)=>{var k=r.map(w);return hr(k)?{coordinate:k+b,value:a?a[w]:w,index:E,offset:b}:null}).filter(Wl)}},wce=at([ji,XT,Gw,JI,u7,ZT,f7,d7,Aa],XUe),KUe=(n,e,t,r,i,s,a)=>{if(!(e==null||t==null||r==null||r[0]===r[1])){var o=mh(n,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?wu(r[0]-r[1])*2*c:c,o&&s?s.map((f,d)=>{var p=t.map(f);return hr(p)?{coordinate:p+c,value:f,index:d,offset:c}:null}).filter(Wl):t.ticks?t.ticks(l).map((f,d)=>{var p=t.map(f);return hr(p)?{coordinate:p+c,value:f,index:d,offset:c}:null}).filter(Wl):t.domain().map((f,d)=>{var p=t.map(f);return hr(p)?{coordinate:p+c,value:i?i[f]:f,index:d,offset:c}:null}).filter(Wl)}},Sce=at([ji,XT,JI,ZT,f7,d7,Aa],KUe),Ece=at(ul,JI,(n,e)=>{if(!(n==null||e==null))return kP(kP({},n),{},{scale:e})}),JUe=at([ul,Gw,l7,yce],c7);at((n,e,t)=>i7(n,t),JUe,(n,e)=>{if(!(n==null||e==null))return kP(kP({},n),{},{scale:e})});var ZUe=at([ji,kI,RI],(n,e,t)=>{switch(n){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Mce=n=>n.options.defaultTooltipEventType,Ace=n=>n.options.validateTooltipEventTypes;function Tce(n,e,t){if(n==null)return e;var r=n?"axis":"item";return t==null?e:t.includes(r)?r:e}function h7(n,e){var t=Mce(n),r=Ace(n);return Tce(e,t,r)}function QUe(n){return mn(e=>h7(e,n))}var Cce=(n,e)=>{var t,r=Number(e);if(!(oh(r)||e==null))return r>=0?n==null||(t=n[r])===null||t===void 0?void 0:t.value:void 0},eje=n=>n.tooltip.settings,b0={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},tje={itemInteraction:{click:b0,hover:b0},axisInteraction:{click:b0,hover:b0},keyboardInteraction:b0,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},kce=Kl({name:"tooltip",initialState:tje,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:Li()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:r}=e.payload,i=kf(n).tooltipItemPayloads.indexOf(t);i>-1&&(n.tooltipItemPayloads[i]=r)},prepare:Li()},removeTooltipEntrySettings:{reducer(n,e){var t=kf(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:Li()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:nje,replaceTooltipEntrySettings:rje,removeTooltipEntrySettings:ije,setTooltipSettingsState:sje,setActiveMouseOverItemIndex:aje,mouseLeaveItem:ent,mouseLeaveChart:Rce,setActiveClickItemIndex:tnt,setMouseOverAxisIndex:Oce,setMouseClickAxisIndex:oje,setSyncInteraction:_F,setKeyboardInteraction:wF}=kce.actions,lje=kce.reducer;function CK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function _R(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?CK(Object(t),!0).forEach(function(r){cje(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):CK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cje(n,e,t){return(e=uje(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uje(n){var e=fje(n,"string");return typeof e=="symbol"?e:e+""}function fje(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function dje(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function hje(n){return n.index!=null}var Pce=(n,e,t,r)=>{if(e==null)return b0;var i=dje(n,e,t);if(i==null)return b0;if(i.active)return i;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(hje(i)){if(s)return _R(_R({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return _R(_R({},b0),{},{coordinate:i.coordinate})};function pje(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function mje(n,e){var t=pje(n),r=e[0],i=e[1];if(t===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return t>=s&&t<=a}function gje(n,e,t){if(t==null||e==null)return!0;var r=Qa(n,e);return r==null||!Gp(t)?!0:mje(r,t)}var p7=(n,e,t,r)=>{var i=n==null?void 0:n.index;if(i==null)return null;var s=Number(i);if(!hr(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),c=e[l];return c==null||gje(c,t,r)?String(l):null},Dce=(n,e,t,r,i,s,a)=>{if(s!=null){var o=a[0],l=o==null?void 0:o.getPosition(s);if(l!=null)return l;var c=i==null?void 0:i[Number(s)];if(c)switch(t){case"horizontal":return{x:c.coordinate,y:(r.top+e)/2};default:return{x:(r.left+n)/2,y:c.coordinate}}}},Ice=(n,e,t,r)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var i;if(t==="hover"?i=n.itemInteraction.hover.graphicalItemId:i=n.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=n.tooltipItemPayloads[0];return s!=null?[s]:[]}return n.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Nce=n=>n.options.tooltipPayloadSearcher,qw=n=>n.tooltip;function kK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function RK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kK(Object(t),!0).forEach(function(r){yje(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function yje(n,e,t){return(e=vje(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vje(n){var e=xje(n,"string");return typeof e=="symbol"?e:e+""}function xje(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function bje(n,e){return n??e}var Lce=(n,e,t,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:f}=t,d=[];return n.reduce((p,g)=>{var b,{dataDefinedOnItem:S,settings:w}=g,E=bje(S,o),k=Array.isArray(E)?foe(E,c,f):E,R=(b=w==null?void 0:w.dataKey)!==null&&b!==void 0?b:r,O=w==null?void 0:w.nameKey,D;if(r&&Array.isArray(k)&&!Array.isArray(k[0])&&a==="axis"?D=wae(k,r,i):D=s(k,e,l,O),Array.isArray(D))D.forEach(B=>{var z=RK(RK({},w),{},{name:B.name,unit:B.unit,color:void 0,fill:void 0});p.push(OY({tooltipEntrySettings:z,dataKey:B.dataKey,payload:B.payload,value:Qa(B.payload,B.dataKey),name:B.name}))});else{var I;p.push(OY({tooltipEntrySettings:w,dataKey:R,payload:D,value:Qa(D,R),name:(I=Qa(D,O))!==null&&I!==void 0?I:w==null?void 0:w.name}))}return p},d)}},m7=at([oa,Vle,Kj],hce),_je=at([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),wje=at([Ta,Ww],Wle),Yw=at([_je,oa,wje],Gle,{memoizeOptions:{resultEqualityCheck:XI}}),Sje=at([Yw],n=>n.filter(r7)),Eje=at([Yw],Xle,{memoizeOptions:{resultEqualityCheck:XI}}),Xw=at([Eje,em],Kle),Mje=at([Sje,em,oa],Ule),g7=at([Xw,oa,Yw],Jle),Bce=at([oa],a7),Aje=at([oa],n=>n.allowDataOverflow),Fce=at([Bce,Aje],wle),Tje=at([Yw],n=>n.filter(r7)),Cje=at([Mje,Tje,VI,Dle],Qle),kje=at([Cje,em,Ta,Fce],tce),Rje=at([Yw],Yle),Oje=at([Xw,oa,Rje,o7,Ta],ice,{memoizeOptions:{resultEqualityCheck:YI}}),Pje=at([sce,Ta,Ww],$w),Dje=at([Pje,Ta],lce),Ije=at([ace,Ta,Ww],$w),Nje=at([Ije,Ta],cce),Lje=at([oce,Ta,Ww],$w),Bje=at([Lje,Ta],uce),Fje=at([Dje,Bje,Nje],RP),zje=at([oa,Bce,Fce,kje,Oje,Fje,ji,Ta],fce),QT=at([oa,ji,Xw,g7,VI,Ta,zje],dce),Uje=at([QT,oa,m7],pce),jje=at([oa,QT,Uje,Ta],mce),zce=n=>{var e=Ta(n),t=Ww(n),r=!1;return ZT(n,e,t,r)},Uce=at([oa,zce],WI),jce=at([oa,m7,jje,Uce],c7),Hje=at([ji,g7,oa,Ta],bce),Vje=at([ji,g7,oa,Ta],_ce),Wje=(n,e,t,r,i,s,a,o)=>{if(e){var{type:l}=e,c=mh(n,o);if(r){var f=t==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,d=l==="category"&&r.bandwidth?r.bandwidth()/f:0;return d=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wu(i[0]-i[1])*2*d:d,c&&a?a.map((p,g)=>{var b=r.map(p);return hr(b)?{coordinate:b+d,value:p,index:g,offset:d}:null}).filter(Wl):r.domain().map((p,g)=>{var b=r.map(p);return hr(b)?{coordinate:b+d,value:s?s[p]:p,index:g,offset:d}:null}).filter(Wl)}}},rm=at([ji,oa,m7,jce,zce,Hje,Vje,Ta],Wje),y7=at([Mce,Ace,eje],(n,e,t)=>Tce(t.shared,n,e)),Hce=n=>n.tooltip.settings.trigger,v7=n=>n.tooltip.settings.defaultIndex,eC=at([qw,y7,Hce,v7],Pce),ZA=at([eC,Xw,JT,QT],p7),Vce=at([rm,ZA],Cce),$je=at([eC],n=>{if(n)return n.dataKey});at([eC],n=>{if(n)return n.graphicalItemId});var Wce=at([qw,y7,Hce,v7],Ice),Gje=at([Jp,Zp,ji,eo,rm,v7,Wce],Dce),qje=at([eC,Gje],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),Yje=at([eC],n=>{var e;return(e=n==null?void 0:n.active)!==null&&e!==void 0?e:!1}),Xje=at([Wce,ZA,em,JT,Vce,Nce,y7],Lce),Kje=at([Xje],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function OK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function PK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?OK(Object(t),!0).forEach(function(r){Jje(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):OK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Jje(n,e,t){return(e=Zje(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Zje(n){var e=Qje(n,"string");return typeof e=="symbol"?e:e+""}function Qje(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var e7e=()=>mn(oa),t7e=()=>{var n=e7e(),e=mn(rm),t=mn(jce);return oP(!n||!t?void 0:PK(PK({},n),{},{scale:t}),e)};function DK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function c1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DK(Object(t),!0).forEach(function(r){n7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function n7e(n,e,t){return(e=r7e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function r7e(n){var e=i7e(n,"string");return typeof e=="symbol"?e:e+""}function i7e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var s7e=(n,e,t,r)=>{var i=e.find(s=>s&&s.index===t);if(i){if(n==="horizontal")return{x:i.coordinate,y:r.chartY};if(n==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},a7e=(n,e,t,r)=>{var i=e.find(c=>c&&c.index===t);if(i){if(n==="centric"){var s=i.coordinate,{radius:a}=r;return c1(c1(c1({},r),Ka(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return c1(c1(c1({},r),Ka(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function o7e(n,e){var{chartX:t,chartY:r}=n;return t>=e.left&&t<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var $ce=(n,e,t,r,i)=>{var s,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||n==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,c,f,d,p,g=o>0?(l=t[o-1])===null||l===void 0?void 0:l.coordinate:(c=t[a-1])===null||c===void 0?void 0:c.coordinate,b=(f=t[o])===null||f===void 0?void 0:f.coordinate,S=o>=a-1?(d=t[0])===null||d===void 0?void 0:d.coordinate:(p=t[o+1])===null||p===void 0?void 0:p.coordinate,w=void 0;if(!(g==null||b==null||S==null))if(wu(b-g)!==wu(S-b)){var E=[];if(wu(S-b)===wu(i[1]-i[0])){w=S;var k=b+i[1]-i[0];E[0]=Math.min(k,(k+g)/2),E[1]=Math.max(k,(k+g)/2)}else{w=g;var R=S+i[1]-i[0];E[0]=Math.min(b,(R+b)/2),E[1]=Math.max(b,(R+b)/2)}var O=[Math.min(b,(w+b)/2),Math.max(b,(w+b)/2)];if(n>O[0]&&n<=O[1]||n>=E[0]&&n<=E[1]){var D;return(D=t[o])===null||D===void 0?void 0:D.index}}else{var I=Math.min(g,S),B=Math.max(g,S);if(n>(I+b)/2&&n<=(B+b)/2){var z;return(z=t[o])===null||z===void 0?void 0:z.index}}}else if(e)for(var V=0;V<a;V++){var Y=e[V];if(Y!=null){var q=e[V+1],J=e[V-1];if(V===0&&q!=null&&n<=(Y.coordinate+q.coordinate)/2||V===a-1&&J!=null&&n>(Y.coordinate+J.coordinate)/2||V>0&&V<a-1&&J!=null&&q!=null&&n>(Y.coordinate+J.coordinate)/2&&n<=(Y.coordinate+q.coordinate)/2)return Y.index}}return-1},Gce=()=>mn(Kj),x7=(n,e)=>e,qce=(n,e,t)=>t,b7=(n,e,t,r)=>r,l7e=at(rm,n=>xI(n,e=>e.coordinate)),_7=at([qw,x7,qce,b7],Pce),w7=at([_7,Xw,JT,QT],p7),c7e=(n,e,t)=>{if(e!=null){var r=qw(n);return e==="axis"?t==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:t==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Yce=at([qw,x7,qce,b7],Ice),OP=at([Jp,Zp,ji,eo,rm,b7,Yce],Dce),u7e=at([_7,OP],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),Xce=at([rm,w7],Cce),f7e=at([Yce,w7,em,JT,Xce,Nce,x7],Lce),d7e=at([_7,w7],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),h7e=(n,e,t,r,i,s,a)=>{if(!(!n||!t||!r||!i)&&o7e(n,a)){var o=zLe(n,e),l=$ce(o,s,i,t,r),c=s7e(e,i,l,n);return{activeIndex:String(l),activeCoordinate:c}}},p7e=(n,e,t,r,i,s,a)=>{if(!(!n||!r||!i||!s||!t)){var o=X8e(n,t);if(o){var l=ULe(o,e),c=$ce(l,a,s,r,i),f=a7e(e,s,c,o);return{activeIndex:String(c),activeCoordinate:f}}}},m7e=(n,e,t,r,i,s,a,o)=>{if(!(!n||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?h7e(n,e,r,i,s,a,o):p7e(n,e,t,r,i,s,a)},g7e=at(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var r=n[e];if(r!=null)return t?r.panoramaElement:r.element}}),y7e=at(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(r=>parseInt(r,10)).concat(Object.values(il)),t=Array.from(new Set(e));return t.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Kze}});function IK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function NK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IK(Object(t),!0).forEach(function(r){v7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function v7e(n,e,t){return(e=x7e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x7e(n){var e=b7e(n,"string");return typeof e=="symbol"?e:e+""}function b7e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var _7e={},w7e={zIndexMap:Object.values(il).reduce((n,e)=>NK(NK({},n),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),_7e)},S7e=new Set(Object.values(il));function E7e(n){return S7e.has(n)}var Kce=Kl({name:"zIndex",initialState:w7e,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Li()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!E7e(t)&&delete n.zIndexMap[t])},prepare:Li()},registerZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t,element:r,isPanorama:i}=e.payload;n.zIndexMap[t]?i?n.zIndexMap[t].panoramaElement=r:n.zIndexMap[t].element=r:n.zIndexMap[t]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:Li()},unregisterZIndexPortalElement:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElement=void 0:n.zIndexMap[t].element=void 0)},prepare:Li()}}}),{registerZIndexPortal:M7e,unregisterZIndexPortal:A7e,registerZIndexPortalElement:T7e,unregisterZIndexPortalElement:C7e}=Kce.actions,k7e=Kce.reducer;function im(n){var{zIndex:e,children:t}=n,r=v5e(),i=r&&e!==void 0&&e!==0,s=Jl(),a=Ea();L.useLayoutEffect(()=>i?(a(M7e({zIndex:e})),()=>{a(A7e({zIndex:e}))}):zw,[a,e,i]);var o=mn(l=>g7e(l,e,s));return i?o?lD.createPortal(t,o):null:t}function SF(){return SF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},SF.apply(null,arguments)}function LK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wR(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LK(Object(t),!0).forEach(function(r){R7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function R7e(n,e,t){return(e=O7e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function O7e(n){var e=P7e(n,"string");return typeof e=="symbol"?e:e+""}function P7e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function D7e(n){var{cursor:e,cursorComp:t,cursorProps:r}=n;return L.isValidElement(e)?L.cloneElement(e,r):L.createElement(t,r)}function I7e(n){var e,{coordinate:t,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:c,chartName:f}=n,d=t,p=r,g=i;if(!l||!d||f!=="ScatterChart"&&c!=="axis")return null;var b,S,w;if(f==="ScatterChart")b=d,S=a8e,w=il.cursorLine;else if(f==="BarChart")b=o8e(o,d,s,a),S=z8e,w=il.cursorRectangle;else if(o==="radial"&&Sae(d)){var{cx:E,cy:k,radius:R,startAngle:O,endAngle:D}=Foe(d);b={cx:E,cy:k,startAngle:O,endAngle:D,innerRadius:R,outerRadius:R},S=Q8e,w=il.cursorLine}else b={points:eBe(o,d,s)},S=f2,w=il.cursorLine;var I=typeof l=="object"&&"className"in l?l.className:void 0,B=wR(wR(wR(wR({stroke:"#ccc",pointerEvents:"none"},s),b),mI(l)),{},{payload:p,payloadIndex:g,className:In("recharts-tooltip-cursor",I)});return L.createElement(im,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:w},L.createElement(D7e,{cursor:l,cursorComp:S,cursorProps:B}))}function N7e(n){var e=t7e(),t=_oe(),r=Uw(),i=Gce();return e==null||t==null||r==null||i==null?null:L.createElement(I7e,SF({},n,{offset:t,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Jce=L.createContext(null),L7e=()=>L.useContext(Jce),c5={exports:{}},BK;function B7e(){return BK||(BK=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function s(l,c,f,d,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,d||l,p),b=t?t+c:c;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],g]:l._events[b].push(g):(l._events[b]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(t?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},o.prototype.listeners=function(c){var f=t?t+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,g=d.length,b=new Array(g);p<g;p++)b[p]=d[p].fn;return b},o.prototype.listenerCount=function(c){var f=t?t+c:c,d=this._events[f];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,f,d,p,g,b){var S=t?t+c:c;if(!this._events[S])return!1;var w=this._events[S],E=arguments.length,k,R;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,d),!0;case 4:return w.fn.call(w.context,f,d,p),!0;case 5:return w.fn.call(w.context,f,d,p,g),!0;case 6:return w.fn.call(w.context,f,d,p,g,b),!0}for(R=1,k=new Array(E-1);R<E;R++)k[R-1]=arguments[R];w.fn.apply(w.context,k)}else{var O=w.length,D;for(R=0;R<O;R++)switch(w[R].once&&this.removeListener(c,w[R].fn,void 0,!0),E){case 1:w[R].fn.call(w[R].context);break;case 2:w[R].fn.call(w[R].context,f);break;case 3:w[R].fn.call(w[R].context,f,d);break;case 4:w[R].fn.call(w[R].context,f,d,p);break;default:if(!k)for(D=1,k=new Array(E-1);D<E;D++)k[D-1]=arguments[D];w[R].fn.apply(w[R].context,k)}}return!0},o.prototype.on=function(c,f,d){return s(this,c,f,d,!1)},o.prototype.once=function(c,f,d){return s(this,c,f,d,!0)},o.prototype.removeListener=function(c,f,d,p){var g=t?t+c:c;if(!this._events[g])return this;if(!f)return a(this,g),this;var b=this._events[g];if(b.fn)b.fn===f&&(!p||b.once)&&(!d||b.context===d)&&a(this,g);else{for(var S=0,w=[],E=b.length;S<E;S++)(b[S].fn!==f||p&&!b[S].once||d&&b[S].context!==d)&&w.push(b[S]);w.length?this._events[g]=w.length===1?w[0]:w:a(this,g)}return this},o.prototype.removeAllListeners=function(c){var f;return c?(f=t?t+c:c,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=t,o.EventEmitter=o,n.exports=o})(c5)),c5.exports}var F7e=B7e();const z7e=Mc(F7e);var QA=new z7e,EF="recharts.syncEvent.tooltip",FK="recharts.syncEvent.brush",U7e=(n,e)=>{if(e&&Array.isArray(n)){var t=Number.parseInt(e,10);if(!oh(t))return n[t]}},j7e={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Zce=Kl({name:"options",initialState:j7e,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),H7e=Zce.reducer,{createEventEmitter:V7e}=Zce.actions;function W7e(n){return n.tooltip.syncInteraction}var $7e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Qce=Kl({name:"chartData",initialState:$7e,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:r}=e.payload;t!=null&&(n.dataStartIndex=t),r!=null&&(n.dataEndIndex=r)}}}),{setChartData:zK,setDataStartEndIndexes:G7e,setComputedData:nnt}=Qce.actions,q7e=Qce.reducer,Y7e=["x","y"];function UK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function u1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UK(Object(t),!0).forEach(function(r){X7e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function X7e(n,e,t){return(e=K7e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K7e(n){var e=J7e(n,"string");return typeof e=="symbol"?e:e+""}function J7e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Z7e(n,e){if(n==null)return{};var t,r,i=Q7e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function Q7e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function e9e(){var n=mn(Jj),e=mn(Zj),t=Ea(),r=mn(Ile),i=mn(rm),s=Uw(),a=DI(),o=mn(l=>l.rootProps.className);L.useEffect(()=>{if(n==null)return zw;var l=(c,f,d)=>{if(e!==d&&n===c){if(r==="index"){var p;if(a&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var g=f.payload.coordinate,{x:b,y:S}=g,w=Z7e(g,Y7e),{x:E,y:k,width:R,height:O}=f.payload.sourceViewBox,D=u1(u1({},w),{},{x:a.x+(R?(b-E)/R:0)*a.width,y:a.y+(O?(S-k)/O:0)*a.height});t(u1(u1({},f),{},{payload:u1(u1({},f.payload),{},{coordinate:D})}))}else t(f);return}if(i!=null){var I;if(typeof r=="function"){var B={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},z=r(i,B);I=i[z]}else r==="value"&&(I=i.find(te=>String(te.value)===f.payload.label));var{coordinate:V}=f.payload;if(I==null||f.payload.active===!1||V==null||a==null){t(_F({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:Y,y:q}=V,J=Math.min(Y,a.x+a.width),re=Math.min(q,a.y+a.height),fe={x:s==="horizontal"?I.coordinate:J,y:s==="horizontal"?re:I.coordinate},ne=_F({active:f.payload.active,coordinate:fe,dataKey:f.payload.dataKey,index:String(I.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});t(ne)}}};return QA.on(EF,l),()=>{QA.off(EF,l)}},[o,t,e,n,r,i,s,a])}function t9e(){var n=mn(Jj),e=mn(Zj),t=Ea();L.useEffect(()=>{if(n==null)return zw;var r=(i,s,a)=>{e!==a&&n===i&&t(G7e(s))};return QA.on(FK,r),()=>{QA.off(FK,r)}},[t,e,n])}function n9e(){var n=Ea();L.useEffect(()=>{n(V7e())},[n]),e9e(),t9e()}function r9e(n,e,t,r,i,s){var a=mn(g=>c7e(g,n,e)),o=mn(Zj),l=mn(Jj),c=mn(Ile),f=mn(W7e),d=f==null?void 0:f.active,p=DI();L.useEffect(()=>{if(!d&&l!=null&&o!=null){var g=_F({active:s,coordinate:t,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});QA.emit(EF,l,g,o)}},[d,t,a,i,r,o,l,c,s,p])}function jK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function HK(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?jK(Object(t),!0).forEach(function(r){i9e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function i9e(n,e,t){return(e=s9e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function s9e(n){var e=a9e(n,"string");return typeof e=="symbol"?e:e+""}function a9e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function o9e(n){return n.dataKey}function l9e(n,e){return L.isValidElement(n)?L.cloneElement(n,e):typeof n=="function"?L.createElement(n,e):L.createElement(z5e,e)}var VK=[],c9e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function eue(n){var e,t,r=Cc(n,c9e),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:c,isAnimationActive:f,offset:d,payloadUniqBy:p,position:g,reverseDirection:b,useTranslate3d:S,wrapperStyle:w,cursor:E,shared:k,trigger:R,defaultIndex:O,portal:D,axisId:I}=r,B=Ea(),z=typeof O=="number"?String(O):O;L.useEffect(()=>{B(sje({shared:k,trigger:R,axisId:I,active:i,defaultIndex:z}))},[B,k,R,I,i,z]);var V=DI(),Y=Poe(),q=QUe(k),{activeIndex:J,isActive:re}=(e=mn(Ue=>d7e(Ue,q,R,z)))!==null&&e!==void 0?e:{},fe=mn(Ue=>f7e(Ue,q,R,z)),ne=mn(Ue=>Xce(Ue,q,R,z)),te=mn(Ue=>u7e(Ue,q,R,z)),se=fe,be=L7e(),Ee=(t=i??re)!==null&&t!==void 0?t:!1,[oe,ee]=A6e([se,Ee]),xe=q==="axis"?ne:void 0;r9e(q,R,te,xe,J,Ee);var ae=D??be;if(ae==null||V==null||q==null)return null;var De=se??VK;Ee||(De=VK),c&&De.length&&(De=r6e(De.filter(Ue=>Ue.value!=null&&(Ue.hide!==!0||r.includeHidden)),p,o9e));var dt=De.length>0,Ne=L.createElement(G5e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:f,active:Ee,coordinate:te,hasPayload:dt,offset:d,position:g,reverseDirection:b,useTranslate3d:S,viewBox:V,wrapperStyle:w,lastBoundingBox:oe,innerRef:ee,hasPortalFromProps:!!D},l9e(l,HK(HK({},r),{},{payload:De,label:xe,active:Ee,activeIndex:J,coordinate:te,accessibilityLayer:Y})));return L.createElement(L.Fragment,null,lD.createPortal(Ne,ae),Ee&&L.createElement(N7e,{cursor:E,tooltipEventType:q,coordinate:te,payload:De,index:J}))}function u9e(n,e,t){return(e=f9e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f9e(n){var e=d9e(n,"string");return typeof e=="symbol"?e:e+""}function d9e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class h9e{constructor(e){u9e(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function WK(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function p9e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?WK(Object(t),!0).forEach(function(r){m9e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):WK(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function m9e(n,e,t){return(e=g9e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function g9e(n){var e=y9e(n,"string");return typeof e=="symbol"?e:e+""}function y9e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var v9e={cacheSize:2e3,enableCache:!0},tue=p9e({},v9e),$K=new h9e(tue.cacheSize),x9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GK="recharts_measurement_span";function b9e(n,e){var t=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var qK=(n,e)=>{try{var t=document.getElementById(GK);t||(t=document.createElement("span"),t.setAttribute("id",GK),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,x9e,e),t.textContent="".concat(n);var r=t.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},GM=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||WT.isSsr)return{width:0,height:0};if(!tue.enableCache)return qK(e,t);var r=b9e(e,t),i=$K.get(r);if(i)return i;var s=qK(e,t);return $K.set(r,s),s},nue;function _9e(n,e,t){return(e=w9e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function w9e(n){var e=S9e(n,"string");return typeof e=="symbol"?e:e+""}function S9e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var YK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XK=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,E9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,M9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,A9e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},T9e=["cm","mm","pt","pc","in","Q","px"];function C9e(n){return T9e.includes(n)}var z1="NaN";function k9e(n,e){return n*A9e[e]}class Ya{static parse(e){var t,[,r,i]=(t=M9e.exec(e))!==null&&t!==void 0?t:[];return r==null?Ya.NaN:new Ya(parseFloat(r),i??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,oh(e)&&(this.unit=""),t!==""&&!E9e.test(t)&&(this.num=NaN,this.unit=""),C9e(t)&&(this.num=k9e(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Ya(NaN,""):new Ya(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Ya(NaN,""):new Ya(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ya(NaN,""):new Ya(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Ya(NaN,""):new Ya(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return oh(this.num)}}nue=Ya;_9e(Ya,"NaN",new nue(NaN,""));function rue(n){if(n==null||n.includes(z1))return z1;for(var e=n;e.includes("*")||e.includes("/");){var t,[,r,i,s]=(t=YK.exec(e))!==null&&t!==void 0?t:[],a=Ya.parse(r??""),o=Ya.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return z1;e=e.replace(YK,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,f,d,p]=(c=XK.exec(e))!==null&&c!==void 0?c:[],g=Ya.parse(f??""),b=Ya.parse(p??""),S=d==="+"?g.add(b):g.subtract(b);if(S.isNaN())return z1;e=e.replace(XK,S.toString())}return e}var KK=/\(([^()]*)\)/;function R9e(n){for(var e=n,t;(t=KK.exec(e))!=null;){var[,r]=t;e=e.replace(KK,rue(r))}return e}function O9e(n){var e=n.replace(/\s+/g,"");return e=R9e(e),e=rue(e),e}function P9e(n){try{return O9e(n)}catch{return z1}}function u5(n){var e=P9e(n.slice(5,-1));return e===z1?"":e}var D9e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],I9e=["dx","dy","angle","className","breakAll"];function MF(){return MF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},MF.apply(null,arguments)}function JK(n,e){if(n==null)return{};var t,r,i=N9e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function N9e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var iue=/[ \f\n\r\t\v\u2028\u2029]+/,sue=n=>{var{children:e,breakAll:t,style:r}=n;try{var i=[];Ro(e)||(t?i=e.toString().split(""):i=e.toString().split(iue));var s=i.map(o=>({word:o,width:GM(o,r).width})),a=t?0:GM("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function L9e(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var aue=(n,e,t,r)=>n.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+t<Number(e)))l.words.push(a),l.width+=o+t;else{var c={words:[a],width:o};i.push(c)}return i},[]),oue=n=>n.reduce((e,t)=>e.width>t.width?e:t),B9e="",ZK=(n,e,t,r,i,s,a,o)=>{var l=n.slice(0,e),c=sue({breakAll:t,style:r,children:l+B9e});if(!c)return[!1,[]];var f=aue(c.wordsWithComputedWidth,s,a,o),d=f.length>i||oue(f).width>Number(s);return[d,f]},F9e=(n,e,t,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=n,c=nn(s),f=String(a),d=aue(e,r,t,i);if(!c||i)return d;var p=d.length>s||oue(d).width>Number(r);if(!p)return d;for(var g=0,b=f.length-1,S=0,w;g<=b&&S<=f.length-1;){var E=Math.floor((g+b)/2),k=E-1,[R,O]=ZK(f,k,l,o,s,r,t,i),[D]=ZK(f,E,l,o,s,r,t,i);if(!R&&!D&&(g=E+1),R&&D&&(b=E-1),!R&&D){w=O;break}S++}return w||d},QK=n=>{var e=Ro(n)?[]:n.toString().split(iue);return[{words:e,width:void 0}]},z9e=n=>{var{width:e,scaleToFit:t,children:r,style:i,breakAll:s,maxLines:a}=n;if((e||t)&&!WT.isSsr){var o,l,c=sue({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:f,spaceWidth:d}=c;o=f,l=d}else return QK(r);return F9e({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!t)}return QK(r)},lue="#808080",U9e={angle:0,breakAll:!1,capHeight:"0.71em",fill:lue,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},S7=L.forwardRef((n,e)=>{var t=Cc(n,U9e),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:f}=t,d=JK(t,D9e),p=L.useMemo(()=>z9e({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:l,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,l,d.style,d.width]),{dx:g,dy:b,angle:S,className:w,breakAll:E}=d,k=JK(d,I9e);if(!lh(r)||!lh(i)||p.length===0)return null;var R=Number(r)+(nn(g)?g:0),O=Number(i)+(nn(b)?b:0);if(!hr(R)||!hr(O))return null;var D;switch(f){case"start":D=u5("calc(".concat(a,")"));break;case"middle":D=u5("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:D=u5("calc(".concat(p.length-1," * -").concat(s,")"));break}var I=[],B=p[0];if(l&&B!=null){var z=B.width,{width:V}=d;I.push("scale(".concat(nn(V)&&nn(z)?V/z:1,")"))}return S&&I.push("rotate(".concat(S,", ").concat(R,", ").concat(O,")")),I.length&&(k.transform=I.join(" ")),L.createElement("text",MF({},Ru(k),{ref:e,x:R,y:O,className:In("recharts-text",w),textAnchor:c,fill:o.includes("url")?lue:o}),p.map((Y,q)=>{var J=Y.words.join(E?"":" ");return L.createElement("tspan",{x:R,dy:q===0?D:s,key:"".concat(J,"-").concat(q)},J)}))});S7.displayName="Text";function eJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function wd(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?eJ(Object(t),!0).forEach(function(r){j9e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):eJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function j9e(n,e,t){return(e=H9e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function H9e(n){var e=V9e(n,"string");return typeof e=="symbol"?e:e+""}function V9e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var W9e=n=>{var{viewBox:e,position:t,offset:r=0,parentViewBox:i}=n,{x:s,y:a,height:o,upperWidth:l,lowerWidth:c}=_j(e),f=s,d=s+(l-c)/2,p=(f+d)/2,g=(l+c)/2,b=f+l/2,S=o>=0?1:-1,w=S*r,E=S>0?"end":"start",k=S>0?"start":"end",R=l>=0?1:-1,O=R*r,D=R>0?"end":"start",I=R>0?"start":"end",B=i;if(t==="top"){var z={x:f+l/2,y:a-w,horizontalAnchor:"middle",verticalAnchor:E};return B&&(z.height=Math.max(a-B.y,0),z.width=l),z}if(t==="bottom"){var V={x:d+c/2,y:a+o+w,horizontalAnchor:"middle",verticalAnchor:k};return B&&(V.height=Math.max(B.y+B.height-(a+o),0),V.width=c),V}if(t==="left"){var Y={x:p-O,y:a+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return B&&(Y.width=Math.max(Y.x-B.x,0),Y.height=o),Y}if(t==="right"){var q={x:p+g+O,y:a+o/2,horizontalAnchor:I,verticalAnchor:"middle"};return B&&(q.width=Math.max(B.x+B.width-q.x,0),q.height=o),q}var J=B?{width:g,height:o}:{};return t==="insideLeft"?wd({x:p+O,y:a+o/2,horizontalAnchor:I,verticalAnchor:"middle"},J):t==="insideRight"?wd({x:p+g-O,y:a+o/2,horizontalAnchor:D,verticalAnchor:"middle"},J):t==="insideTop"?wd({x:f+l/2,y:a+w,horizontalAnchor:"middle",verticalAnchor:k},J):t==="insideBottom"?wd({x:d+c/2,y:a+o-w,horizontalAnchor:"middle",verticalAnchor:E},J):t==="insideTopLeft"?wd({x:f+O,y:a+w,horizontalAnchor:I,verticalAnchor:k},J):t==="insideTopRight"?wd({x:f+l-O,y:a+w,horizontalAnchor:D,verticalAnchor:k},J):t==="insideBottomLeft"?wd({x:d+O,y:a+o-w,horizontalAnchor:I,verticalAnchor:E},J):t==="insideBottomRight"?wd({x:d+c-O,y:a+o-w,horizontalAnchor:D,verticalAnchor:E},J):t&&typeof t=="object"&&(nn(t.x)||nx(t.x))&&(nn(t.y)||nx(t.y))?wd({x:s+ig(t.x,g),y:a+ig(t.y,o),horizontalAnchor:"end",verticalAnchor:"end"},J):wd({x:b,y:a+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},J)},$9e=["labelRef"],G9e=["content"];function tJ(n,e){if(n==null)return{};var t,r,i=q9e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function q9e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function nJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function EM(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nJ(Object(t),!0).forEach(function(r){Y9e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):nJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Y9e(n,e,t){return(e=X9e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function X9e(n){var e=K9e(n,"string");return typeof e=="symbol"?e:e+""}function K9e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wp(){return wp=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},wp.apply(null,arguments)}var cue=L.createContext(null),J9e=n=>{var{x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=n,l=L.useMemo(()=>({x:e,y:t,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,t,r,i,s,a]);return L.createElement(cue.Provider,{value:l},o)},uue=()=>{var n=L.useContext(cue),e=DI();return n||(e?_j(e):void 0)},Z9e=L.createContext(null),Q9e=()=>{var n=L.useContext(Z9e),e=mn(zle);return n||e},eHe=n=>{var{value:e,formatter:t}=n,r=Ro(n.children)?e:n.children;return typeof t=="function"?t(r):r},E7=n=>n!=null&&typeof n=="function",tHe=(n,e)=>{var t=wu(e-n),r=Math.min(Math.abs(e-n),360);return t*r},nHe=(n,e,t,r,i)=>{var{offset:s,className:a}=n,{cx:o,cy:l,innerRadius:c,outerRadius:f,startAngle:d,endAngle:p,clockWise:g}=i,b=(c+f)/2,S=tHe(d,p),w=S>=0?1:-1,E,k;switch(e){case"insideStart":E=d+w*s,k=g;break;case"insideEnd":E=p-w*s,k=!g;break;case"end":E=p+w*s,k=g;break;default:throw new Error("Unsupported position ".concat(e))}k=S<=0?k:!k;var R=Ka(o,l,b,E),O=Ka(o,l,b,E+(k?1:-1)*359),D="M".concat(R.x,",").concat(R.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(k?0:1,`,
    `).concat(O.x,",").concat(O.y),I=Ro(n.id)?zA("recharts-radial-line-"):n.id;return L.createElement("text",wp({},r,{dominantBaseline:"central",className:In("recharts-radial-bar-label",a)}),L.createElement("defs",null,L.createElement("path",{id:I,d:D})),L.createElement("textPath",{xlinkHref:"#".concat(I)},t))},rHe=(n,e,t)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=n,c=(o+l)/2;if(t==="outside"){var{x:f,y:d}=Ka(r,i,a+e,c);return{x:f,y:d,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:g,y:b}=Ka(r,i,p,c);return{x:g,y:b,textAnchor:"middle",verticalAnchor:"middle"}},h2=n=>n!=null&&"cx"in n&&nn(n.cx),iHe={angle:0,offset:5,zIndex:il.label,position:"middle",textBreakAll:!1};function sHe(n){if(!h2(n))return n;var{cx:e,cy:t,outerRadius:r}=n,i=r*2;return{x:e-r,y:t-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function p0(n){var e=Cc(n,iHe),{viewBox:t,parentViewBox:r,position:i,value:s,children:a,content:o,className:l="",textBreakAll:c,labelRef:f}=e,d=Q9e(),p=uue(),g=i==="center"?p:d??p,b,S,w;t==null?b=g:h2(t)?b=t:b=_j(t);var E=sHe(b);if(!b||Ro(s)&&Ro(a)&&!L.isValidElement(o)&&typeof o!="function")return null;var k=EM(EM({},e),{},{viewBox:b});if(L.isValidElement(o)){var{labelRef:R}=k,O=tJ(k,$9e);return L.cloneElement(o,O)}if(typeof o=="function"){var{content:D}=k,I=tJ(k,G9e);if(S=L.createElement(o,I),L.isValidElement(S))return S}else S=eHe(e);var B=Ru(e);if(h2(b)){if(i==="insideStart"||i==="insideEnd"||i==="end")return nHe(e,i,S,B,b);w=rHe(b,e.offset,e.position)}else{if(!E)return null;var z=W9e({viewBox:E,position:i,offset:e.offset,parentViewBox:h2(r)?void 0:r});w=EM(EM({x:z.x,y:z.y,textAnchor:z.horizontalAnchor,verticalAnchor:z.verticalAnchor},z.width!==void 0?{width:z.width}:{}),z.height!==void 0?{height:z.height}:{})}return L.createElement(im,{zIndex:e.zIndex},L.createElement(S7,wp({ref:f,className:In("recharts-label",l)},B,w,{textAnchor:L9e(B.textAnchor)?B.textAnchor:w.textAnchor,breakAll:c}),S))}p0.displayName="Label";var aHe=(n,e,t)=>{if(!n)return null;var r={viewBox:e,labelRef:t};return n===!0?L.createElement(p0,wp({key:"label-implicit"},r)):lh(n)?L.createElement(p0,wp({key:"label-implicit",value:n},r)):L.isValidElement(n)?n.type===p0?L.cloneElement(n,EM({key:"label-implicit"},r)):L.createElement(p0,wp({key:"label-implicit",content:n},r)):E7(n)?L.createElement(p0,wp({key:"label-implicit",content:n},r)):n&&typeof n=="object"?L.createElement(p0,wp({},n,{key:"label-implicit"},r)):null};function oHe(n){var{label:e,labelRef:t}=n,r=uue();return aHe(e,r,t)||null}var f5={},d5={},rJ;function lHe(){return rJ||(rJ=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(d5)),d5}var h5={},iJ;function cHe(){return iJ||(iJ=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(h5)),h5}var sJ;function uHe(){return sJ||(sJ=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=lHe(),t=cHe(),r=fj();function i(s){if(r.isArrayLike(s))return e.last(t.toArray(s))}n.last=i})(f5)),f5}var p5,aJ;function fHe(){return aJ||(aJ=1,p5=uHe().last),p5}var dHe=fHe();const hHe=Mc(dHe);var pHe=["valueAccessor"],mHe=["dataKey","clockWise","id","textBreakAll","zIndex"];function PP(){return PP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PP.apply(null,arguments)}function oJ(n,e){if(n==null)return{};var t,r,i=gHe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function gHe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var yHe=n=>Array.isArray(n.value)?hHe(n.value):n.value,fue=L.createContext(void 0),vHe=fue.Provider,due=L.createContext(void 0);due.Provider;function xHe(){return L.useContext(fue)}function bHe(){return L.useContext(due)}function p2(n){var{valueAccessor:e=yHe}=n,t=oJ(n,pHe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=t,l=oJ(t,mHe),c=xHe(),f=bHe(),d=c||f;return!d||!d.length?null:L.createElement(im,{zIndex:o??il.label},L.createElement(ah,{className:"recharts-label-list"},d.map((p,g)=>{var b,S=Ro(r)?e(p,g):Qa(p.payload,r),w=Ro(s)?{}:{id:"".concat(s,"-").concat(g)};return L.createElement(p0,PP({key:"label-".concat(g)},Ru(p),l,w,{fill:(b=t.fill)!==null&&b!==void 0?b:p.fill,parentViewBox:p.parentViewBox,value:S,textBreakAll:a,viewBox:p.viewBox,index:g,zIndex:0}))})))}p2.displayName="LabelList";function _He(n){var{label:e}=n;return e?e===!0?L.createElement(p2,{key:"labelList-implicit"}):L.isValidElement(e)||E7(e)?L.createElement(p2,{key:"labelList-implicit",content:e}):typeof e=="object"?L.createElement(p2,PP({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function AF(){return AF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},AF.apply(null,arguments)}var hue=n=>{var{cx:e,cy:t,r,className:i}=n,s=In("recharts-dot",i);return nn(e)&&nn(t)&&nn(r)?L.createElement("circle",AF({},Nf(n),uj(n),{className:s,cx:e,cy:t,r})):null},wHe={radiusAxis:{},angleAxis:{}},pue=Kl({name:"polarAxis",initialState:wHe,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:rnt,removeRadiusAxis:int,addAngleAxis:snt,removeAngleAxis:ant}=pue.actions,SHe=pue.reducer;function EHe(n){return n&&typeof n=="object"&&"className"in n&&typeof n.className=="string"?n.className:""}var mue=n=>n&&typeof n=="object"&&"clipDot"in n?!!n.clipDot:!0;function MHe(n){var{tooltipEntrySettings:e}=n,t=Ea(),r=Jl(),i=L.useRef(null);return L.useLayoutEffect(()=>{r||(i.current===null?t(nje(e)):i.current!==e&&t(rje({prev:i.current,next:e})),i.current=e)},[e,t,r]),L.useLayoutEffect(()=>()=>{i.current&&(t(ije(i.current)),i.current=null)},[t]),null}function AHe(n){var{legendPayload:e}=n,t=Ea(),r=Jl(),i=L.useRef(null);return L.useLayoutEffect(()=>{r||(i.current===null?t(O5e(e)):i.current!==e&&t(P5e({prev:i.current,next:e})),i.current=e)},[t,r,e]),L.useLayoutEffect(()=>()=>{i.current&&(t(D5e(i.current)),i.current=null)},[t]),null}var m5,THe=()=>{var[n]=L.useState(()=>zA("uid-"));return n},CHe=(m5=XF.useId)!==null&&m5!==void 0?m5:THe;function kHe(n,e){var t=CHe();return e||(n?"".concat(n,"-").concat(t):t)}var RHe=L.createContext(void 0),OHe=n=>{var{id:e,type:t,children:r}=n,i=kHe("recharts-".concat(t),e);return L.createElement(RHe.Provider,{value:i},r(i))},PHe={cartesianItems:[],polarItems:[]},gue=Kl({name:"graphicalItems",initialState:PHe,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:Li()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:r}=e.payload,i=kf(n).cartesianItems.indexOf(t);i>-1&&(n.cartesianItems[i]=r)},prepare:Li()},removeCartesianGraphicalItem:{reducer(n,e){var t=kf(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:Li()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:Li()},removePolarGraphicalItem:{reducer(n,e){var t=kf(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:Li()}}}),{addCartesianGraphicalItem:DHe,replaceCartesianGraphicalItem:IHe,removeCartesianGraphicalItem:NHe,addPolarGraphicalItem:ont,removePolarGraphicalItem:lnt}=gue.actions,LHe=gue.reducer,BHe=n=>{var e=Ea(),t=L.useRef(null);return L.useLayoutEffect(()=>{t.current===null?e(DHe(n)):t.current!==n&&e(IHe({prev:t.current,next:n})),t.current=n},[e,n]),L.useLayoutEffect(()=>()=>{t.current&&(e(NHe(t.current)),t.current=null)},[e]),null},FHe=L.memo(BHe),zHe=["points"];function lJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function g5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lJ(Object(t),!0).forEach(function(r){UHe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function UHe(n,e,t){return(e=jHe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jHe(n){var e=HHe(n,"string");return typeof e=="symbol"?e:e+""}function HHe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function DP(){return DP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},DP.apply(null,arguments)}function VHe(n,e){if(n==null)return{};var t,r,i=WHe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function WHe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function $He(n){var{option:e,dotProps:t,className:r}=n;if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return e(t);var i=In(r,typeof e!="boolean"?e.className:""),s=t??{},{points:a}=s,o=VHe(s,zHe);return L.createElement(hue,DP({},o,{className:i}))}function GHe(n,e){return n==null?!1:e?!0:n.length===1}function qHe(n){var{points:e,dot:t,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:c=il.scatter}=n;if(!GHe(e,t))return null;var f=mue(t),d=K4e(t),p=e.map((b,S)=>{var w,E,k=g5(g5(g5({r:3},a),d),{},{index:S,cx:(w=b.x)!==null&&w!==void 0?w:void 0,cy:(E=b.y)!==null&&E!==void 0?E:void 0,dataKey:s,value:b.value,payload:b.payload,points:e});return L.createElement($He,{key:"dot-".concat(S),option:t,dotProps:k,className:i})}),g={};return o&&l!=null&&(g.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(l,")")),L.createElement(im,{zIndex:c},L.createElement(ah,DP({className:r},g),p))}function cJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function uJ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?cJ(Object(t),!0).forEach(function(r){YHe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):cJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function YHe(n,e,t){return(e=XHe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XHe(n){var e=KHe(n,"string");return typeof e=="symbol"?e:e+""}function KHe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yue=0,JHe={xAxis:{},yAxis:{},zAxis:{}},vue=Kl({name:"cartesianAxis",initialState:JHe,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:Li()},replaceXAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.xAxis[t.id],n.xAxis[r.id]=r)},prepare:Li()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:Li()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:Li()},replaceYAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.yAxis[t.id],n.yAxis[r.id]=r)},prepare:Li()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:Li()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:Li()},replaceZAxis:{reducer(n,e){var{prev:t,next:r}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==r.id&&delete n.zAxis[t.id],n.zAxis[r.id]=r)},prepare:Li()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:Li()},updateYAxisWidth(n,e){var{id:t,width:r}=e.payload,i=n.yAxis[t];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var o=[...a,r].slice(-3);n.yAxis[t]=uJ(uJ({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:ZHe,replaceXAxis:QHe,removeXAxis:eVe,addYAxis:tVe,replaceYAxis:nVe,removeYAxis:rVe,addZAxis:cnt,replaceZAxis:unt,removeZAxis:fnt,updateYAxisWidth:iVe}=vue.actions,sVe=vue.reducer,aVe=at([eo],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),oVe=at([aVe,Jp,Zp],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),M7=()=>mn(oVe),lVe=()=>mn(Kje);function fJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function y5(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fJ(Object(t),!0).forEach(function(r){cVe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):fJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cVe(n,e,t){return(e=uVe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uVe(n){var e=fVe(n,"string");return typeof e=="symbol"?e:e+""}function fVe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var dVe=n=>{var{point:e,childIndex:t,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=n;if(i===!1||e.x==null||e.y==null)return null;var o={index:t,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=y5(y5(y5({},o),mI(i)),uj(i)),c;return L.isValidElement(i)?c=L.cloneElement(i,l):typeof i=="function"?c=i(l):c=L.createElement(hue,l),L.createElement(ah,{className:"recharts-active-dot",clipPath:a},c)};function dJ(n){var{points:e,mainColor:t,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=il.activeDot}=n,o=mn(ZA),l=lVe();if(e==null||l==null)return null;var c=e.find(f=>l.includes(f.payload));return Ro(c)?null:L.createElement(im,{zIndex:a},L.createElement(dVe,{point:c,childIndex:Number(o),mainColor:t,dataKey:i,activeDot:r,clipPath:s}))}var hVe=n=>{var{chartData:e}=n,t=Ea(),r=Jl();return L.useEffect(()=>r?()=>{}:(t(zK(e)),()=>{t(zK(void 0))}),[e,t,r]),null},hJ={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xue=Kl({name:"brush",initialState:hJ,reducers:{setBrushSettings(n,e){return e.payload==null?hJ:e.payload}}}),{setBrushSettings:dnt}=xue.actions,pVe=xue.reducer;function mVe(n){return(n%180+180)%180}var gVe=function(e){var{width:t,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=mVe(i),a=s*Math.PI/180,o=Math.atan(r/t),l=a>o&&a<Math.PI-o?r/Math.sin(a):t/Math.cos(a);return Math.abs(l)},yVe={dots:[],areas:[],lines:[]},bue=Kl({name:"referenceElements",initialState:yVe,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=kf(n).dots.findIndex(r=>r===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=kf(n).areas.findIndex(r=>r===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=kf(n).lines.findIndex(r=>r===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:hnt,removeDot:pnt,addArea:mnt,removeArea:gnt,addLine:ynt,removeLine:vnt}=bue.actions,vVe=bue.reducer,xVe=L.createContext(void 0),bVe=n=>{var{children:e}=n,[t]=L.useState("".concat(zA("recharts"),"-clip")),r=M7();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return L.createElement(xVe.Provider,{value:t},L.createElement("defs",null,L.createElement("clipPath",{id:t},L.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function _ue(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],r=0;r<n.length;r+=e){var i=n[r];i!==void 0&&t.push(i)}return t}function _Ve(n,e,t){var r={width:n.width+e.width,height:n.height+e.height};return gVe(r,t)}function wVe(n,e,t){var r=t==="width",{x:i,y:s,width:a,height:o}=n;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function eT(n,e,t,r,i){if(n*e<n*r||n*e>n*i)return!1;var s=t();return n*(e-n*s/2-r)>=0&&n*(e+n*s/2-i)<=0}function SVe(n,e){return _ue(n,e+1)}function EVe(n,e,t,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,c=1,f=a,d=function(){var b=r==null?void 0:r[l];if(b===void 0)return{v:_ue(r,c)};var S=l,w,E=()=>(w===void 0&&(w=t(b,S)),w),k=b.coordinate,R=l===0||eT(n,k,E,f,o);R||(l=0,f=a,c+=1),R&&(f=k+n*(E()/2+i),l+=c)},p;c<=s.length;)if(p=d(),p)return p.v;return[]}function MVe(n,e,t,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=e,c=1;c<=a;c++){for(var f=(a-1)%c,d=o,p=!0,g=function(){var O=r[S];if(O==null)return 0;var D=S,I,B=()=>(I===void 0&&(I=t(O,D)),I),z=O.coordinate,V=S===f||eT(n,z,B,d,l);if(!V)return p=!1,1;V&&(d=z+n*(B()/2+i))},b,S=f;S<a&&(b=g(),!(b!==0&&b===1));S+=c);if(p){for(var w=[],E=f;E<a;E+=c){var k=r[E];k!=null&&w.push(k)}return w}}return[]}function pJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function bo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?pJ(Object(t),!0).forEach(function(r){AVe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):pJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function AVe(n,e,t){return(e=TVe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function TVe(n){var e=CVe(n,"string");return typeof e=="symbol"?e:e+""}function CVe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kVe(n,e,t,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,c=function(p){var g=s[p];if(g==null)return 1;var b=g,S,w=()=>(S===void 0&&(S=t(g,p)),S);if(p===a-1){var E=n*(b.coordinate+n*w()/2-l);s[p]=b=bo(bo({},b),{},{tickCoord:E>0?b.coordinate-E*n:b.coordinate})}else s[p]=b=bo(bo({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var k=eT(n,b.tickCoord,w,o,l);k&&(l=b.tickCoord-n*(w()/2+i),s[p]=bo(bo({},b),{},{isShow:!0}))}},f=a-1;f>=0;f--)c(f);return s}function RVe(n,e,t,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:c}=e;if(s){var f=r[o-1];if(f!=null){var d=t(f,o-1),p=n*(f.coordinate+n*d/2-c);if(a[o-1]=f=bo(bo({},f),{},{tickCoord:p>0?f.coordinate-p*n:f.coordinate}),f.tickCoord!=null){var g=eT(n,f.tickCoord,()=>d,l,c);g&&(c=f.tickCoord-n*(d/2+i),a[o-1]=bo(bo({},f),{},{isShow:!0}))}}}for(var b=s?o-1:o,S=function(k){var R=a[k];if(R==null)return 1;var O=R,D,I=()=>(D===void 0&&(D=t(R,k)),D);if(k===0){var B=n*(O.coordinate-n*I()/2-l);a[k]=O=bo(bo({},O),{},{tickCoord:B<0?O.coordinate-B*n:O.coordinate})}else a[k]=O=bo(bo({},O),{},{tickCoord:O.coordinate});if(O.tickCoord!=null){var z=eT(n,O.tickCoord,I,l,c);z&&(l=O.tickCoord+n*(I()/2+i),a[k]=bo(bo({},O),{},{isShow:!0}))}},w=0;w<b;w++)S(w);return a}function A7(n,e,t){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:c,unit:f,angle:d}=n;if(!i||!i.length||!r)return[];if(nn(l)||WT.isSsr){var p;return(p=SVe(i,nn(l)?l:0))!==null&&p!==void 0?p:[]}var g=[],b=o==="top"||o==="bottom"?"width":"height",S=f&&b==="width"?GM(f,{fontSize:e,letterSpacing:t}):{width:0,height:0},w=(D,I)=>{var B=typeof c=="function"?c(D.value,I):D.value;return b==="width"?_Ve(GM(B,{fontSize:e,letterSpacing:t}),S,d):GM(B,{fontSize:e,letterSpacing:t})[b]},E=i[0],k=i[1],R=i.length>=2&&E!=null&&k!=null?wu(k.coordinate-E.coordinate):1,O=wVe(s,R,b);return l==="equidistantPreserveStart"?EVe(R,O,w,i,a):l==="equidistantPreserveEnd"?MVe(R,O,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?g=RVe(R,O,w,i,a,l==="preserveStartEnd"):g=kVe(R,O,w,i,a),g.filter(D=>D.isShow))}var OVe=n=>{var{ticks:e,label:t,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=n,a=0;if(e){Array.from(e).forEach(f=>{if(f){var d=f.getBoundingClientRect();d.width>a&&(a=d.width)}});var o=t?t.getBoundingClientRect().width:0,l=i+s,c=a+l+o+(t?r:0);return Math.round(c)}return 0},PVe=["axisLine","width","height","className","hide","ticks","axisType"];function DVe(n,e){if(n==null)return{};var t,r,i=IVe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function IVe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function ox(){return ox=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ox.apply(null,arguments)}function mJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function fs(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?mJ(Object(t),!0).forEach(function(r){NVe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):mJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function NVe(n,e,t){return(e=LVe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LVe(n){var e=BVe(n,"string");return typeof e=="symbol"?e:e+""}function BVe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Op={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:il.axis};function FVe(n){var{x:e,y:t,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=n;if(!o)return null;var c=fs(fs(fs({},l),Nf(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);c=fs(fs({},c),{},{x1:e,y1:t+f*i,x2:e+r,y2:t+f*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=fs(fs({},c),{},{x1:e+d*r,y1:t,x2:e+d*r,y2:t+i})}return L.createElement("line",ox({},c,{className:In("recharts-cartesian-axis-line",vI(o,"className"))}))}function zVe(n,e,t,r,i,s,a,o,l){var c,f,d,p,g,b,S=o?-1:1,w=n.tickSize||a,E=nn(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":c=f=n.coordinate,p=t+ +!o*i,d=p-S*w,b=d-S*l,g=E;break;case"left":d=p=n.coordinate,f=e+ +!o*r,c=f-S*w,g=c-S*l,b=E;break;case"right":d=p=n.coordinate,f=e+ +o*r,c=f+S*w,g=c+S*l,b=E;break;default:c=f=n.coordinate,p=t+ +o*i,d=p+S*w,b=d+S*l,g=E;break}return{line:{x1:c,y1:d,x2:f,y2:p},tick:{x:g,y:b}}}function UVe(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function jVe(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function HVe(n){var{option:e,tickProps:t,value:r}=n,i,s=In(t.className,"recharts-cartesian-axis-tick-value");if(L.isValidElement(e))i=L.cloneElement(e,fs(fs({},t),{},{className:s}));else if(typeof e=="function")i=e(fs(fs({},t),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=In(a,EHe(e))),i=L.createElement(S7,ox({},t,{className:a}),r)}return i}var VVe=L.forwardRef((n,e)=>{var{ticks:t=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:c,orientation:f,mirror:d,x:p,y:g,width:b,height:S,tickSize:w,tickMargin:E,fontSize:k,letterSpacing:R,getTicksConfig:O,events:D,axisType:I}=n,B=A7(fs(fs({},O),{},{ticks:t}),k,R),z=UVe(f,d),V=jVe(f,d),Y=Nf(O),q=mI(r),J={};typeof i=="object"&&(J=i);var re=fs(fs({},Y),{},{fill:"none"},J),fe=B.map(se=>fs({entry:se},zVe(se,p,g,b,S,f,w,d,E))),ne=fe.map(se=>{var{entry:be,line:Ee}=se;return L.createElement(ah,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(be.value,"-").concat(be.coordinate,"-").concat(be.tickCoord)},i&&L.createElement("line",ox({},re,Ee,{className:In("recharts-cartesian-axis-tick-line",vI(i,"className"))})))}),te=fe.map((se,be)=>{var Ee,oe,{entry:ee,tick:xe}=se,ae=fs(fs(fs(fs({verticalAnchor:V},Y),{},{textAnchor:z,stroke:"none",fill:s},xe),{},{index:be,payload:ee,visibleTicksCount:B.length,tickFormatter:a,padding:l},c),{},{angle:(Ee=(oe=c==null?void 0:c.angle)!==null&&oe!==void 0?oe:Y.angle)!==null&&Ee!==void 0?Ee:0}),De=fs(fs({},ae),q);return L.createElement(ah,ox({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},PNe(D,ee,be)),r&&L.createElement(HVe,{option:r,tickProps:De,value:"".concat(typeof a=="function"?a(ee.value,be):ee.value).concat(o||"")}))});return L.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(I,"-ticks")},te.length>0&&L.createElement(im,{zIndex:il.label},L.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(I,"-tick-labels"),ref:e},te)),ne.length>0&&L.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(I,"-tick-lines")},ne))}),WVe=L.forwardRef((n,e)=>{var{axisLine:t,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=n,c=DVe(n,PVe),[f,d]=L.useState(""),[p,g]=L.useState(""),b=L.useRef(null);L.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return OVe({ticks:b.current,label:(w=n.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var S=L.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=E;var k=E[0];if(k){var R=window.getComputedStyle(k),O=R.fontSize,D=R.letterSpacing;(O!==f||D!==p)&&(d(O),g(D))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:L.createElement(im,{zIndex:n.zIndex},L.createElement(ah,{className:In("recharts-cartesian-axis",s)},L.createElement(FVe,{x:n.x,y:n.y,width:r,height:i,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Nf(n)}),L.createElement(VVe,{ref:S,axisType:l,events:c,fontSize:f,getTicksConfig:n,height:n.height,letterSpacing:p,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:o,unit:n.unit,width:n.width,x:n.x,y:n.y}),L.createElement(J9e,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},L.createElement(oHe,{label:n.label,labelRef:n.labelRef}),n.children)))}),T7=L.forwardRef((n,e)=>{var t=Cc(n,Op);return L.createElement(WVe,ox({},t,{ref:e}))});T7.displayName="CartesianAxis";var $Ve=["x1","y1","x2","y2","key"],GVe=["offset"],qVe=["xAxisId","yAxisId"],YVe=["xAxisId","yAxisId"];function gJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gJ(Object(t),!0).forEach(function(r){XVe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function XVe(n,e,t){return(e=KVe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function KVe(n){var e=JVe(n,"string");return typeof e=="symbol"?e:e+""}function JVe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function sv(){return sv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},sv.apply(null,arguments)}function IP(n,e){if(n==null)return{};var t,r,i=ZVe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function ZVe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var QVe=n=>{var{fill:e}=n;if(!e||e==="none")return null;var{fillOpacity:t,x:r,y:i,width:s,height:a,ry:o}=n;return L.createElement("rect",{x:r,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function wue(n){var{option:e,lineItemProps:t}=n,r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var i,{x1:s,y1:a,x2:o,y2:l,key:c}=t,f=IP(t,$Ve),d=(i=Nf(f))!==null&&i!==void 0?i:{},{offset:p}=d,g=IP(d,GVe);r=L.createElement("line",sv({},g,{x1:s,y1:a,x2:o,y2:l,fill:"none",key:c}))}return r}function eWe(n){var{x:e,width:t,horizontal:r=!0,horizontalPoints:i}=n;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=n,o=IP(n,qVe),l=i.map((c,f)=>{var d=Mo(Mo({},o),{},{x1:e,y1:c,x2:e+t,y2:c,key:"line-".concat(f),index:f});return L.createElement(wue,{key:"line-".concat(f),option:r,lineItemProps:d})});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function tWe(n){var{y:e,height:t,vertical:r=!0,verticalPoints:i}=n;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=n,o=IP(n,YVe),l=i.map((c,f)=>{var d=Mo(Mo({},o),{},{x1:c,y1:e,x2:c,y2:e+t,key:"line-".concat(f),index:f});return L.createElement(wue,{option:r,lineItemProps:d,key:"line-".concat(f)})});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function nWe(n){var{horizontalFill:e,fillOpacity:t,x:r,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=n;if(!l||!e||!e.length||o==null)return null;var c=o.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==c[0]&&c.unshift(0);var f=c.map((d,p)=>{var g=c[p+1],b=g==null,S=b?i+a-d:g-d;if(S<=0)return null;var w=p%e.length;return L.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:S,width:s,stroke:"none",fill:e[w],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function rWe(n){var{vertical:e=!0,verticalFill:t,fillOpacity:r,x:i,y:s,width:a,height:o,verticalPoints:l}=n;if(!e||!t||!t.length)return null;var c=l.map(d=>Math.round(d+i-i)).sort((d,p)=>d-p);i!==c[0]&&c.unshift(0);var f=c.map((d,p)=>{var g=c[p+1],b=g==null,S=b?i+a-d:g-d;if(S<=0)return null;var w=p%t.length;return L.createElement("rect",{key:"react-".concat(p),x:d,y:s,width:S,height:o,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var iWe=(n,e)=>{var{xAxis:t,width:r,height:i,offset:s}=n;return doe(A7(Mo(Mo(Mo({},Op),t),{},{ticks:hoe(t),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,e)},sWe=(n,e)=>{var{yAxis:t,width:r,height:i,offset:s}=n;return doe(A7(Mo(Mo(Mo({},Op),t),{},{ticks:hoe(t),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,e)},aWe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:il.grid};function C7(n){var e=woe(),t=Soe(),r=_oe(),i=Mo(Mo({},Cc(n,aWe)),{},{x:nn(n.x)?n.x:r.left,y:nn(n.y)?n.y:r.top,width:nn(n.width)?n.width:r.width,height:nn(n.height)?n.height:r.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:c,height:f,syncWithTicks:d,horizontalValues:p,verticalValues:g}=i,b=Jl(),S=mn(V=>TK(V,"xAxis",s,b)),w=mn(V=>TK(V,"yAxis",a,b));if(!ch(c)||!ch(f)||!nn(o)||!nn(l))return null;var E=i.verticalCoordinatesGenerator||iWe,k=i.horizontalCoordinatesGenerator||sWe,{horizontalPoints:R,verticalPoints:O}=i;if((!R||!R.length)&&typeof k=="function"){var D=p&&p.length,I=k({yAxis:w?Mo(Mo({},w),{},{ticks:D?p:w.ticks}):void 0,width:e??c,height:t??f,offset:r},D?!0:d);lP(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(R=I)}if((!O||!O.length)&&typeof E=="function"){var B=g&&g.length,z=E({xAxis:S?Mo(Mo({},S),{},{ticks:B?g:S.ticks}):void 0,width:e??c,height:t??f,offset:r},B?!0:d);lP(Array.isArray(z),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof z,"]")),Array.isArray(z)&&(O=z)}return L.createElement(im,{zIndex:i.zIndex},L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(QVe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),L.createElement(nWe,sv({},i,{horizontalPoints:R})),L.createElement(rWe,sv({},i,{verticalPoints:O})),L.createElement(eWe,sv({},i,{offset:r,horizontalPoints:R,xAxis:S,yAxis:w})),L.createElement(tWe,sv({},i,{offset:r,verticalPoints:O,xAxis:S,yAxis:w}))))}C7.displayName="CartesianGrid";var oWe={},Sue=Kl({name:"errorBars",initialState:oWe,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]||(n[t]=[]),n[t].push(r)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:r,next:i}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:r}=e.payload;n[t]&&(n[t]=n[t].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:xnt,replaceErrorBar:bnt,removeErrorBar:_nt}=Sue.actions,lWe=Sue.reducer;function Eue(n,e){var t,r,i=mn(c=>tm(c,n)),s=mn(c=>nm(c,e)),a=(t=i==null?void 0:i.allowDataOverflow)!==null&&t!==void 0?t:ga.allowDataOverflow,o=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:ya.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function cWe(n){var{xAxisId:e,yAxisId:t,clipPathId:r}=n,i=M7(),{needClipX:s,needClipY:a,needClip:o}=Eue(e,t);if(!o||!i)return null;var{x:l,y:c,width:f,height:d}=i;return L.createElement("clipPath",{id:"clipPath-".concat(r)},L.createElement("rect",{x:s?l:l-f/2,y:a?c:c-d/2,width:s?f:f*2,height:a?d:d*2}))}function uWe(n){var e=mI(n),t=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=t),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:t,strokeWidth:r}}var v5={exports:{}},x5={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yJ;function fWe(){if(yJ)return x5;yJ=1;var n=vw();function e(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var t=typeof Object.is=="function"?Object.is:e,r=n.useSyncExternalStore,i=n.useRef,s=n.useEffect,a=n.useMemo,o=n.useDebugValue;return x5.useSyncExternalStoreWithSelector=function(l,c,f,d,p){var g=i(null);if(g.current===null){var b={hasValue:!1,value:null};g.current=b}else b=g.current;g=a(function(){function w(D){if(!E){if(E=!0,k=D,D=d(D),p!==void 0&&b.hasValue){var I=b.value;if(p(I,D))return R=I}return R=D}if(I=R,t(k,D))return I;var B=d(D);return p!==void 0&&p(I,B)?(k=D,I):(k=D,R=B)}var E=!1,k,R,O=f===void 0?null:f;return[function(){return w(c())},O===null?void 0:function(){return w(O())}]},[c,f,d,p]);var S=r(l,g[0],g[1]);return s(function(){b.hasValue=!0,b.value=S},[S]),o(S),S},x5}var vJ;function dWe(){return vJ||(vJ=1,v5.exports=fWe()),v5.exports}dWe();function hWe(n){n()}function pWe(){let n=null,e=null;return{clear(){n=null,e=null},notify(){hWe(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=n;for(;r;)t.push(r),r=r.next;return t},subscribe(t){let r=!0;const i=e={callback:t,next:null,prev:e};return i.prev?i.prev.next=i:n=i,function(){!r||n===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:n=i.next)}}}}var xJ={notify(){},get:()=>[]};function mWe(n,e){let t,r=xJ,i=0,s=!1;function a(S){f();const w=r.subscribe(S);let E=!1;return()=>{E||(E=!0,w(),d())}}function o(){r.notify()}function l(){b.onStateChange&&b.onStateChange()}function c(){return s}function f(){i++,t||(t=n.subscribe(l),r=pWe())}function d(){i--,t&&i===0&&(t(),t=void 0,r.clear(),r=xJ)}function p(){s||(s=!0,f())}function g(){s&&(s=!1,d())}const b={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:p,tryUnsubscribe:g,getListeners:()=>r};return b}var gWe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yWe=gWe(),vWe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",xWe=vWe(),bWe=()=>yWe||xWe?L.useLayoutEffect:L.useEffect,_We=bWe();function bJ(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function wWe(n,e){if(bJ(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(!Object.prototype.hasOwnProperty.call(e,t[i])||!bJ(n[t[i]],e[t[i]]))return!1;return!0}var b5=Symbol.for("react-redux-context"),_5=typeof globalThis<"u"?globalThis:{};function SWe(){if(!L.createContext)return{};const n=_5[b5]??(_5[b5]=new Map);let e=n.get(L.createContext);return e||(e=L.createContext(null),n.set(L.createContext,e)),e}var EWe=SWe();function MWe(n){const{children:e,context:t,serverState:r,store:i}=n,s=L.useMemo(()=>{const l=mWe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=L.useMemo(()=>i.getState(),[i]);_We(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=t||EWe;return L.createElement(o.Provider,{value:s},e)}var AWe=MWe,TWe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function CWe(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function k7(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var r of t)if(TWe.has(r)){if(n[r]==null&&e[r]==null)continue;if(!wWe(n[r],e[r]))return!1}else if(!CWe(n[r],e[r]))return!1;return!0}function R7(n,e){var t,r;return(t=(r=n.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&t!==void 0?t:yue}function O7(n,e){var t,r;return(t=(r=n.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&t!==void 0?t:yue}var Mue=(n,e,t)=>Ece(n,"xAxis",R7(n,e),t),Aue=(n,e,t)=>Sce(n,"xAxis",R7(n,e),t),Tue=(n,e,t)=>Ece(n,"yAxis",O7(n,e),t),Cue=(n,e,t)=>Sce(n,"yAxis",O7(n,e),t),kWe=at([ji,Mue,Tue,Aue,Cue],(n,e,t,r,i)=>mh(n,"xAxis")?oP(e,r,!1):oP(t,i,!1)),RWe=(n,e)=>e,kue=at([$le,RWe],(n,e)=>n.filter(t=>t.type==="area").find(t=>t.id===e)),Rue=n=>{var e=ji(n),t=mh(e,"xAxis");return t?"yAxis":"xAxis"},OWe=(n,e)=>{var t=Rue(n);return t==="yAxis"?O7(n,e):R7(n,e)},PWe=(n,e,t)=>ece(n,Rue(n),OWe(n,e),t),DWe=at([kue,PWe],(n,e)=>{var t;if(!(n==null||e==null)){var{stackId:r}=n,i=n7(n);if(!(r==null||i==null)){var s=(t=e[r])===null||t===void 0?void 0:t.stackedData,a=s==null?void 0:s.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),IWe=at([ji,Mue,Tue,Aue,Cue,DWe,Ize,kWe,kue,Vze],(n,e,t,r,i,s,a,o,l,c)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:p}=a;if(!(l==null||n!=="horizontal"&&n!=="vertical"||e==null||t==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:g}=l,b;if(g&&g.length>0?b=g:b=f==null?void 0:f.slice(d,p+1),b!=null)return QWe({layout:n,xAxis:e,yAxis:t,xAxisTicks:r,yAxisTicks:i,dataStartIndex:d,areaSettings:l,stackedData:s,displayedData:b,chartBaseValue:c,bandSize:o})}}),NWe=["id"],LWe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Hv.apply(null,arguments)}function Oue(n,e){if(n==null)return{};var t,r,i=BWe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function BWe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function _J(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function U1(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_J(Object(t),!0).forEach(function(r){FWe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_J(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function FWe(n,e,t){return(e=zWe(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zWe(n){var e=UWe(n,"string");return typeof e=="symbol"?e:e+""}function UWe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NP(n,e){return n&&n!=="none"?n:e}var jWe=n=>{var{dataKey:e,name:t,stroke:r,fill:i,legendType:s,hide:a}=n;return[{inactive:a,dataKey:e,type:s,color:NP(r,i),value:poe(t,e),payload:n}]},HWe=L.memo(n=>{var{dataKey:e,data:t,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:c,id:f}=n,d={dataDefinedOnItem:t,getPosition:zw,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:poe(a,e),hide:o,type:c,color:NP(r,s),unit:l,graphicalItemId:f}};return L.createElement(MHe,{tooltipEntrySettings:d})});function VWe(n){var{clipPathId:e,points:t,props:r}=n,{needClip:i,dot:s,dataKey:a}=r,o=Nf(r);return L.createElement(qHe,{points:t,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function WWe(n){var{showLabels:e,children:t,points:r}=n,i=r.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return U1(U1({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return L.createElement(vHe,{value:e?i:void 0},t)}function wJ(n){var{points:e,baseLine:t,needClip:r,clipPathId:i,props:s}=n,{layout:a,type:o,stroke:l,connectNulls:c,isRange:f}=s,{id:d}=s,p=Oue(s,NWe),g=Nf(p),b=Ru(p);return L.createElement(L.Fragment,null,(e==null?void 0:e.length)>1&&L.createElement(ah,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},L.createElement(f2,Hv({},b,{id:d,points:e,connectNulls:c,type:o,baseLine:t,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&L.createElement(f2,Hv({},g,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:e})),l!=="none"&&f&&L.createElement(f2,Hv({},g,{className:"recharts-area-curve",layout:a,type:o,connectNulls:c,fill:"none",points:t}))),L.createElement(VWe,{points:e,props:p,clipPathId:i}))}function $We(n){var e,t,{alpha:r,baseLine:i,points:s,strokeWidth:a}=n,o=(e=s[0])===null||e===void 0?void 0:e.y,l=(t=s[s.length-1])===null||t===void 0?void 0:t.y;if(!hr(o)||!hr(l))return null;var c=r*Math.abs(o-l),f=Math.max(...s.map(d=>d.x||0));return nn(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(d=>d.x||0),f)),nn(f)?L.createElement("rect",{x:0,y:o<l?o:o-c,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(c)}):null}function GWe(n){var e,t,{alpha:r,baseLine:i,points:s,strokeWidth:a}=n,o=(e=s[0])===null||e===void 0?void 0:e.x,l=(t=s[s.length-1])===null||t===void 0?void 0:t.x;if(!hr(o)||!hr(l))return null;var c=r*Math.abs(o-l),f=Math.max(...s.map(d=>d.y||0));return nn(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(d=>d.y||0),f)),nn(f)?L.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function qWe(n){var{alpha:e,layout:t,points:r,baseLine:i,strokeWidth:s}=n;return t==="vertical"?L.createElement($We,{alpha:e,points:r,baseLine:i,strokeWidth:s}):L.createElement(GWe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function YWe(n){var{needClip:e,clipPathId:t,props:r,previousPointsRef:i,previousBaselineRef:s}=n,{points:a,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:f,animationEasing:d,onAnimationStart:p,onAnimationEnd:g}=r,b=L.useMemo(()=>({points:a,baseLine:o}),[a,o]),S=Boe(b,"recharts-area-"),w=wj(),[E,k]=L.useState(!1),R=!E,O=L.useCallback(()=>{typeof g=="function"&&g(),k(!1)},[g]),D=L.useCallback(()=>{typeof p=="function"&&p(),k(!0)},[p]);if(w==null)return null;var I=i.current,B=s.current;return L.createElement(WWe,{showLabels:R,points:a},r.children,L.createElement(Loe,{animationId:S,begin:c,duration:f,isActive:l,easing:d,onAnimationEnd:O,onAnimationStart:D,key:S},z=>{if(I){var V=I.length/a.length,Y=z===1?a:a.map((J,re)=>{var fe=Math.floor(re*V);if(I[fe]){var ne=I[fe];return U1(U1({},J),{},{x:Id(ne.x,J.x,z),y:Id(ne.y,J.y,z)})}return J}),q;return nn(o)?q=Id(B,o,z):Ro(o)||oh(o)?q=Id(B,0,z):q=o.map((J,re)=>{var fe=Math.floor(re*V);if(Array.isArray(B)&&B[fe]){var ne=B[fe];return U1(U1({},J),{},{x:Id(ne.x,J.x,z),y:Id(ne.y,J.y,z)})}return J}),z>0&&(i.current=Y,s.current=q),L.createElement(wJ,{points:Y,baseLine:q,needClip:e,clipPathId:t,props:r})}return z>0&&(i.current=a,s.current=o),L.createElement(ah,null,l&&L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(t)},L.createElement(qWe,{alpha:z,points:a,baseLine:o,layout:w,strokeWidth:r.strokeWidth}))),L.createElement(ah,{clipPath:"url(#animationClipPath-".concat(t,")")},L.createElement(wJ,{points:a,baseLine:o,needClip:e,clipPathId:t,props:r})))}),L.createElement(_He,{label:r.label}))}function XWe(n){var{needClip:e,clipPathId:t,props:r}=n,i=L.useRef(null),s=L.useRef();return L.createElement(YWe,{needClip:e,clipPathId:t,props:r,previousPointsRef:i,previousBaselineRef:s})}class KWe extends L.PureComponent{render(){var{hide:e,dot:t,points:r,className:i,top:s,left:a,needClip:o,xAxisId:l,yAxisId:c,width:f,height:d,id:p,baseLine:g,zIndex:b}=this.props;if(e)return null;var S=In("recharts-area",i),w=p,{r:E,strokeWidth:k}=uWe(t),R=mue(t),O=E*2+k,D=o?"url(#clipPath-".concat(R?"":"dots-").concat(w,")"):void 0;return L.createElement(im,{zIndex:b},L.createElement(ah,{className:S},o&&L.createElement("defs",null,L.createElement(cWe,{clipPathId:w,xAxisId:l,yAxisId:c}),!R&&L.createElement("clipPath",{id:"clipPath-dots-".concat(w)},L.createElement("rect",{x:a-O/2,y:s-O/2,width:f+O,height:d+O}))),L.createElement(XWe,{needClip:o,clipPathId:w,props:this.props})),L.createElement(dJ,{points:r,mainColor:NP(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}),this.props.isRange&&Array.isArray(g)&&L.createElement(dJ,{points:g,mainColor:NP(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:D}))}}var Pue={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:il.area};function JWe(n){var e,t=Cc(n,Pue),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:c,fillOpacity:f,hide:d,isAnimationActive:p,legendType:g,stroke:b,xAxisId:S,yAxisId:w}=t,E=Oue(t,LWe),k=Uw(),R=Gce(),{needClip:O}=Eue(S,w),D=Jl(),{points:I,isRange:B,baseLine:z}=(e=mn(fe=>IWe(fe,n.id,D)))!==null&&e!==void 0?e:{},V=M7();if(k!=="horizontal"&&k!=="vertical"||V==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:Y,width:q,x:J,y:re}=V;return!I||!I.length?null:L.createElement(KWe,Hv({},E,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:z,connectNulls:o,dot:l,fill:c,fillOpacity:f,height:Y,hide:d,layout:k,isAnimationActive:p==="auto"?!WT.isSsr:p,isRange:B,legendType:g,needClip:O,points:I,stroke:b,width:q,left:J,top:re,xAxisId:S,yAxisId:w}))}var ZWe=(n,e,t,r,i)=>{var s=t??e;if(nn(s))return s;var a=n==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function QWe(n){var{areaSettings:{connectNulls:e,baseValue:t,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:f,xAxisTicks:d,yAxisTicks:p,bandSize:g}=n,b=i&&i.length,S=ZWe(s,a,t,o,l),w=s==="horizontal",E=!1,k=c.map((O,D)=>{var I,B,z,V;if(b)V=i[f+D];else{var Y=Qa(O,r);Array.isArray(Y)?(V=Y,E=!0):V=[S,Y]}var q=(I=(B=V)===null||B===void 0?void 0:B[1])!==null&&I!==void 0?I:null,J=q==null||b&&!e&&Qa(O,r)==null;if(w){var re;return{x:CY({axis:o,ticks:d,bandSize:g,entry:O,index:D}),y:J?null:(re=l.scale.map(q))!==null&&re!==void 0?re:null,value:V,payload:O}}return{x:J?null:(z=o.scale.map(q))!==null&&z!==void 0?z:null,y:CY({axis:l,ticks:p,bandSize:g,entry:O,index:D}),value:V,payload:O}}),R;return b||E?R=k.map(O=>{var D,I=Array.isArray(O.value)?O.value[0]:null;if(w){var B;return{x:O.x,y:I!=null&&O.y!=null&&(B=l.scale.map(I))!==null&&B!==void 0?B:null,payload:O.payload}}return{x:I!=null&&(D=o.scale.map(I))!==null&&D!==void 0?D:null,y:O.y,payload:O.payload}}):R=w?l.scale.map(S):o.scale.map(S),{points:k,baseLine:R??0,isRange:E}}function e$e(n){var e=Cc(n,Pue),t=Jl();return L.createElement(OHe,{id:e.id,type:"area"},r=>L.createElement(L.Fragment,null,L.createElement(AHe,{legendPayload:jWe(e)}),L.createElement(HWe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),L.createElement(FHe,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:NLe(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:t,connectNulls:e.connectNulls}),L.createElement(JWe,Hv({},e,{id:r}))))}var P7=L.memo(e$e,k7);P7.displayName="Area";var t$e=["domain","range"],n$e=["domain","range"];function SJ(n,e){if(n==null)return{};var t,r,i=r$e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function r$e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function EJ(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function Due(n,e){if(n===e)return!0;var{domain:t,range:r}=n,i=SJ(n,t$e),{domain:s,range:a}=e,o=SJ(e,n$e);return!EJ(t,s)||!EJ(r,a)?!1:k7(i,o)}var i$e=["type"],s$e=["dangerouslySetInnerHTML","ticks","scale"],a$e=["id","scale"];function TF(){return TF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},TF.apply(null,arguments)}function MJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function AJ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MJ(Object(t),!0).forEach(function(r){o$e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function o$e(n,e,t){return(e=l$e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function l$e(n){var e=c$e(n,"string");return typeof e=="symbol"?e:e+""}function c$e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function CF(n,e){if(n==null)return{};var t,r,i=u$e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function u$e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function f$e(n){var e=Ea(),t=L.useRef(null),r=wj(),{type:i}=n,s=CF(n,i$e),a=$I(r,"xAxis",i),o=L.useMemo(()=>{if(a!=null)return AJ(AJ({},s),{},{type:a})},[s,a]);return L.useLayoutEffect(()=>{o!=null&&(t.current===null?e(ZHe(o)):t.current!==o&&e(QHe({prev:t.current,next:o})),t.current=o)},[o,e]),L.useLayoutEffect(()=>()=>{t.current&&(e(eVe(t.current)),t.current=null)},[e]),null}var d$e=n=>{var{xAxisId:e,className:t}=n,r=mn(goe),i=Jl(),s="xAxis",a=mn(E=>wce(E,s,e,i)),o=mn(E=>zUe(E,e)),l=mn(E=>$Ue(E,e)),c=mn(E=>jle(E,e));if(o==null||l==null||c==null)return null;var{dangerouslySetInnerHTML:f,ticks:d,scale:p}=n,g=CF(n,s$e),{id:b,scale:S}=c,w=CF(c,a$e);return L.createElement(T7,TF({},g,w,{x:l.x,y:l.y,width:o.width,height:o.height,className:In("recharts-".concat(s," ").concat(s),t),viewBox:r,ticks:a,axisType:s}))},h$e={allowDataOverflow:ga.allowDataOverflow,allowDecimals:ga.allowDecimals,allowDuplicatedCategory:ga.allowDuplicatedCategory,angle:ga.angle,axisLine:Op.axisLine,height:ga.height,hide:!1,includeHidden:ga.includeHidden,interval:ga.interval,label:!1,minTickGap:ga.minTickGap,mirror:ga.mirror,orientation:ga.orientation,padding:ga.padding,reversed:ga.reversed,scale:ga.scale,tick:ga.tick,tickCount:ga.tickCount,tickLine:Op.tickLine,tickSize:Op.tickSize,type:ga.type,xAxisId:0},p$e=n=>{var e=Cc(n,h$e);return L.createElement(L.Fragment,null,L.createElement(f$e,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),L.createElement(d$e,e))},D7=L.memo(p$e,Due);D7.displayName="XAxis";var m$e=["type"],g$e=["dangerouslySetInnerHTML","ticks","scale"],y$e=["id","scale"];function kF(){return kF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},kF.apply(null,arguments)}function TJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function CJ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?TJ(Object(t),!0).forEach(function(r){v$e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):TJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function v$e(n,e,t){return(e=x$e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function x$e(n){var e=b$e(n,"string");return typeof e=="symbol"?e:e+""}function b$e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function RF(n,e){if(n==null)return{};var t,r,i=_$e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function _$e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function w$e(n){var e=Ea(),t=L.useRef(null),r=wj(),{type:i}=n,s=RF(n,m$e),a=$I(r,"yAxis",i),o=L.useMemo(()=>{if(a!=null)return CJ(CJ({},s),{},{type:a})},[a,s]);return L.useLayoutEffect(()=>{o!=null&&(t.current===null?e(tVe(o)):t.current!==o&&e(nVe({prev:t.current,next:o})),t.current=o)},[o,e]),L.useLayoutEffect(()=>()=>{t.current&&(e(rVe(t.current)),t.current=null)},[e]),null}function S$e(n){var{yAxisId:e,className:t,width:r,label:i}=n,s=L.useRef(null),a=L.useRef(null),o=mn(goe),l=Jl(),c=Ea(),f="yAxis",d=mn(I=>YUe(I,e)),p=mn(I=>qUe(I,e)),g=mn(I=>wce(I,f,e,l)),b=mn(I=>Hle(I,e));if(L.useLayoutEffect(()=>{if(!(r!=="auto"||!d||E7(i)||L.isValidElement(i)||b==null)){var I=s.current;if(I){var B=I.getCalculatedWidth();Math.round(d.width)!==Math.round(B)&&c(iVe({id:e,width:B}))}}},[g,d,c,i,e,r,b]),d==null||p==null||b==null)return null;var{dangerouslySetInnerHTML:S,ticks:w,scale:E}=n,k=RF(n,g$e),{id:R,scale:O}=b,D=RF(b,y$e);return L.createElement(T7,kF({},k,D,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:d.width,height:d.height,className:In("recharts-".concat(f," ").concat(f),t),viewBox:o,ticks:g,axisType:f}))}var E$e={allowDataOverflow:ya.allowDataOverflow,allowDecimals:ya.allowDecimals,allowDuplicatedCategory:ya.allowDuplicatedCategory,angle:ya.angle,axisLine:Op.axisLine,hide:!1,includeHidden:ya.includeHidden,interval:ya.interval,label:!1,minTickGap:ya.minTickGap,mirror:ya.mirror,orientation:ya.orientation,padding:ya.padding,reversed:ya.reversed,scale:ya.scale,tick:ya.tick,tickCount:ya.tickCount,tickLine:Op.tickLine,tickSize:Op.tickSize,type:ya.type,width:ya.width,yAxisId:0},M$e=n=>{var e=Cc(n,E$e);return L.createElement(L.Fragment,null,L.createElement(w$e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),L.createElement(S$e,e))},I7=L.memo(M$e,Due);I7.displayName="YAxis";var A$e=(n,e)=>e,N7=at([A$e,ji,zle,Ta,Uce,rm,l7e,eo],m7e),L7=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,r=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/r)}},Iue=Ou("mouseClick"),Nue=UT();Nue.startListening({actionCreator:Iue,effect:(n,e)=>{var t=n.payload,r=N7(e.getState(),L7(t));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(oje({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var OF=Ou("mouseMove"),Lue=UT(),SR=null;Lue.startListening({actionCreator:OF,effect:(n,e)=>{var t=n.payload;SR!==null&&cancelAnimationFrame(SR);var r=L7(t);SR=requestAnimationFrame(()=>{var i=e.getState(),s=h7(i,i.tooltip.settings.shared);if(s==="axis"){var a=N7(i,r);(a==null?void 0:a.activeIndex)!=null?e.dispatch(Oce({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Rce())}SR=null})}});function T$e(n,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":n==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var kJ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Bue=Kl({name:"rootProps",initialState:kJ,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:kJ.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),C$e=Bue.reducer,{updateOptions:k$e}=Bue.actions,R$e=null,O$e={updatePolarOptions:(n,e)=>e.payload},Fue=Kl({name:"polarOptions",initialState:R$e,reducers:O$e}),{updatePolarOptions:wnt}=Fue.actions,P$e=Fue.reducer,zue=Ou("keyDown"),Uue=Ou("focus"),B7=UT();B7.startListening({actionCreator:zue,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=p7(i,Xw(t),JT(t),QT(t)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=rm(t);if(s==="Enter"){var c=OP(t,"axis","hover",String(i.index));e.dispatch(wF({active:!i.active,activeIndex:i.index,activeCoordinate:c}));return}var f=ZUe(t),d=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,g=o+p*d;if(!(l==null||g>=l.length||g<0)){var b=OP(t,"axis","hover",String(g));e.dispatch(wF({active:!0,activeIndex:g.toString(),activeCoordinate:b}))}}}}}});B7.startListening({actionCreator:Uue,effect:(n,e)=>{var t=e.getState(),r=t.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=t.tooltip;if(!i.active&&i.index==null){var s="0",a=OP(t,"axis","hover",String(s));e.dispatch(wF({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ou=Ou("externalEvent"),jue=UT(),w5=new Map;jue.startListening({actionCreator:ou,effect:(n,e)=>{var{handler:t,reactEvent:r}=n.payload;if(t!=null){r.persist();var i=r.type,s=w5.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:qje(o),activeDataKey:$je(o),activeIndex:ZA(o),activeLabel:Vce(o),activeTooltipIndex:ZA(o),isTooltipActive:Yje(o)};t(l,r)}finally{w5.delete(i)}});w5.set(i,a)}}});var D$e=at([qw],n=>n.tooltipItemPayloads),I$e=at([D$e,(n,e)=>e,(n,e,t)=>t],(n,e,t)=>{if(e!=null){var r=n.find(s=>s.settings.graphicalItemId===t);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),Hue=Ou("touchMove"),Vue=UT();Vue.startListening({actionCreator:Hue,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var r=e.getState(),i=h7(r,r.tooltip.settings.shared);if(i==="axis"){var s=t.touches[0];if(s==null)return;var a=N7(r,L7({clientX:s.clientX,clientY:s.clientY,currentTarget:t.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(Oce({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=t.touches[0];if(document.elementFromPoint==null||l==null)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var f=c.getAttribute(HLe),d=(o=c.getAttribute(VLe))!==null&&o!==void 0?o:void 0,p=Yw(r).find(S=>S.id===d);if(f==null||p==null||d==null)return;var{dataKey:g}=p,b=I$e(r,f,d);e.dispatch(aje({activeDataKey:g,activeIndex:f,activeCoordinate:b,activeGraphicalItemId:d}))}}}});var N$e=Bae({brush:pVe,cartesianAxis:sVe,chartData:q7e,errorBars:lWe,graphicalItems:LHe,layout:ALe,legend:I5e,options:H7e,polarAxis:SHe,polarOptions:P$e,referenceElements:vVe,rootProps:C$e,tooltip:lje,zIndex:k7e}),L$e=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return J6e({reducer:N$e,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Nue.middleware,Lue.middleware,B7.middleware,jue.middleware,Vue.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(Zae({type:"raf"}))},devTools:{serialize:{replacer:T$e},name:"recharts-".concat(t)}})};function B$e(n){var{preloadedState:e,children:t,reduxStoreName:r}=n,i=Jl(),s=L.useRef(null);if(i)return t;s.current==null&&(s.current=L$e(e,r));var a=hj;return L.createElement(AWe,{context:a,store:s.current},t)}function F$e(n){var{layout:e,margin:t}=n,r=Ea(),i=Jl();return L.useEffect(()=>{i||(r(SLe(e)),r(wLe(t)))},[r,i,e,t]),null}var z$e=L.memo(F$e,k7);function U$e(n){var e=Ea();return L.useEffect(()=>{e(k$e(n))},[e,n]),null}function RJ(n){var{zIndex:e,isPanorama:t}=n,r=L.useRef(null),i=Ea();return L.useLayoutEffect(()=>(r.current&&i(T7e({zIndex:e,element:r.current,isPanorama:t})),()=>{i(C7e({zIndex:e,isPanorama:t}))}),[i,e,t]),L.createElement("g",{tabIndex:-1,ref:r})}function OJ(n){var{children:e,isPanorama:t}=n,r=mn(y7e);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return L.createElement(L.Fragment,null,i.map(a=>L.createElement(RJ,{key:a,zIndex:a,isPanorama:t})),e,s.map(a=>L.createElement(RJ,{key:a,zIndex:a,isPanorama:t})))}var j$e=["children"];function H$e(n,e){if(n==null)return{};var t,r,i=V$e(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function V$e(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}function LP(){return LP=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},LP.apply(null,arguments)}var W$e={width:"100%",height:"100%",display:"block"},$$e=L.forwardRef((n,e)=>{var t=woe(),r=Soe(),i=Poe();if(!ch(t)||!ch(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=n,c,f;return a!=null&&(typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),L.createElement(sae,LP({},a,{title:o,desc:l,role:f,tabIndex:c,width:t,height:r,style:W$e,ref:e}),s)}),G$e=n=>{var{children:e}=n,t=mn(PI);if(!t)return null;var{width:r,height:i,y:s,x:a}=t;return L.createElement(sae,{width:r,height:i,x:a,y:s},e)},PJ=L.forwardRef((n,e)=>{var{children:t}=n,r=H$e(n,j$e),i=Jl();return i?L.createElement(G$e,null,L.createElement(OJ,{isPanorama:!0},t)):L.createElement($$e,LP({ref:e},r),L.createElement(OJ,{isPanorama:!1},t))});function q$e(){var n=Ea(),[e,t]=L.useState(null),r=mn(jLe);return L.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;hr(s)&&s!==r&&n(MLe(s))}},[e,n,r]),t}function DJ(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Y$e(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DJ(Object(t),!0).forEach(function(r){X$e(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DJ(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function X$e(n,e,t){return(e=K$e(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K$e(n){var e=J$e(n,"string");return typeof e=="symbol"?e:e+""}function J$e(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function $0(){return $0=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},$0.apply(null,arguments)}var Z$e=()=>(n9e(),null);function BP(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var Q$e=L.forwardRef((n,e)=>{var t,r,i=L.useRef(null),[s,a]=L.useState({containerWidth:BP((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:BP((r=n.style)===null||r===void 0?void 0:r.height)}),o=L.useCallback((c,f)=>{a(d=>{var p=Math.round(c),g=Math.round(f);return d.containerWidth===p&&d.containerHeight===g?d:{containerWidth:p,containerHeight:g}})},[]),l=L.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null&&typeof ResizeObserver<"u"){var{width:f,height:d}=c.getBoundingClientRect();o(f,d);var p=b=>{var S=b[0];if(S!=null){var{width:w,height:E}=S.contentRect;o(w,E)}},g=new ResizeObserver(p);g.observe(c),i.current=g}},[e,o]);return L.useEffect(()=>()=>{var c=i.current;c!=null&&c.disconnect()},[o]),L.createElement(L.Fragment,null,L.createElement(HT,{width:s.containerWidth,height:s.containerHeight}),L.createElement("div",$0({ref:l},n)))}),eGe=L.forwardRef((n,e)=>{var{width:t,height:r}=n,[i,s]=L.useState({containerWidth:BP(t),containerHeight:BP(r)}),a=L.useCallback((l,c)=>{s(f=>{var d=Math.round(l),p=Math.round(c);return f.containerWidth===d&&f.containerHeight===p?f:{containerWidth:d,containerHeight:p}})},[]),o=L.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:c,height:f}=l.getBoundingClientRect();a(c,f)}},[e,a]);return L.createElement(L.Fragment,null,L.createElement(HT,{width:i.containerWidth,height:i.containerHeight}),L.createElement("div",$0({ref:o},n)))}),tGe=L.forwardRef((n,e)=>{var{width:t,height:r}=n;return L.createElement(L.Fragment,null,L.createElement(HT,{width:t,height:r}),L.createElement("div",$0({ref:e},n)))}),nGe=L.forwardRef((n,e)=>{var{width:t,height:r}=n;return typeof t=="string"||typeof r=="string"?L.createElement(eGe,$0({},n,{ref:e})):typeof t=="number"&&typeof r=="number"?L.createElement(tGe,$0({},n,{width:t,height:r,ref:e})):L.createElement(L.Fragment,null,L.createElement(HT,{width:t,height:r}),L.createElement("div",$0({ref:e},n)))});function rGe(n){return n?Q$e:nGe}var iGe=L.forwardRef((n,e)=>{var{children:t,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:f,onMouseMove:d,onMouseUp:p,onTouchEnd:g,onTouchMove:b,onTouchStart:S,style:w,width:E,responsive:k,dispatchTouchEvents:R=!0}=n,O=L.useRef(null),D=Ea(),[I,B]=L.useState(null),[z,V]=L.useState(null),Y=q$e(),q=bj(),J=(q==null?void 0:q.width)>0?q.width:E,re=(q==null?void 0:q.height)>0?q.height:i,fe=L.useCallback(Pe=>{Y(Pe),typeof e=="function"&&e(Pe),B(Pe),V(Pe),Pe!=null&&(O.current=Pe)},[Y,e,B,V]),ne=L.useCallback(Pe=>{D(Iue(Pe)),D(ou({handler:s,reactEvent:Pe}))},[D,s]),te=L.useCallback(Pe=>{D(OF(Pe)),D(ou({handler:c,reactEvent:Pe}))},[D,c]),se=L.useCallback(Pe=>{D(Rce()),D(ou({handler:f,reactEvent:Pe}))},[D,f]),be=L.useCallback(Pe=>{D(OF(Pe)),D(ou({handler:d,reactEvent:Pe}))},[D,d]),Ee=L.useCallback(()=>{D(Uue())},[D]),oe=L.useCallback(Pe=>{D(zue(Pe.key))},[D]),ee=L.useCallback(Pe=>{D(ou({handler:a,reactEvent:Pe}))},[D,a]),xe=L.useCallback(Pe=>{D(ou({handler:o,reactEvent:Pe}))},[D,o]),ae=L.useCallback(Pe=>{D(ou({handler:l,reactEvent:Pe}))},[D,l]),De=L.useCallback(Pe=>{D(ou({handler:p,reactEvent:Pe}))},[D,p]),dt=L.useCallback(Pe=>{D(ou({handler:S,reactEvent:Pe}))},[D,S]),Ne=L.useCallback(Pe=>{R&&D(Hue(Pe)),D(ou({handler:b,reactEvent:Pe}))},[D,R,b]),Ue=L.useCallback(Pe=>{D(ou({handler:g,reactEvent:Pe}))},[D,g]),qe=rGe(k);return L.createElement(Jce.Provider,{value:I},L.createElement(rNe.Provider,{value:z},L.createElement(qe,{width:J??(w==null?void 0:w.width),height:re??(w==null?void 0:w.height),className:In("recharts-wrapper",r),style:Y$e({position:"relative",cursor:"default",width:J,height:re},w),onClick:ne,onContextMenu:ee,onDoubleClick:xe,onFocus:Ee,onKeyDown:oe,onMouseDown:ae,onMouseEnter:te,onMouseLeave:se,onMouseMove:be,onMouseUp:De,onTouchEnd:Ue,onTouchMove:Ne,onTouchStart:dt,ref:fe},L.createElement(Z$e,null),t)))}),sGe=["width","height","responsive","children","className","style","compact","title","desc"];function aGe(n,e){if(n==null)return{};var t,r,i=oGe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function oGe(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.indexOf(r)!==-1)continue;t[r]=n[r]}return t}var lGe=L.forwardRef((n,e)=>{var{width:t,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:c,desc:f}=n,d=aGe(n,sGe),p=Nf(d);return l?L.createElement(L.Fragment,null,L.createElement(HT,{width:t,height:r}),L.createElement(PJ,{otherAttributes:p,title:c,desc:f},s)):L.createElement(iGe,{className:a,style:o,width:t,height:r,responsive:i??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},L.createElement(PJ,{otherAttributes:p,title:c,desc:f,ref:e},L.createElement(bVe,null,s)))});function PF(){return PF=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},PF.apply(null,arguments)}var cGe={top:5,right:5,bottom:5,left:5},uGe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:cGe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},fGe=L.forwardRef(function(e,t){var r,i=Cc(e.categoricalChartProps,uGe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return L.createElement(B$e,{preloadedState:{options:f},reduxStoreName:(r=c.id)!==null&&r!==void 0?r:s},L.createElement(hVe,{chartData:c.data}),L.createElement(z$e,{layout:i.layout,margin:i.margin}),L.createElement(U$e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),L.createElement(lGe,PF({},i,{ref:t})))}),dGe=["axis"],Wue=L.forwardRef((n,e)=>L.createElement(fGe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dGe,tooltipPayloadSearcher:U7e,categoricalChartProps:n,ref:e}));function f1({icon:n,label:e,value:t,sub:r,accent:i}){return T.jsxs(nr.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"22px 24px",display:"flex",alignItems:"flex-start",gap:16},children:[T.jsx("div",{style:{width:44,height:44,borderRadius:12,flexShrink:0,background:i?"var(--quai-green-10)":"var(--bg-elevated)",border:`1px solid ${i?"var(--quai-green-dim)":"var(--border-default)"}`,display:"flex",alignItems:"center",justifyContent:"center",color:i?"var(--quai-green)":"var(--text-muted)"},children:n}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,fontFamily:"var(--font-mono)",letterSpacing:"0.12em",textTransform:"uppercase",color:"var(--text-secondary)",marginBottom:4},children:e}),T.jsx("div",{style:{fontSize:26,fontWeight:700,color:i?"var(--quai-green)":"var(--text-primary)",lineHeight:1.1},children:t}),r&&T.jsx("div",{style:{fontSize:12,color:"var(--text-muted)",marginTop:4},children:r})]})]})}function hGe(){const{address:n,isConnected:e,connect:t}=Po(),{getAllJobs:r}=If(),{getByJob:i}=mx(),{isDemo:s,exitDemo:a}=ww(),[o,l]=L.useState([]),[c,f]=L.useState({}),[d,p]=L.useState(!0),[g,b]=L.useState(null),[S,w]=L.useState(5),[E,k]=L.useState(""),[R,O]=L.useState(!1);L.useEffect(()=>{e&&n&&r().then(ee=>{const xe=ee.filter(ae=>(ae.client||ae.client_address||"").toLowerCase()===n.toLowerCase());l(xe),p(!1),xe.forEach(async ae=>{const De=await i(Number(ae.id));f(dt=>({...dt,[ae.id]:De.length}))})})},[e,n,r]);const D=o.filter(ee=>ee.status==="open"),I=o.filter(ee=>ee.status==="in_progress"),B=o.filter(ee=>ee.status==="review_pending"),z=o.filter(ee=>ee.status==="completed"),V=o.filter(ee=>ee.status==="disputed"),Y=D.concat(I).concat(B).reduce((ee,xe)=>ee+parseFloat(xe.budget||0),0),q=z.reduce((ee,xe)=>ee+parseFloat(xe.budget||0),0),J=Object.values(c).reduce((ee,xe)=>ee+xe,0),{releasePayment:re,raiseDispute:fe}=If(),ne=async ee=>{b(ee)},te=async()=>{if(g){O(!0);try{await re(g.id,S,E),l(ee=>ee.map(xe=>xe.id===g.id?{...xe,status:"completed"}:xe)),b(null),k(""),w(5)}finally{O(!1)}}},se=async ee=>{confirm("Are you sure you want to raise a dispute? This will freeze the funds.")&&(await fe(ee),l(xe=>xe.map(ae=>ae.id===ee?{...ae,status:"disputed"}:ae)))},be=Math.floor(Date.now()/1e3),oe=["Sep","Oct","Nov","Dec","Jan","Feb"].map((ee,xe)=>{const ae=5-xe,De=be-(ae+1)*30*86400,dt=be-ae*30*86400,Ue=o.filter(Pe=>{const lt=Number(Pe.createdAt);return lt>=De&&lt<dt&&(Pe.status==="completed"||Pe.status==="in_progress")}).reduce((Pe,lt)=>Pe+parseFloat(lt.budget||0),0),qe=xe<5?[.8,1.5,.4,3.2,1.1][xe]:0;return{month:ee,spend:Ue+qe}});return e?T.jsxs("div",{style:{padding:"40px 60px 80px",maxWidth:1600,margin:"0 auto"},children:[T.jsxs(nr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:48},children:[T.jsxs("div",{children:[T.jsx("h1",{style:{fontSize:22,fontWeight:700,color:"var(--text-primary)",margin:0},children:"Client Dashboard"}),T.jsx("div",{style:{fontSize:13,color:"var(--text-muted)",marginTop:4,fontFamily:"var(--font-mono)"},children:Df(n)})]}),T.jsxs("div",{style:{display:"flex",gap:10},children:[s&&T.jsx("button",{onClick:a,className:"btn-secondary",style:{padding:"8px 16px",fontSize:13,borderColor:"#ef4444",color:"#ef4444"},children:"Exit Demo Mode"}),T.jsxs(_r,{to:"/client/post-job",className:"btn-primary",style:{textDecoration:"none",display:"flex",alignItems:"center",gap:8},children:[T.jsx(UQ,{size:16})," Post a Job"]})]})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:24,marginBottom:48},children:[T.jsx(f1,{icon:T.jsx(F_,{size:20}),label:"Total Jobs Posted",value:o.length,sub:"All time"}),T.jsx(f1,{icon:T.jsx(iz,{size:20}),label:"Open / Active",value:`${D.length} / ${I.length+B.length}`,sub:"Awaiting freelancers / In progress"}),T.jsx(f1,{icon:T.jsx(eA,{size:20}),label:"Completed",value:z.length,sub:"Successfully finished"}),T.jsx(f1,{icon:T.jsx(HQ,{size:20}),label:"Total Proposals",value:J,sub:"Across all jobs"}),T.jsx(f1,{icon:T.jsx(sz,{size:20}),label:"In Escrow",value:`${Y.toFixed(2)} QUAI`,sub:"Locked in contract",accent:!0}),T.jsx(f1,{icon:T.jsx(W0e,{size:20}),label:"Total Spent",value:`${q.toFixed(2)} QUAI`,sub:"Released payments",accent:!0})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 400px",gap:40},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:40},children:[T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsx("div",{className:"section-label",style:{marginBottom:16},children:"QUICK ACTIONS"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16},children:[{label:"Post New Job",icon:"",href:"/client/post-job",primary:!0},{label:"View All Jobs",icon:"",href:"/client/my-jobs",primary:!1},{label:"Manage Disputes",icon:"",href:"/client/my-jobs",primary:!1}].map(ee=>T.jsx(_r,{to:ee.href,style:{textDecoration:"none"},children:T.jsxs("div",{style:{padding:"14px 16px",borderRadius:"var(--radius-md)",background:ee.primary?"var(--quai-green-10)":"var(--bg-elevated)",border:`1px solid ${ee.primary?"var(--quai-green-dim)":"var(--border-default)"}`,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:10},onMouseEnter:xe=>{xe.currentTarget.style.borderColor="var(--quai-green-dim)",xe.currentTarget.style.background="var(--quai-green-10)"},onMouseLeave:xe=>{xe.currentTarget.style.borderColor=ee.primary?"var(--quai-green-dim)":"var(--border-default)",xe.currentTarget.style.background=ee.primary?"var(--quai-green-10)":"var(--bg-elevated)"},children:[T.jsx("span",{style:{fontSize:20},children:ee.icon}),T.jsx("span",{style:{fontSize:13,fontWeight:600,color:ee.primary?"var(--quai-green)":"var(--text-primary)"},children:ee.label})]})},ee.label))})]}),B.length>0&&T.jsxs("div",{className:"glass-card",style:{padding:32,border:"1px solid var(--quai-green-dim)",background:"var(--quai-green-05)"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:20},children:[T.jsx("div",{style:{padding:8,background:"var(--quai-green-10)",borderRadius:8,color:"var(--quai-green)"},children:T.jsx(eA,{size:20})}),T.jsx("div",{className:"section-label",style:{margin:0,color:"var(--quai-green)"},children:"WORK DELIVERED - NEEDS REVIEW"})]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:B.map(ee=>T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",background:"var(--bg-elevated)",borderRadius:"var(--radius-md)",border:"1px solid var(--border-default)"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)"},children:ee.title}),T.jsxs("div",{style:{fontSize:12,color:"var(--text-muted)",marginTop:2},children:["Freelancer: ",Df(ee.freelancer_address)]})]}),T.jsxs("div",{style:{display:"flex",gap:10},children:[T.jsx("button",{onClick:()=>se(ee.id),className:"btn-secondary",style:{padding:"8px 16px",fontSize:13,borderColor:"#ef4444",color:"#ef4444"},children:"Dispute"}),T.jsx("button",{onClick:()=>ne(ee),className:"btn-primary",style:{padding:"8px 16px",fontSize:13},children:"Release Payment"})]})]},ee.id))})]}),T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[T.jsx("div",{className:"section-label",style:{margin:0},children:"YOUR JOBS"}),T.jsxs(_r,{to:"/client/my-jobs",style:{fontSize:12,color:"var(--quai-green)",textDecoration:"none",display:"flex",alignItems:"center",gap:4},children:["All Jobs ",T.jsx(fD,{size:12})]})]}),d?[1,2,3].map(ee=>T.jsx("div",{className:"glass-card skeleton",style:{height:72,marginBottom:10}},ee)):o.length===0?T.jsxs("div",{style:{textAlign:"center",padding:"40px 0",color:"var(--text-muted)"},children:[T.jsx($v,{size:32,style:{marginBottom:12,opacity:.4}}),T.jsx("div",{style:{fontSize:14},children:"No jobs yet."}),T.jsx(_r,{to:"/client/post-job",style:{color:"var(--quai-green)",fontSize:13,marginTop:8,display:"inline-block"},children:"Post your first job "})]}):T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:o.slice(0,8).map(ee=>T.jsx(_r,{to:`/client/jobs/${ee.id}`,style:{textDecoration:"none"},children:T.jsxs("div",{className:"glass-card",style:{padding:"14px 18px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,cursor:"pointer"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:ee.title}),T.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[T.jsx(gx,{status:ee.status==="in_progress"?"active":ee.status||"open"}),T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)"},children:ee.category}),T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:[" ",c[ee.id]||0," proposals"]})]})]}),T.jsxs("div",{style:{textAlign:"right",flexShrink:0},children:[T.jsxs("div",{style:{fontFamily:"var(--font-mono)",fontSize:16,fontWeight:700,color:"var(--quai-green)"},children:[ee.budget," QUAI"]}),T.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:2},children:["Due ",jp(Number(ee.deadline))]})]})]})},ee.id))})]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:32},children:[T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsx("div",{className:"section-label",style:{marginBottom:16},children:"SPEND (LAST 6 MONTHS)"}),T.jsx(boe,{width:"100%",height:180,children:T.jsxs(Wue,{data:oe,margin:{top:0,right:0,left:-20,bottom:0},children:[T.jsx("defs",{children:T.jsxs("linearGradient",{id:"spendGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:"var(--quai-green)",stopOpacity:.25}),T.jsx("stop",{offset:"95%",stopColor:"var(--quai-green)",stopOpacity:0})]})}),T.jsx(C7,{strokeDasharray:"3 3",stroke:"var(--border-subtle)",vertical:!1}),T.jsx(D7,{dataKey:"month",stroke:"var(--text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),T.jsx(I7,{stroke:"var(--text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),T.jsx(eue,{contentStyle:{background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:8,fontSize:12},itemStyle:{color:"var(--quai-green)"},labelStyle:{color:"var(--text-secondary)"}}),T.jsx(P7,{type:"monotone",dataKey:"spend",stroke:"var(--quai-green)",fill:"url(#spendGrad)",strokeWidth:2})]})})]}),T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsx("div",{className:"section-label",style:{marginBottom:16},children:"JOB BREAKDOWN"}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[{label:"Open",count:D.length,color:"var(--quai-green)",icon:""},{label:"In Progress",count:I.length,color:"#60a5fa",icon:""},{label:"Completed",count:z.length,color:"var(--text-secondary)",icon:""},{label:"Disputed",count:V.length,color:"#ef4444",icon:""}].map(ee=>T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 0",borderBottom:"1px solid var(--border-subtle)"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[T.jsx("span",{style:{fontSize:14},children:ee.icon}),T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:ee.label})]}),T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,fontWeight:600,color:ee.color},children:ee.count})]},ee.label))})]}),V.length>0&&T.jsxs("div",{style:{background:"rgba(239,68,68,0.06)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:"var(--radius-md)",padding:16,display:"flex",gap:12},children:[T.jsx(oz,{size:16,color:"#ef4444",style:{flexShrink:0,marginTop:2}}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:13,fontWeight:600,color:"#ef4444",marginBottom:4},children:"Active Dispute"}),T.jsxs("div",{style:{fontSize:12,color:"var(--text-secondary)"},children:["You have ",V.length," job(s) in dispute. Review immediately."]}),T.jsx(_r,{to:"/client/my-jobs",style:{fontSize:12,color:"#ef4444",display:"inline-block",marginTop:8},children:"View Disputes "})]})]})]})]}),g&&T.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:T.jsxs(nr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass-card",style:{padding:40,width:440},children:[T.jsx("h2",{style:{fontSize:20,fontWeight:700,color:"var(--text-primary)",marginBottom:8},children:"Rate Freelancer"}),T.jsxs("p",{style:{fontSize:14,color:"var(--text-secondary)",marginBottom:24},children:["Payment for ",T.jsx("strong",{children:g.title})," will be released. How was your experience?"]}),T.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center",marginBottom:24},children:[1,2,3,4,5].map(ee=>T.jsx("button",{onClick:()=>w(ee),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:ee<=S?"#fbbf24":"var(--text-muted)"},children:T.jsx(Pv,{size:32,fill:ee<=S?"#fbbf24":"none"})},ee))}),T.jsxs("div",{style:{marginBottom:24},children:[T.jsx("label",{style:{display:"block",fontSize:12,color:"var(--text-muted)",marginBottom:8},children:"ADD A COMMENT (OPTIONAL)"}),T.jsx("textarea",{value:E,onChange:ee=>k(ee.target.value),placeholder:"Great work, delivered on time!",className:"input-field",style:{width:"100%",minHeight:100,borderRadius:"var(--radius-md)"}})]}),T.jsxs("div",{style:{display:"flex",gap:12},children:[T.jsx("button",{className:"btn-secondary",onClick:()=>b(null),disabled:R,style:{flex:1},children:"Cancel"}),T.jsx("button",{className:"btn-primary",onClick:te,disabled:R,style:{flex:2},children:R?"Processing...":"Complete & Release"})]})]})})]}):T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",gap:24,padding:"0 24px",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:48},children:""}),T.jsx("h1",{style:{fontSize:32,fontWeight:700,color:"var(--text-primary)"},children:"Client Portal"}),T.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:480,lineHeight:1.7},children:"Post jobs, review proposals, manage escrow contracts, and release payments  all on Quai Network."}),T.jsx("button",{className:"btn-primary",onClick:t,style:{padding:"14px 36px",fontSize:15},children:"Connect Wallet "})]})}function tT({amount:n,size:e="md"}){const t=_u(n),r={sm:{fontSize:13},md:{fontSize:18},lg:{fontSize:24,fontWeight:700}};return T.jsxs("span",{className:"amount-quai",style:{display:"inline-flex",alignItems:"baseline",...r[e]},children:[t,T.jsx("span",{style:{color:"var(--text-muted)",fontSize:"80%",marginLeft:4,fontWeight:400},children:"QUAI"})]})}function $ue({isOpen:n,onClose:e,title:t,children:r,size:i="md"}){if(!n)return null;const s=i==="sm"?400:i==="md"?540:680;return T.jsx("div",{style:{position:"fixed",inset:0,zIndex:500,background:"var(--bg-overlay)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",padding:24},children:T.jsxs("div",{style:{background:"var(--bg-elevated)",border:"1px solid var(--border-strong)",borderRadius:"var(--radius-xl)",boxShadow:"var(--shadow-modal)",width:"100%",maxWidth:s,animation:"fadeUp 0.2s ease-out both"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px 24px 20px"},children:[T.jsx("h2",{style:{fontSize:"var(--text-lg)",fontWeight:600,margin:0},children:t}),T.jsx("button",{onClick:e,style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)"},children:T.jsx(lz,{size:20})})]}),T.jsx("div",{style:{padding:"0 24px 24px"},children:r})]})})}function Gue({job:n,proposalsCount:e,index:t=0,matchScore:r}){const s={0:"open",1:"open",2:"active",3:"completed",4:"disputed",5:"refunded"}[n.status]||"open";return T.jsx(_r,{to:`/freelancer/jobs/${n.id}`,style:{textDecoration:"none",color:"inherit"},children:T.jsxs("div",{className:`glass-card card-interactive animate-fade-up delay-${t%8+1}`,style:{padding:20,display:"flex",flexDirection:"column",gap:12},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[T.jsx("div",{style:{fontSize:16,fontWeight:600,color:"var(--text-primary)"},children:n.title}),r!==void 0&&r>10&&T.jsxs("span",{style:{background:"rgba(78, 255, 160, 0.1)",color:"#a4ffcf",border:"1px solid var(--quai-green-dim)",boxShadow:"0 0 10px rgba(78, 255, 160, 0.4)",borderRadius:"var(--radius-pill)",padding:"2px 8px",fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:1,display:"flex",alignItems:"center",gap:4},children:[" ",r,"% AI MATCH"]})]}),T.jsx(gx,{status:s})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsx("span",{className:"address",children:Df(n.client)}),T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:["Posted ",BT(Number(n.createdAt))]})]}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.6,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:n.description}),T.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",margin:"4px 0"},children:(n.skills||["React","Solidity","Web3"]).map(a=>T.jsx("span",{style:{background:"var(--quai-green-10)",color:"#a4ffcf",borderRadius:"var(--radius-pill)",padding:"3px 8px",fontFamily:"var(--font-mono)",fontSize:11},children:a},a))}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:16},children:[T.jsxs("span",{className:"amount-quai",style:{fontSize:18,fontWeight:700,transition:"color var(--transition-fast)"},children:[n.budget," ",T.jsx("span",{style:{fontSize:"80%",color:"var(--text-muted)",fontWeight:400},children:"QUAI"})]}),T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:["Due ",jp(Number(n.deadline))]})]}),T.jsx("div",{className:"btn btn-ghost btn-sm",style:{pointerEvents:"none"},children:"View Details "})]})]})})}const que=6048e5,pGe=864e5,e4=6e4,t4=36e5,mGe=1e3,IJ=Symbol.for("constructDateFrom");function Vr(n,e){return typeof n=="function"?n(e):n&&typeof n=="object"&&IJ in n?n[IJ](e):n instanceof Date?new n.constructor(e):new Date(e)}function rn(n,e){return Vr(e||n,n)}function Rf(n,e,t){const r=rn(n,t==null?void 0:t.in);return isNaN(e)?Vr((t==null?void 0:t.in)||n,NaN):(e&&r.setDate(r.getDate()+e),r)}function Bf(n,e,t){const r=rn(n,t==null?void 0:t.in);if(isNaN(e))return Vr(n,NaN);if(!e)return r;const i=r.getDate(),s=Vr(n,r.getTime());s.setMonth(r.getMonth()+e+1,0);const a=s.getDate();return i>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}function Yue(n,e,t){return Vr(n,+rn(n)+e)}function gGe(n,e,t){return Yue(n,e*t4)}let yGe={};function xx(){return yGe}function Yp(n,e){var o,l,c,f;const t=xx(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((f=(c=t.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=rn(n,e==null?void 0:e.in),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function fw(n,e){return Yp(n,{...e,weekStartsOn:1})}function Xue(n,e){const t=rn(n,e==null?void 0:e.in),r=t.getFullYear(),i=Vr(t,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=fw(i),a=Vr(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=fw(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function FP(n){const e=rn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function sm(n,...e){const t=Vr.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function lx(n,e){const t=rn(n,e==null?void 0:e.in);return t.setHours(0,0,0,0),t}function dw(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e),s=lx(r),a=lx(i),o=+s-FP(s),l=+a-FP(a);return Math.round((o-l)/pGe)}function vGe(n,e){const t=Xue(n,e),r=Vr(n,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),fw(r)}function nT(n,e,t){const r=rn(n,t==null?void 0:t.in);return r.setTime(r.getTime()+e*e4),r}function F7(n,e,t){return Bf(n,e*3,t)}function xGe(n,e,t){return Yue(n,e*1e3)}function zP(n,e,t){return Rf(n,e*7,t)}function Of(n,e,t){return Bf(n,e*12,t)}function NJ(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Vr.bind(null,i));const s=rn(i,r);(!t||t<s||isNaN(+s))&&(t=s)}),Vr(r,t||NaN)}function LJ(n,e){let t,r=e==null?void 0:e.in;return n.forEach(i=>{!r&&typeof i=="object"&&(r=Vr.bind(null,i));const s=rn(i,r);(!t||t>s||isNaN(+s))&&(t=s)}),Vr(r,t||NaN)}function bGe(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e);return+lx(r)==+lx(i)}function Qd(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function hw(n){return!(!Qd(n)&&typeof n!="number"||isNaN(+rn(n)))}function UP(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),a=r.getMonth()-i.getMonth();return s*12+a}function U0(n,e){const t=rn(n,e==null?void 0:e.in);return Math.trunc(t.getMonth()/3)+1}function jP(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e),s=r.getFullYear()-i.getFullYear(),a=U0(r)-U0(i);return s*4+a}function HP(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e);return r.getFullYear()-i.getFullYear()}function _Ge(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e),s=BJ(r,i),a=Math.abs(dw(r,i));r.setDate(r.getDate()-s*a);const o=+(BJ(r,i)===-s),l=s*(a-o);return l===0?0:l}function BJ(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function Kue(n,e){const t=rn(n,e==null?void 0:e.in);return t.setHours(23,59,59,999),t}function Jue(n,e){const t=rn(n,e==null?void 0:e.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function DF(n,e){const t=rn(n,e==null?void 0:e.in),r=t.getMonth(),i=r-r%3;return t.setMonth(i,1),t.setHours(0,0,0,0),t}function Zue(n,e){const t=rn(n,e==null?void 0:e.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Que(n,e){const t=rn(n,e==null?void 0:e.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}function n4(n,e){const t=rn(n,e==null?void 0:e.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function wGe(n,e){var o,l;const t=xx(),r=t.weekStartsOn??((l=(o=t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,i=rn(n,e==null?void 0:e.in),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}const SGe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},EGe=(n,e,t)=>{let r;const i=SGe[n];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function S5(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const MGe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},AGe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TGe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CGe={date:S5({formats:MGe,defaultWidth:"full"}),time:S5({formats:AGe,defaultWidth:"full"}),dateTime:S5({formats:TGe,defaultWidth:"full"})},kGe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RGe=(n,e,t,r)=>kGe[n];function iM(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let i;if(r==="formatting"&&n.formattingValues){const a=n.defaultFormattingWidth||n.defaultWidth,o=t!=null&&t.width?String(t.width):a;i=n.formattingValues[o]||n.formattingValues[a]}else{const a=n.defaultWidth,o=t!=null&&t.width?String(t.width):n.defaultWidth;i=n.values[o]||n.values[a]}const s=n.argumentCallback?n.argumentCallback(e):e;return i[s]}}const OGe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PGe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},DGe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},IGe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},NGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},LGe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},BGe=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},FGe={ordinalNumber:BGe,era:iM({values:OGe,defaultWidth:"wide"}),quarter:iM({values:PGe,defaultWidth:"wide",argumentCallback:n=>n-1}),month:iM({values:DGe,defaultWidth:"wide"}),day:iM({values:IGe,defaultWidth:"wide"}),dayPeriod:iM({values:NGe,defaultWidth:"wide",formattingValues:LGe,defaultFormattingWidth:"wide"})};function sM(n){return(e,t={})=>{const r=t.width,i=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],l=Array.isArray(o)?UGe(o,d=>d.test(a)):zGe(o,d=>d.test(a));let c;c=n.valueCallback?n.valueCallback(l):l,c=t.valueCallback?t.valueCallback(c):c;const f=e.slice(a.length);return{value:c,rest:f}}}function zGe(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function UGe(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function jGe(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const i=r[0],s=e.match(n.parsePattern);if(!s)return null;let a=n.valueCallback?n.valueCallback(s[0]):s[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const HGe=/^(\d+)(th|st|nd|rd)?/i,VGe=/\d+/i,WGe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$Ge={any:[/^b/i,/^(a|c)/i]},GGe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},qGe={any:[/1/i,/2/i,/3/i,/4/i]},YGe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},XGe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},KGe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},JGe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ZGe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},QGe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eqe={ordinalNumber:jGe({matchPattern:HGe,parsePattern:VGe,valueCallback:n=>parseInt(n,10)}),era:sM({matchPatterns:WGe,defaultMatchWidth:"wide",parsePatterns:$Ge,defaultParseWidth:"any"}),quarter:sM({matchPatterns:GGe,defaultMatchWidth:"wide",parsePatterns:qGe,defaultParseWidth:"any",valueCallback:n=>n+1}),month:sM({matchPatterns:YGe,defaultMatchWidth:"wide",parsePatterns:XGe,defaultParseWidth:"any"}),day:sM({matchPatterns:KGe,defaultMatchWidth:"wide",parsePatterns:JGe,defaultParseWidth:"any"}),dayPeriod:sM({matchPatterns:ZGe,defaultMatchWidth:"any",parsePatterns:QGe,defaultParseWidth:"any"})},efe={code:"en-US",formatDistance:EGe,formatLong:CGe,formatRelative:RGe,localize:FGe,match:eqe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function tqe(n,e){const t=rn(n,e==null?void 0:e.in);return dw(t,n4(t))+1}function z7(n,e){const t=rn(n,e==null?void 0:e.in),r=+fw(t)-+vGe(t);return Math.round(r/que)+1}function U7(n,e){var f,d,p,g;const t=rn(n,e==null?void 0:e.in),r=t.getFullYear(),i=xx(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=Vr((e==null?void 0:e.in)||n,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Yp(a,e),l=Vr((e==null?void 0:e.in)||n,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Yp(l,e);return+t>=+o?r+1:+t>=+c?r:r-1}function nqe(n,e){var o,l,c,f;const t=xx(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((f=(c=t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,i=U7(n,e),s=Vr((e==null?void 0:e.in)||n,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Yp(s,e)}function tfe(n,e){const t=rn(n,e==null?void 0:e.in),r=+Yp(t,e)-+nqe(t,e);return Math.round(r/que)+1}function Ur(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const a0={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ur(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ur(t+1,2)},d(n,e){return Ur(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ur(n.getHours()%12||12,e.length)},H(n,e){return Ur(n.getHours(),e.length)},m(n,e){return Ur(n.getMinutes(),e.length)},s(n,e){return Ur(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),i=Math.trunc(r*Math.pow(10,t-3));return Ur(i,e.length)}},d1={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FJ={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),i=r>0?r:1-r;return t.ordinalNumber(i,{unit:"year"})}return a0.y(n,e)},Y:function(n,e,t,r){const i=U7(n,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Ur(a,2)}return e==="Yo"?t.ordinalNumber(s,{unit:"year"}):Ur(s,e.length)},R:function(n,e){const t=Xue(n);return Ur(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ur(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ur(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ur(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return a0.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ur(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const i=tfe(n,r);return e==="wo"?t.ordinalNumber(i,{unit:"week"}):Ur(i,e.length)},I:function(n,e,t){const r=z7(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ur(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):a0.d(n,e)},D:function(n,e,t){const r=tqe(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ur(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ur(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(i,{width:"short",context:"formatting"});case"eeee":default:return t.day(i,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const i=n.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ur(s,e.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(i,{width:"narrow",context:"standalone"});case"cccccc":return t.day(i,{width:"short",context:"standalone"});case"cccc":default:return t.day(i,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Ur(i,e.length);case"io":return t.ordinalNumber(i,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const i=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let i;switch(r===12?i=d1.noon:r===0?i=d1.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let i;switch(r>=17?i=d1.evening:r>=12?i=d1.afternoon:r>=4?i=d1.morning:i=d1.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return a0.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):a0.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ur(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ur(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):a0.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):a0.s(n,e)},S:function(n,e){return a0.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return UJ(r);case"XXXX":case"XX":return Ny(r);case"XXXXX":case"XXX":default:return Ny(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return UJ(r);case"xxxx":case"xx":return Ny(r);case"xxxxx":case"xxx":default:return Ny(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zJ(r,":");case"OOOO":default:return"GMT"+Ny(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zJ(r,":");case"zzzz":default:return"GMT"+Ny(r,":")}},t:function(n,e,t){const r=Math.trunc(+n/1e3);return Ur(r,e.length)},T:function(n,e,t){return Ur(+n,e.length)}};function zJ(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Math.trunc(r/60),s=r%60;return s===0?t+String(i):t+String(i)+e+Ur(s,2)}function UJ(n,e){return n%60===0?(n>0?"-":"+")+Ur(Math.abs(n)/60,2):Ny(n,e)}function Ny(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),i=Ur(Math.trunc(r/60),2),s=Ur(r%60,2);return t+i+e+s}const jJ=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nfe=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rqe=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],i=t[2];if(!i)return jJ(n,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",jJ(r,e)).replace("{{time}}",nfe(i,e))},IF={p:nfe,P:rqe},iqe=/^D+$/,sqe=/^Y+$/,aqe=["D","DD","YY","YYYY"];function oqe(n){return iqe.test(n)}function lqe(n){return sqe.test(n)}function cqe(n,e,t){const r=uqe(n,e,t);if(console.warn(r),aqe.includes(n))throw new RangeError(r)}function uqe(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fqe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dqe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hqe=/^'([^]*?)'?$/,pqe=/''/g,mqe=/[a-zA-Z]/;function HJ(n,e,t){var f,d,p,g,b,S,w,E;const r=xx(),i=(t==null?void 0:t.locale)??r.locale??efe,s=(t==null?void 0:t.firstWeekContainsDate)??((d=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,a=(t==null?void 0:t.weekStartsOn)??((S=(b=t==null?void 0:t.locale)==null?void 0:b.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((E=(w=r.locale)==null?void 0:w.options)==null?void 0:E.weekStartsOn)??0,o=rn(n,t==null?void 0:t.in);if(!hw(o))throw new RangeError("Invalid time value");let l=e.match(dqe).map(k=>{const R=k[0];if(R==="p"||R==="P"){const O=IF[R];return O(k,i.formatLong)}return k}).join("").match(fqe).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const R=k[0];if(R==="'")return{isToken:!1,value:gqe(k)};if(FJ[R])return{isToken:!0,value:k};if(R.match(mqe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:k}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(k=>{if(!k.isToken)return k.value;const R=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&lqe(R)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&oqe(R))&&cqe(R,e,String(n));const O=FJ[R[0]];return O(o,R,i.localize,c)}).join("")}function gqe(n){const e=n.match(hqe);return e?e[1].replace(pqe,"'"):n}function VJ(n,e){return rn(n,e==null?void 0:e.in).getDate()}function yqe(n,e){return rn(n,e==null?void 0:e.in).getDay()}function vqe(n,e){const t=rn(n,e==null?void 0:e.in),r=t.getFullYear(),i=t.getMonth(),s=Vr(t,0);return s.setFullYear(r,i+1,0),s.setHours(0,0,0,0),s.getDate()}function xqe(){return Object.assign({},xx())}function _o(n,e){return rn(n,e==null?void 0:e.in).getHours()}function bqe(n,e){const t=rn(n,e==null?void 0:e.in).getDay();return t===0?7:t}function wo(n,e){return rn(n,e==null?void 0:e.in).getMinutes()}function Hl(n,e){return rn(n,e==null?void 0:e.in).getMonth()}function G0(n){return rn(n).getSeconds()}function NF(n){return+rn(n)}function ar(n,e){return rn(n,e==null?void 0:e.in).getFullYear()}function Pp(n,e){return+rn(n)>+rn(e)}function qd(n,e){return+rn(n)<+rn(e)}function _qe(n,e){return+rn(n)==+rn(e)}function wqe(n,e){const t=Sqe(e)?new e(0):Vr(e,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),t}function Sqe(n){var e;return typeof n=="function"&&((e=n.prototype)==null?void 0:e.constructor)===n}const Eqe=10;class rfe{constructor(){me(this,"subPriority",0)}validate(e,t){return!0}}class Mqe extends rfe{constructor(e,t,r,i,s){super(),this.value=e,this.validateValue=t,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,r){return this.setValue(e,t,this.value,r)}}class Aqe extends rfe{constructor(t,r){super();me(this,"priority",Eqe);me(this,"subPriority",-1);this.context=t||(i=>Vr(r,i))}set(t,r){return r.timestampIsSet?t:Vr(t,wqe(t,this.context))}}class Nr{run(e,t,r,i){const s=this.parse(e,t,r,i);return s?{setter:new Mqe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,t,r){return!0}}class Tqe extends Nr{constructor(){super(...arguments);me(this,"priority",140);me(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,r,i){return r.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}const Ms={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},zd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function As(n,e){return n&&{value:e(n.value),rest:n.rest}}function ts(n,e){const t=e.match(n);return t?{value:parseInt(t[0],10),rest:e.slice(t[0].length)}:null}function Ud(n,e){const t=e.match(n);if(!t)return null;if(t[0]==="Z")return{value:0,rest:e.slice(1)};const r=t[1]==="+"?1:-1,i=t[2]?parseInt(t[2],10):0,s=t[3]?parseInt(t[3],10):0,a=t[5]?parseInt(t[5],10):0;return{value:r*(i*t4+s*e4+a*mGe),rest:e.slice(t[0].length)}}function ife(n){return ts(Ms.anyDigitsSigned,n)}function ps(n,e){switch(n){case 1:return ts(Ms.singleDigit,e);case 2:return ts(Ms.twoDigits,e);case 3:return ts(Ms.threeDigits,e);case 4:return ts(Ms.fourDigits,e);default:return ts(new RegExp("^\\d{1,"+n+"}"),e)}}function VP(n,e){switch(n){case 1:return ts(Ms.singleDigitSigned,e);case 2:return ts(Ms.twoDigitsSigned,e);case 3:return ts(Ms.threeDigitsSigned,e);case 4:return ts(Ms.fourDigitsSigned,e);default:return ts(new RegExp("^-?\\d{1,"+n+"}"),e)}}function j7(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function sfe(n,e){const t=e>0,r=t?e:1-e;let i;if(r<=50)i=n||100;else{const s=r+50,a=Math.trunc(s/100)*100,o=n>=s%100;i=n+a-(o?100:0)}return t?i:1-i}function afe(n){return n%400===0||n%4===0&&n%100!==0}class Cqe extends Nr{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,i){const s=a=>({year:a,isTwoDigitYear:r==="yy"});switch(r){case"y":return As(ps(4,t),s);case"yo":return As(i.ordinalNumber(t,{unit:"year"}),s);default:return As(ps(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i){const s=t.getFullYear();if(i.isTwoDigitYear){const o=sfe(i.year,s);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}const a=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}}class kqe extends Nr{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,i){const s=a=>({year:a,isTwoDigitYear:r==="YY"});switch(r){case"Y":return As(ps(4,t),s);case"Yo":return As(i.ordinalNumber(t,{unit:"year"}),s);default:return As(ps(r.length,t),s)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,i,s){const a=U7(t,s);if(i.isTwoDigitYear){const l=sfe(i.year,a);return t.setFullYear(l,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Yp(t,s)}const o=!("era"in r)||r.era===1?i.year:1-i.year;return t.setFullYear(o,0,s.firstWeekContainsDate),t.setHours(0,0,0,0),Yp(t,s)}}class Rqe extends Nr{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return VP(r==="R"?4:r.length,t)}set(t,r,i){const s=Vr(t,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),fw(s)}}class Oqe extends Nr{constructor(){super(...arguments);me(this,"priority",130);me(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return VP(r==="u"?4:r.length,t)}set(t,r,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Pqe extends Nr{constructor(){super(...arguments);me(this,"priority",120);me(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"Q":case"QQ":return ps(r.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Dqe extends Nr{constructor(){super(...arguments);me(this,"priority",120);me(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"q":case"qq":return ps(r.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}}class Iqe extends Nr{constructor(){super(...arguments);me(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);me(this,"priority",110)}parse(t,r,i){const s=a=>a-1;switch(r){case"M":return As(ts(Ms.month,t),s);case"MM":return As(ps(2,t),s);case"Mo":return As(i.ordinalNumber(t,{unit:"month"}),s);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class Nqe extends Nr{constructor(){super(...arguments);me(this,"priority",110);me(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,i){const s=a=>a-1;switch(r){case"L":return As(ts(Ms.month,t),s);case"LL":return As(ps(2,t),s);case"Lo":return As(i.ordinalNumber(t,{unit:"month"}),s);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}function Lqe(n,e,t){const r=rn(n,t==null?void 0:t.in),i=tfe(r,t)-e;return r.setDate(r.getDate()-i*7),rn(r,t==null?void 0:t.in)}class Bqe extends Nr{constructor(){super(...arguments);me(this,"priority",100);me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,i){switch(r){case"w":return ts(Ms.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return ps(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i,s){return Yp(Lqe(t,i,s),s)}}function Fqe(n,e,t){const r=rn(n,t==null?void 0:t.in),i=z7(r,t)-e;return r.setDate(r.getDate()-i*7),r}class zqe extends Nr{constructor(){super(...arguments);me(this,"priority",100);me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,i){switch(r){case"I":return ts(Ms.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return ps(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,i){return fw(Fqe(t,i))}}const Uqe=[31,28,31,30,31,30,31,31,30,31,30,31],jqe=[31,29,31,30,31,30,31,31,30,31,30,31];class Hqe extends Nr{constructor(){super(...arguments);me(this,"priority",90);me(this,"subPriority",1);me(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"d":return ts(Ms.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return ps(r.length,t)}}validate(t,r){const i=t.getFullYear(),s=afe(i),a=t.getMonth();return s?r>=1&&r<=jqe[a]:r>=1&&r<=Uqe[a]}set(t,r,i){return t.setDate(i),t.setHours(0,0,0,0),t}}class Vqe extends Nr{constructor(){super(...arguments);me(this,"priority",90);me(this,"subpriority",1);me(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,i){switch(r){case"D":case"DD":return ts(Ms.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return ps(r.length,t)}}validate(t,r){const i=t.getFullYear();return afe(i)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}}function H7(n,e,t){var d,p,g,b;const r=xx(),i=(t==null?void 0:t.weekStartsOn)??((p=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??r.weekStartsOn??((b=(g=r.locale)==null?void 0:g.options)==null?void 0:b.weekStartsOn)??0,s=rn(n,t==null?void 0:t.in),a=s.getDay(),l=(e%7+7)%7,c=7-i,f=e<0||e>6?e-(a+c)%7:(l+c)%7-(a+c)%7;return Rf(s,f,t)}class Wqe extends Nr{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=H7(t,i,s),t.setHours(0,0,0,0),t}}class $qe extends Nr{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return As(ps(r.length,t),a);case"eo":return As(i.ordinalNumber(t,{unit:"day"}),a);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=H7(t,i,s),t.setHours(0,0,0,0),t}}class Gqe extends Nr{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,i,s){const a=o=>{const l=Math.floor((o-1)/7)*7;return(o+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return As(ps(r.length,t),a);case"co":return As(i.ordinalNumber(t,{unit:"day"}),a);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,i,s){return t=H7(t,i,s),t.setHours(0,0,0,0),t}}function qqe(n,e,t){const r=rn(n,t==null?void 0:t.in),i=bqe(r,t),s=e-i;return Rf(r,s,t)}class Yqe extends Nr{constructor(){super(...arguments);me(this,"priority",90);me(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,i){const s=a=>a===0?7:a;switch(r){case"i":case"ii":return ps(r.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return As(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiii":return As(i.day(t,{width:"narrow",context:"formatting"}),s);case"iiiiii":return As(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s);case"iiii":default:return As(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),s)}}validate(t,r){return r>=1&&r<=7}set(t,r,i){return t=qqe(t,i),t.setHours(0,0,0,0),t}}class Xqe extends Nr{constructor(){super(...arguments);me(this,"priority",80);me(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(j7(i),0,0,0),t}}class Kqe extends Nr{constructor(){super(...arguments);me(this,"priority",80);me(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(j7(i),0,0,0),t}}class Jqe extends Nr{constructor(){super(...arguments);me(this,"priority",80);me(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,i){return t.setHours(j7(i),0,0,0),t}}class Zqe extends Nr{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,i){switch(r){case"h":return ts(Ms.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return ps(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,i){const s=t.getHours()>=12;return s&&i<12?t.setHours(i+12,0,0,0):!s&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}}class Qqe extends Nr{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,i){switch(r){case"H":return ts(Ms.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return ps(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,i){return t.setHours(i,0,0,0),t}}class eYe extends Nr{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,i){switch(r){case"K":return ts(Ms.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return ps(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}}class tYe extends Nr{constructor(){super(...arguments);me(this,"priority",70);me(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,i){switch(r){case"k":return ts(Ms.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return ps(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,i){const s=i<=24?i%24:i;return t.setHours(s,0,0,0),t}}class nYe extends Nr{constructor(){super(...arguments);me(this,"priority",60);me(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"m":return ts(Ms.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return ps(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setMinutes(i,0,0),t}}class rYe extends Nr{constructor(){super(...arguments);me(this,"priority",50);me(this,"incompatibleTokens",["t","T"])}parse(t,r,i){switch(r){case"s":return ts(Ms.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return ps(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,i){return t.setSeconds(i,0),t}}class iYe extends Nr{constructor(){super(...arguments);me(this,"priority",30);me(this,"incompatibleTokens",["t","T"])}parse(t,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return As(ps(r.length,t),i)}set(t,r,i){return t.setMilliseconds(i),t}}class sYe extends Nr{constructor(){super(...arguments);me(this,"priority",10);me(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return Ud(zd.basicOptionalMinutes,t);case"XX":return Ud(zd.basic,t);case"XXXX":return Ud(zd.basicOptionalSeconds,t);case"XXXXX":return Ud(zd.extendedOptionalSeconds,t);case"XXX":default:return Ud(zd.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Vr(t,t.getTime()-FP(t)-i)}}class aYe extends Nr{constructor(){super(...arguments);me(this,"priority",10);me(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return Ud(zd.basicOptionalMinutes,t);case"xx":return Ud(zd.basic,t);case"xxxx":return Ud(zd.basicOptionalSeconds,t);case"xxxxx":return Ud(zd.extendedOptionalSeconds,t);case"xxx":default:return Ud(zd.extended,t)}}set(t,r,i){return r.timestampIsSet?t:Vr(t,t.getTime()-FP(t)-i)}}class oYe extends Nr{constructor(){super(...arguments);me(this,"priority",40);me(this,"incompatibleTokens","*")}parse(t){return ife(t)}set(t,r,i){return[Vr(t,i*1e3),{timestampIsSet:!0}]}}class lYe extends Nr{constructor(){super(...arguments);me(this,"priority",20);me(this,"incompatibleTokens","*")}parse(t){return ife(t)}set(t,r,i){return[Vr(t,i),{timestampIsSet:!0}]}}const cYe={G:new Tqe,y:new Cqe,Y:new kqe,R:new Rqe,u:new Oqe,Q:new Pqe,q:new Dqe,M:new Iqe,L:new Nqe,w:new Bqe,I:new zqe,d:new Hqe,D:new Vqe,E:new Wqe,e:new $qe,c:new Gqe,i:new Yqe,a:new Xqe,b:new Kqe,B:new Jqe,h:new Zqe,H:new Qqe,K:new eYe,k:new tYe,m:new nYe,s:new rYe,S:new iYe,X:new sYe,x:new aYe,t:new oYe,T:new lYe},uYe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fYe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dYe=/^'([^]*?)'?$/,hYe=/''/g,pYe=/\S/,mYe=/[a-zA-Z]/;function gYe(n,e,t,r){var w,E,k,R,O,D,I,B;const i=()=>Vr((r==null?void 0:r.in)||t,NaN),s=xqe(),a=(r==null?void 0:r.locale)??s.locale??efe,o=(r==null?void 0:r.firstWeekContainsDate)??((E=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:E.firstWeekContainsDate)??s.firstWeekContainsDate??((R=(k=s.locale)==null?void 0:k.options)==null?void 0:R.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((D=(O=r==null?void 0:r.locale)==null?void 0:O.options)==null?void 0:D.weekStartsOn)??s.weekStartsOn??((B=(I=s.locale)==null?void 0:I.options)==null?void 0:B.weekStartsOn)??0;if(!e)return n?i():rn(t,r==null?void 0:r.in);const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a},f=[new Aqe(r==null?void 0:r.in,t)],d=e.match(fYe).map(z=>{const V=z[0];if(V in IF){const Y=IF[V];return Y(z,a.formatLong)}return z}).join("").match(uYe),p=[];for(let z of d){const V=z[0],Y=cYe[V];if(Y){const{incompatibleTokens:q}=Y;if(Array.isArray(q)){const re=p.find(fe=>q.includes(fe.token)||fe.token===V);if(re)throw new RangeError(`The format string mustn't contain \`${re.fullToken}\` and \`${z}\` at the same time`)}else if(Y.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${z}\` and any other token at the same time`);p.push({token:V,fullToken:z});const J=Y.run(n,z,a.match,c);if(!J)return i();f.push(J.setter),n=J.rest}else{if(V.match(mYe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+V+"`");if(z==="''"?z="'":V==="'"&&(z=yYe(z)),n.indexOf(z)===0)n=n.slice(z.length);else return i()}}if(n.length>0&&pYe.test(n))return i();const g=f.map(z=>z.priority).sort((z,V)=>V-z).filter((z,V,Y)=>Y.indexOf(z)===V).map(z=>f.filter(V=>V.priority===z).sort((V,Y)=>Y.subPriority-V.subPriority)).map(z=>z[0]);let b=rn(t,r==null?void 0:r.in);if(isNaN(+b))return i();const S={};for(const z of g){if(!z.validate(b,c))return i();const V=z.set(b,S,c);Array.isArray(V)?(b=V[0],Object.assign(S,V[1])):b=V}return b}function yYe(n){return n.match(dYe)[1].replace(hYe,"'")}function vYe(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function xYe(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e);return+DF(r)==+DF(i)}function bYe(n,e,t){const[r,i]=sm(t==null?void 0:t.in,n,e);return r.getFullYear()===i.getFullYear()}function rT(n,e,t){const r=+rn(n,t==null?void 0:t.in),[i,s]=[+rn(e.start,t==null?void 0:t.in),+rn(e.end,t==null?void 0:t.in)].sort((a,o)=>a-o);return r>=i&&r<=s}function _Ye(n,e,t){return Rf(n,-1,t)}function wYe(n,e){const t=()=>Vr(e==null?void 0:e.in,NaN),i=AYe(n);let s;if(i.date){const c=TYe(i.date,2);s=CYe(c.restDateString,c.year)}if(!s||isNaN(+s))return t();const a=+s;let o=0,l;if(i.time&&(o=kYe(i.time),isNaN(o)))return t();if(i.timezone){if(l=RYe(i.timezone),isNaN(l))return t()}else{const c=new Date(a+o),f=rn(0,e==null?void 0:e.in);return f.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),f.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),f}return rn(a+o+l,e==null?void 0:e.in)}const ER={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},SYe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,EYe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,MYe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function AYe(n){const e={},t=n.split(ER.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],ER.timeZoneDelimiter.test(e.date)&&(e.date=n.split(ER.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const i=ER.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function TYe(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:n.slice((r[1]||r[2]).length)}}function CYe(n,e){if(e===null)return new Date(NaN);const t=n.match(SYe);if(!t)return new Date(NaN);const r=!!t[4],i=aM(t[1]),s=aM(t[2])-1,a=aM(t[3]),o=aM(t[4]),l=aM(t[5])-1;if(r)return NYe(e,o,l)?OYe(e,o,l):new Date(NaN);{const c=new Date(0);return!DYe(e,s,a)||!IYe(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function aM(n){return n?parseInt(n):1}function kYe(n){const e=n.match(EYe);if(!e)return NaN;const t=E5(e[1]),r=E5(e[2]),i=E5(e[3]);return LYe(t,r,i)?t*t4+r*e4+i*1e3:NaN}function E5(n){return n&&parseFloat(n.replace(",","."))||0}function RYe(n){if(n==="Z")return 0;const e=n.match(MYe);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return BYe(r,i)?t*(r*t4+i*e4):NaN}function OYe(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+t+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const PYe=[31,null,31,30,31,30,31,31,30,31,30,31];function ofe(n){return n%400===0||n%4===0&&n%100!==0}function DYe(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(PYe[e]||(ofe(n)?29:28))}function IYe(n,e){return e>=1&&e<=(ofe(n)?366:365)}function NYe(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function LYe(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function BYe(n,e){return e>=0&&e<=59}function fc(n,e,t){const r=rn(n,t==null?void 0:t.in),i=r.getFullYear(),s=r.getDate(),a=Vr(n,0);a.setFullYear(i,e,15),a.setHours(0,0,0,0);const o=vqe(a);return r.setMonth(e,Math.min(s,o)),r}function m2(n,e,t){const r=rn(n,t==null?void 0:t.in);return r.setHours(e),r}function g2(n,e,t){const r=rn(n,t==null?void 0:t.in);return r.setMinutes(e),r}function E1(n,e,t){const r=rn(n,t==null?void 0:t.in),i=Math.trunc(r.getMonth()/3)+1,s=e-i;return fc(r,r.getMonth()+s*3)}function y2(n,e,t){const r=rn(n,t==null?void 0:t.in);return r.setSeconds(e),r}function Ad(n,e,t){const r=rn(n,t==null?void 0:t.in);return isNaN(+r)?Vr(n,NaN):(r.setFullYear(e),r)}function Vv(n,e,t){return Bf(n,-e,t)}function lfe(n,e,t){return F7(n,-1,t)}function WJ(n,e,t){return zP(n,-1,t)}function sg(n,e,t){return Of(n,-e,t)}function r4(){return typeof window<"u"}function Kw(n){return cfe(n)?(n.nodeName||"").toLowerCase():"#document"}function wc(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function gh(n){var e;return(e=(cfe(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function cfe(n){return r4()?n instanceof Node||n instanceof wc(n).Node:!1}function sl(n){return r4()?n instanceof Element||n instanceof wc(n).Element:!1}function fh(n){return r4()?n instanceof HTMLElement||n instanceof wc(n).HTMLElement:!1}function $J(n){return!r4()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof wc(n).ShadowRoot}const FYe=new Set(["inline","contents"]);function tC(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Du(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!FYe.has(i)}const zYe=new Set(["table","td","th"]);function UYe(n){return zYe.has(Kw(n))}const jYe=[":popover-open",":modal"];function i4(n){return jYe.some(e=>{try{return n.matches(e)}catch{return!1}})}const HYe=["transform","translate","scale","rotate","perspective"],VYe=["transform","translate","scale","rotate","perspective","filter"],WYe=["paint","layout","strict","content"];function V7(n){const e=W7(),t=sl(n)?Du(n):n;return HYe.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||VYe.some(r=>(t.willChange||"").includes(r))||WYe.some(r=>(t.contain||"").includes(r))}function $Ye(n){let e=ag(n);for(;fh(e)&&!pw(e);){if(V7(e))return e;if(i4(e))return null;e=ag(e)}return null}function W7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const GYe=new Set(["html","body","#document"]);function pw(n){return GYe.has(Kw(n))}function Du(n){return wc(n).getComputedStyle(n)}function s4(n){return sl(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ag(n){if(Kw(n)==="html")return n;const e=n.assignedSlot||n.parentNode||$J(n)&&n.host||gh(n);return $J(e)?e.host:e}function ufe(n){const e=ag(n);return pw(e)?n.ownerDocument?n.ownerDocument.body:n.body:fh(e)&&tC(e)?e:ufe(e)}function iT(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=ufe(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),a=wc(i);if(s){const o=LF(a);return e.concat(a,a.visualViewport||[],tC(i)?i:[],o&&t?iT(o):[])}return e.concat(i,iT(i,[],t))}function LF(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const mw=Math.min,Wv=Math.max,WP=Math.round,MR=Math.floor,eh=n=>({x:n,y:n}),qYe={left:"right",right:"left",bottom:"top",top:"bottom"},YYe={start:"end",end:"start"};function XYe(n,e,t){return Wv(n,mw(e,t))}function a4(n,e){return typeof n=="function"?n(e):n}function gw(n){return n.split("-")[0]}function nC(n){return n.split("-")[1]}function KYe(n){return n==="x"?"y":"x"}function $7(n){return n==="y"?"height":"width"}const JYe=new Set(["top","bottom"]);function av(n){return JYe.has(gw(n))?"y":"x"}function G7(n){return KYe(av(n))}function ZYe(n,e,t){t===void 0&&(t=!1);const r=nC(n),i=G7(n),s=$7(i);let a=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=$P(a)),[a,$P(a)]}function QYe(n){const e=$P(n);return[BF(n),e,BF(e)]}function BF(n){return n.replace(/start|end/g,e=>YYe[e])}const GJ=["left","right"],qJ=["right","left"],eXe=["top","bottom"],tXe=["bottom","top"];function nXe(n,e,t){switch(n){case"top":case"bottom":return t?e?qJ:GJ:e?GJ:qJ;case"left":case"right":return e?eXe:tXe;default:return[]}}function rXe(n,e,t,r){const i=nC(n);let s=nXe(gw(n),t==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(BF)))),s}function $P(n){return n.replace(/left|right|bottom|top/g,e=>qYe[e])}function iXe(n){return{top:0,right:0,bottom:0,left:0,...n}}function ffe(n){return typeof n!="number"?iXe(n):{top:n,right:n,bottom:n,left:n}}function GP(n){const{x:e,y:t,width:r,height:i}=n;return{width:r,height:i,top:t,left:e,right:e+r,bottom:t+i,x:e,y:t}}var sXe=typeof document<"u",aXe=function(){},qP=sXe?L.useLayoutEffect:aXe;const oXe={...XF},lXe=oXe.useInsertionEffect,cXe=lXe||(n=>n());function uXe(n){const e=L.useRef(()=>{});return cXe(()=>{e.current=n}),L.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function YJ(n,e,t){let{reference:r,floating:i}=n;const s=av(e),a=G7(e),o=$7(a),l=gw(e),c=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let g;switch(l){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(nC(e)){case"start":g[a]-=p*(t&&c?-1:1);break;case"end":g[a]+=p*(t&&c?-1:1);break}return g}async function fXe(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:p=!1,padding:g=0}=a4(e,n),b=ffe(g),w=o[p?d==="floating"?"reference":"floating":d],E=GP(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(w)))==null||t?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:f,strategy:l})),k=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),O=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},D=GP(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:k,offsetParent:R,strategy:l}):k);return{top:(E.top-D.top+b.top)/O.y,bottom:(D.bottom-E.bottom+b.bottom)/O.y,left:(E.left-D.left+b.left)/O.x,right:(D.right-E.right+b.right)/O.x}}const dXe=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=t,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:n,floating:e,strategy:i}),{x:f,y:d}=YJ(c,r,l),p=r,g={},b=0;for(let w=0;w<o.length;w++){var S;const{name:E,fn:k}=o[w],{x:R,y:O,data:D,reset:I}=await k({x:f,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:g,rects:c,platform:{...a,detectOverflow:(S=a.detectOverflow)!=null?S:fXe},elements:{reference:n,floating:e}});f=R??f,d=O??d,g={...g,[E]:{...g[E],...D}},I&&b<=50&&(b++,typeof I=="object"&&(I.placement&&(p=I.placement),I.rects&&(c=I.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:i}):I.rects),{x:f,y:d}=YJ(c,p,l)),w=-1)}return{x:f,y:d,placement:p,strategy:i,middlewareData:g}},hXe=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:f=0}=a4(n,e)||{};if(c==null)return{};const d=ffe(f),p={x:t,y:r},g=G7(i),b=$7(g),S=await a.getDimensions(c),w=g==="y",E=w?"top":"left",k=w?"bottom":"right",R=w?"clientHeight":"clientWidth",O=s.reference[b]+s.reference[g]-p[g]-s.floating[b],D=p[g]-s.reference[g],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let B=I?I[R]:0;(!B||!await(a.isElement==null?void 0:a.isElement(I)))&&(B=o.floating[R]||s.floating[b]);const z=O/2-D/2,V=B/2-S[b]/2-1,Y=mw(d[E],V),q=mw(d[k],V),J=Y,re=B-S[b]-q,fe=B/2-S[b]/2+z,ne=XYe(J,fe,re),te=!l.arrow&&nC(i)!=null&&fe!==ne&&s.reference[b]/2-(fe<J?Y:q)-S[b]/2<0,se=te?fe<J?fe-J:fe-re:0;return{[g]:p[g]+se,data:{[g]:ne,centerOffset:fe-ne-se,...te&&{alignmentOffset:se}},reset:te}}}),pXe=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:S=!0,...w}=a4(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const E=gw(i),k=av(o),R=gw(o)===o,O=await(l.isRTL==null?void 0:l.isRTL(c.floating)),D=p||(R||!S?[$P(o)]:QYe(o)),I=b!=="none";!p&&I&&D.push(...rXe(o,S,b,O));const B=[o,...D],z=await l.detectOverflow(e,w),V=[];let Y=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&V.push(z[E]),d){const fe=ZYe(i,a,O);V.push(z[fe[0]],z[fe[1]])}if(Y=[...Y,{placement:i,overflows:V}],!V.every(fe=>fe<=0)){var q,J;const fe=(((q=s.flip)==null?void 0:q.index)||0)+1,ne=B[fe];if(ne&&(!(d==="alignment"?k!==av(ne):!1)||Y.every(be=>av(be.placement)===k?be.overflows[0]>0:!0)))return{data:{index:fe,overflows:Y},reset:{placement:ne}};let te=(J=Y.filter(se=>se.overflows[0]<=0).sort((se,be)=>se.overflows[1]-be.overflows[1])[0])==null?void 0:J.placement;if(!te)switch(g){case"bestFit":{var re;const se=(re=Y.filter(be=>{if(I){const Ee=av(be.placement);return Ee===k||Ee==="y"}return!0}).map(be=>[be.placement,be.overflows.filter(Ee=>Ee>0).reduce((Ee,oe)=>Ee+oe,0)]).sort((be,Ee)=>be[1]-Ee[1])[0])==null?void 0:re[0];se&&(te=se);break}case"initialPlacement":te=o;break}if(i!==te)return{reset:{placement:te}}}return{}}}},mXe=new Set(["left","top"]);async function gXe(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=gw(t),o=nC(t),l=av(t)==="y",c=mXe.has(a)?-1:1,f=s&&l?-1:1,d=a4(e,n);let{mainAxis:p,crossAxis:g,alignmentAxis:b}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof b=="number"&&(g=o==="end"?b*-1:b),l?{x:g*f,y:p*c}:{x:p*c,y:g*f}}const yXe=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await gXe(e,n);return a===((t=o.offset)==null?void 0:t.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}};function dfe(n){const e=Du(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=fh(n),s=i?n.offsetWidth:t,a=i?n.offsetHeight:r,o=WP(t)!==s||WP(r)!==a;return o&&(t=s,r=a),{width:t,height:r,$:o}}function q7(n){return sl(n)?n:n.contextElement}function e_(n){const e=q7(n);if(!fh(e))return eh(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=dfe(e);let a=(s?WP(t.width):t.width)/r,o=(s?WP(t.height):t.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const vXe=eh(0);function hfe(n){const e=wc(n);return!W7()||!e.visualViewport?vXe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function xXe(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==wc(n)?!1:e}function cx(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=q7(n);let a=eh(1);e&&(r?sl(r)&&(a=e_(r)):a=e_(n));const o=xXe(s,t,r)?hfe(s):eh(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,f=i.width/a.x,d=i.height/a.y;if(s){const p=wc(s),g=r&&sl(r)?wc(r):r;let b=p,S=LF(b);for(;S&&r&&g!==b;){const w=e_(S),E=S.getBoundingClientRect(),k=Du(S),R=E.left+(S.clientLeft+parseFloat(k.paddingLeft))*w.x,O=E.top+(S.clientTop+parseFloat(k.paddingTop))*w.y;l*=w.x,c*=w.y,f*=w.x,d*=w.y,l+=R,c+=O,b=wc(S),S=LF(b)}}return GP({width:f,height:d,x:l,y:c})}function o4(n,e){const t=s4(n).scrollLeft;return e?e.left+t:cx(gh(n)).left+t}function pfe(n,e){const t=n.getBoundingClientRect(),r=t.left+e.scrollLeft-o4(n,t),i=t.top+e.scrollTop;return{x:r,y:i}}function bXe(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=i==="fixed",a=gh(r),o=e?i4(e.floating):!1;if(r===a||o&&s)return t;let l={scrollLeft:0,scrollTop:0},c=eh(1);const f=eh(0),d=fh(r);if((d||!d&&!s)&&((Kw(r)!=="body"||tC(a))&&(l=s4(r)),fh(r))){const g=cx(r);c=e_(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const p=a&&!d&&!s?pfe(a,l):eh(0);return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-l.scrollLeft*c.x+f.x+p.x,y:t.y*c.y-l.scrollTop*c.y+f.y+p.y}}function _Xe(n){return Array.from(n.getClientRects())}function wXe(n){const e=gh(n),t=s4(n),r=n.ownerDocument.body,i=Wv(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Wv(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+o4(n);const o=-t.scrollTop;return Du(r).direction==="rtl"&&(a+=Wv(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const XJ=25;function SXe(n,e){const t=wc(n),r=gh(n),i=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const f=W7();(!f||f&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=o4(r);if(c<=0){const f=r.ownerDocument,d=f.body,p=getComputedStyle(d),g=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,b=Math.abs(r.clientWidth-d.clientWidth-g);b<=XJ&&(s-=b)}else c<=XJ&&(s+=c);return{width:s,height:a,x:o,y:l}}const EXe=new Set(["absolute","fixed"]);function MXe(n,e){const t=cx(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=fh(n)?e_(n):eh(1),a=n.clientWidth*s.x,o=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function KJ(n,e,t){let r;if(e==="viewport")r=SXe(n,t);else if(e==="document")r=wXe(gh(n));else if(sl(e))r=MXe(e,t);else{const i=hfe(n);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return GP(r)}function mfe(n,e){const t=ag(n);return t===e||!sl(t)||pw(t)?!1:Du(t).position==="fixed"||mfe(t,e)}function AXe(n,e){const t=e.get(n);if(t)return t;let r=iT(n,[],!1).filter(o=>sl(o)&&Kw(o)!=="body"),i=null;const s=Du(n).position==="fixed";let a=s?ag(n):n;for(;sl(a)&&!pw(a);){const o=Du(a),l=V7(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&EXe.has(i.position)||tC(a)&&!l&&mfe(n,a))?r=r.filter(f=>f!==a):i=o,a=ag(a)}return e.set(n,r),r}function TXe(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const a=[...t==="clippingAncestors"?i4(e)?[]:AXe(e,this._c):[].concat(t),r],o=a[0],l=a.reduce((c,f)=>{const d=KJ(e,f,i);return c.top=Wv(d.top,c.top),c.right=mw(d.right,c.right),c.bottom=mw(d.bottom,c.bottom),c.left=Wv(d.left,c.left),c},KJ(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function CXe(n){const{width:e,height:t}=dfe(n);return{width:e,height:t}}function kXe(n,e,t){const r=fh(e),i=gh(e),s=t==="fixed",a=cx(n,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=eh(0);function c(){l.x=o4(i)}if(r||!r&&!s)if((Kw(e)!=="body"||tC(i))&&(o=s4(e)),r){const g=cx(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!r&&i&&c();const f=i&&!r&&!s?pfe(i,o):eh(0),d=a.left+o.scrollLeft-l.x-f.x,p=a.top+o.scrollTop-l.y-f.y;return{x:d,y:p,width:a.width,height:a.height}}function M5(n){return Du(n).position==="static"}function JJ(n,e){if(!fh(n)||Du(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return gh(n)===t&&(t=t.ownerDocument.body),t}function gfe(n,e){const t=wc(n);if(i4(n))return t;if(!fh(n)){let i=ag(n);for(;i&&!pw(i);){if(sl(i)&&!M5(i))return i;i=ag(i)}return t}let r=JJ(n,e);for(;r&&UYe(r)&&M5(r);)r=JJ(r,e);return r&&pw(r)&&M5(r)&&!V7(r)?t:r||$Ye(n)||t}const RXe=async function(n){const e=this.getOffsetParent||gfe,t=this.getDimensions,r=await t(n.floating);return{reference:kXe(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function OXe(n){return Du(n).direction==="rtl"}const PXe={convertOffsetParentRelativeRectToViewportRelativeRect:bXe,getDocumentElement:gh,getClippingRect:TXe,getOffsetParent:gfe,getElementRects:RXe,getClientRects:_Xe,getDimensions:CXe,getScale:e_,isElement:sl,isRTL:OXe};function yfe(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function DXe(n,e){let t=null,r;const i=gh(n);function s(){var o;clearTimeout(r),(o=t)==null||o.disconnect(),t=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=n.getBoundingClientRect(),{left:f,top:d,width:p,height:g}=c;if(o||e(),!p||!g)return;const b=MR(d),S=MR(i.clientWidth-(f+p)),w=MR(i.clientHeight-(d+g)),E=MR(f),R={rootMargin:-b+"px "+-S+"px "+-w+"px "+-E+"px",threshold:Wv(0,mw(1,l))||1};let O=!0;function D(I){const B=I[0].intersectionRatio;if(B!==l){if(!O)return a();B?a(!1,B):r=setTimeout(()=>{a(!1,1e-7)},1e3)}B===1&&!yfe(c,n.getBoundingClientRect())&&a(),O=!1}try{t=new IntersectionObserver(D,{...R,root:i.ownerDocument})}catch{t=new IntersectionObserver(D,R)}t.observe(n)}return a(!0),s}function IXe(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=q7(n),f=i||s?[...c?iT(c):[],...iT(e)]:[];f.forEach(E=>{i&&E.addEventListener("scroll",t,{passive:!0}),s&&E.addEventListener("resize",t)});const d=c&&o?DXe(c,t):null;let p=-1,g=null;a&&(g=new ResizeObserver(E=>{let[k]=E;k&&k.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=g)==null||R.observe(e)})),t()}),c&&!l&&g.observe(c),g.observe(e));let b,S=l?cx(n):null;l&&w();function w(){const E=cx(n);S&&!yfe(S,E)&&t(),S=E,b=requestAnimationFrame(w)}return t(),()=>{var E;f.forEach(k=>{i&&k.removeEventListener("scroll",t),s&&k.removeEventListener("resize",t)}),d==null||d(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(b)}}const NXe=yXe,LXe=pXe,ZJ=hXe,BXe=(n,e,t)=>{const r=new Map,i={platform:PXe,...t},s={...i.platform,_c:r};return dXe(n,e,{...i,platform:s})};var FXe=typeof document<"u",zXe=function(){},v2=FXe?L.useLayoutEffect:zXe;function YP(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!YP(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!YP(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function vfe(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function QJ(n,e){const t=vfe(n);return Math.round(e*t)/t}function A5(n){const e=L.useRef(n);return v2(()=>{e.current=n}),e}function UXe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=n,[f,d]=L.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=L.useState(r);YP(p,r)||g(r);const[b,S]=L.useState(null),[w,E]=L.useState(null),k=L.useCallback(be=>{be!==I.current&&(I.current=be,S(be))},[]),R=L.useCallback(be=>{be!==B.current&&(B.current=be,E(be))},[]),O=s||b,D=a||w,I=L.useRef(null),B=L.useRef(null),z=L.useRef(f),V=l!=null,Y=A5(l),q=A5(i),J=A5(c),re=L.useCallback(()=>{if(!I.current||!B.current)return;const be={placement:e,strategy:t,middleware:p};q.current&&(be.platform=q.current),BXe(I.current,B.current,be).then(Ee=>{const oe={...Ee,isPositioned:J.current!==!1};fe.current&&!YP(z.current,oe)&&(z.current=oe,lD.flushSync(()=>{d(oe)}))})},[p,e,t,q,J]);v2(()=>{c===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,d(be=>({...be,isPositioned:!1})))},[c]);const fe=L.useRef(!1);v2(()=>(fe.current=!0,()=>{fe.current=!1}),[]),v2(()=>{if(O&&(I.current=O),D&&(B.current=D),O&&D){if(Y.current)return Y.current(O,D,re);re()}},[O,D,re,Y,V]);const ne=L.useMemo(()=>({reference:I,floating:B,setReference:k,setFloating:R}),[k,R]),te=L.useMemo(()=>({reference:O,floating:D}),[O,D]),se=L.useMemo(()=>{const be={position:t,left:0,top:0};if(!te.floating)return be;const Ee=QJ(te.floating,f.x),oe=QJ(te.floating,f.y);return o?{...be,transform:"translate("+Ee+"px, "+oe+"px)",...vfe(te.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Ee,top:oe}},[t,o,te.floating,f.x,f.y]);return L.useMemo(()=>({...f,update:re,refs:ne,elements:te,floatingStyles:se}),[f,re,ne,te,se])}const jXe=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?ZJ({element:r.current,padding:i}).fn(t):{}:r?ZJ({element:r,padding:i}).fn(t):{}}}},HXe=(n,e)=>({...NXe(n),options:[n,e]}),VXe=(n,e)=>({...LXe(n),options:[n,e]}),WXe=(n,e)=>({...jXe(n),options:[n,e]}),$Xe={...XF};let eZ=!1,GXe=0;const tZ=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+GXe++;function qXe(){const[n,e]=L.useState(()=>eZ?tZ():void 0);return qP(()=>{n==null&&e(tZ())},[]),L.useEffect(()=>{eZ=!0},[]),n}const YXe=$Xe.useId,xfe=YXe||qXe,XXe=L.forwardRef(function(e,t){const{context:{placement:r,elements:{floating:i},middlewareData:{arrow:s,shift:a}},width:o=14,height:l=7,tipRadius:c=0,strokeWidth:f=0,staticOffset:d,stroke:p,d:g,style:{transform:b,...S}={},...w}=e,E=xfe(),[k,R]=L.useState(!1);if(qP(()=>{if(!i)return;Du(i).direction==="rtl"&&R(!0)},[i]),!i)return null;const[O,D]=r.split("-"),I=O==="top"||O==="bottom";let B=d;(I&&a!=null&&a.x||!I&&a!=null&&a.y)&&(B=null);const z=f*2,V=z/2,Y=o/2*(c/-8+1),q=l/2*c/4,J=!!g,re=B&&D==="end"?"bottom":"top";let fe=B&&D==="end"?"right":"left";B&&k&&(fe=D==="end"?"left":"right");const ne=(s==null?void 0:s.x)!=null?B||s.x:"",te=(s==null?void 0:s.y)!=null?B||s.y:"",se=g||"M0,0"+(" H"+o)+(" L"+(o-Y)+","+(l-q))+(" Q"+o/2+","+l+" "+Y+","+(l-q))+" Z",be={top:J?"rotate(180deg)":"",left:J?"rotate(90deg)":"rotate(-90deg)",bottom:J?"":"rotate(180deg)",right:J?"rotate(-90deg)":"rotate(90deg)"}[O];return T.jsxs("svg",{...w,"aria-hidden":!0,ref:t,width:J?o:o+z,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[fe]:ne,[re]:te,[O]:I||J?"100%":"calc(100% - "+z/2+"px)",transform:[be,b].filter(Ee=>!!Ee).join(" "),...S},children:[z>0&&T.jsx("path",{clipPath:"url(#"+E+")",fill:"none",stroke:p,strokeWidth:z+(g?0:1),d:se}),T.jsx("path",{stroke:z&&!g?w.fill:"none",d:se}),T.jsx("clipPath",{id:E,children:T.jsx("rect",{x:-V,y:V*(J?-1:1),width:o+z,height:o})})]})});function KXe(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(i=>i(t))},on(e,t){n.has(e)||n.set(e,new Set),n.get(e).add(t)},off(e,t){var r;(r=n.get(e))==null||r.delete(t)}}}const JXe=L.createContext(null),ZXe=L.createContext(null),QXe=()=>{var n;return((n=L.useContext(JXe))==null?void 0:n.id)||null},eKe=()=>L.useContext(ZXe);function tKe(n){const{open:e=!1,onOpenChange:t,elements:r}=n,i=xfe(),s=L.useRef({}),[a]=L.useState(()=>KXe()),o=QXe()!=null,[l,c]=L.useState(r.reference),f=uXe((g,b,S)=>{s.current.openEvent=g?b:void 0,a.emit("openchange",{open:g,event:b,reason:S,nested:o}),t==null||t(g,b,S)}),d=L.useMemo(()=>({setPositionReference:c}),[]),p=L.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return L.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:p,events:a,floatingId:i,refs:d}),[e,f,p,a,i,d])}function nKe(n){n===void 0&&(n={});const{nodeId:e}=n,t=tKe({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,i=r.elements,[s,a]=L.useState(null),[o,l]=L.useState(null),f=(i==null?void 0:i.domReference)||s,d=L.useRef(null),p=eKe();qP(()=>{f&&(d.current=f)},[f]);const g=UXe({...n,elements:{...i,...o&&{reference:o}}}),b=L.useCallback(R=>{const O=sl(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),getClientRects:()=>R.getClientRects(),contextElement:R}:R;l(O),g.refs.setReference(O)},[g.refs]),S=L.useCallback(R=>{(sl(R)||R===null)&&(d.current=R,a(R)),(sl(g.refs.reference.current)||g.refs.reference.current===null||R!==null&&!sl(R))&&g.refs.setReference(R)},[g.refs]),w=L.useMemo(()=>({...g.refs,setReference:S,setPositionReference:b,domReference:d}),[g.refs,S,b]),E=L.useMemo(()=>({...g.elements,domReference:f}),[g.elements,f]),k=L.useMemo(()=>({...g,...r,refs:w,elements:E,nodeId:e}),[g,w,E,e,r]);return qP(()=>{r.dataRef.current.floatingContext=k;const R=p==null?void 0:p.nodesRef.current.find(O=>O.id===e);R&&(R.context=k)}),L.useMemo(()=>({...g,context:k,refs:w,elements:E}),[g,w,E,k])}/*!
  react-datepicker v9.1.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var FF=function(e,t){return FF=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},FF(e,t)};function to(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");FF(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Qn=function(){return Qn=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Qn.apply(this,arguments)};function Yd(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}var rKe=function(n){var e=n.showTimeSelectOnly,t=e===void 0?!1:e,r=n.showTime,i=r===void 0?!1:r,s=n.className,a=n.children,o=n.inline,l=t?"Choose Time":"Choose Date".concat(i?" and Time":"");return st.createElement("div",{className:s,"aria-label":l,role:o?void 0:"dialog","aria-modal":o?void 0:"true",translate:"no"},a)},iKe=function(n,e){var t=L.useRef(null),r=L.useRef(n);L.useEffect(function(){r.current=n},[n]);var i=L.useCallback(function(s){var a,o=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;t.current&&!t.current.contains(o)&&(e&&o instanceof HTMLElement&&o.classList.contains(e)||(a=r.current)===null||a===void 0||a.call(r,s))},[e]);return L.useEffect(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),t},l4=function(n){var e=n.children,t=n.onClickOutside,r=n.className,i=n.containerRef,s=n.style,a=n.ignoreClass,o=iKe(t,a);return st.createElement("div",{className:r,style:s,ref:function(l){o.current=l,i&&(i.current=l)}},e)},AR=null,nZ=!1;function bfe(){if(nZ)return AR;nZ=!0;try{var n="date-fns-tz";AR=require(n)}catch{AR=null}return AR}function rZ(n,e){if(!e)return n;var t=bfe();return t?t.toZonedTime(n,e):n}function ep(n,e){if(!e)return n;var t=bfe();return t?t.fromZonedTime(n,e):n}var jt;(function(n){n.ArrowUp="ArrowUp",n.ArrowDown="ArrowDown",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.PageUp="PageUp",n.PageDown="PageDown",n.Home="Home",n.End="End",n.Enter="Enter",n.Space=" ",n.Tab="Tab",n.Escape="Escape",n.Backspace="Backspace",n.X="x"})(jt||(jt={}));function _fe(){var n=typeof window<"u"?window:globalThis;return n}var rC=12;function wr(n){if(n==null)return new Date;var e=typeof n=="string"?wYe(n):rn(n);return Fl(e)?e:new Date}function Sy(n,e,t,r,i){i===void 0&&(i=wr());for(var s=yw(t)||yw(Y7()),a=Array.isArray(e)?e:[e],o=0,l=a;o<l.length;o++){var c=l[o],f=gYe(n,c,i,{locale:s});if(Fl(f)&&(!r||n===Ai(f,c,t)))return f}if(!r&&n&&n.length>=8){var d=new Date(n);if(hw(d))return d}return null}function sKe(n,e){if(e===void 0&&(e=wr()),!n)return null;var t=n.match(/\b(1\d{3}|2\d{3})\b/);if(!t||!t[1])return null;var r=parseInt(t[1],10),i=n.match(/(?:^|[/\-\s])?(0?[1-9]|1[0-2])(?:[/\-\s]|$)/),s=i&&i[1]?parseInt(i[1],10)-1:e.getMonth();return new Date(r,s,1)}function Fl(n){return hw(n)}function ov(n){return n==null?null:Qd(n)&&hw(n)?n:null}function Ai(n,e,t){if(t==="en")return HJ(n,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=t?yw(t):void 0;return t&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(t,'"].')),r=r||yw(Y7()),HJ(n,e,{locale:r,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ll(n,e){var t=e.dateFormat,r=e.locale,i=Array.isArray(t)&&t.length>0?t[0]:t;return n&&Ai(n,i,r)||""}var wfe=" - ";function aKe(n,e,t){if(!n&&!e)return"";var r=n?Ll(n,t):"",i=e?Ll(e,t):"",s=t.rangeSeparator||wfe;return"".concat(r).concat(s).concat(i)}function oKe(n,e){if(!(n!=null&&n.length))return"";var t=n[0]?Ll(n[0],e):"";if(n.length===1)return t;if(n.length===2&&n[1]){var r=Ll(n[1],e);return"".concat(t,", ").concat(r)}var i=n.length-1;return"".concat(t," (+").concat(i,")")}function tp(n,e){var t=e.hour,r=t===void 0?0:t,i=e.minute,s=i===void 0?0:i,a=e.second,o=a===void 0?0:a;return m2(g2(y2(n,o),s),r)}function lKe(n){return z7(n)}function cKe(n,e){return Ai(n,"ddd",e)}function MM(n){return lx(n)}function q0(n,e,t){var r=yw(e||Y7());return Yp(n,{locale:r,weekStartsOn:t})}function Dp(n){return Zue(n)}function AM(n){return n4(n)}function iZ(n){return DF(n)}function sZ(){return lx(wr())}function aZ(n){return Kue(n)}function uKe(n){return wGe(n)}function fKe(n){return Jue(n)}function Nd(n,e){return n&&e?bYe(n,e):!n&&!e}function Yo(n,e){return n&&e?vYe(n,e):!n&&!e}function XP(n,e){return n&&e?xYe(n,e):!n&&!e}function fr(n,e){return n&&e?bGe(n,e):!n&&!e}function lv(n,e){return n&&e?_qe(n,e):!n&&!e}function Ly(n,e,t){var r,i=lx(e),s=Kue(t);try{r=rT(n,{start:i,end:s})}catch{r=!1}return r}function Y7(){var n=_fe();return n.__localeId__}function yw(n){if(typeof n=="string"){var e=_fe();return e.__localeData__?e.__localeData__[n]:void 0}else return n}function dKe(n,e,t){return e(Ai(n,"EEEE",t))}function hKe(n,e){return Ai(n,"EEEEEE",e)}function pKe(n,e){return Ai(n,"EEE",e)}function X7(n,e){return Ai(fc(wr(),n),"LLLL",e)}function Sfe(n,e){return Ai(fc(wr(),n),"LLL",e)}function mKe(n,e){return Ai(E1(wr(),n),"QQQ",e)}function gu(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.excludeDateIntervals,o=t.includeDates,l=t.includeDateIntervals,c=t.filterDate,f=t.disabled;return f?!0:iC(n,{minDate:r,maxDate:i})||s&&s.some(function(d){return d instanceof Date?fr(n,d):fr(n,d.date)})||a&&a.some(function(d){var p=d.start,g=d.end;return rT(n,{start:p,end:g})})||o&&!o.some(function(d){return fr(n,d)})||l&&!l.some(function(d){var p=d.start,g=d.end;return rT(n,{start:p,end:g})})||c&&!c(wr(n))||!1}function K7(n,e){var t=e===void 0?{}:e,r=t.excludeDates,i=t.excludeDateIntervals;return i&&i.length>0?i.some(function(s){var a=s.start,o=s.end;return rT(n,{start:a,end:o})}):r&&r.some(function(s){var a;return s instanceof Date?fr(n,s):fr(n,(a=s.date)!==null&&a!==void 0?a:new Date)})||!1}function Efe(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,o=t.filterDate;return iC(n,{minDate:r?Zue(r):void 0,maxDate:i?Jue(i):void 0})||(s==null?void 0:s.some(function(l){return Yo(n,l instanceof Date?l:l.date)}))||a&&!a.some(function(l){return Yo(n,l)})||o&&!o(wr(n))||!1}function TR(n,e,t,r){var i=ar(n),s=Hl(n),a=ar(e),o=Hl(e),l=ar(r);return i===a&&i===l?s<=t&&t<=o:i<a?l===i&&s<=t||l===a&&o>=t||l<a&&l>i:!1}function gKe(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates;return iC(n,{minDate:r,maxDate:i})||s&&s.some(function(o){return Yo(o instanceof Date?o:o.date,n)})||a&&!a.some(function(o){return Yo(o,n)})||!1}function CR(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,o=t.filterDate,l=t.disabled;return l?!0:iC(n,{minDate:r,maxDate:i})||(s==null?void 0:s.some(function(c){return XP(n,c instanceof Date?c:c.date)}))||a&&!a.some(function(c){return XP(n,c)})||o&&!o(wr(n))||!1}function kR(n,e,t){if(!e||!t||!hw(e)||!hw(t))return!1;var r=ar(e),i=ar(t);return r<=n&&i>=n}function x2(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.maxDate,s=t.excludeDates,a=t.includeDates,o=t.filterDate,l=t.disabled;if(l)return!0;var c=new Date(n,0,1);return iC(c,{minDate:r?n4(r):void 0,maxDate:i?Que(i):void 0})||(s==null?void 0:s.some(function(f){return Nd(c,f instanceof Date?f:f.date)}))||a&&!a.some(function(f){return Nd(c,f)})||o&&!o(wr(c))||!1}function RR(n,e,t,r){var i=ar(n),s=U0(n),a=ar(e),o=U0(e),l=ar(r);return i===a&&i===l?s<=t&&t<=o:i<a?l===i&&s<=t||l===a&&o>=t||l<a&&l>i:!1}function iC(n,e){var t,r=e===void 0?{}:e,i=r.minDate,s=r.maxDate;return(t=i&&dw(n,i)<0||s&&dw(n,s)>0)!==null&&t!==void 0?t:!1}function oZ(n,e){return e.some(function(t){return _o(t)===_o(n)&&wo(t)===wo(n)&&G0(t)===G0(n)})}function lZ(n,e){var t=e===void 0?{}:e,r=t.excludeTimes,i=t.includeTimes,s=t.filterTime;return r&&oZ(n,r)||i&&!oZ(n,i)||s&&!s(n)||!1}function cZ(n,e){var t=e.minTime,r=e.maxTime;if(!t||!r)throw new Error("Both minTime and maxTime props required");var i=wr();i=m2(i,_o(n)),i=g2(i,wo(n)),i=y2(i,G0(n));var s=wr();s=m2(s,_o(t)),s=g2(s,wo(t)),s=y2(s,G0(t));var a=wr();a=m2(a,_o(r)),a=g2(a,wo(r)),a=y2(a,G0(r));var o;try{o=!rT(i,{start:s,end:a})}catch{o=!1}return o}function uZ(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=Vv(n,1);return r&&UP(r,s)>0||i&&i.every(function(a){return UP(a,s)>0})||!1}function fZ(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=Bf(n,1);return r&&UP(s,r)>0||i&&i.every(function(a){return UP(s,a)>0})||!1}function yKe(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=n4(n),a=lfe(s);return r&&jP(r,a)>0||i&&i.every(function(o){return jP(o,a)>0})||!1}function vKe(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=Que(n),a=F7(s,1);return r&&jP(a,r)>0||i&&i.every(function(o){return jP(a,o)>0})||!1}function dZ(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.includeDates,s=sg(n,1);return r&&HP(r,s)>0||i&&i.every(function(a){return HP(a,s)>0})||!1}function xKe(n,e){var t=e===void 0?{}:e,r=t.minDate,i=t.yearItemNumber,s=i===void 0?rC:i,a=AM(sg(n,s)),o=Tp(a,s).endPeriod,l=r&&ar(r);return l&&l>o||!1}function hZ(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.includeDates,s=Of(n,1);return r&&HP(s,r)>0||i&&i.every(function(a){return HP(s,a)>0})||!1}function bKe(n,e){var t=e===void 0?{}:e,r=t.maxDate,i=t.yearItemNumber,s=i===void 0?rC:i,a=Of(n,s),o=Tp(a,s).startPeriod,l=r&&ar(r);return l&&l<o||!1}function Mfe(n){var e=n.minDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return dw(i,e)>=0});return LJ(r)}else return t?LJ(t):e}function Afe(n){var e=n.maxDate,t=n.includeDates;if(t&&e){var r=t.filter(function(i){return dw(i,e)<=0});return NJ(r)}else return t?NJ(t):e}function pZ(n,e){var t;n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var r=new Map,i=0,s=n.length;i<s;i++){var a=n[i];if(Qd(a)){var o=Ai(a,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(e)||(l.push(e),r.set(o,l))}else if(typeof a=="object"){var c=Object.keys(a),f=(t=c[0])!==null&&t!==void 0?t:"",d=a[f];if(typeof f=="string"&&Array.isArray(d))for(var p=0,g=d.length;p<g;p++){var b=d[p];if(b){var o=Ai(b,"MM.dd.yyyy"),l=r.get(o)||[];l.includes(f)||(l.push(f),r.set(o,l))}}}}return r}function _Ke(n,e){return n.length!==e.length?!1:n.every(function(t,r){return t===e[r]})}function wKe(n,e){n===void 0&&(n=[]),e===void 0&&(e="react-datepicker__day--holidays");var t=new Map;return n.forEach(function(r){var i=r.date,s=r.holidayName;if(Qd(i)){var a=Ai(i,"MM.dd.yyyy"),o=t.get(a)||{className:"",holidayNames:[]};if(!("className"in o&&o.className===e&&_Ke(o.holidayNames,[s]))){o.className=e;var l=o.holidayNames;o.holidayNames=l?Yd(Yd([],l,!0),[s],!1):[s],t.set(a,o)}}}),t}function SKe(n,e,t,r,i){for(var s=i.length,a=[],o=0;o<s;o++){var l=n,c=i[o];c&&(l=gGe(l,_o(c)),l=nT(l,wo(c)),l=xGe(l,G0(c)));var f=nT(n,(t+1)*r);Pp(l,e)&&qd(l,f)&&c!=null&&a.push(c)}return a}function h1(n){return n<10?"0".concat(n):"".concat(n)}function Tp(n,e){e===void 0&&(e=rC);var t=Math.ceil(ar(n)/e)*e,r=t-(e-1);return{startPeriod:r,endPeriod:t}}function EKe(n){var e=new Date(n.getFullYear(),n.getMonth(),n.getDate()),t=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+t-+e)/36e5)}function mZ(n){var e=n.getSeconds(),t=n.getMilliseconds();return rn(n.getTime()-e*1e3-t)}function Tfe(n,e){return mZ(n).getTime()===mZ(e).getTime()}function gZ(n){if(!Qd(n))throw new Error("Invalid date");var e=new Date(n);return e.setHours(0,0,0,0),e}function T5(n,e){if(!Qd(n)||!Qd(e))throw new Error("Invalid date received");var t=gZ(n),r=gZ(e);return qd(t,r)}function Cfe(n){return n.key===jt.Space}var C5=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;return r.inputRef=st.createRef(),r.onTimeChange=function(i){var s,a;r.setState({time:i});var o=r.props.date,l=o instanceof Date&&!isNaN(+o),c=l?o:new Date;if(i!=null&&i.includes(":")){var f=i.split(":"),d=f[0],p=f[1];c.setHours(Number(d)),c.setMinutes(Number(p))}(a=(s=r.props).onChange)===null||a===void 0||a.call(s,c)},r.renderTimeInput=function(){var i=r.state.time,s=r.props,a=s.date,o=s.timeString,l=s.customTimeInput;return l?L.cloneElement(l,{date:a,value:i,onChange:r.onTimeChange}):st.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:r.inputRef,onClick:function(){var c;(c=r.inputRef.current)===null||c===void 0||c.focus()},required:!0,value:i,onChange:function(c){r.onTimeChange(c.target.value||o)}})},r.state={time:r.props.timeString},r}return e.getDerivedStateFromProps=function(t,r){return t.timeString!==r.time?{time:t.timeString}:null},e.prototype.render=function(){return st.createElement("div",{className:"react-datepicker__input-time-container"},st.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),st.createElement("div",{className:"react-datepicker-time__input-container"},st.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(L.Component),MKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.dayEl=L.createRef(),t.handleClick=function(r){!t.isDisabled()&&t.props.onClick&&t.props.onClick(r)},t.handleMouseEnter=function(r){!t.isDisabled()&&t.props.onMouseEnter&&t.props.onMouseEnter(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isSameDay=function(r){return fr(t.props.day,r)},t.isKeyboardSelected=function(){var r;if(t.props.disabledKeyboardNavigation)return!1;var i=t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(a){return t.isSameDayOrWeek(a)}):t.isSameDayOrWeek(t.props.selected),s=t.props.preSelection&&t.isDisabled(t.props.preSelection);return!i&&t.isSameDayOrWeek(t.props.preSelection)&&!s},t.isDisabled=function(r){return r===void 0&&(r=t.props.day),gu(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(){return K7(t.props.day,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.isStartOfWeek=function(){return fr(t.props.day,q0(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameWeek=function(r){return t.props.showWeekPicker&&fr(r,q0(t.props.day,t.props.locale,t.props.calendarStartDay))},t.isSameDayOrWeek=function(r){return t.isSameDay(r)||t.isSameWeek(r)},t.getHighLightedClass=function(){var r=t.props,i=r.day,s=r.highlightDates;if(!s)return!1;var a=Ai(i,"MM.dd.yyyy");return s.get(a)},t.getHolidaysClass=function(){var r,i=t.props,s=i.day,a=i.holidays;if(!a)return[void 0];var o=Ai(s,"MM.dd.yyyy");return a.has(o)?[(r=a.get(o))===null||r===void 0?void 0:r.className]:[void 0]},t.isInRange=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:Ly(i,s,a)},t.isInSelectingRange=function(){var r,i=t.props,s=i.day,a=i.selectsStart,o=i.selectsEnd,l=i.selectsRange,c=i.selectsDisabledDaysInRange,f=i.startDate,d=i.swapRange,p=i.endDate,g=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;if(t.isAfterMonth()||t.isBeforeMonth()||!(a||o||l)||!g||!c&&t.isDisabled())return!1;if(a&&p&&(qd(g,p)||lv(g,p)))return Ly(s,g,p);if(o&&f&&(Pp(g,f)||lv(g,f)))return Ly(s,f,g);if(l&&f&&!p){if(lv(g,f)||Pp(g,f))return Ly(s,f,g);if(d&&qd(g,f))return Ly(s,g,f)}return!1},t.isSelectingRangeStart=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.startDate,o=i.selectsStart,l=i.swapRange,c=i.selectsRange,f=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return o?fr(s,f):c&&l&&a&&f?fr(s,qd(f,a)?f:a):fr(s,a)},t.isSelectingRangeEnd=function(){var r;if(!t.isInSelectingRange())return!1;var i=t.props,s=i.day,a=i.endDate,o=i.selectsEnd,l=i.selectsRange,c=i.swapRange,f=i.startDate,d=(r=t.props.selectingDate)!==null&&r!==void 0?r:t.props.preSelection;return o?fr(s,d):l&&c&&f&&d?fr(s,qd(d,f)?f:d):l?fr(s,d):fr(s,a)},t.isRangeStart=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:fr(s,i)},t.isRangeEnd=function(){var r=t.props,i=r.day,s=r.startDate,a=r.endDate;return!s||!a?!1:fr(a,i)},t.isWeekend=function(){var r=yqe(t.props.day);return r===0||r===6},t.isAfterMonth=function(){return t.props.month!==void 0&&(t.props.month+1)%12===Hl(t.props.day)},t.isBeforeMonth=function(){return t.props.month!==void 0&&(Hl(t.props.day)+1)%12===t.props.month},t.isCurrentDay=function(){return t.isSameDay(wr())},t.isSelected=function(){var r;return t.props.selectsMultiple?(r=t.props.selectedDates)===null||r===void 0?void 0:r.some(function(i){return t.isSameDayOrWeek(i)}):t.isSameDayOrWeek(t.props.selected)},t.getClassNames=function(r){var i=t.props.dayClassName?t.props.dayClassName(r):void 0;return In("react-datepicker__day",i,"react-datepicker__day--"+cKe(t.props.day),{"react-datepicker__day--disabled":t.isDisabled(),"react-datepicker__day--excluded":t.isExcluded(),"react-datepicker__day--selected":t.isSelected(),"react-datepicker__day--keyboard-selected":t.isKeyboardSelected(),"react-datepicker__day--range-start":t.isRangeStart(),"react-datepicker__day--range-end":t.isRangeEnd(),"react-datepicker__day--in-range":t.isInRange(),"react-datepicker__day--in-selecting-range":t.isInSelectingRange(),"react-datepicker__day--selecting-range-start":t.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":t.isSelectingRangeEnd(),"react-datepicker__day--today":t.isCurrentDay(),"react-datepicker__day--weekend":t.isWeekend(),"react-datepicker__day--outside-month":t.isAfterMonth()||t.isBeforeMonth()},t.getHighLightedClass(),t.getHolidaysClass())},t.getAriaLabel=function(){var r=t.props,i=r.day,s=r.ariaLabelPrefixWhenEnabled,a=s===void 0?"Choose":s,o=r.ariaLabelPrefixWhenDisabled,l=o===void 0?"Not available":o,c=t.isDisabled()||t.isExcluded()?l:a;return"".concat(c," ").concat(Ai(i,"PPPP",t.props.locale))},t.getTitle=function(){var r=t.props,i=r.day,s=r.holidays,a=s===void 0?new Map:s,o=r.excludeDates,l=Ai(i,"MM.dd.yyyy"),c=[];return a.has(l)&&c.push.apply(c,a.get(l).holidayNames),t.isExcluded()&&c.push(o==null?void 0:o.filter(function(f){return f instanceof Date?fr(f,i):fr(f==null?void 0:f.date,i)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),c.join(", ")},t.getTabIndex=function(){var r=t.props.selected,i=t.props.preSelection,s=!(t.props.showWeekPicker&&(t.props.showWeekNumber||!t.isStartOfWeek()))&&(t.isKeyboardSelected()||t.isSameDay(r)&&fr(i,r))?0:-1;return s},t.handleFocusDay=function(){var r;t.shouldFocusDay()&&((r=t.dayEl.current)===null||r===void 0||r.focus({preventScroll:!0}))},t.renderDayContents=function(){return t.props.monthShowsDuplicateDaysEnd&&t.isAfterMonth()||t.props.monthShowsDuplicateDaysStart&&t.isBeforeMonth()?null:t.props.renderDayContents?t.props.renderDayContents(VJ(t.props.day),t.props.day):VJ(t.props.day)},t.render=function(){return st.createElement("div",{ref:t.dayEl,className:t.getClassNames(t.props.day),onKeyDown:t.handleOnKeyDown,onClick:t.handleClick,onMouseEnter:t.props.usePointerEvent?void 0:t.handleMouseEnter,onPointerEnter:t.props.usePointerEvent?t.handleMouseEnter:void 0,tabIndex:t.getTabIndex(),"aria-label":t.getAriaLabel(),role:"gridcell",title:t.getTitle(),"aria-disabled":t.isDisabled(),"aria-current":t.isCurrentDay()?"date":void 0,"aria-selected":t.isSelected()||t.isInRange()},t.renderDayContents(),t.getTitle()!==""&&st.createElement("span",{className:"overlay"},t.getTitle()))},t}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var t=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(t=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(t=!1),this.isDayActiveElement()&&(t=!0),this.isDuplicateDay()&&(t=!1)),t},e.prototype.isDayActiveElement=function(){var t,r,i;return((r=(t=this.props.containerRef)===null||t===void 0?void 0:t.current)===null||r===void 0?void 0:r.contains(document.activeElement))&&((i=document.activeElement)===null||i===void 0?void 0:i.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(L.Component),AKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.weekNumberEl=L.createRef(),t.handleClick=function(r){t.props.onClick&&t.props.onClick(r)},t.handleOnKeyDown=function(r){var i,s,a=r.key;a===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(s=(i=t.props).handleOnKeyDown)===null||s===void 0||s.call(i,r)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!fr(t.props.date,t.props.selected)&&fr(t.props.date,t.props.preSelection)},t.getTabIndex=function(){return t.props.showWeekPicker&&t.props.showWeekNumber&&(t.isKeyboardSelected()||fr(t.props.date,t.props.selected)&&fr(t.props.preSelection,t.props.selected))?0:-1},t.handleFocusWeekNumber=function(r){var i=!1;t.getTabIndex()===0&&!(r!=null&&r.isInputFocused)&&fr(t.props.date,t.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(i=!0),t.props.inline&&!t.props.shouldFocusDayInline&&(i=!1),t.props.containerRef&&t.props.containerRef.current&&t.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(i=!0)),i&&t.weekNumberEl.current&&t.weekNumberEl.current.focus({preventScroll:!0})},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(t){this.handleFocusWeekNumber(t)},e.prototype.render=function(){var t=this.props,r=t.weekNumber,i=t.isWeekDisabled,s=t.ariaLabelPrefix,a=s===void 0?e.defaultProps.ariaLabelPrefix:s,o=t.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o&&!i,"react-datepicker__week-number--selected":!!o&&fr(this.props.date,this.props.selected)};return st.createElement("div",{ref:this.weekNumberEl,className:In(l),"aria-label":"".concat(a," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},r)},e})(L.Component),TKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.isDisabled=function(r){return gu(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate})},t.handleDayClick=function(r,i){t.props.onDayClick&&t.props.onDayClick(r,i)},t.handleDayMouseEnter=function(r){t.props.onDayMouseEnter&&t.props.onDayMouseEnter(r)},t.handleWeekClick=function(r,i,s){for(var a,o,l,c=new Date(r),f=0;f<7;f++){var d=new Date(r);d.setDate(d.getDate()+f);var p=!t.isDisabled(d);if(p){c=d;break}}typeof t.props.onWeekSelect=="function"&&t.props.onWeekSelect(c,i,s),t.props.showWeekPicker&&t.handleDayClick(c,s),((a=t.props.shouldCloseOnSelect)!==null&&a!==void 0?a:e.defaultProps.shouldCloseOnSelect)&&((l=(o=t.props).setOpen)===null||l===void 0||l.call(o,!1))},t.formatWeekNumber=function(r){return t.props.formatWeekNumber?t.props.formatWeekNumber(r):lKe(r)},t.isWeekDisabled=function(){for(var r=t.startOfWeek(),i=Rf(r,6),s=new Date(r);s<=i;){if(!t.isDisabled(s))return!1;s=Rf(s,1)}return!0},t.renderDays=function(){var r=t.startOfWeek(),i=[],s=t.formatWeekNumber(r);if(t.props.showWeekNumber){var a=t.props.onWeekSelect||t.props.showWeekPicker?t.handleWeekClick.bind(t,r,s):void 0;i.push(st.createElement(AKe,Qn({key:"W"},e.defaultProps,t.props,{weekNumber:s,isWeekDisabled:t.isWeekDisabled(),date:r,onClick:a})))}return i.concat([0,1,2,3,4,5,6].map(function(o){var l=Rf(r,o);return st.createElement(MKe,Qn({},e.defaultProps,t.props,{ariaLabelPrefixWhenEnabled:t.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:t.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:t.handleDayClick.bind(t,l),onMouseEnter:t.handleDayMouseEnter.bind(t,l)}))}))},t.startOfWeek=function(){return q0(t.props.day,t.props.locale,t.props.calendarStartDay)},t.isKeyboardSelected=function(){return!t.props.disabledKeyboardNavigation&&!fr(t.startOfWeek(),t.props.selected)&&fr(t.startOfWeek(),t.props.preSelection)},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var t={"react-datepicker__week":!0,"react-datepicker__week--selected":fr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},r=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return st.createElement("div",{className:In(t,r),role:"row"},this.renderDays())},e})(L.Component),oM,CKe=6,t_={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},k5=(oM={},oM[t_.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},oM[t_.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},oM[t_.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},oM),OR=1;function yZ(n,e){return n?t_.FOUR_COLUMNS:e?t_.TWO_COLUMNS:t_.THREE_COLUMNS}var kKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.MONTH_REFS=Yd([],Array(12),!0).map(function(){return L.createRef()}),t.QUARTER_REFS=Yd([],Array(4),!0).map(function(){return L.createRef()}),t.isDisabled=function(r){return gu(r,{minDate:t.props.minDate,maxDate:t.props.maxDate,excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals,includeDateIntervals:t.props.includeDateIntervals,includeDates:t.props.includeDates,filterDate:t.props.filterDate,disabled:t.props.disabled})},t.isExcluded=function(r){return K7(r,{excludeDates:t.props.excludeDates,excludeDateIntervals:t.props.excludeDateIntervals})},t.handleDayClick=function(r,i){var s,a;(a=(s=t.props).onDayClick)===null||a===void 0||a.call(s,r,i,t.props.orderInDisplay)},t.handleDayMouseEnter=function(r){var i,s;(s=(i=t.props).onDayMouseEnter)===null||s===void 0||s.call(i,r)},t.handleMouseLeave=function(){var r,i;(i=(r=t.props).onMouseLeave)===null||i===void 0||i.call(r)},t.isRangeStartMonth=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:Yo(fc(s,r),a)},t.isRangeStartQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:XP(E1(s,r),a)},t.isRangeEndMonth=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:Yo(fc(s,r),o)},t.isRangeEndQuarter=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate;return!a||!o?!1:XP(E1(s,r),o)},t.isInSelectingRangeMonth=function(r){var i,s=t.props,a=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,f=s.startDate,d=s.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(o||l||c)||!p?!1:o&&d?TR(p,d,r,a):l&&f||c&&f&&!d?TR(f,p,r,a):!1},t.isSelectingMonthRangeStart=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,o=s.startDate,l=s.selectsStart,c=fc(a,r),f=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l?Yo(c,f):Yo(c,o)},t.isSelectingMonthRangeEnd=function(r){var i;if(!t.isInSelectingRangeMonth(r))return!1;var s=t.props,a=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,f=fc(a,r),d=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return l||c?Yo(f,d):Yo(f,o)},t.isInSelectingRangeQuarter=function(r){var i,s=t.props,a=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,f=s.startDate,d=s.endDate,p=(i=t.props.selectingDate)!==null&&i!==void 0?i:t.props.preSelection;return!(o||l||c)||!p?!1:o&&d?RR(p,d,r,a):l&&f||c&&f&&!d?RR(f,p,r,a):!1},t.isWeekInMonth=function(r){var i=t.props.day,s=Rf(r,6);return Yo(r,i)||Yo(s,i)},t.isCurrentMonth=function(r,i){return ar(r)===ar(wr())&&i===Hl(wr())},t.isCurrentQuarter=function(r,i){return ar(r)===ar(wr())&&i===U0(wr())},t.isSelectedMonth=function(r,i,s){return Hl(s)===i&&ar(r)===ar(s)},t.isSelectMonthInList=function(r,i,s){return s.some(function(a){return t.isSelectedMonth(r,i,a)})},t.isSelectedQuarter=function(r,i,s){return U0(s)===i&&ar(r)===ar(s)},t.isSelectQuarterInList=function(r,i,s){return s.some(function(a){return t.isSelectedQuarter(r,i,a)})},t.isMonthSelected=function(){var r=t.props,i=r.day,s=r.selected,a=r.selectedDates,o=r.selectsMultiple,l=Hl(i);return o?a==null?void 0:a.some(function(c){return t.isSelectedMonth(i,l,c)}):!!s&&t.isSelectedMonth(i,l,s)},t.isQuarterSelected=function(){var r=t.props,i=r.day,s=r.selected,a=r.selectedDates,o=r.selectsMultiple,l=U0(i);return o?a==null?void 0:a.some(function(c){return t.isSelectedQuarter(i,l,c)}):!!s&&t.isSelectedQuarter(i,l,s)},t.renderWeeks=function(){if(!Fl(t.props.day))return[];for(var r=[],i=t.props.fixedHeight,s=0,a=!1,o=q0(Dp(t.props.day),t.props.locale,t.props.calendarStartDay),l=function(b){return t.props.showWeekPicker?q0(b,t.props.locale,t.props.calendarStartDay):t.props.preSelection},c=function(b){return t.props.showWeekPicker?q0(b,t.props.locale,t.props.calendarStartDay):t.props.selected},f=t.props.selected?c(t.props.selected):void 0,d=t.props.preSelection?l(t.props.preSelection):void 0;r.push(st.createElement(TKe,Qn({},t.props,{ariaLabelPrefix:t.props.weekAriaLabelPrefix,key:s,day:o,month:Hl(t.props.day),onDayClick:t.handleDayClick,onDayMouseEnter:t.handleDayMouseEnter,selected:f,preSelection:d,showWeekNumber:t.props.showWeekNumbers}))),!a;){s++,o=zP(o,1);var p=i&&s>=CKe,g=!i&&!t.isWeekInMonth(o);if(p||g)if(t.props.peekNextMonth)a=!0;else break}return r},t.onMonthClick=function(r,i){var s=t.isMonthDisabledForLabelDate(i),a=s.isDisabled,o=s.labelDate;a||t.handleDayClick(Dp(o),r)},t.onMonthMouseEnter=function(r){var i=t.isMonthDisabledForLabelDate(r),s=i.isDisabled,a=i.labelDate;s||t.handleDayMouseEnter(Dp(a))},t.handleMonthNavigation=function(r,i){var s,a,o,l;(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(l=(o=t.MONTH_REFS[r])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()},t.handleKeyboardNavigation=function(r,i,s){var a,o=t.props,l=o.selected,c=o.preSelection,f=o.setPreSelection,d=o.minDate,p=o.maxDate,g=o.showFourColumnMonthYearPicker,b=o.showTwoColumnMonthYearPicker;if(c){var S=yZ(g,b),w=t.getVerticalOffset(S),E=(a=k5[S])===null||a===void 0?void 0:a.grid,k=function(B,z,V){var Y,q,J=z,re=V;switch(B){case jt.ArrowRight:J=Bf(z,OR),re=V===11?0:V+OR;break;case jt.ArrowLeft:J=Vv(z,OR),re=V===0?11:V-OR;break;case jt.ArrowUp:J=Vv(z,w),re=!((Y=E==null?void 0:E[0])===null||Y===void 0)&&Y.includes(V)?V+12-w:V-w;break;case jt.ArrowDown:J=Bf(z,w),re=!((q=E==null?void 0:E[E.length-1])===null||q===void 0)&&q.includes(V)?V-12+w:V+w;break}return{newCalculatedDate:J,newCalculatedMonth:re}},R=function(B,z,V){for(var Y=40,q=B,J=!1,re=0,fe=k(q,z,V),ne=fe.newCalculatedDate,te=fe.newCalculatedMonth;!J;){if(re>=Y){ne=z,te=V;break}if(d&&ne<d){q=jt.ArrowRight;var se=k(q,ne,te);ne=se.newCalculatedDate,te=se.newCalculatedMonth}if(p&&ne>p){q=jt.ArrowLeft;var se=k(q,ne,te);ne=se.newCalculatedDate,te=se.newCalculatedMonth}if(gKe(ne,t.props)){var se=k(q,ne,te);ne=se.newCalculatedDate,te=se.newCalculatedMonth}else J=!0;re++}return{newCalculatedDate:ne,newCalculatedMonth:te}};if(i===jt.Enter){t.isMonthDisabled(s)||(t.onMonthClick(r,s),f==null||f(l));return}var O=R(i,c,s),D=O.newCalculatedDate,I=O.newCalculatedMonth;switch(i){case jt.ArrowRight:case jt.ArrowLeft:case jt.ArrowUp:case jt.ArrowDown:t.handleMonthNavigation(I,D);break}}},t.getVerticalOffset=function(r){var i,s;return(s=(i=k5[r])===null||i===void 0?void 0:i.verticalNavigationOffset)!==null&&s!==void 0?s:0},t.onMonthKeyDown=function(r,i){var s=t.props,a=s.disabledKeyboardNavigation,o=s.handleOnMonthKeyDown,l=r.key;l!==jt.Tab&&r.preventDefault(),a||t.handleKeyboardNavigation(r,l,i),o&&o(r)},t.onQuarterClick=function(r,i){var s=E1(t.props.day,i);CR(s,t.props)||t.handleDayClick(iZ(s),r)},t.onQuarterMouseEnter=function(r){var i=E1(t.props.day,r);CR(i,t.props)||t.handleDayMouseEnter(iZ(i))},t.handleQuarterNavigation=function(r,i){var s,a,o,l;t.isDisabled(i)||t.isExcluded(i)||((a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,i),(l=(o=t.QUARTER_REFS[r-1])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus())},t.onQuarterKeyDown=function(r,i){var s,a,o=r.key;if(!t.props.disabledKeyboardNavigation)switch(o){case jt.Enter:t.onQuarterClick(r,i),(a=(s=t.props).setPreSelection)===null||a===void 0||a.call(s,t.props.selected);break;case jt.ArrowRight:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===4?1:i+1,F7(t.props.preSelection,1));break;case jt.ArrowLeft:if(!t.props.preSelection)break;t.handleQuarterNavigation(i===1?4:i-1,lfe(t.props.preSelection));break}},t.isMonthDisabledForLabelDate=function(r){var i,s=t.props,a=s.day,o=s.disabled,l=s.minDate,c=s.maxDate,f=s.excludeDates,d=s.includeDates,p=fc(a,r);return o?{isDisabled:!0,labelDate:fc(a,r)}:{isDisabled:(i=(l||c||f||d)&&Efe(p,t.props))!==null&&i!==void 0?i:!1,labelDate:p}},t.isMonthDisabled=function(r){var i=t.isMonthDisabledForLabelDate(r).isDisabled;return i},t.getMonthClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate,l=i.preSelection,c=i.monthClassName,f=c?c(fc(s,r)):void 0,d=t.getSelection();return In("react-datepicker__month-text","react-datepicker__month-".concat(r),f,{"react-datepicker__month-text--disabled":t.isMonthDisabled(r),"react-datepicker__month-text--selected":d?t.isSelectMonthInList(s,r,d):void 0,"react-datepicker__month-text--keyboard-selected":!t.props.disabledKeyboardNavigation&&l&&t.isSelectedMonth(s,r,l)&&!t.isMonthSelected()&&!t.isMonthDisabled(r),"react-datepicker__month-text--in-selecting-range":t.isInSelectingRangeMonth(r),"react-datepicker__month-text--in-range":a&&o?TR(a,o,r,s):void 0,"react-datepicker__month-text--range-start":t.isRangeStartMonth(r),"react-datepicker__month-text--range-end":t.isRangeEndMonth(r),"react-datepicker__month-text--selecting-range-start":t.isSelectingMonthRangeStart(r),"react-datepicker__month-text--selecting-range-end":t.isSelectingMonthRangeEnd(r),"react-datepicker__month-text--today":t.isCurrentMonth(s,r)})},t.getTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=Hl(t.props.preSelection),s=t.isMonthDisabledForLabelDate(i).isDisabled,a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getQuarterTabIndex=function(r){if(t.props.preSelection==null)return"-1";var i=U0(t.props.preSelection),s=CR(t.props.day,t.props),a=r===i&&!(s||t.props.disabledKeyboardNavigation)?"0":"-1";return a},t.getAriaLabel=function(r){var i=t.props,s=i.chooseDayAriaLabelPrefix,a=s===void 0?"Choose":s,o=i.disabledDayAriaLabelPrefix,l=o===void 0?"Not available":o,c=i.day,f=i.locale,d=fc(c,r),p=t.isDisabled(d)||t.isExcluded(d)?l:a;return"".concat(p," ").concat(Ai(d,"MMMM yyyy",f))},t.getQuarterClassNames=function(r){var i=t.props,s=i.day,a=i.startDate,o=i.endDate,l=i.minDate,c=i.maxDate,f=i.excludeDates,d=i.includeDates,p=i.filterDate,g=i.preSelection,b=i.disabledKeyboardNavigation,S=i.disabled,w=(l||c||f||d||p||S)&&CR(E1(s,r),t.props),E=t.getSelection();return In("react-datepicker__quarter-text","react-datepicker__quarter-".concat(r),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":E?t.isSelectQuarterInList(s,r,E):void 0,"react-datepicker__quarter-text--keyboard-selected":!b&&g&&t.isSelectedQuarter(s,r,g)&&!t.isQuarterSelected()&&!w,"react-datepicker__quarter-text--in-selecting-range":t.isInSelectingRangeQuarter(r),"react-datepicker__quarter-text--in-range":a&&o?RR(a,o,r,s):void 0,"react-datepicker__quarter-text--range-start":t.isRangeStartQuarter(r),"react-datepicker__quarter-text--range-end":t.isRangeEndQuarter(r),"react-datepicker__quarter-text--today":t.isCurrentQuarter(s,r)})},t.getMonthContent=function(r){var i=t.props,s=i.showFullMonthYearPicker,a=i.renderMonthContent,o=i.locale,l=i.day,c=Sfe(r,o),f=X7(r,o);return a?a(r,c,f,l):s?f:c},t.getQuarterContent=function(r){var i,s=t.props,a=s.renderQuarterContent,o=s.locale,l=mKe(r,o);return(i=a==null?void 0:a(r,l))!==null&&i!==void 0?i:l},t.renderMonths=function(){var r,i=t.props,s=i.showTwoColumnMonthYearPicker,a=i.showFourColumnMonthYearPicker,o=i.day,l=i.selected,c=(r=k5[yZ(a,s)])===null||r===void 0?void 0:r.grid;return c==null?void 0:c.map(function(f,d){return st.createElement("div",{className:"react-datepicker__month-wrapper",key:d},f.map(function(p,g){return st.createElement("div",{ref:t.MONTH_REFS[p],key:g,onClick:function(b){t.onMonthClick(b,p)},onKeyDown:function(b){Cfe(b)&&(b.preventDefault(),b.key=jt.Enter),t.onMonthKeyDown(b,p)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onMonthMouseEnter(p)},onPointerEnter:t.props.usePointerEvent?function(){return t.onMonthMouseEnter(p)}:void 0,tabIndex:Number(t.getTabIndex(p)),className:t.getMonthClassNames(p),"aria-disabled":t.isMonthDisabled(p),role:"option","aria-label":t.getAriaLabel(p),"aria-current":t.isCurrentMonth(o,p)?"date":void 0,"aria-selected":l?t.isSelectedMonth(o,p,l):void 0},t.getMonthContent(p))}))})},t.renderQuarters=function(){var r=t.props,i=r.day,s=r.selected,a=[1,2,3,4];return st.createElement("div",{className:"react-datepicker__quarter-wrapper"},a.map(function(o,l){return st.createElement("div",{key:l,ref:t.QUARTER_REFS[l],role:"option",onClick:function(c){t.onQuarterClick(c,o)},onKeyDown:function(c){t.onQuarterKeyDown(c,o)},onMouseEnter:t.props.usePointerEvent?void 0:function(){return t.onQuarterMouseEnter(o)},onPointerEnter:t.props.usePointerEvent?function(){return t.onQuarterMouseEnter(o)}:void 0,className:t.getQuarterClassNames(o),"aria-selected":s?t.isSelectedQuarter(i,o,s):void 0,tabIndex:Number(t.getQuarterTabIndex(o)),"aria-current":t.isCurrentQuarter(i,o)?"date":void 0},t.getQuarterContent(o))}))},t.getClassNames=function(){var r=t.props,i=r.selectingDate,s=r.selectsStart,a=r.selectsEnd,o=r.showMonthYearPicker,l=r.showQuarterYearPicker,c=r.showWeekPicker;return In("react-datepicker__month",{"react-datepicker__month--selecting-range":i&&(s||a)},{"react-datepicker__monthPicker":o},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":c})},t}return e.prototype.getSelection=function(){var t=this.props,r=t.selected,i=t.selectedDates,s=t.selectsMultiple;if(s)return i;if(r)return[r]},e.prototype.render=function(){var t=this.props,r=t.showMonthYearPicker,i=t.showQuarterYearPicker,s=t.day,a=t.ariaLabelPrefix,o=a===void 0?"Month ":a,l=o?o.trim()+" ":"",c=Fl(s)?"".concat(l).concat(Ai(s,"MMMM, yyyy",this.props.locale)):"",f=r||i;return f?st.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":c,role:"listbox"},r?this.renderMonths():this.renderQuarters()):st.createElement("div",{role:"table"},this.props.dayNamesHeader&&st.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),this.props.monthHeader&&st.createElement("div",{role:"rowgroup"},this.props.monthHeader),st.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":c,role:"rowgroup"},this.renderWeeks()),this.props.monthFooter&&st.createElement("div",{role:"rowgroup"},this.props.monthFooter))},e})(L.Component),RKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.monthOptionButtonsRef={},t.isSelectedMonth=function(r){return t.props.month===r},t.handleOptionKeyDown=function(r,i){var s;switch(i.key){case"Enter":i.preventDefault(),t.onChange(r);break;case"Escape":i.preventDefault(),t.props.onCancel();break;case"ArrowUp":case"ArrowDown":{i.preventDefault();var a=(r+(i.key==="ArrowUp"?-1:1)+t.props.monthNames.length)%t.props.monthNames.length;(s=t.monthOptionButtonsRef[a])===null||s===void 0||s.focus();break}}},t.renderOptions=function(){return t.monthOptionButtonsRef={},t.props.monthNames.map(function(r,i){return st.createElement("div",{ref:function(s){t.monthOptionButtonsRef[i]=s,t.isSelectedMonth(i)&&(s==null||s.focus())},role:"button",tabIndex:0,className:t.isSelectedMonth(i)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:r,onClick:t.onChange.bind(t,i),onKeyDown:t.handleOptionKeyDown.bind(t,i),"aria-selected":t.isSelectedMonth(i)?"true":void 0},t.isSelectedMonth(i)?st.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",r)})},t.onChange=function(r){return t.props.onChange(r)},t.handleClickOutside=function(){return t.props.onCancel()},t}return e.prototype.render=function(){return st.createElement(l4,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(L.Component),OKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(r){return r.map(function(i,s){return st.createElement("option",{key:i,value:s},i)})},t.renderSelectMode=function(r){return st.createElement("select",{value:t.props.month,className:"react-datepicker__month-select",onChange:function(i){return t.onChange(parseInt(i.target.value))}},t.renderSelectOptions(r))},t.renderReadView=function(r,i){return st.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:t.toggleDropdown},st.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},i[t.props.month]))},t.renderDropdown=function(r){return st.createElement(RKe,Qn({key:"dropdown"},t.props,{monthNames:r,onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(r){var i=t.state.dropdownVisible,s=[t.renderReadView(!i,r)];return i&&s.unshift(t.renderDropdown(r)),s},t.onChange=function(r){t.toggleDropdown(),r!==t.props.month&&t.props.onChange(r)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t=this,r=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return Sfe(s,t.props.locale)}:function(s){return X7(s,t.props.locale)}),i;switch(this.props.dropdownMode){case"scroll":i=this.renderScrollMode(r);break;case"select":i=this.renderSelectMode(r);break}return st.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},i)},e})(L.Component),vZ=5;function PKe(n,e,t){for(var r=[],i=n??sg(t,vZ),s=e??Of(t,vZ),a=Dp(i),o=Dp(s);!Pp(a,o);)r.push(wr(a)),a=Bf(a,1);return r}var DKe=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;return r.renderOptions=function(){return r.state.monthYearsList.map(function(i){var s=NF(i),a=Nd(r.props.date,i)&&Yo(r.props.date,i);return st.createElement("div",{className:a?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":a?"true":void 0},a?st.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Ai(i,r.props.dateFormat,r.props.locale))})},r.onChange=function(i){return r.props.onChange(i)},r.handleClickOutside=function(){r.props.onCancel()},r.state={monthYearsList:PKe(r.props.minDate,r.props.maxDate,r.props.date)},r}return e.prototype.render=function(){var t=In({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return st.createElement(l4,{className:t,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(L.Component),xZ=5,IKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r,i,s=(r=t.props.minDate)!==null&&r!==void 0?r:sg(t.props.date,xZ),a=(i=t.props.maxDate)!==null&&i!==void 0?i:Of(t.props.date,xZ),o=Dp(s),l=Dp(a),c=[];!Pp(o,l);){var f=NF(o);c.push(st.createElement("option",{key:f,value:f},Ai(o,t.props.dateFormat,t.props.locale))),o=Bf(o,1)}return c},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return st.createElement("select",{value:NF(Dp(t.props.date)),className:"react-datepicker__month-year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){var i=Ai(t.props.date,t.props.dateFormat,t.props.locale);return st.createElement("div",{key:"read",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:t.toggleDropdown},st.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},i))},t.renderDropdown=function(){return st.createElement(DKe,Qn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown();var i=wr(r);Nd(t.props.date,i)&&Yo(t.props.date,i)||t.props.onChange(i)},t.toggleDropdown=function(){return t.setState({dropdownVisible:!t.state.dropdownVisible})},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return st.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(L.Component),NKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={height:null},t.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var r,i,s;t.list&&(t.list.scrollTop=(s=t.centerLi&&e.calcCenterPosition(t.props.monthRef?t.props.monthRef.clientHeight-((i=(r=t.header)===null||r===void 0?void 0:r.clientHeight)!==null&&i!==void 0?i:0):t.list.clientHeight,t.centerLi))!==null&&s!==void 0?s:0)})},t.handleClick=function(r){var i,s;(t.props.minTime||t.props.maxTime)&&cZ(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&lZ(r,t.props)||(s=(i=t.props).onChange)===null||s===void 0||s.call(i,r)},t.isSelectedTime=function(r){var i=ov(t.props.selected);return i&&Tfe(i,r)},t.isDisabledTime=function(r){return(t.props.minTime||t.props.maxTime)&&cZ(r,t.props)||(t.props.excludeTimes||t.props.includeTimes||t.props.filterTime)&&lZ(r,t.props)},t.liClasses=function(r){var i,s=["react-datepicker__time-list-item",t.props.timeClassName?t.props.timeClassName(r):void 0];return t.isSelectedTime(r)&&s.push("react-datepicker__time-list-item--selected"),t.isDisabledTime(r)&&s.push("react-datepicker__time-list-item--disabled"),t.props.injectTimes&&(_o(r)*3600+wo(r)*60+G0(r))%(((i=t.props.intervals)!==null&&i!==void 0?i:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},t.handleOnKeyDown=function(r,i){var s,a;r.key===jt.Space&&(r.preventDefault(),r.key=jt.Enter),(r.key===jt.ArrowUp||r.key===jt.ArrowLeft)&&r.target instanceof HTMLElement&&r.target.previousSibling&&(r.preventDefault(),r.target.previousSibling instanceof HTMLElement&&r.target.previousSibling.focus()),(r.key===jt.ArrowDown||r.key===jt.ArrowRight)&&r.target instanceof HTMLElement&&r.target.nextSibling&&(r.preventDefault(),r.target.nextSibling instanceof HTMLElement&&r.target.nextSibling.focus()),r.key===jt.Enter&&t.handleClick(i),(a=(s=t.props).handleOnKeyDown)===null||a===void 0||a.call(s,r)},t.renderTimes=function(){for(var r,i=[],s=typeof t.props.format=="string"?t.props.format:"p",a=(r=t.props.intervals)!==null&&r!==void 0?r:e.defaultProps.intervals,o=ov(t.props.selected)||ov(t.props.openToDate)||wr(),l=MM(o),c=t.props.injectTimes&&t.props.injectTimes.sort(function(w,E){return w.getTime()-E.getTime()}),f=60*EKe(o),d=f/a,p=0;p<d;p++){var g=nT(l,p*a);if(i.push(g),c){var b=SKe(l,g,p,a,c);i=i.concat(b)}}var S=i.reduce(function(w,E){return E.getTime()<=o.getTime()?E:w},i[0]);return i.map(function(w){return st.createElement("li",{key:w.valueOf(),onClick:t.handleClick.bind(t,w),className:t.liClasses(w),ref:function(E){w===S&&(t.centerLi=E)},onKeyDown:function(E){t.handleOnKeyDown(E,w)},tabIndex:w===S?0:-1,role:"option","aria-selected":t.isSelectedTime(w)?"true":void 0,"aria-disabled":t.isDisabledTime(w)?"true":void 0},Ai(w,s,t.props.locale))})},t.renderTimeCaption=function(){return t.props.showTimeCaption===!1?st.createElement(st.Fragment,null):st.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(t.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(r){t.header=r}},st.createElement("div",{className:"react-datepicker-time__header"},t.props.timeCaption))},t}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var t;(t=this.resizeObserver)===null||t===void 0||t.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var t=this,r=this.props.monthRef;this.updateContainerHeight(),r&&(this.resizeObserver=new ResizeObserver(function(){t.updateContainerHeight()}),this.resizeObserver.observe(r))},e.prototype.updateContainerHeight=function(){if(this.props.monthRef&&this.header){var t=this.props.monthRef.clientHeight-this.header.clientHeight;this.state.height!==t&&this.setState({height:t})}},e.prototype.render=function(){var t=this,r,i=this.state.height;return st.createElement("div",{className:"react-datepicker__time-container ".concat(((r=this.props.todayButton)!==null&&r!==void 0?r:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),st.createElement("div",{className:"react-datepicker__time"},st.createElement("div",{className:"react-datepicker__time-box"},st.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){t.list=s},style:i?{height:i}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(t,r){return r.offsetTop-(t/2-r.clientHeight/2)},e})(L.Component),bZ=3,LKe=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;return r.YEAR_REFS=Yd([],Array(r.props.yearItemNumber),!0).map(function(){return L.createRef()}),r.isDisabled=function(i){return gu(i,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(i){return K7(i,{excludeDates:r.props.excludeDates})},r.selectingDate=function(){var i;return(i=r.props.selectingDate)!==null&&i!==void 0?i:r.props.preSelection},r.updateFocusOnPaginate=function(i){var s=function(){var a,o;(o=(a=r.YEAR_REFS[i])===null||a===void 0?void 0:a.current)===null||o===void 0||o.focus()};window.requestAnimationFrame(s)},r.handleYearClick=function(i,s){r.props.onDayClick&&r.props.onDayClick(i,s)},r.handleYearNavigation=function(i,s){var a,o,l,c,f=r.props,d=f.date,p=f.yearItemNumber;if(!(d===void 0||p===void 0)){var g=Tp(d,p).startPeriod;r.isDisabled(s)||r.isExcluded(s)||((o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,s),i-g<0?r.updateFocusOnPaginate(p-(g-i)):i-g>=p?r.updateFocusOnPaginate(Math.abs(p-(i-g))):(c=(l=r.YEAR_REFS[i-g])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())}},r.isSameDay=function(i,s){return fr(i,s)},r.isCurrentYear=function(i){return i===ar(wr())},r.isRangeStart=function(i){return r.props.startDate&&r.props.endDate&&Nd(Ad(wr(),i),r.props.startDate)},r.isRangeEnd=function(i){return r.props.startDate&&r.props.endDate&&Nd(Ad(wr(),i),r.props.endDate)},r.isInRange=function(i){return kR(i,r.props.startDate,r.props.endDate)},r.isInSelectingRange=function(i){var s=r.props,a=s.selectsStart,o=s.selectsEnd,l=s.selectsRange,c=s.startDate,f=s.endDate;return!(a||o||l)||!r.selectingDate()?!1:a&&f?kR(i,r.selectingDate(),f):o&&c||l&&c&&!f?kR(i,c,r.selectingDate()):!1},r.isSelectingRangeStart=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,o=a.startDate,l=a.selectsStart,c=Ad(wr(),i);return l?Nd(c,(s=r.selectingDate())!==null&&s!==void 0?s:null):Nd(c,o??null)},r.isSelectingRangeEnd=function(i){var s;if(!r.isInSelectingRange(i))return!1;var a=r.props,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,f=Ad(wr(),i);return l||c?Nd(f,(s=r.selectingDate())!==null&&s!==void 0?s:null):Nd(f,o??null)},r.isKeyboardSelected=function(i){if(!(r.props.disabledKeyboardNavigation||r.props.date===void 0||r.props.preSelection==null)){var s=r.props,a=s.minDate,o=s.maxDate,l=s.excludeDates,c=s.includeDates,f=s.filterDate,d=s.selected,p=AM(Ad(r.props.date,i)),g=(a||o||l||c||f)&&x2(i,r.props),b=!!d&&fr(p,AM(d)),S=fr(p,AM(r.props.preSelection));return!r.props.inline&&!b&&S&&!g}},r.isSelectedYear=function(i){var s=r.props,a=s.selectsMultiple,o=s.selected,l=s.selectedDates;return a?l==null?void 0:l.some(function(c){return i===ar(c)}):!!o&&i===ar(o)},r.onYearClick=function(i,s){var a=r.props.date;a!==void 0&&r.handleYearClick(AM(Ad(a,s)),i)},r.onYearKeyDown=function(i,s){var a,o,l=i.key,c=r.props,f=c.date,d=c.yearItemNumber,p=c.handleOnKeyDown;if(l!==jt.Tab&&i.preventDefault(),!r.props.disabledKeyboardNavigation)switch(l){case jt.Enter:if(r.props.selected==null)break;r.onYearClick(i,s),(o=(a=r.props).setPreSelection)===null||o===void 0||o.call(a,r.props.selected);break;case jt.ArrowRight:if(r.props.preSelection==null)break;r.handleYearNavigation(s+1,Of(r.props.preSelection,1));break;case jt.ArrowLeft:if(r.props.preSelection==null)break;r.handleYearNavigation(s-1,sg(r.props.preSelection,1));break;case jt.ArrowUp:{if(f===void 0||d===void 0||r.props.preSelection==null)break;var g=Tp(f,d).startPeriod,b=bZ,S=s-b;if(S<g){var w=d%b;s>=g&&s<g+w?b=w:b+=w,S=s-b}r.handleYearNavigation(S,sg(r.props.preSelection,b));break}case jt.ArrowDown:{if(f===void 0||d===void 0||r.props.preSelection==null)break;var E=Tp(f,d).endPeriod,b=bZ,S=s+b;if(S>E){var w=d%b;s<=E&&s>E-w?b=w:b+=w,S=s+b}r.handleYearNavigation(S,Of(r.props.preSelection,b));break}}p&&p(i)},r.getYearClassNames=function(i){var s=r.props,a=s.date,o=s.disabled,l=s.minDate,c=s.maxDate,f=s.excludeDates,d=s.includeDates,p=s.filterDate,g=s.yearClassName;return In("react-datepicker__year-text","react-datepicker__year-".concat(i),a?g==null?void 0:g(Ad(a,i)):void 0,{"react-datepicker__year-text--selected":r.isSelectedYear(i),"react-datepicker__year-text--disabled":(l||c||f||d||p||o)&&x2(i,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(i),"react-datepicker__year-text--range-start":r.isRangeStart(i),"react-datepicker__year-text--range-end":r.isRangeEnd(i),"react-datepicker__year-text--in-range":r.isInRange(i),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(i),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(i),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(i),"react-datepicker__year-text--today":r.isCurrentYear(i)})},r.getYearTabIndex=function(i){if(r.props.disabledKeyboardNavigation||r.props.preSelection==null)return"-1";var s=ar(r.props.preSelection),a=x2(i,r.props);return i===s&&!a?"0":"-1"},r.getYearContent=function(i){return r.props.renderYearContent?r.props.renderYearContent(i):i},r}return e.prototype.render=function(){var t=this,r=[],i=this.props,s=i.date,a=i.yearItemNumber,o=i.onYearMouseEnter,l=i.onYearMouseLeave;if(s===void 0)return null;for(var c=Tp(s,a),f=c.startPeriod,d=c.endPeriod,p=function(S){r.push(st.createElement("div",{ref:g.YEAR_REFS[S-f],onClick:function(w){t.onYearClick(w,S)},onKeyDown:function(w){Cfe(w)&&(w.preventDefault(),w.key=jt.Enter),t.onYearKeyDown(w,S)},tabIndex:Number(g.getYearTabIndex(S)),className:g.getYearClassNames(S),onMouseEnter:g.props.usePointerEvent?void 0:function(w){return o(w,S)},onPointerEnter:g.props.usePointerEvent?function(w){return o(w,S)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(w){return l(w,S)},onPointerLeave:g.props.usePointerEvent?function(w){return l(w,S)}:void 0,key:S,"aria-current":g.isCurrentYear(S)?"date":void 0},g.getYearContent(S)))},g=this,b=f;b<=d;b++)p(b);return st.createElement("div",{className:"react-datepicker__year"},st.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},r))},e})(L.Component);function BKe(n,e,t,r){for(var i=[],s=0;s<2*e+1;s++){var a=n+e-s,o=!0;t&&(o=ar(t)<=a),r&&o&&(o=ar(r)>=a),o&&i.push(a)}return i}var FKe=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;r.yearOptionButtonsRef={},r.handleOptionKeyDown=function(o,l){var c;switch(l.key){case"Enter":l.preventDefault(),r.onChange(o);break;case"Escape":l.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{l.preventDefault();var f=o+(l.key==="ArrowUp"?1:-1);r.yearOptionButtonsRef[f]&&((c=r.yearOptionButtonsRef[f])===null||c===void 0||c.focus());break}}},r.renderOptions=function(){r.yearOptionButtonsRef={};var o=r.props.year,l=r.state.yearsList.map(function(d){return st.createElement("div",{ref:function(p){r.yearOptionButtonsRef[d]=p,d===o&&(p==null||p.focus())},role:"button",tabIndex:0,className:o===d?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:d,onClick:r.onChange.bind(r,d),onKeyDown:r.handleOptionKeyDown.bind(r,d),"aria-selected":o===d?"true":void 0},o===d?st.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",d)}),c=r.props.minDate?ar(r.props.minDate):null,f=r.props.maxDate?ar(r.props.maxDate):null;return(!f||!r.state.yearsList.find(function(d){return d===f}))&&l.unshift(st.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},st.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!c||!r.state.yearsList.find(function(d){return d===c}))&&l.push(st.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},st.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},r.onChange=function(o){r.props.onChange(o)},r.handleClickOutside=function(){r.props.onCancel()},r.shiftYears=function(o){var l=r.state.yearsList.map(function(c){return c+o});r.setState({yearsList:l})},r.incrementYears=function(){return r.shiftYears(1)},r.decrementYears=function(){return r.shiftYears(-1)};var i=t.yearDropdownItemNumber,s=t.scrollableYearDropdown,a=i||(s?10:5);return r.state={yearsList:BKe(r.props.year,a,r.props.minDate,r.props.maxDate)},r.dropdownRef=L.createRef(),r}return e.prototype.componentDidMount=function(){var t=this.dropdownRef.current;if(t){var r=t.children?Array.from(t.children):null,i=r?r.find(function(s){return s.ariaSelected}):null;t.scrollTop=i&&i instanceof HTMLElement?i.offsetTop+(i.clientHeight-t.clientHeight)/2:(t.scrollHeight-t.clientHeight)/2}},e.prototype.render=function(){var t=In({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return st.createElement(l4,{className:t,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(L.Component),zKe=(function(n){to(e,n);function e(){var t=n!==null&&n.apply(this,arguments)||this;return t.state={dropdownVisible:!1},t.renderSelectOptions=function(){for(var r=t.props.minDate?ar(t.props.minDate):1900,i=t.props.maxDate?ar(t.props.maxDate):2100,s=[],a=r;a<=i;a++)s.push(st.createElement("option",{key:a,value:a},a));return s},t.onSelectChange=function(r){t.onChange(parseInt(r.target.value))},t.renderSelectMode=function(){return st.createElement("select",{value:t.props.year,className:"react-datepicker__year-select",onChange:t.onSelectChange},t.renderSelectOptions())},t.renderReadView=function(r){return st.createElement("button",{key:"read",type:"button",style:{visibility:r?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:t.toggleDropdown},st.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),st.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},t.props.year))},t.renderDropdown=function(){return st.createElement(FKe,Qn({key:"dropdown"},t.props,{onChange:t.onChange,onCancel:t.toggleDropdown}))},t.renderScrollMode=function(){var r=t.state.dropdownVisible,i=[t.renderReadView(!r)];return r&&i.unshift(t.renderDropdown()),i},t.onChange=function(r){t.toggleDropdown(),r!==t.props.year&&t.props.onChange(r)},t.toggleDropdown=function(r){t.setState({dropdownVisible:!t.state.dropdownVisible},function(){t.props.adjustDateOnChange&&t.handleYearChange(t.props.date,r)})},t.handleYearChange=function(r,i){var s;(s=t.onSelect)===null||s===void 0||s.call(t,r,i),t.setOpen()},t.onSelect=function(r,i){var s,a;(a=(s=t.props).onSelect)===null||a===void 0||a.call(s,r,i)},t.setOpen=function(){var r,i;(i=(r=t.props).setOpen)===null||i===void 0||i.call(r,!0)},t}return e.prototype.render=function(){var t;switch(this.props.dropdownMode){case"scroll":t=this.renderScrollMode();break;case"select":t=this.renderSelectMode();break}return st.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},t)},e})(L.Component),UKe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],kfe="react-datepicker-ignore-onclickoutside",jKe=function(n){var e=(n.className||"").split(/\s+/);return UKe.some(function(t){return e.indexOf(t)>=0})},HKe=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;return r.monthContainer=void 0,r.handleClickOutside=function(i){r.props.onClickOutside(i)},r.setClickOutsideRef=function(){return r.containerRef.current},r.handleDropdownFocus=function(i){var s,a;jKe(i.target)&&((a=(s=r.props).onDropdownFocus)===null||a===void 0||a.call(s,i))},r.getDateInView=function(){var i=r.props,s=i.preSelection,a=i.selected,o=i.openToDate,l=Mfe(r.props),c=Afe(r.props),f=wr(),d=o||a||s;return d||(l&&qd(f,l)?l:c&&Pp(f,c)?c:f)},r.increaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Bf(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.decreaseMonth=function(){r.setState(function(i){var s=i.date;return{date:Vv(s,1)}},function(){return r.handleMonthChange(r.state.date)})},r.handleDayClick=function(i,s,a){r.props.onSelect(i,s,a),r.props.setPreSelection&&r.props.setPreSelection(i)},r.handleDayMouseEnter=function(i){r.setState({selectingDate:i}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(i)},r.handleMonthMouseLeave=function(){r.setState({selectingDate:void 0}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()},r.handleYearMouseEnter=function(i,s){r.setState({selectingDate:Ad(wr(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(i,s)},r.handleYearMouseLeave=function(i,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(i,s)},r.handleYearChange=function(i){var s,a,o,l;(a=(s=r.props).onYearChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0}),r.props.adjustDateOnChange&&(r.props.onSelect(i),(l=(o=r.props).setOpen)===null||l===void 0||l.call(o,!0)),r.props.setPreSelection&&r.props.setPreSelection(i)},r.getEnabledPreSelectionDateForMonth=function(i){if(!gu(i,r.props))return i;for(var s=Dp(i),a=fKe(i),o=_Ge(a,s),l=null,c=0;c<=o;c++){var f=Rf(s,c);if(!gu(f,r.props)){l=f;break}}return l},r.handleMonthChange=function(i){var s,a,o,l=(s=r.getEnabledPreSelectionDateForMonth(i))!==null&&s!==void 0?s:i;r.handleCustomMonthChange(l),r.props.adjustDateOnChange&&(r.props.onSelect(l),(o=(a=r.props).setOpen)===null||o===void 0||o.call(a,!0)),r.props.setPreSelection&&r.props.setPreSelection(l)},r.handleCustomMonthChange=function(i){var s,a;(a=(s=r.props).onMonthChange)===null||a===void 0||a.call(s,i),r.setState({isRenderAriaLiveMessage:!0})},r.handleMonthYearChange=function(i){r.handleYearChange(i),r.handleMonthChange(i)},r.changeYear=function(i){r.setState(function(s){var a=s.date;return{date:Ad(a,Number(i))}},function(){return r.handleYearChange(r.state.date)})},r.changeMonth=function(i){r.setState(function(s){var a=s.date;return{date:fc(a,Number(i))}},function(){var s,a;r.handleMonthChange(r.state.date),(a=(s=r.props).onMonthSelectedInChange)===null||a===void 0||a.call(s,0)})},r.changeMonthYear=function(i){r.setState(function(s){var a=s.date;return{date:Ad(fc(a,Hl(i)),ar(i))}},function(){return r.handleMonthYearChange(r.state.date)})},r.header=function(i,s){if(i===void 0&&(i=r.state.date),s===void 0&&(s=0),!Fl(i))return[];var a=r.props.disabled,o=q0(i,r.props.locale,r.props.calendarStartDay),l=[];return r.props.showWeekNumbers&&l.push(st.createElement("div",{key:"W",className:"react-datepicker__day-name ".concat(a?"react-datepicker__day-name--disabled":""),role:"columnheader"},st.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),st.createElement("span",{"aria-hidden":"true"},r.props.weekLabel||"#"))),l.concat([0,1,2,3,4,5,6].map(function(c){var f=Rf(o,c),d=r.formatWeekday(f,r.props.locale),p=Ai(f,"EEEE",r.props.locale),g=r.props.weekDayClassName?r.props.weekDayClassName(f):void 0;if(r.props.renderCustomDayName){var b=r.props.renderCustomDayName({day:f,shortName:d,fullName:p,locale:r.props.locale,customDayNameCount:s});return st.createElement("div",{key:c,role:"columnheader",className:In("react-datepicker__day-name",g,a?"react-datepicker__day-name--disabled":"")},b)}return st.createElement("div",{key:c,role:"columnheader",className:In("react-datepicker__day-name",g,a?"react-datepicker__day-name--disabled":"")},st.createElement("span",{className:"react-datepicker__sr-only"},p),st.createElement("span",{"aria-hidden":"true"},d))}))},r.formatWeekday=function(i,s){return r.props.formatWeekDay?dKe(i,r.props.formatWeekDay,s):r.props.useWeekdaysShort?pKe(i,s):hKe(i,s)},r.decreaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:sg(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.clearSelectingDate=function(){r.setState({selectingDate:void 0})},r.renderPreviousButton=function(){var i,s,a;if(!r.props.renderCustomHeader){var o=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,c=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=Vv(r.state.date,c),d;switch(!0){case r.props.disabled:d=!0;break;case r.props.showMonthYearPicker:d=dZ(r.state.date,r.props);break;case r.props.showYearPicker:d=xKe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:d=yKe(r.state.date,r.props);break;default:d=uZ(f,r.props);break}if(!(!((a=r.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&d||r.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],b=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(b=r.decreaseYear),d&&r.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),b=void 0);var S=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,w=r.props,E=w.previousMonthButtonLabel,k=E===void 0?e.defaultProps.previousMonthButtonLabel:E,R=w.previousYearButtonLabel,O=R===void 0?e.defaultProps.previousYearButtonLabel:R,D=r.props,I=D.previousMonthAriaLabel,B=I===void 0?typeof k=="string"?k:"Previous Month":I,z=D.previousYearAriaLabel,V=z===void 0?typeof O=="string"?O:"Previous Year":z;return st.createElement("button",{type:"button",className:g.join(" "),onClick:b,onKeyDown:r.props.handleOnKeyDown,"aria-label":S?V:B},st.createElement("span",{className:p.join(" ")},S?O:k))}}},r.increaseYear=function(){r.setState(function(i){var s,a=i.date;return{date:Of(a,r.props.showYearPicker?(s=r.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})},r.renderNextButton=function(){var i;if(!r.props.renderCustomHeader){var s;switch(!0){case r.props.disabled:s=!0;break;case r.props.showMonthYearPicker:s=hZ(r.state.date,r.props);break;case r.props.showYearPicker:s=bKe(r.state.date,r.props);break;case r.props.showQuarterYearPicker:s=vKe(r.state.date,r.props);break;default:s=fZ(r.state.date,r.props);break}if(!(!((i=r.props.forceShowMonthNavigation)!==null&&i!==void 0?i:e.defaultProps.forceShowMonthNavigation)&&!r.props.showDisabledMonthNavigation&&s||r.props.showTimeSelectOnly)){var a=["react-datepicker__navigation","react-datepicker__navigation--next"],o=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&a.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&a.push("react-datepicker__navigation--next--with-today-button");var l=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(l=r.increaseYear),s&&r.props.showDisabledMonthNavigation&&(a.push("react-datepicker__navigation--next--disabled"),l=void 0);var c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,f=r.props,d=f.nextMonthButtonLabel,p=d===void 0?e.defaultProps.nextMonthButtonLabel:d,g=f.nextYearButtonLabel,b=g===void 0?e.defaultProps.nextYearButtonLabel:g,S=r.props,w=S.nextMonthAriaLabel,E=w===void 0?typeof p=="string"?p:"Next Month":w,k=S.nextYearAriaLabel,R=k===void 0?typeof b=="string"?b:"Next Year":k;return st.createElement("button",{type:"button",className:a.join(" "),onClick:l,onKeyDown:r.props.handleOnKeyDown,"aria-label":c?R:E},st.createElement("span",{className:o.join(" ")},c?b:p))}}},r.renderCurrentMonth=function(i){i===void 0&&(i=r.state.date);var s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),st.createElement("h2",{className:s.join(" ")},Fl(i)?Ai(i,r.props.dateFormat,r.props.locale):"")},r.renderYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showYearDropdown||i))return st.createElement(zKe,Qn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeYear,year:ar(r.state.date)}))},r.renderMonthDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthDropdown||i))return st.createElement(OKe,Qn({},e.defaultProps,r.props,{month:Hl(r.state.date),onChange:r.changeMonth}))},r.renderMonthYearDropdown=function(i){if(i===void 0&&(i=!1),!(!r.props.showMonthYearDropdown||i))return st.createElement(IKe,Qn({},e.defaultProps,r.props,{date:r.state.date,onChange:r.changeMonthYear}))},r.handleTodayButtonClick=function(i){r.props.onSelect(sZ(),i),r.props.setPreSelection&&r.props.setPreSelection(sZ())},r.renderTodayButton=function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return st.createElement("div",{className:"react-datepicker__today-button",onClick:r.handleTodayButtonClick},r.props.todayButton)},r.renderDayNamesHeader=function(i,s){return s===void 0&&(s=0),st.createElement("div",{className:"react-datepicker__day-names",role:"row"},r.header(i,s))},r.renderDefaultHeader=function(i){var s=i.monthDate,a=i.i,o=st.createElement("div",{className:In("react-datepicker__header",{"react-datepicker__header--has-time-select":r.props.showTimeSelect,"react-datepicker__header--middle":r.props.monthHeaderPosition==="middle","react-datepicker__header--bottom":r.props.monthHeaderPosition==="bottom"})},r.renderCurrentMonth(s),st.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(a!==0),r.renderMonthYearDropdown(a!==0),r.renderYearDropdown(a!==0)));return r.props.monthHeaderPosition==="top"?o:st.createElement("div",{className:"react-datepicker__header-wrapper"},r.renderPreviousButton()||null,r.renderNextButton()||null,o)},r.renderCustomHeader=function(i){var s,a,o=i.monthDate,l=i.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var c=r.props,f=c.showYearPicker,d=c.yearItemNumber,p;if(f){var g=Tp(o,d),b=g.startPeriod,S=g.endPeriod;p={startYear:b,endYear:S}}var w=uZ(r.state.date,r.props),E=fZ(r.state.date,r.props),k=dZ(r.state.date,r.props),R=hZ(r.state.date,r.props);return st.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},(a=(s=r.props).renderCustomHeader)===null||a===void 0?void 0:a.call(s,Qn(Qn(Qn({},r.state),f&&{visibleYearsRange:p}),{customHeaderCount:l,monthDate:o,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:w,nextMonthButtonDisabled:E,prevYearButtonDisabled:k,nextYearButtonDisabled:R})))},r.renderYearHeader=function(i){var s=i.monthDate,a=r.props,o=a.showYearPicker,l=a.yearItemNumber,c=l===void 0?e.defaultProps.yearItemNumber:l,f=Tp(s,c),d=f.startPeriod,p=f.endPeriod;return st.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(d," - ").concat(p):ar(s))},r.renderHeader=function(i){var s=i.monthDate,a=i.i,o=a===void 0?0:a,l={monthDate:s,i:o};switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(l);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(l);default:return r.renderDefaultHeader(l)}},r.renderMonths=function(){var i,s;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var a=[],o=(i=r.props.monthsShown)!==null&&i!==void 0?i:e.defaultProps.monthsShown,l=r.props.showPreviousMonths?o-1:0,c=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Of(r.state.date,l):Vv(r.state.date,l),f=(s=r.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=0;d<o;++d){var p=d-f+l,g=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Of(c,p):Bf(c,p),b="month-".concat(d),S=d<o-1,w=d>0;a.push(st.createElement("div",{key:b,ref:function(E){r.monthContainer=E??void 0},className:"react-datepicker__month-container"},r.props.monthHeaderPosition==="top"&&r.renderHeader({monthDate:g,i:d}),st.createElement(kKe,Qn({},e.defaultProps,r.props,{containerRef:r.containerRef,ariaLabelPrefix:r.props.monthAriaLabelPrefix,day:g,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,orderInDisplay:d,selectingDate:r.state.selectingDate,monthShowsDuplicateDaysEnd:S,monthShowsDuplicateDaysStart:w,dayNamesHeader:r.renderDayNamesHeader(g,d),monthHeader:r.props.monthHeaderPosition==="middle"?r.renderHeader({monthDate:g,i:d}):void 0,monthFooter:r.props.monthHeaderPosition==="bottom"?r.renderHeader({monthDate:g,i:d}):void 0}))))}return a}},r.renderYears=function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return st.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),st.createElement(LKe,Qn({},e.defaultProps,r.props,{selectingDate:r.state.selectingDate,date:r.state.date,onDayClick:r.handleDayClick,clearSelectingDate:r.clearSelectingDate,onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))},r.renderTimeSection=function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return st.createElement(NKe,Qn({},e.defaultProps,r.props,{onChange:r.props.onTimeChange,format:r.props.timeFormat,intervals:r.props.timeIntervals,monthRef:r.state.monthContainer}))},r.renderInputTimeSection=function(){var i,s;if(r.props.showTimeInput){if(r.props.selectsRange){var a=r.props,o=a.startDate,l=a.endDate,c=o?new Date(o):void 0,f=c&&Fl(c)&&!!o,d=f?"".concat(h1(c.getHours()),":").concat(h1(c.getMinutes())):"",p=l?new Date(l):void 0,g=p&&Fl(p)&&!!l,b=g?"".concat(h1(p.getHours()),":").concat(h1(p.getMinutes())):"";return st.createElement(st.Fragment,null,st.createElement(C5,Qn({},e.defaultProps,r.props,{date:c,timeString:d,onChange:function(k){var R,O;(O=(R=r.props).onTimeChange)===null||O===void 0||O.call(R,k,"start")},timeInputLabel:((i=r.props.timeInputLabel)!==null&&i!==void 0?i:"Time")+" (Start)"})),st.createElement(C5,Qn({},e.defaultProps,r.props,{date:p,timeString:b,onChange:function(k){var R,O;(O=(R=r.props).onTimeChange)===null||O===void 0||O.call(R,k,"end")},timeInputLabel:((s=r.props.timeInputLabel)!==null&&s!==void 0?s:"Time")+" (End)"})))}var S=r.props.selected?new Date(r.props.selected):void 0,w=S&&Fl(S)&&!!r.props.selected,E=w?"".concat(h1(S.getHours()),":").concat(h1(S.getMinutes())):"";return st.createElement(C5,Qn({},e.defaultProps,r.props,{date:S,timeString:E,onChange:function(k){var R,O;(O=(R=r.props).onTimeChange)===null||O===void 0||O.call(R,k)}}))}},r.renderAriaLiveRegion=function(){var i;if(!Fl(r.state.date))return st.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"});var s=Tp(r.state.date,(i=r.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber),a=s.startPeriod,o=s.endPeriod,l;return r.props.showYearPicker?l="".concat(a," - ").concat(o):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?l=ar(r.state.date):l="".concat(X7(Hl(r.state.date),r.props.locale)," ").concat(ar(r.state.date)),st.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&l)},r.renderChildren=function(){if(r.props.children)return st.createElement("div",{className:"react-datepicker__children-container"},r.props.children)},r.containerRef=L.createRef(),r.state={date:r.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:kfe,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:rC,monthHeaderPosition:"top"}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var t=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){t.setState({monthContainer:t.monthContainer})})())},e.prototype.componentDidUpdate=function(t){var r=this;if(this.props.preSelection&&Fl(this.props.preSelection)&&(!fr(this.props.preSelection,t.preSelection)||this.props.monthSelectedIn!==t.monthSelectedIn)){var i=!Yo(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return i&&r.handleCustomMonthChange(r.state.date)})}else this.props.openToDate&&!fr(this.props.openToDate,t.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var t=this.props.container||rKe;return st.createElement(l4,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},st.createElement("div",{style:{display:"contents"},ref:this.containerRef},st.createElement(t,{className:In("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly,inline:this.props.inline},this.renderAriaLiveRegion(),this.props.monthHeaderPosition==="top"&&this.renderPreviousButton(),this.props.monthHeaderPosition==="top"&&this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(L.Component),VKe=function(n){var e=n.icon,t=n.className,r=t===void 0?"":t,i=n.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return st.createElement("i",{className:"".concat(s," ").concat(e," ").concat(r),"aria-hidden":"true",onClick:i});if(st.isValidElement(e)){var a=e;return st.cloneElement(a,{className:"".concat(a.props.className||""," ").concat(s," ").concat(r),onClick:function(o){typeof a.props.onClick=="function"&&a.props.onClick(o),typeof i=="function"&&i(o)}})}return st.createElement("svg",{className:"".concat(s," ").concat(r),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:i},st.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},Rfe=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;return r.portalRoot=null,r.el=document.createElement("div"),r}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return zpe.createPortal(this.props.children,this.el)},e})(L.Component),WKe="[tabindex], a, button, input, select, textarea",$Ke=function(n){return(n instanceof HTMLAnchorElement||!n.disabled)&&n.tabIndex!==-1},Ofe=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;return r.getTabChildren=function(){var i;return Array.prototype.slice.call((i=r.tabLoopRef.current)===null||i===void 0?void 0:i.querySelectorAll(WKe),1,-1).filter($Ke)},r.handleFocusStart=function(){var i=r.getTabChildren();i&&i.length>1&&i[i.length-1].focus()},r.handleFocusEnd=function(){var i=r.getTabChildren();i&&i.length>1&&i[0].focus()},r.tabLoopRef=L.createRef(),r}return e.prototype.render=function(){var t;return((t=this.props.enableTabLoop)!==null&&t!==void 0?t:e.defaultProps.enableTabLoop)?st.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},st.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,st.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(L.Component);function GKe(n){function e(t){var r,i=typeof t.hidePopper=="boolean"?t.hidePopper:!0,s=L.useRef(null),a=nKe(Qn({open:!i,whileElementsMounted:IXe,placement:t.popperPlacement,middleware:Yd([VXe({padding:15}),HXe(10),WXe({element:s})],(r=t.popperModifiers)!==null&&r!==void 0?r:[],!0)},t.popperProps)),o=Qn(Qn({},t),{hidePopper:i,popperProps:Qn(Qn({},a),{arrowRef:s})});return st.createElement(n,Qn({},o))}return e.displayName="withFloating(".concat(n.displayName||n.name||"Component",")"),e}var qKe=function(n){var e=n.className,t=n.wrapperClassName,r=n.hidePopper,i=r===void 0?!0:r,s=n.popperComponent,a=n.targetComponent,o=n.enableTabLoop,l=n.popperOnKeyDown,c=n.portalId,f=n.portalHost,d=n.popperProps,p=n.showArrow,g=n.popperTargetRef,b=n.monthHeaderPosition;L.useEffect(function(){g!=null&&g.current&&d.refs.setPositionReference(g.current)},[g,d.refs]);var S=void 0;if(!i){var w=In("react-datepicker-popper",!p&&"react-datepicker-popper-offset",b==="middle"&&"react-datepicker-popper--header-middle",b==="bottom"&&"react-datepicker-popper--header-bottom",e);S=st.createElement(Ofe,{enableTabLoop:o},st.createElement("div",{ref:d.refs.setFloating,style:d.floatingStyles,className:w,"data-placement":d.placement,onKeyDown:l},s,p&&st.createElement(XXe,{ref:d.arrowRef,context:d.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}n.popperContainer&&(S=L.createElement(n.popperContainer,{},S)),c&&!i&&(S=st.createElement(Rfe,{portalId:c,portalHost:f},S));var E=In("react-datepicker-wrapper",t);return st.createElement(st.Fragment,null,st.createElement("div",{ref:d.refs.setReference,className:E},a),S)},YKe=GKe(qKe);function _Z(n,e){return n&&e?Hl(n)!==Hl(e)||ar(n)!==ar(e):n!==e}var R5="Date input not valid.",XKe=(function(n){to(e,n);function e(t){var r=n.call(this,t)||this;return r.calendar=null,r.input=null,r.getPreSelection=function(){var i=r.props.timeZone,s=r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:wr();return i?rZ(s,i):s},r.modifyHolidays=function(){var i;return(i=r.props.holidays)===null||i===void 0?void 0:i.reduce(function(s,a){var o=Sy(a.date,"yyyy-MM-dd",void 0,!1);return o?Yd(Yd([],s,!0),[Qn(Qn({},a),{date:o})],!1):s},[])},r.calcInitialState=function(){var i=r.props.timeZone,s=r.getPreSelection(),a=Mfe(r.props),o=Afe(r.props),l=a&&qd(s,MM(a))?a:o&&Pp(s,aZ(o))?o:s,c=r.props.selectsRange?r.props.startDate:r.props.selected;return c&&i&&(c=rZ(c,i)),{open:r.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:c??l,highlightDates:pZ(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},r.getInputValue=function(){var i,s=r.props,a=s.locale,o=s.startDate,l=s.endDate,c=s.rangeSeparator,f=s.selected,d=s.selectedDates,p=s.selectsMultiple,g=s.selectsRange,b=s.formatMultipleDates,S=s.value,w=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,E=r.state.inputValue;if(typeof S=="string")return S;if(typeof E=="string")return E;if(g)return aKe(o,l,{dateFormat:w,locale:a,rangeSeparator:c});if(p){if(b){var k=function(R){return Ll(R,{dateFormat:w,locale:a})};return b(d??[],k)}return oKe(d??[],{dateFormat:w,locale:a})}return Ll(f,{dateFormat:w,locale:a})},r.resetHiddenStatus=function(){r.setState(Qn(Qn({},r.state),{wasHidden:!1}))},r.setHiddenStatus=function(){r.setState(Qn(Qn({},r.state),{wasHidden:!0}))},r.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&r.setHiddenStatus()},r.clearPreventFocusTimeout=function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)},r.setFocus=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.focus)===null||s===void 0||s.call(i,{preventScroll:!0})},r.setBlur=function(){var i,s;(s=(i=r.input)===null||i===void 0?void 0:i.blur)===null||s===void 0||s.call(i),r.cancelFocusInput()},r.deferBlur=function(){requestAnimationFrame(function(){r.setBlur()})},r.setOpen=function(i,s){s===void 0&&(s=!1),r.setState({open:i,preSelection:i&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:O5},function(){i||r.setState(function(a){return{focused:s?a.focused:!1}},function(){!s&&r.deferBlur(),r.setState({inputValue:null})})})},r.inputOk=function(){return Qd(r.state.preSelection)},r.isCalendarOpen=function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open},r.handleFocus=function(i){var s,a,o=r.state.wasHidden,l=o?r.state.open:!0;o&&r.resetHiddenStatus(),r.state.preventFocus||((a=(s=r.props).onFocus)===null||a===void 0||a.call(s,i),l&&!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})},r.sendFocusBackToInput=function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})},r.cancelFocusInput=function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=void 0},r.deferFocusInput=function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)},r.handleDropdownFocus=function(){r.cancelFocusInput()},r.resetInputValue=function(){r.setState(Qn(Qn({},r.state),{inputValue:null}))},r.handleBlur=function(i){var s,a;(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&((a=(s=r.props).onBlur)===null||a===void 0||a.call(s,i));var o=r.state.inputValue;if(typeof o=="string"&&o.length>0){var l=/[a-zA-Z0-9]/.test(o);!l&&r.props.selected&&r.setSelected(null,void 0,!0)}r.resetInputValue(),r.state.open&&r.props.open===!1&&r.setOpen(!1),r.setState({focused:!1})},r.handleCalendarClickOutside=function(i){var s,a;(a=(s=r.props).onClickOutside)===null||a===void 0||a.call(s,i),!r.props.inline&&!i.defaultPrevented&&r.setOpen(!1),r.props.withPortal&&i.preventDefault()},r.handleChange=function(){for(var i,s,a,o,l,c,f,d,p=[],g=0;g<arguments.length;g++)p[g]=arguments[g];var b=p[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,p),!b||typeof b.isDefaultPrevented!="function"||b.isDefaultPrevented()))){r.setState({inputValue:(b==null?void 0:b.target)instanceof HTMLInputElement?b.target.value:null,lastPreSelectChange:KKe});var S=r.props,w=S.selectsRange,E=S.startDate,k=S.endDate,R=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,O=(s=r.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,D=(b==null?void 0:b.target)instanceof HTMLInputElement?b.target.value:"";if(w){var I=r.props.rangeSeparator,B=I.trim(),z=D.split(R.includes(B)?I:B,2).map(function(se){return se.trim()}),V=z[0],Y=z[1],q=Sy(V??"",R,r.props.locale,O),J=q?Sy(Y??"",R,r.props.locale,O):null,re=((a=ov(E))===null||a===void 0?void 0:a.getTime())!==(q==null?void 0:q.getTime()),fe=((o=ov(k))===null||o===void 0?void 0:o.getTime())!==(J==null?void 0:J.getTime());if(!re&&!fe||q&&gu(q,r.props)||J&&gu(J,r.props))return;q&&r.setState({preSelection:q}),(c=(l=r.props).onChange)===null||c===void 0||c.call(l,[q,J],b)}else{var ne=Sy(D,R,r.props.locale,O,(f=r.props.selected)!==null&&f!==void 0?f:void 0);if(ne||!D)r.setSelected(ne,b,!0);else if(!r.props.inline){var te=sKe(D,(d=r.state.preSelection)!==null&&d!==void 0?d:void 0);te&&(!r.props.minDate||!qd(te,r.props.minDate))&&(!r.props.maxDate||!Pp(te,r.props.maxDate))&&r.setState({preSelection:te})}}}},r.handleSelect=function(i,s,a){var o;if(!r.props.readOnly){var l=r.props,c=l.selectsRange,f=l.startDate,d=l.endDate,p=l.locale,g=l.swapRange,b=(o=r.props.dateFormat)!==null&&o!==void 0?o:e.defaultProps.dateFormat,S=!c||f&&!d&&(g||!T5(i,f));if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&S&&r.sendFocusBackToInput(),r.props.onChangeRaw){var w=Ll(i,{dateFormat:b,locale:p});r.props.onChangeRaw(s,{date:i,formattedDate:w})}r.setSelected(i,s,!1,a),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect?r.setPreSelection(i):S&&r.setOpen(!1)}},r.setSelected=function(i,s,a,o){var l,c,f=r.props.timeZone,d=i;if(d&&f&&(d=ep(d,f)),r.props.showYearPicker){if(d!==null&&x2(ar(d),r.props))return}else if(r.props.showMonthYearPicker){if(d!==null&&Efe(d,r.props))return}else if(d!==null&&gu(d,r.props))return;var p=r.props,g=p.onChange,b=p.selectsRange,S=p.startDate,w=p.endDate,E=p.selectsMultiple,k=p.selectedDates,R=p.minTime,O=p.swapRange;if(!lv(r.props.selected,d)||r.props.allowSameDay||b||E)if(d!==null&&(r.props.selected&&(!a||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(d=tp(d,{hour:_o(r.props.selected),minute:wo(r.props.selected),second:G0(r.props.selected)})),!a&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&R&&(d=tp(d,{hour:R.getHours(),minute:R.getMinutes(),second:R.getSeconds()})),r.props.inline||r.setState({preSelection:d}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),b){var D=g,I=!S&&!w,B=S&&!w,z=!S&&!!w,V=S&&w;I?D==null||D([d,null],s):B?d===null?D==null||D([null,null],s):T5(d,S)?O?D==null||D([d,S],s):D==null||D([d,null],s):D==null||D([S,d],s):z&&(d&&T5(d,w)?D==null||D([d,w],s):D==null||D([d,null],s)),V&&(D==null||D([d,null],s))}else if(E){var Y=g;if(d!==null)if(!(k!=null&&k.length))Y==null||Y([d],s);else{var q=k.some(function(re){return fr(re,d)});if(q){var J=k.filter(function(re){return!fr(re,d)});Y==null||Y(J,s)}else Y==null||Y(Yd(Yd([],k,!0),[d],!1),s)}}else g==null||g(d,s);a||((c=(l=r.props).onSelect)===null||c===void 0||c.call(l,d,s),r.setState({inputValue:null}))},r.setPreSelection=function(i){if(!r.props.readOnly){var s=Qd(r.props.minDate),a=Qd(r.props.maxDate),o=!0;if(i){var l=MM(i);if(s&&a)o=Ly(i,r.props.minDate,r.props.maxDate);else if(s){var c=MM(r.props.minDate);o=Pp(i,c)||lv(l,c)}else if(a){var f=aZ(r.props.maxDate);o=qd(i,f)||lv(l,f)}}o&&r.setState({preSelection:i})}},r.toggleCalendar=function(){r.setOpen(!r.state.open)},r.handleTimeChange=function(i,s){var a,o;if(!r.props.selectsMultiple){var l=r.props,c=l.selectsRange,f=l.startDate,d=l.endDate,p=l.onChange,g=l.timeZone;if(c){var b=p;if(s==="start"){if(f){var S=tp(f,{hour:_o(i),minute:wo(i)});r.setState({preSelection:S}),g&&(S=ep(S,g)),b==null||b([S,d?g?ep(d,g):d:null],void 0)}}else if(s==="end"){if(d){var w=tp(d,{hour:_o(i),minute:wo(i)});r.setState({preSelection:w}),g&&(w=ep(w,g)),b==null||b([f?g?ep(f,g):f:null,w],void 0)}}else{var E=f&&!d;if(E){var S=tp(f,{hour:_o(i),minute:wo(i)});r.setState({preSelection:S}),g&&(S=ep(S,g)),b==null||b([S,null],void 0)}else if(f&&d){var w=tp(d,{hour:_o(i),minute:wo(i)});r.setState({preSelection:w}),g&&(w=ep(w,g)),b==null||b([g?ep(f,g):f,w],void 0)}else{var k=tp(r.getPreSelection(),{hour:_o(i),minute:wo(i)});r.setState({preSelection:k})}}}else{var R=r.props.selected?r.props.selected:r.getPreSelection(),k=r.props.selected?i:tp(R,{hour:_o(i),minute:wo(i)});r.setState({preSelection:k}),k&&g&&(k=ep(k,g)),(o=(a=r.props).onChange)===null||o===void 0||o.call(a,k)}r.props.shouldCloseOnSelect&&!r.props.showTimeInput&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}},r.onInputClick=function(){var i,s;!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),(s=(i=r.props).onInputClick)===null||s===void 0||s.call(i)},r.handleTimeOnlyArrowKey=function(i){var s,a,o,l,c=ov(r.props.selected)||r.state.preSelection||wr(),f=(s=r.props.timeIntervals)!==null&&s!==void 0?s:30,d=(a=r.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,p=Array.isArray(d)?d[0]:d,g=MM(c),b=_o(c)*60+wo(c),S=1440-f,w;if(i===jt.ArrowUp){var E=Math.max(0,b-f);w=nT(g,E)}else{var E=Math.min(S,b+f);w=nT(g,E)}var k=Ai(w,p||e.defaultProps.dateFormat,r.props.locale);if(r.setState({preSelection:w,inputValue:k}),!(r.props.selectsRange||r.props.selectsMultiple)){var R=r.props.selected?r.props.selected:r.getPreSelection(),O=r.props.selected?w:tp(R,{hour:_o(w),minute:wo(w)});(l=(o=r.props).onChange)===null||l===void 0||l.call(o,O),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),requestAnimationFrame(function(){r.scrollToTimeOption(w)})}},r.handleTimeOnlyEnterKey=function(i){var s,a,o,l,c=i.target,f=c.value,d=(s=r.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,p=r.props.timeFormat||"p",g=r.state.preSelection||ov(r.props.selected)||wr(),b=Sy(f,d,r.props.locale,(a=r.props.strictParsing)!==null&&a!==void 0?a:!1,g),S=g;if(b&&Fl(b))S=b;else{var w=((o=r.calendar)===null||o===void 0?void 0:o.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(".react-datepicker__time-list-item[tabindex='0']");if(w instanceof HTMLElement){var E=(l=w.textContent)===null||l===void 0?void 0:l.trim();if(E){var k=Sy(E,p,r.props.locale,!1,g);k&&Fl(k)&&(S=k)}}}r.handleTimeChange(S),r.setOpen(!1),r.sendFocusBackToInput()},r.scrollToTimeOption=function(i){var s,a;if(!((s=r.calendar)===null||s===void 0)&&s.containerRef.current){for(var o=r.calendar.containerRef.current,l=Array.from(o.querySelectorAll(".react-datepicker__time-list-item")),c=null,f=1/0,d=r.props.timeFormat||"p",p=0,g=l;p<g.length;p++){var b=g[p],S=(a=b.textContent)===null||a===void 0?void 0:a.trim();if(S){var w=Sy(S,d,r.props.locale,!1,i);if(w&&Fl(w)){if(Tfe(w,i)){c=b;break}var E=Math.abs(w.getTime()-i.getTime());E<f&&(f=E,c=b)}}}c&&(l.forEach(function(k){k.setAttribute("tabindex","-1")}),c.setAttribute("tabindex","0"),c.scrollIntoView({behavior:"smooth",block:"center"}))}},r.onInputKeyDown=function(i){var s,a,o,l,c,f;(a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i);var d=i.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(d===jt.ArrowDown||d===jt.ArrowUp||d===jt.Enter)&&((o=r.onInputClick)===null||o===void 0||o.call(r));return}if(r.state.open&&r.props.showTimeSelectOnly){if(d===jt.ArrowDown||d===jt.ArrowUp){i.preventDefault(),r.handleTimeOnlyArrowKey(d);return}if(d===jt.Enter){i.preventDefault(),r.handleTimeOnlyEnterKey(i);return}}if(r.state.open){if(d===jt.ArrowDown||d===jt.ArrowUp){i.preventDefault();var p=r.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((l=r.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&r.calendar.containerRef.current.querySelector(p);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var b=wr(r.state.preSelection);d===jt.Enter?(i.preventDefault(),i.target.blur(),r.inputOk()&&r.state.lastPreSelectChange===O5?(r.handleSelect(b,i),!r.props.shouldCloseOnSelect&&r.setPreSelection(b)):r.setOpen(!1)):d===jt.Escape?(i.preventDefault(),i.target.blur(),r.sendFocusBackToInput(),r.setOpen(!1)):d===jt.Tab&&r.setOpen(!1),r.inputOk()||(f=(c=r.props).onInputError)===null||f===void 0||f.call(c,{code:1,msg:R5})}},r.onPortalKeyDown=function(i){var s=i.key;s===jt.Escape&&(i.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))},r.onDayKeyDown=function(i){var s,a,o,l,c,f,d=r.props,p=d.minDate,g=d.maxDate,b=d.disabledKeyboardNavigation,S=d.showWeekPicker,w=d.shouldCloseOnSelect,E=d.locale,k=d.calendarStartDay,R=d.adjustDateOnChange,O=d.inline;if((a=(s=r.props).onKeyDown)===null||a===void 0||a.call(s,i),!b){var D=i.key,I=i.shiftKey,B=wr(r.state.preSelection),z=function(q,J){var re=J;switch(q){case jt.ArrowRight:re=S?zP(J,1):Rf(J,1);break;case jt.ArrowLeft:re=S?WJ(J):_Ye(J);break;case jt.ArrowUp:re=WJ(J);break;case jt.ArrowDown:re=zP(J,1);break;case jt.PageUp:re=I?sg(J,1):Vv(J,1);break;case jt.PageDown:re=I?Of(J,1):Bf(J,1);break;case jt.Home:re=q0(J,E,k);break;case jt.End:re=uKe(J);break}return re},V=function(q,J){for(var re=40,fe=q,ne=!1,te=0,se=z(q,J);!ne;){if(te>=re){se=J;break}p&&se<p&&(fe=jt.ArrowRight,se=gu(p,r.props)?z(fe,se):p),g&&se>g&&(fe=jt.ArrowLeft,se=gu(g,r.props)?z(fe,se):g),gu(se,r.props)?((fe===jt.PageUp||fe===jt.Home)&&(fe=jt.ArrowRight),(fe===jt.PageDown||fe===jt.End)&&(fe=jt.ArrowLeft),se=z(fe,se)):ne=!0,te++}return se};if(D===jt.Enter){i.preventDefault(),r.handleSelect(B,i),!w&&r.setPreSelection(B);return}else if(D===jt.Escape){i.preventDefault(),r.setOpen(!1),r.inputOk()||(l=(o=r.props).onInputError)===null||l===void 0||l.call(o,{code:1,msg:R5});return}var Y=null;switch(D){case jt.ArrowLeft:case jt.ArrowRight:case jt.ArrowUp:case jt.ArrowDown:case jt.PageUp:case jt.PageDown:case jt.Home:case jt.End:Y=V(D,B);break}if(!Y){(f=(c=r.props).onInputError)===null||f===void 0||f.call(c,{code:1,msg:R5});return}i.preventDefault(),r.setState({lastPreSelectChange:O5}),R&&r.setSelected(Y),r.setPreSelection(Y),O&&r.setState({shouldFocusDayInline:!0})}},r.onPopperKeyDown=function(i){var s=i.key;s===jt.Escape&&(i.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1))},r.onClearClick=function(i){i&&i.preventDefault&&i.preventDefault(),r.sendFocusBackToInput();var s=r.props,a=s.selectsRange,o=s.onChange;a?o==null||o([null,null],i):o==null||o(null,i),r.setState({inputValue:null})},r.clear=function(){r.onClearClick()},r.onScroll=function(i){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(i.target===document||i.target===document.documentElement||i.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(i)&&r.setOpen(!1)},r.handleMonthSelectedInChange=function(i){r.setState({monthSelectedIn:i})},r.renderCalendar=function(){var i,s;return!r.props.inline&&!r.isCalendarOpen()?null:st.createElement(HKe,Qn({showMonthYearDropdown:void 0,ref:function(a){r.calendar=a}},r.props,r.state,{setOpen:r.setOpen,dateFormat:(i=r.props.dateFormatCalendar)!==null&&i!==void 0?i:e.defaultProps.dateFormatCalendar,onSelect:r.handleSelect,onClickOutside:r.handleCalendarClickOutside,holidays:wKe(r.modifyHolidays()),outsideClickIgnoreClass:r.props.outsideClickIgnoreClass,onDropdownFocus:r.handleDropdownFocus,onTimeChange:r.handleTimeChange,className:r.props.calendarClassName,container:r.props.calendarContainer,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,setPreSelection:r.setPreSelection,dropdownMode:(s=r.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode,onMonthSelectedInChange:r.handleMonthSelectedInChange}),r.props.children)},r.renderAriaLiveRegion=function(){var i,s=r.props.locale,a=(i=r.props.dateFormat)!==null&&i!==void 0?i:e.defaultProps.dateFormat,o=r.props.showTimeInput||r.props.showTimeSelect,l=o?"PPPPp":"PPPP",c;return r.props.selectsRange?c="Selected start date: ".concat(Ll(r.props.startDate,{dateFormat:l,locale:s}),". ").concat(r.props.endDate?"End date: "+Ll(r.props.endDate,{dateFormat:l,locale:s}):""):r.props.showTimeSelectOnly?c="Selected time: ".concat(Ll(r.props.selected,{dateFormat:a,locale:s})):r.props.showYearPicker?c="Selected year: ".concat(Ll(r.props.selected,{dateFormat:"yyyy",locale:s})):r.props.showMonthYearPicker?c="Selected month: ".concat(Ll(r.props.selected,{dateFormat:"MMMM yyyy",locale:s})):r.props.showQuarterYearPicker?c="Selected quarter: ".concat(Ll(r.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):c="Selected date: ".concat(Ll(r.props.selected,{dateFormat:l,locale:s})),st.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},c)},r.renderDateInput=function(){var i,s,a,o,l,c,f,d=In(r.props.className,(i={},i[r.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=r.state.open,i)),p=r.props.customInput||st.createElement("input",{type:"text"}),g=r.props.customInputRef||"ref",b={},S=(a=r.props["aria-describedby"])!==null&&a!==void 0?a:r.props.ariaDescribedBy,w=(o=r.props["aria-invalid"])!==null&&o!==void 0?o:r.props.ariaInvalid,E=(l=r.props["aria-label"])!==null&&l!==void 0?l:r.props.ariaLabel,k=(c=r.props["aria-labelledby"])!==null&&c!==void 0?c:r.props.ariaLabelledBy,R=(f=r.props["aria-required"])!==null&&f!==void 0?f:r.props.ariaRequired;return S!=null&&(b["aria-describedby"]=S),w!=null&&(b["aria-invalid"]=w),E!=null&&(b["aria-label"]=E),k!=null&&(b["aria-labelledby"]=k),R!=null&&(b["aria-required"]=R),L.cloneElement(p,Qn((s={},s[g]=function(O){r.input=O},s.value=r.getInputValue(),s.onBlur=r.handleBlur,s.onChange=r.handleChange,s.onClick=r.onInputClick,s.onFocus=r.handleFocus,s.onKeyDown=r.onInputKeyDown,s.id=r.props.id,s.name=r.props.name,s.form=r.props.form,s.autoFocus=r.props.autoFocus,s.placeholder=r.props.placeholderText,s.disabled=r.props.disabled,s.autoComplete=r.props.autoComplete,s.className=In(p.props.className,d),s.title=r.props.title,s.readOnly=r.props.readOnly,s.required=r.props.required,s.tabIndex=r.props.tabIndex,s),b))},r.renderClearButton=function(){var i=r.props,s=i.isClearable,a=i.disabled,o=i.selected,l=i.startDate,c=i.endDate,f=i.clearButtonTitle,d=i.clearButtonClassName,p=d===void 0?"":d,g=i.ariaLabelClose,b=g===void 0?"Close":g,S=i.selectedDates,w=i.readOnly;return s&&!w&&(o!=null||l!=null||c!=null||S!=null&&S.length)?st.createElement("button",{type:"button",className:In("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":a}),disabled:a,"aria-label":b,onClick:r.onClearClick,title:f,tabIndex:-1}):null},r.state=r.calcInitialState(),r.preventFocusTimeout=void 0,r}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:kfe,readOnly:!1,rangeSeparator:wfe,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:rC,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(t,r){var i,s,a,o;this.props.selectsRange&&_Z(t.startDate,this.props.startDate)?this.setPreSelection(this.props.startDate):_Z(t.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&t.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),this.props.selectsRange&&r.open===!1&&this.state.open===!0&&this.state.monthSelectedIn!==0&&this.setState({monthSelectedIn:0}),t.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:pZ(this.props.highlightDates)}),!r.focused&&!lv(t.selected,this.props.selected)&&this.setState({inputValue:null}),r.open!==this.state.open&&(r.open===!1&&this.state.open===!0&&((s=(i=this.props).onCalendarOpen)===null||s===void 0||s.call(i)),r.open===!0&&this.state.open===!1&&((o=(a=this.props).onCalendarClose)===null||o===void 0||o.call(a)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var t=this.props,r=t.showIcon,i=t.icon,s=t.calendarIconClassname,a=t.calendarIconClassName,o=t.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),st.createElement("div",{className:"react-datepicker__input-container".concat(r?" react-datepicker__view-calendar-icon":"")},r&&st.createElement(VKe,Qn({icon:i,className:In(a,!a&&s,l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var t=this.renderCalendar();if(this.props.inline)return t;if(this.props.withPortal){var r=this.state.open?st.createElement(Ofe,{enableTabLoop:this.props.enableTabLoop},st.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},t)):null;return this.state.open&&this.props.portalId&&(r=st.createElement(Rfe,Qn({portalId:this.props.portalId},this.props),r)),st.createElement(st.Fragment,null,this.renderInputContainer(),r)}return st.createElement(YKe,Qn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:t,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow,monthHeaderPosition:this.props.monthHeaderPosition}))},e})(L.Component),KKe="input",O5="navigate";const wZ=[{id:"Development",label:"Development"},{id:"Design",label:"Design"},{id:"Writing",label:"Writing"},{id:"Mobile",label:"Mobile"},{id:"Web3",label:"Web3"},{id:"Data",label:"Data"},{id:"Marketing",label:"Marketing"},{id:"Video",label:"Video"}];function JKe(){const{isConnected:n}=Po(),{postJob:e}=If(),t=fx(),[r,i]=L.useState(1),[s,a]=L.useState(""),[o,l]=L.useState("Development"),[c,f]=L.useState(!1),[d,p]=L.useState(""),[g,b]=L.useState([]),[S,w]=L.useState(""),[E,k]=L.useState("Intermediate"),[R,O]=L.useState("Fixed Price"),[D,I]=L.useState(""),[B,z]=L.useState(null),[V,Y]=L.useState(!1),[q,J]=L.useState(!1),re=parseFloat(D)||0,fe=zPe(re),ne=UPe(fe),te=ae=>{ae.key==="Enter"&&S.trim()&&g.length<10&&(b([...g,S.trim()]),w(""))},se=ae=>{b(g.filter(De=>De!==ae))},be=async()=>{if(n){J(!0);try{const ae=new Date(B);ae.setHours(23,59,59,999);const De=Math.floor(ae.getTime()/1e3);await e(s,d,o,De,D),fi.success("Job posted successfully!"),t("/client/my-jobs")}catch(ae){fi.error("Failed to post job: "+((ae==null?void 0:ae.message)||ae)),console.error(ae)}finally{J(!1),Y(!1)}}},Ee=()=>{var ae;return T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:32},children:[T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8,fontSize:14,fontWeight:600},children:"JOB TITLE"}),T.jsxs("div",{style:{position:"relative"},children:[T.jsx("input",{type:"text",style:{width:"100%",background:"var(--glass-bg)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"12px 16px",color:"var(--text-primary)",fontSize:14,outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},value:s,onChange:De=>a(De.target.value),onFocus:De=>{De.target.style.borderColor="var(--quai-green)",De.target.style.boxShadow="0 0 0 2px var(--quai-green-10)"},onBlur:De=>{De.target.style.borderColor="var(--glass-border)",De.target.style.boxShadow="none"},maxLength:100,placeholder:"e.g. Build a decentralized marketplace"}),T.jsxs("span",{style:{position:"absolute",right:14,top:12,fontSize:11,fontFamily:"var(--font-mono)",color:s.length>=90?"var(--warning)":s.length===100?"var(--error)":"var(--text-secondary)"},children:[s.length," / 100"]})]}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginTop:8},children:"Be specific. Clear titles attract better proposals."})]}),T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8,fontSize:14,fontWeight:600},children:"CATEGORY"}),T.jsxs("div",{style:{position:"relative"},children:[T.jsxs("div",{className:"input",style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",userSelect:"none",background:"var(--bg-surface)",transition:"border-color 0.2s, box-shadow 0.2s",borderColor:c?"var(--quai-green)":"var(--border-default)",boxShadow:c?"0 0 0 3px var(--quai-green-10)":"none"},onClick:()=>f(!c),children:[T.jsx("span",{style:{color:o?"var(--text-primary)":"var(--text-secondary)"},children:((ae=wZ.find(De=>De.id===o))==null?void 0:ae.label)||"Select a category..."}),T.jsx(rz,{size:16,color:"var(--text-muted)",style:{transform:c?"rotate(180deg)":"none",transition:"transform 0.2s"}})]}),c&&T.jsx("div",{style:{position:"absolute",top:"calc(100% + 8px)",left:0,right:0,background:"var(--glass-bg)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"6px",zIndex:50,boxShadow:"var(--shadow-glass)",maxHeight:260,overflowY:"auto"},children:wZ.map(De=>T.jsx("div",{onClick:()=>{l(De.id),f(!1)},style:{padding:"12px 14px",borderRadius:"var(--radius-sm)",cursor:"pointer",background:o===De.id?"var(--quai-green-10)":"transparent",color:o===De.id?"var(--quai-green)":"var(--text-primary)",fontSize:14,fontWeight:o===De.id?600:400,transition:"all 0.2s",marginBottom:2},onMouseEnter:dt=>{o!==De.id&&(dt.currentTarget.style.background="rgba(255, 255, 255, 0.03)",dt.currentTarget.style.color="var(--quai-green)")},onMouseLeave:dt=>{o!==De.id&&(dt.currentTarget.style.background="transparent",dt.currentTarget.style.color="var(--text-primary)")},children:De.label},De.id))})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8},children:"DESCRIPTION"}),T.jsx("textarea",{style:{width:"100%",minHeight:200,resize:"vertical",background:"var(--glass-bg)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-md)",padding:"16px",color:"var(--text-primary)",fontSize:14,outline:"none",transition:"border-color 0.2s, box-shadow 0.2s"},value:d,onChange:De=>p(De.target.value),onFocus:De=>{De.target.style.borderColor="var(--quai-green)",De.target.style.boxShadow="0 0 0 2px var(--quai-green-10)"},onBlur:De=>{De.target.style.borderColor="var(--glass-border)",De.target.style.boxShadow="none"},placeholder:"Describe deliverables, required skills, and what success looks like."}),T.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:8},children:T.jsxs("span",{style:{fontSize:11,fontFamily:"var(--font-mono)",color:d.length>2e3?"var(--error)":"var(--text-secondary)"},children:[d.length," / max 2000 chars"]})})]}),T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8},children:"SKILLS REQUIRED"}),T.jsxs("div",{className:"input",style:{display:"flex",flexWrap:"wrap",gap:6,padding:"8px 12px",minHeight:42},children:[g.map(De=>T.jsxs("span",{style:{background:"var(--quai-green-dim)",color:"var(--quai-green)",borderRadius:"var(--radius-pill)",padding:"3px 8px",fontSize:12,display:"flex",alignItems:"center",gap:4},children:[De,T.jsx("button",{onClick:()=>se(De),style:{background:"none",border:"none",color:"inherit",cursor:"pointer",padding:0,display:"flex"},children:""})]},De)),T.jsx("input",{type:"text",style:{flex:1,minWidth:120,border:"none",background:"transparent",outline:"none",fontSize:13,color:"var(--text-primary)"},value:S,onChange:De=>w(De.target.value),onKeyDown:te,placeholder:g.length<10?"Type and press Enter...":"",disabled:g.length>=10})]}),T.jsxs("div",{style:{fontSize:11,fontFamily:"var(--font-mono)",color:"var(--text-muted)",marginTop:8},children:[g.length," / 10 skills"]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8},children:"EXPERIENCE LEVEL"}),T.jsx("div",{style:{display:"flex",gap:16},children:[{id:"Entry",desc:"New talent, clear instructions, lower budget"},{id:"Intermediate",desc:"Some experience required, mid-range budget"},{id:"Expert",desc:"Complex work, specialized skills, higher budget"}].map(De=>T.jsxs("div",{onClick:()=>k(De.id),style:{flex:1,padding:16,cursor:"pointer",background:E===De.id?"var(--quai-green-10)":"var(--bg-surface)",border:`1px solid ${E===De.id?"var(--quai-green)":"var(--border-default)"}`,borderRadius:"var(--radius-md)",boxShadow:E===De.id?"0 0 0 3px var(--quai-green-10)":"none",transition:"all var(--transition-fast)",position:"relative"},children:[E===De.id&&T.jsx(Ef,{size:16,color:"var(--quai-green)",style:{position:"absolute",top:16,right:16}}),T.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:De.id}),T.jsx("div",{style:{fontSize:12,color:"var(--text-secondary)"},children:De.desc})]},De.id))})]}),T.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:16},children:T.jsx("button",{className:"btn-primary",onClick:()=>i(2),disabled:!s||!o||!d.trim(),children:"Next: Budget & Timeline "})})]})},oe=()=>T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:32},children:[T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8},children:"BUDGET TYPE"}),T.jsxs("div",{style:{display:"flex",gap:16},children:[T.jsxs("div",{onClick:()=>O("Fixed Price"),style:{flex:1,padding:16,cursor:"pointer",background:R==="Fixed Price"?"var(--quai-green-10)":"var(--bg-surface)",border:`1px solid ${R==="Fixed Price"?"var(--quai-green)":"var(--border-default)"}`,borderRadius:"var(--radius-md)",boxShadow:R==="Fixed Price"?"0 0 0 3px var(--quai-green-10)":"none",transition:"all var(--transition-fast)",position:"relative"},children:[R==="Fixed Price"&&T.jsx(Ef,{size:16,color:"var(--quai-green)",style:{position:"absolute",top:16,right:16}}),T.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:"Fixed Price"}),T.jsx("div",{style:{fontSize:12,color:"var(--text-secondary)"},children:" Pay a set total for the completed project"})]}),T.jsxs("div",{style:{flex:1,padding:16,cursor:"not-allowed",opacity:.5,background:"var(--bg-surface)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-md)"},children:[T.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:"Hourly"}),T.jsx("div",{style:{fontSize:12,color:"var(--text-secondary)"},children:" Pay per hour of work (coming soon)"})]})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8},children:"BUDGET (QUAI)"}),T.jsx("input",{type:"number",style:{width:"100%",background:"transparent",border:"none",outline:"none",fontFamily:"var(--font-mono)",fontSize:32,color:"var(--quai-green)",textAlign:"center",padding:"16px 0"},value:D,onChange:ae=>I(ae.target.value),placeholder:"0.00",step:"0.01",min:"0.1"}),T.jsx("div",{style:{textAlign:"center",fontSize:12,color:"var(--text-muted)"},children:"Minimum: 0.1 QUAI"}),T.jsxs("div",{style:{background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",padding:"12px 16px",marginTop:16,display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:8},children:[T.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--text-primary)"},children:[" ",fe.toFixed(2)," Qi"]}),T.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--text-primary)"},children:[" ",ne.toFixed(1)," kWh"]}),T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--quai-green)"},children:"Fee: ~$0.001"})]}),T.jsxs("div",{style:{display:"flex",gap:8,marginTop:16,fontSize:13,color:"var(--text-secondary)"},children:[T.jsx(g0e,{size:12,style:{marginTop:2}}),T.jsx("span",{children:"Funds will be locked in a smart contract on Quai Network. Released only when you approve the completed work."})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"section-label",style:{display:"block",marginBottom:8},children:"PROJECT DEADLINE"}),T.jsx(XKe,{selected:B,onChange:ae=>z(ae),minDate:new Date,className:"input",placeholderText:"Select a date"}),B&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginTop:8,fontSize:13,color:"var(--text-secondary)"},children:[T.jsx(Q5,{size:12}),B.toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})," ","(",Math.ceil((B.getTime()-Date.now())/(1e3*60*60*24))," days from now)"]})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:16},children:[T.jsx("button",{className:"btn-secondary",onClick:()=>i(1),children:" Back"}),T.jsx("button",{className:"btn-primary",onClick:()=>i(3),disabled:!D||re<.1||!B,children:"Next: Review "})]})]}),ee=()=>T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:32},children:[T.jsxs("div",{className:"glass-card",style:{padding:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:16},children:"POSTING SUMMARY"}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("span",{style:{fontSize:14,color:"var(--text-secondary)"},children:"You will lock"}),T.jsx(tT,{amount:D,size:"md"})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("span",{style:{fontSize:14,color:"var(--text-secondary)"},children:"In Qi"}),T.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--text-secondary)"},children:[" ",fe.toFixed(2)," Qi"]})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("span",{style:{fontSize:14,color:"var(--text-secondary)"},children:"In kWh"}),T.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--text-secondary)"},children:[" ",ne.toFixed(1)," kWh"]})]}),T.jsx("hr",{className:"divider"}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("span",{style:{fontSize:14,color:"var(--text-secondary)"},children:"Quai tx fee"}),T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--success)"},children:"~$0.001"})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("span",{style:{fontSize:14,color:"var(--text-secondary)"},children:"Platform fee"}),T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--success)"},children:"$0.00"})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[T.jsx("span",{style:{fontSize:14,color:"var(--text-secondary)"},children:"Upwork would cost"}),T.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--error)",textDecoration:"line-through"},children:["$",(re*.2).toFixed(2)]})]}),T.jsx("hr",{className:"divider"}),T.jsxs("div",{style:{background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",padding:12,display:"flex",gap:8,alignItems:"flex-start"},children:[T.jsx(jQ,{size:12,color:"var(--quai-green)",style:{marginTop:2}}),T.jsx("span",{style:{fontSize:12,color:"var(--text-secondary)"},children:"Funds return automatically if no proposal is accepted before the deadline."})]}),T.jsx("button",{className:"btn-primary",style:{width:"100%",marginTop:24,padding:14},onClick:()=>Y(!0),children:"Post Job & Lock Escrow"})]}),T.jsx("div",{style:{display:"flex",justifyContent:"flex-start"},children:T.jsx("button",{className:"btn-secondary",onClick:()=>i(2),children:" Back"})})]}),xe={title:s||"Job Title",description:d||"Job description will appear here...",category:o||"Category",budget:D||"0",deadline:B?Math.floor(B.getTime()/1e3):Math.floor(Date.now()/1e3)+86400,status:1n,createdAt:Math.floor(Date.now()/1e3),client:"0x0000000000000000000000000000000000000000",skills:g.length>0?g:void 0};return T.jsxs("div",{style:{padding:"80px 40px 40px",maxWidth:1500,margin:"0 auto"},children:[T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:16},children:"Dashboard > Post a Job"}),T.jsx("h1",{style:{fontSize:24,fontWeight:700,color:"var(--text-primary)",marginBottom:8},children:"Post a New Job"}),T.jsx("p",{style:{fontSize:15,color:"var(--text-secondary)",marginBottom:32},children:"Fill out the details below to find the perfect freelancer."}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:32},children:[T.jsxs("div",{children:[T.jsx("div",{style:{display:"flex",alignItems:"center",marginBottom:40},children:[{num:1,label:"Job Details"},{num:2,label:"Budget & Timeline"},{num:3,label:"Review & Post"}].map((ae,De)=>T.jsxs("div",{style:{display:"flex",alignItems:"center",flex:De<2?1:0},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:8},children:[T.jsx("div",{style:{width:24,height:24,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",background:r>ae.num?"var(--quai-green)":r===ae.num?"var(--quai-green-10)":"var(--bg-elevated)",border:`2px solid ${r>=ae.num?"var(--quai-green)":"var(--border-default)"}`,color:r>ae.num?"var(--text-inverse)":r===ae.num?"var(--quai-green)":"var(--text-muted)",fontSize:12,fontWeight:600},children:r>ae.num?T.jsx(Ef,{size:14}):ae.num}),T.jsx("div",{style:{fontSize:11,fontWeight:500,color:r>=ae.num?"var(--text-primary)":"var(--text-muted)",whiteSpace:"nowrap"},children:ae.label})]}),De<2&&T.jsx("div",{style:{flex:1,height:2,background:r>ae.num?"var(--quai-green)":"var(--border-default)",margin:"0 16px",alignSelf:"flex-start",marginTop:11}})]},ae.num))}),r===1&&Ee(),r===2&&oe(),r===3&&ee()]}),T.jsxs("div",{style:{position:"sticky",top:88,alignSelf:"flex-start"},children:[T.jsx("div",{className:"section-label",style:{marginBottom:12},children:"PREVIEW"}),T.jsxs("div",{className:"glass-card",style:{padding:24,position:"relative",overflow:"hidden"},children:[T.jsx("div",{style:{position:"absolute",top:-50,right:-50,width:200,height:200,background:"radial-gradient(circle, rgba(78,255,160,0.05), transparent 70%)",pointerEvents:"none"}}),T.jsx(Gue,{job:xe,proposalsCount:0})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,marginTop:12,fontSize:12,color:"var(--text-muted)"},children:[T.jsx(Ef,{size:10})," Visible to all freelancers instantly after confirmation"]})]})]}),T.jsxs($ue,{isOpen:V,onClose:()=>Y(!1),title:"Confirm Job Posting",children:[T.jsxs("p",{style:{fontSize:15,color:"var(--text-primary)",marginBottom:16},children:["You are about to lock ",D," QUAI into a smart contract escrow on Quai Network."]}),T.jsxs("ul",{style:{fontSize:14,color:"var(--text-secondary)",paddingLeft:20,marginBottom:24,lineHeight:1.6},children:[T.jsx("li",{children:"Funds are held by the contract, not by any company"}),T.jsx("li",{children:"Released when you approve the completed work"}),T.jsx("li",{children:"Refundable if no freelancer is hired before the deadline"})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,color:"var(--warning)",fontSize:12,marginBottom:24},children:[T.jsx(oz,{size:16}),"This transaction is irreversible. Ensure your budget is correct."]}),T.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[T.jsx("button",{className:"btn-secondary",onClick:()=>Y(!1),disabled:q,children:"Cancel"}),T.jsx("button",{className:`btn-primary ${q?"btn-loading":""}`,onClick:be,disabled:q,children:q?"Posting...":"Confirm & Post "})]})]})]})}function ZKe({job:n,proposalsCount:e,onReleasePayment:t,onDispute:r}){const s={0:"open",1:"open",2:"active",3:"completed",4:"disputed",5:"refunded"}[n.status]||"open";return T.jsxs("div",{className:"glass-card",style:{padding:20},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:16},children:[T.jsx("div",{style:{fontSize:16,fontWeight:600,color:"var(--text-primary)"},children:n.title}),T.jsx(gx,{status:s})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:16,borderTop:"1px solid var(--border-subtle)",borderBottom:"1px solid var(--border-subtle)",padding:"12px 0",marginBottom:16},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)"},children:"Proposals"}),T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:14,color:"var(--quai-green)"},children:e})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)"},children:"Budget"}),T.jsx(tT,{amount:n.budget,size:"sm"})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)"},children:"Deadline"}),T.jsx("span",{style:{fontSize:13,color:"var(--text-primary)"},children:jp(Number(n.deadline))})]})]}),(s==="active"||s==="completed")&&T.jsxs("div",{style:{marginBottom:16,fontSize:13,display:"flex",gap:12,alignItems:"center",flexWrap:"wrap"},children:[T.jsxs("div",{style:{color:"var(--text-secondary)"},children:["Hired: ",T.jsx("span",{className:"address",style:{fontFamily:"var(--font-mono)"},children:Df(n.freelancer||n.freelancer_address)})]}),T.jsxs("div",{style:{padding:"2px 8px",borderRadius:4,background:"var(--quai-green-10)",color:"var(--quai-green)",fontSize:10,fontWeight:700,border:"1px solid var(--quai-green-dim)",display:"flex",alignItems:"center",gap:4},children:[T.jsx("span",{children:"WORK AGREEMENT NFT"}),T.jsxs("span",{style:{color:"var(--text-secondary)",opacity:.7},children:["#",n.id]})]})]}),T.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[s==="open"&&T.jsxs(T.Fragment,{children:[T.jsx(_r,{to:`/client/jobs/${n.id}`,className:"btn btn-primary btn-sm",children:"View Proposals"}),T.jsx(_r,{to:`/client/jobs/${n.id}`,className:"btn btn-ghost btn-sm",children:"Manage "})]}),s==="active"&&T.jsxs(T.Fragment,{children:[T.jsx("button",{onClick:t,className:"btn btn-primary btn-sm",children:"Release Payment"}),T.jsx("button",{onClick:r,className:"btn btn-ghost btn-sm",style:{color:"var(--error)"},children:"Dispute"})]}),s==="completed"&&T.jsx(_r,{to:`/client/jobs/${n.id}`,className:"btn btn-secondary btn-sm",children:"View Details "}),s==="disputed"&&T.jsx("button",{className:"btn btn-danger btn-sm",children:"View Dispute"})]})]})}function QKe({icon:n,title:e,description:t,action:r}){return T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"60px 24px",gap:12,textAlign:"center"},children:[T.jsx("div",{style:{width:56,height:56,borderRadius:"var(--radius-lg)",background:"var(--bg-elevated)",border:"1px solid var(--border-default)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--text-muted)",marginBottom:4},children:n}),T.jsx("h3",{style:{fontSize:"var(--text-lg)",fontWeight:600,color:"var(--text-primary)",margin:0},children:e}),T.jsx("p",{style:{fontSize:"var(--text-sm)",color:"var(--text-secondary)",maxWidth:320,margin:0},children:t}),r&&T.jsx(_r,{to:r.href,className:"btn-primary",style:{marginTop:8,textDecoration:"none"},children:r.label})]})}function eJe(){const{address:n,isConnected:e}=Po(),{getAllJobs:t,releasePayment:r,raiseDispute:i}=If(),{getByJob:s}=mx(),[a,o]=L.useState([]),[l,c]=L.useState(!0),[f,d]=L.useState("All"),p=async()=>{if(!(!e||!n))try{const O=(await t()).filter(D=>(D.client||D.client_address||"").toLowerCase()===n.toLowerCase());o(O)}catch{fi.error("Failed to load your jobs")}finally{c(!1)}};L.useEffect(()=>{let R=!0;return R&&p(),()=>{R=!1}},[e,n,t]);const g=async R=>{try{await r(R),fi.success("Payment released successfully!"),p()}catch{fi.error("Failed to release payment")}},b=async R=>{try{await i(R),fi.success("Dispute raised"),p()}catch{fi.error("Failed to raise dispute")}},S=["All","Open","Active","Completed","Disputed"],w=a.filter(R=>f==="All"?!0:f==="Open"?R.status==="open":f==="Active"?R.status==="in_progress":f==="Completed"?R.status==="completed":f==="Disputed"?R.status==="disputed":!0),[E,k]=L.useState({});return L.useEffect(()=>{a.forEach(async R=>{const O=await s(R.id);k(D=>({...D,[R.id]:O.length}))})},[a,s]),T.jsxs("div",{style:{padding:"80px 40px 40px",maxWidth:1400,margin:"0 auto"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:32},children:[T.jsx("h1",{style:{fontSize:32,fontWeight:700,color:"var(--text-primary)",margin:0},children:"My Jobs"}),T.jsx(_r,{to:"/client/post-job",className:"btn-primary",style:{textDecoration:"none"},children:"Post New Job +"})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid var(--border-subtle)",marginBottom:24},children:[T.jsx("div",{style:{display:"flex"},children:S.map(R=>{const O=R==="All"?a.length:a.filter(D=>R==="Open"?D.status==="open":R==="Active"?D.status==="in_progress":R==="Completed"?D.status==="completed":R==="Disputed"?D.status==="disputed":!1).length;return T.jsxs("button",{onClick:()=>d(R),style:{padding:"10px 16px",fontSize:14,fontWeight:500,background:"none",border:"none",cursor:"pointer",color:f===R?"var(--text-primary)":"var(--text-secondary)",borderBottom:f===R?"2px solid var(--quai-green)":"2px solid transparent",display:"flex",alignItems:"center",gap:6,transition:"color var(--transition-fast)"},children:[R,T.jsx("span",{style:{background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-pill)",padding:"1px 7px",fontFamily:"var(--font-mono)",fontSize:11},children:O})]},R)})}),T.jsxs("button",{className:"btn-secondary",style:{padding:"6px 12px",fontSize:12,display:"flex",alignItems:"center",gap:4},children:["Sort by: Newest ",T.jsx(rz,{size:12})]})]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:l?[1,2,3].map(R=>T.jsx("div",{className:"glass-card skeleton",style:{height:160}},R)):w.length===0?T.jsx(QKe,{icon:T.jsx($v,{size:24}),title:`No ${f.toLowerCase()} jobs`,description:"You don't have any jobs matching this status.",action:f==="All"?{label:"Post your first job",href:"/client/post-job"}:void 0}):w.map(R=>T.jsx(ZKe,{job:R,proposalsCount:E[R.id]||0,onReleasePayment:()=>g(Number(R.id)),onDispute:()=>b(Number(R.id))},R.id.toString()))})]})}function tJe(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const nJe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rJe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,iJe={};function SZ(n,e){return(iJe.jsx?rJe:nJe).test(n)}const sJe=/[ \t\n\f\r]/g;function aJe(n){return typeof n=="object"?n.type==="text"?EZ(n.value):!1:EZ(n)}function EZ(n){return n.replace(sJe,"")===""}class sC{constructor(e,t,r){this.normal=t,this.property=e,r&&(this.space=r)}}sC.prototype.normal={};sC.prototype.property={};sC.prototype.space=void 0;function Pfe(n,e){const t={},r={};for(const i of n)Object.assign(t,i.property),Object.assign(r,i.normal);return new sC(t,r,e)}function zF(n){return n.toLowerCase()}class Zl{constructor(e,t){this.attribute=t,this.property=e}}Zl.prototype.attribute="";Zl.prototype.booleanish=!1;Zl.prototype.boolean=!1;Zl.prototype.commaOrSpaceSeparated=!1;Zl.prototype.commaSeparated=!1;Zl.prototype.defined=!1;Zl.prototype.mustUseProperty=!1;Zl.prototype.number=!1;Zl.prototype.overloadedBoolean=!1;Zl.prototype.property="";Zl.prototype.spaceSeparated=!1;Zl.prototype.space=void 0;let oJe=0;const Wn=bx(),Fs=bx(),UF=bx(),Pt=bx(),ui=bx(),n_=bx(),oc=bx();function bx(){return 2**++oJe}const jF=Object.freeze(Object.defineProperty({__proto__:null,boolean:Wn,booleanish:Fs,commaOrSpaceSeparated:oc,commaSeparated:n_,number:Pt,overloadedBoolean:UF,spaceSeparated:ui},Symbol.toStringTag,{value:"Module"})),P5=Object.keys(jF);class J7 extends Zl{constructor(e,t,r,i){let s=-1;if(super(e,t),MZ(this,"space",i),typeof r=="number")for(;++s<P5.length;){const a=P5[s];MZ(this,P5[s],(r&jF[a])===jF[a])}}}J7.prototype.defined=!0;function MZ(n,e,t){t&&(n[e]=t)}function Jw(n){const e={},t={};for(const[r,i]of Object.entries(n.properties)){const s=new J7(r,n.transform(n.attributes||{},r),i,n.space);n.mustUseProperty&&n.mustUseProperty.includes(r)&&(s.mustUseProperty=!0),e[r]=s,t[zF(r)]=r,t[zF(s.attribute)]=r}return new sC(e,t,n.space)}const Dfe=Jw({properties:{ariaActiveDescendant:null,ariaAtomic:Fs,ariaAutoComplete:null,ariaBusy:Fs,ariaChecked:Fs,ariaColCount:Pt,ariaColIndex:Pt,ariaColSpan:Pt,ariaControls:ui,ariaCurrent:null,ariaDescribedBy:ui,ariaDetails:null,ariaDisabled:Fs,ariaDropEffect:ui,ariaErrorMessage:null,ariaExpanded:Fs,ariaFlowTo:ui,ariaGrabbed:Fs,ariaHasPopup:null,ariaHidden:Fs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ui,ariaLevel:Pt,ariaLive:null,ariaModal:Fs,ariaMultiLine:Fs,ariaMultiSelectable:Fs,ariaOrientation:null,ariaOwns:ui,ariaPlaceholder:null,ariaPosInSet:Pt,ariaPressed:Fs,ariaReadOnly:Fs,ariaRelevant:null,ariaRequired:Fs,ariaRoleDescription:ui,ariaRowCount:Pt,ariaRowIndex:Pt,ariaRowSpan:Pt,ariaSelected:Fs,ariaSetSize:Pt,ariaSort:null,ariaValueMax:Pt,ariaValueMin:Pt,ariaValueNow:Pt,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Ife(n,e){return e in n?n[e]:e}function Nfe(n,e){return Ife(n,e.toLowerCase())}const lJe=Jw({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:n_,acceptCharset:ui,accessKey:ui,action:null,allow:null,allowFullScreen:Wn,allowPaymentRequest:Wn,allowUserMedia:Wn,alt:null,as:null,async:Wn,autoCapitalize:null,autoComplete:ui,autoFocus:Wn,autoPlay:Wn,blocking:ui,capture:null,charSet:null,checked:Wn,cite:null,className:ui,cols:Pt,colSpan:null,content:null,contentEditable:Fs,controls:Wn,controlsList:ui,coords:Pt|n_,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Wn,defer:Wn,dir:null,dirName:null,disabled:Wn,download:UF,draggable:Fs,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Wn,formTarget:null,headers:ui,height:Pt,hidden:UF,high:Pt,href:null,hrefLang:null,htmlFor:ui,httpEquiv:ui,id:null,imageSizes:null,imageSrcSet:null,inert:Wn,inputMode:null,integrity:null,is:null,isMap:Wn,itemId:null,itemProp:ui,itemRef:ui,itemScope:Wn,itemType:ui,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Wn,low:Pt,manifest:null,max:null,maxLength:Pt,media:null,method:null,min:null,minLength:Pt,multiple:Wn,muted:Wn,name:null,nonce:null,noModule:Wn,noValidate:Wn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Wn,optimum:Pt,pattern:null,ping:ui,placeholder:null,playsInline:Wn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Wn,referrerPolicy:null,rel:ui,required:Wn,reversed:Wn,rows:Pt,rowSpan:Pt,sandbox:ui,scope:null,scoped:Wn,seamless:Wn,selected:Wn,shadowRootClonable:Wn,shadowRootDelegatesFocus:Wn,shadowRootMode:null,shape:null,size:Pt,sizes:null,slot:null,span:Pt,spellCheck:Fs,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Pt,step:null,style:null,tabIndex:Pt,target:null,title:null,translate:null,type:null,typeMustMatch:Wn,useMap:null,value:Fs,width:Pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ui,axis:null,background:null,bgColor:null,border:Pt,borderColor:null,bottomMargin:Pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Wn,declare:Wn,event:null,face:null,frame:null,frameBorder:null,hSpace:Pt,leftMargin:Pt,link:null,longDesc:null,lowSrc:null,marginHeight:Pt,marginWidth:Pt,noResize:Wn,noHref:Wn,noShade:Wn,noWrap:Wn,object:null,profile:null,prompt:null,rev:null,rightMargin:Pt,rules:null,scheme:null,scrolling:Fs,standby:null,summary:null,text:null,topMargin:Pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Wn,disableRemotePlayback:Wn,prefix:null,property:null,results:Pt,security:null,unselectable:null},space:"html",transform:Nfe}),cJe=Jw({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:oc,accentHeight:Pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Pt,amplitude:Pt,arabicForm:null,ascent:Pt,attributeName:null,attributeType:null,azimuth:Pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Pt,by:null,calcMode:null,capHeight:Pt,className:ui,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Pt,diffuseConstant:Pt,direction:null,display:null,dur:null,divisor:Pt,dominantBaseline:null,download:Wn,dx:null,dy:null,edgeMode:null,editable:null,elevation:Pt,enableBackground:null,end:null,event:null,exponent:Pt,externalResourcesRequired:null,fill:null,fillOpacity:Pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:n_,g2:n_,glyphName:n_,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Pt,horizOriginX:Pt,horizOriginY:Pt,id:null,ideographic:Pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Pt,k:Pt,k1:Pt,k2:Pt,k3:Pt,k4:Pt,kernelMatrix:oc,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Pt,overlineThickness:Pt,paintOrder:null,panose1:null,path:null,pathLength:Pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ui,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Pt,pointsAtY:Pt,pointsAtZ:Pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:oc,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:oc,rev:oc,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:oc,requiredFeatures:oc,requiredFonts:oc,requiredFormats:oc,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Pt,specularExponent:Pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Pt,strikethroughThickness:Pt,string:null,stroke:null,strokeDashArray:oc,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Pt,strokeOpacity:Pt,strokeWidth:null,style:null,surfaceScale:Pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:oc,tabIndex:Pt,tableValues:null,target:null,targetX:Pt,targetY:Pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:oc,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Pt,underlineThickness:Pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Pt,values:null,vAlphabetic:Pt,vMathematical:Pt,vectorEffect:null,vHanging:Pt,vIdeographic:Pt,version:null,vertAdvY:Pt,vertOriginX:Pt,vertOriginY:Pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ife}),Lfe=Jw({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),Bfe=Jw({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Nfe}),Ffe=Jw({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),uJe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},fJe=/[A-Z]/g,AZ=/-[a-z]/g,dJe=/^data[-\w.:]+$/i;function hJe(n,e){const t=zF(e);let r=e,i=Zl;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&dJe.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(AZ,mJe);r="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!AZ.test(s)){let a=s.replace(fJe,pJe);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}i=J7}return new i(r,e)}function pJe(n){return"-"+n.toLowerCase()}function mJe(n){return n.charAt(1).toUpperCase()}const gJe=Pfe([Dfe,lJe,Lfe,Bfe,Ffe],"html"),Z7=Pfe([Dfe,cJe,Lfe,Bfe,Ffe],"svg");function yJe(n){return n.join(" ").trim()}var p1={},D5,TZ;function vJe(){if(TZ)return D5;TZ=1;var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,t=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l=`
`,c="/",f="*",d="",p="comment",g="declaration";function b(w,E){if(typeof w!="string")throw new TypeError("First argument must be a string");if(!w)return[];E=E||{};var k=1,R=1;function O(fe){var ne=fe.match(e);ne&&(k+=ne.length);var te=fe.lastIndexOf(l);R=~te?fe.length-te:R+fe.length}function D(){var fe={line:k,column:R};return function(ne){return ne.position=new I(fe),V(),ne}}function I(fe){this.start=fe,this.end={line:k,column:R},this.source=E.source}I.prototype.content=w;function B(fe){var ne=new Error(E.source+":"+k+":"+R+": "+fe);if(ne.reason=fe,ne.filename=E.source,ne.line=k,ne.column=R,ne.source=w,!E.silent)throw ne}function z(fe){var ne=fe.exec(w);if(ne){var te=ne[0];return O(te),w=w.slice(te.length),ne}}function V(){z(t)}function Y(fe){var ne;for(fe=fe||[];ne=q();)ne!==!1&&fe.push(ne);return fe}function q(){var fe=D();if(!(c!=w.charAt(0)||f!=w.charAt(1))){for(var ne=2;d!=w.charAt(ne)&&(f!=w.charAt(ne)||c!=w.charAt(ne+1));)++ne;if(ne+=2,d===w.charAt(ne-1))return B("End of comment missing");var te=w.slice(2,ne-2);return R+=2,O(te),w=w.slice(ne),R+=2,fe({type:p,comment:te})}}function J(){var fe=D(),ne=z(r);if(ne){if(q(),!z(i))return B("property missing ':'");var te=z(s),se=fe({type:g,property:S(ne[0].replace(n,d)),value:te?S(te[0].replace(n,d)):d});return z(a),se}}function re(){var fe=[];Y(fe);for(var ne;ne=J();)ne!==!1&&(fe.push(ne),Y(fe));return fe}return V(),re()}function S(w){return w?w.replace(o,d):d}return D5=b,D5}var CZ;function xJe(){if(CZ)return p1;CZ=1;var n=p1&&p1.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(p1,"__esModule",{value:!0}),p1.default=t;const e=n(vJe());function t(r,i){let s=null;if(!r||typeof r!="string")return s;const a=(0,e.default)(r),o=typeof i=="function";return a.forEach(l=>{if(l.type!=="declaration")return;const{property:c,value:f}=l;o?i(c,f,l):f&&(s=s||{},s[c]=f)}),s}return p1}var lM={},kZ;function bJe(){if(kZ)return lM;kZ=1,Object.defineProperty(lM,"__esModule",{value:!0}),lM.camelCase=void 0;var n=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,t=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,s=function(c){return!c||t.test(c)||n.test(c)},a=function(c,f){return f.toUpperCase()},o=function(c,f){return"".concat(f,"-")},l=function(c,f){return f===void 0&&(f={}),s(c)?c:(c=c.toLowerCase(),f.reactCompat?c=c.replace(i,o):c=c.replace(r,o),c.replace(e,a))};return lM.camelCase=l,lM}var cM,RZ;function _Je(){if(RZ)return cM;RZ=1;var n=cM&&cM.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},e=n(xJe()),t=bJe();function r(i,s){var a={};return!i||typeof i!="string"||(0,e.default)(i,function(o,l){o&&l&&(a[(0,t.camelCase)(o,s)]=l)}),a}return r.default=r,cM=r,cM}var wJe=_Je();const SJe=Mc(wJe),zfe=Ufe("end"),Q7=Ufe("start");function Ufe(n){return e;function e(t){const r=t&&t.position&&t.position[n]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function EJe(n){const e=Q7(n),t=zfe(n);if(e&&t)return{start:e,end:t}}function qM(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?OZ(n.position):"start"in n||"end"in n?OZ(n):"line"in n||"column"in n?HF(n):""}function HF(n){return PZ(n&&n.line)+":"+PZ(n&&n.column)}function OZ(n){return HF(n&&n.start)+"-"+HF(n&&n.end)}function PZ(n){return n&&typeof n=="number"?n:1}class Do extends Error{constructor(e,t,r){super(),typeof t=="string"&&(r=t,t=void 0);let i="",s={},a=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?s.ruleId=r:(s.source=r.slice(0,l),s.ruleId=r.slice(l+1))}if(!s.place&&s.ancestors&&s.ancestors){const l=s.ancestors[s.ancestors.length-1];l&&(s.place=l.position)}const o=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=qM(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Do.prototype.file="";Do.prototype.name="";Do.prototype.reason="";Do.prototype.message="";Do.prototype.stack="";Do.prototype.column=void 0;Do.prototype.line=void 0;Do.prototype.ancestors=void 0;Do.prototype.cause=void 0;Do.prototype.fatal=void 0;Do.prototype.place=void 0;Do.prototype.ruleId=void 0;Do.prototype.source=void 0;const e9={}.hasOwnProperty,MJe=new Map,AJe=/[A-Z]/g,TJe=new Set(["table","tbody","thead","tfoot","tr"]),CJe=new Set(["td","th"]),jfe="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function kJe(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=BJe(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=LJe(t,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?Z7:gJe,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=Hfe(i,n,void 0);return s&&typeof s!="string"?s:i.create(n,i.Fragment,{children:s||void 0},void 0)}function Hfe(n,e,t){if(e.type==="element")return RJe(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return OJe(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return DJe(n,e,t);if(e.type==="mdxjsEsm")return PJe(n,e);if(e.type==="root")return IJe(n,e,t);if(e.type==="text")return NJe(n,e)}function RJe(n,e,t){const r=n.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=Z7,n.schema=i),n.ancestors.push(e);const s=Wfe(n,e.tagName,!1),a=FJe(n,e);let o=n9(n,e);return TJe.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!aJe(l):!0})),Vfe(n,a,s,e),t9(a,o),n.ancestors.pop(),n.schema=r,n.create(e,s,a,t)}function OJe(n,e){if(e.data&&e.data.estree&&n.evaluater){const r=e.data.estree.body[0];return r.type,n.evaluater.evaluateExpression(r.expression)}sT(n,e.position)}function PJe(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);sT(n,e.position)}function DJe(n,e,t){const r=n.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=Z7,n.schema=i),n.ancestors.push(e);const s=e.name===null?n.Fragment:Wfe(n,e.name,!0),a=zJe(n,e),o=n9(n,e);return Vfe(n,a,s,e),t9(a,o),n.ancestors.pop(),n.schema=r,n.create(e,s,a,t)}function IJe(n,e,t){const r={};return t9(r,n9(n,e)),n.create(e,n.Fragment,r,t)}function NJe(n,e){return e.value}function Vfe(n,e,t,r){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=r)}function t9(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function LJe(n,e,t){return r;function r(i,s,a,o){const c=Array.isArray(a.children)?t:e;return o?c(s,a,o):c(s,a)}}function BJe(n,e){return t;function t(r,i,s,a){const o=Array.isArray(s.children),l=Q7(r);return e(i,s,a,o,{columnNumber:l?l.column-1:void 0,fileName:n,lineNumber:l?l.line:void 0},void 0)}}function FJe(n,e){const t={};let r,i;for(i in e.properties)if(i!=="children"&&e9.call(e.properties,i)){const s=UJe(n,i,e.properties[i]);if(s){const[a,o]=s;n.tableCellAlignToStyle&&a==="align"&&typeof o=="string"&&CJe.has(e.tagName)?r=o:t[a]=o}}if(r){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return t}function zJe(n,e){const t={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&n.evaluater){const s=r.data.estree.body[0];s.type;const a=s.expression;a.type;const o=a.properties[0];o.type,Object.assign(t,n.evaluater.evaluateExpression(o.argument))}else sT(n,e.position);else{const i=r.name;let s;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&n.evaluater){const o=r.value.data.estree.body[0];o.type,s=n.evaluater.evaluateExpression(o.expression)}else sT(n,e.position);else s=r.value===null?!0:r.value;t[i]=s}return t}function n9(n,e){const t=[];let r=-1;const i=n.passKeys?new Map:MJe;for(;++r<e.children.length;){const s=e.children[r];let a;if(n.passKeys){const l=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(l){const c=i.get(l)||0;a=l+"-"+c,i.set(l,c+1)}}const o=Hfe(n,s,a);o!==void 0&&t.push(o)}return t}function UJe(n,e,t){const r=hJe(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=r.commaSeparated?tJe(t):yJe(t)),r.property==="style"){let i=typeof t=="object"?t:jJe(n,String(t));return n.stylePropertyNameCase==="css"&&(i=HJe(i)),["style",i]}return[n.elementAttributeNameCase==="react"&&r.space?uJe[r.property]||r.property:r.attribute,t]}}function jJe(n,e){try{return SJe(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const r=t,i=new Do("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=n.filePath||void 0,i.url=jfe+"#cannot-parse-style-attribute",i}}function Wfe(n,e,t){let r;if(!t)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let s=-1,a;for(;++s<i.length;){const o=SZ(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:o,computed:!!(s&&o.type==="Literal"),optional:!1}:o}r=a}else r=SZ(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return e9.call(n.components,i)?n.components[i]:i}if(n.evaluater)return n.evaluater.evaluateExpression(r);sT(n)}function sT(n,e){const t=new Do("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=jfe+"#cannot-handle-mdx-estrees-without-createevaluater",t}function HJe(n){const e={};let t;for(t in n)e9.call(n,t)&&(e[VJe(t)]=n[t]);return e}function VJe(n){let e=n.replace(AJe,WJe);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function WJe(n){return"-"+n.toLowerCase()}const I5={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},$Je={};function GJe(n,e){const t=$Je,r=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,i=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return $fe(n,r,i)}function $fe(n,e,t){if(qJe(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return DZ(n.children,e,t)}return Array.isArray(n)?DZ(n,e,t):""}function DZ(n,e,t){const r=[];let i=-1;for(;++i<n.length;)r[i]=$fe(n[i],e,t);return r.join("")}function qJe(n){return!!(n&&typeof n=="object")}const IZ=document.createElement("i");function r9(n){const e="&"+n+";";IZ.innerHTML=e;const t=IZ.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function dh(n,e,t,r){const i=n.length;let s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,t=t>0?t:0,r.length<1e4)a=Array.from(r),a.unshift(e,t),n.splice(...a);else for(t&&n.splice(e,t);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),n.splice(...a),s+=1e4,e+=1e4}function yu(n,e){return n.length>0?(dh(n,n.length,0,e),n):e}const NZ={}.hasOwnProperty;function YJe(n){const e={};let t=-1;for(;++t<n.length;)XJe(e,n[t]);return e}function XJe(n,e){let t;for(t in e){const i=(NZ.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let a;if(s)for(a in s){NZ.call(i,a)||(i[a]=[]);const o=s[a];KJe(i[a],Array.isArray(o)?o:o?[o]:[])}}}function KJe(n,e){let t=-1;const r=[];for(;++t<e.length;)(e[t].add==="after"?n:r).push(e[t]);dh(n,0,0,r)}function Gfe(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function r_(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const jd=yg(/[A-Za-z]/),vc=yg(/[\dA-Za-z]/),JJe=yg(/[#-'*+\--9=?A-Z^-~]/);function VF(n){return n!==null&&(n<32||n===127)}const WF=yg(/\d/),ZJe=yg(/[\dA-Fa-f]/),QJe=yg(/[!-/:-@[-`{-~]/);function Tn(n){return n!==null&&n<-2}function ql(n){return n!==null&&(n<0||n===32)}function Dr(n){return n===-2||n===-1||n===32}const eZe=yg(new RegExp("\\p{P}|\\p{S}","u")),tZe=yg(/\s/);function yg(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function Zw(n){const e=[];let t=-1,r=0,i=0;for(;++t<n.length;){const s=n.charCodeAt(t);let a="";if(s===37&&vc(n.charCodeAt(t+1))&&vc(n.charCodeAt(t+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const o=n.charCodeAt(t+1);s<56320&&o>56319&&o<57344?(a=String.fromCharCode(s,o),i=1):a=""}else a=String.fromCharCode(s);a&&(e.push(n.slice(r,t),encodeURIComponent(a)),r=t+i+1,a=""),i&&(t+=i,i=0)}return e.join("")+n.slice(r)}function di(n,e,t,r){const i=r?r-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(l){return Dr(l)?(n.enter(t),o(l)):e(l)}function o(l){return Dr(l)&&s++<i?(n.consume(l),o):(n.exit(t),e(l))}}const nZe={tokenize:rZe};function rZe(n){const e=n.attempt(this.parser.constructs.contentInitial,r,i);let t;return e;function r(o){if(o===null){n.consume(o);return}return n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),di(n,e,"linePrefix")}function i(o){return n.enter("paragraph"),s(o)}function s(o){const l=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=l),t=l,a(o)}function a(o){if(o===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(o);return}return Tn(o)?(n.consume(o),n.exit("chunkText"),s):(n.consume(o),a)}}const iZe={tokenize:sZe},LZ={tokenize:aZe};function sZe(n){const e=this,t=[];let r=0,i,s,a;return o;function o(R){if(r<t.length){const O=t[r];return e.containerState=O[1],n.attempt(O[0].continuation,l,c)(R)}return c(R)}function l(R){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&k();const O=e.events.length;let D=O,I;for(;D--;)if(e.events[D][0]==="exit"&&e.events[D][1].type==="chunkFlow"){I=e.events[D][1].end;break}E(r);let B=O;for(;B<e.events.length;)e.events[B][1].end={...I},B++;return dh(e.events,D+1,0,e.events.slice(O)),e.events.length=B,c(R)}return o(R)}function c(R){if(r===t.length){if(!i)return p(R);if(i.currentConstruct&&i.currentConstruct.concrete)return b(R);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(LZ,f,d)(R)}function f(R){return i&&k(),E(r),p(R)}function d(R){return e.parser.lazy[e.now().line]=r!==t.length,a=e.now().offset,b(R)}function p(R){return e.containerState={},n.attempt(LZ,g,b)(R)}function g(R){return r++,t.push([e.currentConstruct,e.containerState]),p(R)}function b(R){if(R===null){i&&k(),E(0),n.consume(R);return}return i=i||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),S(R)}function S(R){if(R===null){w(n.exit("chunkFlow"),!0),E(0),n.consume(R);return}return Tn(R)?(n.consume(R),w(n.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(n.consume(R),S)}function w(R,O){const D=e.sliceStream(R);if(O&&D.push(null),R.previous=s,s&&(s.next=R),s=R,i.defineSkip(R.start),i.write(D),e.parser.lazy[R.start.line]){let I=i.events.length;for(;I--;)if(i.events[I][1].start.offset<a&&(!i.events[I][1].end||i.events[I][1].end.offset>a))return;const B=e.events.length;let z=B,V,Y;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){if(V){Y=e.events[z][1].end;break}V=!0}for(E(r),I=B;I<e.events.length;)e.events[I][1].end={...Y},I++;dh(e.events,z+1,0,e.events.slice(B)),e.events.length=I}}function E(R){let O=t.length;for(;O-- >R;){const D=t[O];e.containerState=D[1],D[0].exit.call(e,n)}t.length=R}function k(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function aZe(n,e,t){return di(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function BZ(n){if(n===null||ql(n)||tZe(n))return 1;if(eZe(n))return 2}function i9(n,e,t){const r=[];let i=-1;for(;++i<n.length;){const s=n[i].resolveAll;s&&!r.includes(s)&&(e=s(e,t),r.push(s))}return e}const $F={name:"attention",resolveAll:oZe,tokenize:lZe};function oZe(n,e){let t=-1,r,i,s,a,o,l,c,f;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(r=t;r--;)if(n[r][0]==="exit"&&n[r][1].type==="attentionSequence"&&n[r][1]._open&&e.sliceSerialize(n[r][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[r][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[r][1].end.offset-n[r][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;l=n[r][1].end.offset-n[r][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const d={...n[r][1].end},p={...n[t][1].start};FZ(d,-l),FZ(p,l),a={type:l>1?"strongSequence":"emphasisSequence",start:d,end:{...n[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:p},s={type:l>1?"strongText":"emphasisText",start:{...n[r][1].end},end:{...n[t][1].start}},i={type:l>1?"strong":"emphasis",start:{...a.start},end:{...o.end}},n[r][1].end={...a.start},n[t][1].start={...o.end},c=[],n[r][1].end.offset-n[r][1].start.offset&&(c=yu(c,[["enter",n[r][1],e],["exit",n[r][1],e]])),c=yu(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=yu(c,i9(e.parser.constructs.insideSpan.null,n.slice(r+1,t),e)),c=yu(c,[["exit",s,e],["enter",o,e],["exit",o,e],["exit",i,e]]),n[t][1].end.offset-n[t][1].start.offset?(f=2,c=yu(c,[["enter",n[t][1],e],["exit",n[t][1],e]])):f=0,dh(n,r-1,t-r+3,c),t=r+c.length-f-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function lZe(n,e){const t=this.parser.constructs.attentionMarkers.null,r=this.previous,i=BZ(r);let s;return a;function a(l){return s=l,n.enter("attentionSequence"),o(l)}function o(l){if(l===s)return n.consume(l),o;const c=n.exit("attentionSequence"),f=BZ(l),d=!f||f===2&&i||t.includes(l),p=!i||i===2&&f||t.includes(r);return c._open=!!(s===42?d:d&&(i||!p)),c._close=!!(s===42?p:p&&(f||!d)),e(l)}}function FZ(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const cZe={name:"autolink",tokenize:uZe};function uZe(n,e,t){let r=0;return i;function i(g){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(g),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(g){return jd(g)?(n.consume(g),a):g===64?t(g):c(g)}function a(g){return g===43||g===45||g===46||vc(g)?(r=1,o(g)):c(g)}function o(g){return g===58?(n.consume(g),r=0,l):(g===43||g===45||g===46||vc(g))&&r++<32?(n.consume(g),o):(r=0,c(g))}function l(g){return g===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(g),n.exit("autolinkMarker"),n.exit("autolink"),e):g===null||g===32||g===60||VF(g)?t(g):(n.consume(g),l)}function c(g){return g===64?(n.consume(g),f):JJe(g)?(n.consume(g),c):t(g)}function f(g){return vc(g)?d(g):t(g)}function d(g){return g===46?(n.consume(g),r=0,f):g===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(g),n.exit("autolinkMarker"),n.exit("autolink"),e):p(g)}function p(g){if((g===45||vc(g))&&r++<63){const b=g===45?p:d;return n.consume(g),b}return t(g)}}const c4={partial:!0,tokenize:fZe};function fZe(n,e,t){return r;function r(s){return Dr(s)?di(n,i,"linePrefix")(s):i(s)}function i(s){return s===null||Tn(s)?e(s):t(s)}}const qfe={continuation:{tokenize:hZe},exit:pZe,name:"blockQuote",tokenize:dZe};function dZe(n,e,t){const r=this;return i;function i(a){if(a===62){const o=r.containerState;return o.open||(n.enter("blockQuote",{_container:!0}),o.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(a),n.exit("blockQuoteMarker"),s}return t(a)}function s(a){return Dr(a)?(n.enter("blockQuotePrefixWhitespace"),n.consume(a),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(a))}}function hZe(n,e,t){const r=this;return i;function i(a){return Dr(a)?di(n,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return n.attempt(qfe,e,t)(a)}}function pZe(n){n.exit("blockQuote")}const Yfe={name:"characterEscape",tokenize:mZe};function mZe(n,e,t){return r;function r(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),i}function i(s){return QJe(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const Xfe={name:"characterReference",tokenize:gZe};function gZe(n,e,t){const r=this;let i=0,s,a;return o;function o(d){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),l}function l(d){return d===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(d),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),s=31,a=vc,f(d))}function c(d){return d===88||d===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(d),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,a=ZJe,f):(n.enter("characterReferenceValue"),s=7,a=WF,f(d))}function f(d){if(d===59&&i){const p=n.exit("characterReferenceValue");return a===vc&&!r9(r.sliceSerialize(p))?t(d):(n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return a(d)&&i++<s?(n.consume(d),f):t(d)}}const zZ={partial:!0,tokenize:vZe},UZ={concrete:!0,name:"codeFenced",tokenize:yZe};function yZe(n,e,t){const r=this,i={partial:!0,tokenize:D};let s=0,a=0,o;return l;function l(I){return c(I)}function c(I){const B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,o=I,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),f(I)}function f(I){return I===o?(a++,n.consume(I),f):a<3?t(I):(n.exit("codeFencedFenceSequence"),Dr(I)?di(n,d,"whitespace")(I):d(I))}function d(I){return I===null||Tn(I)?(n.exit("codeFencedFence"),r.interrupt?e(I):n.check(zZ,S,O)(I)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),p(I))}function p(I){return I===null||Tn(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),d(I)):Dr(I)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),di(n,g,"whitespace")(I)):I===96&&I===o?t(I):(n.consume(I),p)}function g(I){return I===null||Tn(I)?d(I):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),b(I))}function b(I){return I===null||Tn(I)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),d(I)):I===96&&I===o?t(I):(n.consume(I),b)}function S(I){return n.attempt(i,O,w)(I)}function w(I){return n.enter("lineEnding"),n.consume(I),n.exit("lineEnding"),E}function E(I){return s>0&&Dr(I)?di(n,k,"linePrefix",s+1)(I):k(I)}function k(I){return I===null||Tn(I)?n.check(zZ,S,O)(I):(n.enter("codeFlowValue"),R(I))}function R(I){return I===null||Tn(I)?(n.exit("codeFlowValue"),k(I)):(n.consume(I),R)}function O(I){return n.exit("codeFenced"),e(I)}function D(I,B,z){let V=0;return Y;function Y(ne){return I.enter("lineEnding"),I.consume(ne),I.exit("lineEnding"),q}function q(ne){return I.enter("codeFencedFence"),Dr(ne)?di(I,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):J(ne)}function J(ne){return ne===o?(I.enter("codeFencedFenceSequence"),re(ne)):z(ne)}function re(ne){return ne===o?(V++,I.consume(ne),re):V>=a?(I.exit("codeFencedFenceSequence"),Dr(ne)?di(I,fe,"whitespace")(ne):fe(ne)):z(ne)}function fe(ne){return ne===null||Tn(ne)?(I.exit("codeFencedFence"),B(ne)):z(ne)}}}function vZe(n,e,t){const r=this;return i;function i(a){return a===null?t(a):(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}const N5={name:"codeIndented",tokenize:bZe},xZe={partial:!0,tokenize:_Ze};function bZe(n,e,t){const r=this;return i;function i(c){return n.enter("codeIndented"),di(n,s,"linePrefix",5)(c)}function s(c){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(c):t(c)}function a(c){return c===null?l(c):Tn(c)?n.attempt(xZe,a,l)(c):(n.enter("codeFlowValue"),o(c))}function o(c){return c===null||Tn(c)?(n.exit("codeFlowValue"),a(c)):(n.consume(c),o)}function l(c){return n.exit("codeIndented"),e(c)}}function _Ze(n,e,t){const r=this;return i;function i(a){return r.parser.lazy[r.now().line]?t(a):Tn(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),i):di(n,s,"linePrefix",5)(a)}function s(a){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):Tn(a)?i(a):t(a)}}const wZe={name:"codeText",previous:EZe,resolve:SZe,tokenize:MZe};function SZe(n){let e=n.length-4,t=3,r,i;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(r=t;++r<e;)if(n[r][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(r=t-1,e++;++r<=e;)i===void 0?r!==e&&n[r][1].type!=="lineEnding"&&(i=r):(r===e||n[r][1].type==="lineEnding")&&(n[i][1].type="codeTextData",r!==i+2&&(n[i][1].end=n[r-1][1].end,n.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return n}function EZe(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function MZe(n,e,t){let r=0,i,s;return a;function a(d){return n.enter("codeText"),n.enter("codeTextSequence"),o(d)}function o(d){return d===96?(n.consume(d),r++,o):(n.exit("codeTextSequence"),l(d))}function l(d){return d===null?t(d):d===32?(n.enter("space"),n.consume(d),n.exit("space"),l):d===96?(s=n.enter("codeTextSequence"),i=0,f(d)):Tn(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),l):(n.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||Tn(d)?(n.exit("codeTextData"),l(d)):(n.consume(d),c)}function f(d){return d===96?(n.consume(d),i++,f):i===r?(n.exit("codeTextSequence"),n.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class AZe{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const r=t??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,t,r){const i=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&uM(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),uM(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),uM(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);uM(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);uM(this.left,t.reverse())}}}function uM(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function Kfe(n){const e={};let t=-1,r,i,s,a,o,l,c;const f=new AZe(n);for(;++t<f.length;){for(;t in e;)t=e[t];if(r=f.get(t),t&&r[1].type==="chunkFlow"&&f.get(t-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,s=0,s<l.length&&l[s][1].type==="lineEndingBlank"&&(s+=2),s<l.length&&l[s][1].type==="content"))for(;++s<l.length&&l[s][1].type!=="content";)l[s][1].type==="chunkText"&&(l[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,TZe(f,t)),t=e[t],c=!0);else if(r[1]._container){for(s=t,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},o=f.slice(i,t),o.unshift(r),f.splice(i,t-i+1,o))}}return dh(n,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}function TZe(n,e){const t=n.get(e)[1],r=n.get(e)[2];let i=e-1;const s=[];let a=t._tokenizer;a||(a=r.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let f,d,p=-1,g=t,b=0,S=0;const w=[S];for(;g;){for(;n.get(++i)[1]!==g;);s.push(i),g._tokenizer||(f=r.sliceStream(g),g.next||f.push(null),d&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=g,g=g.next}for(g=t;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(S=p+1,w.push(S),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):w.pop(),p=w.length;p--;){const E=o.slice(w[p],w[p+1]),k=s.pop();l.push([k,k+E.length-1]),n.splice(k,2,E)}for(l.reverse(),p=-1;++p<l.length;)c[b+l[p][0]]=b+l[p][1],b+=l[p][1]-l[p][0]-1;return c}const CZe={resolve:RZe,tokenize:OZe},kZe={partial:!0,tokenize:PZe};function RZe(n){return Kfe(n),n}function OZe(n,e){let t;return r;function r(o){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?s(o):Tn(o)?n.check(kZe,a,s)(o):(n.consume(o),i)}function s(o){return n.exit("chunkContent"),n.exit("content"),e(o)}function a(o){return n.consume(o),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,i}}function PZe(n,e,t){const r=this;return i;function i(a){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),di(n,s,"linePrefix")}function s(a){if(a===null||Tn(a))return t(a);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(a):n.interrupt(r.parser.constructs.flow,t,e)(a)}}function Jfe(n,e,t,r,i,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let f=0;return d;function d(E){return E===60?(n.enter(r),n.enter(i),n.enter(s),n.consume(E),n.exit(s),p):E===null||E===32||E===41||VF(E)?t(E):(n.enter(r),n.enter(a),n.enter(o),n.enter("chunkString",{contentType:"string"}),S(E))}function p(E){return E===62?(n.enter(s),n.consume(E),n.exit(s),n.exit(i),n.exit(r),e):(n.enter(o),n.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(n.exit("chunkString"),n.exit(o),p(E)):E===null||E===60||Tn(E)?t(E):(n.consume(E),E===92?b:g)}function b(E){return E===60||E===62||E===92?(n.consume(E),g):g(E)}function S(E){return!f&&(E===null||E===41||ql(E))?(n.exit("chunkString"),n.exit(o),n.exit(a),n.exit(r),e(E)):f<c&&E===40?(n.consume(E),f++,S):E===41?(n.consume(E),f--,S):E===null||E===32||E===40||VF(E)?t(E):(n.consume(E),E===92?w:S)}function w(E){return E===40||E===41||E===92?(n.consume(E),S):S(E)}}function Zfe(n,e,t,r,i,s){const a=this;let o=0,l;return c;function c(g){return n.enter(r),n.enter(i),n.consume(g),n.exit(i),n.enter(s),f}function f(g){return o>999||g===null||g===91||g===93&&!l||g===94&&!o&&"_hiddenFootnoteSupport"in a.parser.constructs?t(g):g===93?(n.exit(s),n.enter(i),n.consume(g),n.exit(i),n.exit(r),e):Tn(g)?(n.enter("lineEnding"),n.consume(g),n.exit("lineEnding"),f):(n.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===null||g===91||g===93||Tn(g)||o++>999?(n.exit("chunkString"),f(g)):(n.consume(g),l||(l=!Dr(g)),g===92?p:d)}function p(g){return g===91||g===92||g===93?(n.consume(g),o++,d):d(g)}}function Qfe(n,e,t,r,i,s){let a;return o;function o(p){return p===34||p===39||p===40?(n.enter(r),n.enter(i),n.consume(p),n.exit(i),a=p===40?41:p,l):t(p)}function l(p){return p===a?(n.enter(i),n.consume(p),n.exit(i),n.exit(r),e):(n.enter(s),c(p))}function c(p){return p===a?(n.exit(s),l(a)):p===null?t(p):Tn(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),di(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===a||p===null||Tn(p)?(n.exit("chunkString"),c(p)):(n.consume(p),p===92?d:f)}function d(p){return p===a||p===92?(n.consume(p),f):f(p)}}function YM(n,e){let t;return r;function r(i){return Tn(i)?(n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),t=!0,r):Dr(i)?di(n,r,t?"linePrefix":"lineSuffix")(i):e(i)}}const DZe={name:"definition",tokenize:NZe},IZe={partial:!0,tokenize:LZe};function NZe(n,e,t){const r=this;let i;return s;function s(g){return n.enter("definition"),a(g)}function a(g){return Zfe.call(r,n,o,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function o(g){return i=r_(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(n.enter("definitionMarker"),n.consume(g),n.exit("definitionMarker"),l):t(g)}function l(g){return ql(g)?YM(n,c)(g):c(g)}function c(g){return Jfe(n,f,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return n.attempt(IZe,d,d)(g)}function d(g){return Dr(g)?di(n,p,"whitespace")(g):p(g)}function p(g){return g===null||Tn(g)?(n.exit("definition"),r.parser.defined.push(i),e(g)):t(g)}}function LZe(n,e,t){return r;function r(o){return ql(o)?YM(n,i)(o):t(o)}function i(o){return Qfe(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function s(o){return Dr(o)?di(n,a,"whitespace")(o):a(o)}function a(o){return o===null||Tn(o)?e(o):t(o)}}const BZe={name:"hardBreakEscape",tokenize:FZe};function FZe(n,e,t){return r;function r(s){return n.enter("hardBreakEscape"),n.consume(s),i}function i(s){return Tn(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const zZe={name:"headingAtx",resolve:UZe,tokenize:jZe};function UZe(n,e){let t=n.length-2,r=3,i,s;return n[r][1].type==="whitespace"&&(r+=2),t-2>r&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(r===t-1||t-4>r&&n[t-2][1].type==="whitespace")&&(t-=r+1===t?2:4),t>r&&(i={type:"atxHeadingText",start:n[r][1].start,end:n[t][1].end},s={type:"chunkText",start:n[r][1].start,end:n[t][1].end,contentType:"text"},dh(n,r,t-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),n}function jZe(n,e,t){let r=0;return i;function i(f){return n.enter("atxHeading"),s(f)}function s(f){return n.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(n.consume(f),a):f===null||ql(f)?(n.exit("atxHeadingSequence"),o(f)):t(f)}function o(f){return f===35?(n.enter("atxHeadingSequence"),l(f)):f===null||Tn(f)?(n.exit("atxHeading"),e(f)):Dr(f)?di(n,o,"whitespace")(f):(n.enter("atxHeadingText"),c(f))}function l(f){return f===35?(n.consume(f),l):(n.exit("atxHeadingSequence"),o(f))}function c(f){return f===null||f===35||ql(f)?(n.exit("atxHeadingText"),o(f)):(n.consume(f),c)}}const HZe=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jZ=["pre","script","style","textarea"],VZe={concrete:!0,name:"htmlFlow",resolveTo:GZe,tokenize:qZe},WZe={partial:!0,tokenize:XZe},$Ze={partial:!0,tokenize:YZe};function GZe(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function qZe(n,e,t){const r=this;let i,s,a,o,l;return c;function c(ae){return f(ae)}function f(ae){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(ae),d}function d(ae){return ae===33?(n.consume(ae),p):ae===47?(n.consume(ae),s=!0,S):ae===63?(n.consume(ae),i=3,r.interrupt?e:oe):jd(ae)?(n.consume(ae),a=String.fromCharCode(ae),w):t(ae)}function p(ae){return ae===45?(n.consume(ae),i=2,g):ae===91?(n.consume(ae),i=5,o=0,b):jd(ae)?(n.consume(ae),i=4,r.interrupt?e:oe):t(ae)}function g(ae){return ae===45?(n.consume(ae),r.interrupt?e:oe):t(ae)}function b(ae){const De="CDATA[";return ae===De.charCodeAt(o++)?(n.consume(ae),o===De.length?r.interrupt?e:J:b):t(ae)}function S(ae){return jd(ae)?(n.consume(ae),a=String.fromCharCode(ae),w):t(ae)}function w(ae){if(ae===null||ae===47||ae===62||ql(ae)){const De=ae===47,dt=a.toLowerCase();return!De&&!s&&jZ.includes(dt)?(i=1,r.interrupt?e(ae):J(ae)):HZe.includes(a.toLowerCase())?(i=6,De?(n.consume(ae),E):r.interrupt?e(ae):J(ae)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?t(ae):s?k(ae):R(ae))}return ae===45||vc(ae)?(n.consume(ae),a+=String.fromCharCode(ae),w):t(ae)}function E(ae){return ae===62?(n.consume(ae),r.interrupt?e:J):t(ae)}function k(ae){return Dr(ae)?(n.consume(ae),k):Y(ae)}function R(ae){return ae===47?(n.consume(ae),Y):ae===58||ae===95||jd(ae)?(n.consume(ae),O):Dr(ae)?(n.consume(ae),R):Y(ae)}function O(ae){return ae===45||ae===46||ae===58||ae===95||vc(ae)?(n.consume(ae),O):D(ae)}function D(ae){return ae===61?(n.consume(ae),I):Dr(ae)?(n.consume(ae),D):R(ae)}function I(ae){return ae===null||ae===60||ae===61||ae===62||ae===96?t(ae):ae===34||ae===39?(n.consume(ae),l=ae,B):Dr(ae)?(n.consume(ae),I):z(ae)}function B(ae){return ae===l?(n.consume(ae),l=null,V):ae===null||Tn(ae)?t(ae):(n.consume(ae),B)}function z(ae){return ae===null||ae===34||ae===39||ae===47||ae===60||ae===61||ae===62||ae===96||ql(ae)?D(ae):(n.consume(ae),z)}function V(ae){return ae===47||ae===62||Dr(ae)?R(ae):t(ae)}function Y(ae){return ae===62?(n.consume(ae),q):t(ae)}function q(ae){return ae===null||Tn(ae)?J(ae):Dr(ae)?(n.consume(ae),q):t(ae)}function J(ae){return ae===45&&i===2?(n.consume(ae),te):ae===60&&i===1?(n.consume(ae),se):ae===62&&i===4?(n.consume(ae),ee):ae===63&&i===3?(n.consume(ae),oe):ae===93&&i===5?(n.consume(ae),Ee):Tn(ae)&&(i===6||i===7)?(n.exit("htmlFlowData"),n.check(WZe,xe,re)(ae)):ae===null||Tn(ae)?(n.exit("htmlFlowData"),re(ae)):(n.consume(ae),J)}function re(ae){return n.check($Ze,fe,xe)(ae)}function fe(ae){return n.enter("lineEnding"),n.consume(ae),n.exit("lineEnding"),ne}function ne(ae){return ae===null||Tn(ae)?re(ae):(n.enter("htmlFlowData"),J(ae))}function te(ae){return ae===45?(n.consume(ae),oe):J(ae)}function se(ae){return ae===47?(n.consume(ae),a="",be):J(ae)}function be(ae){if(ae===62){const De=a.toLowerCase();return jZ.includes(De)?(n.consume(ae),ee):J(ae)}return jd(ae)&&a.length<8?(n.consume(ae),a+=String.fromCharCode(ae),be):J(ae)}function Ee(ae){return ae===93?(n.consume(ae),oe):J(ae)}function oe(ae){return ae===62?(n.consume(ae),ee):ae===45&&i===2?(n.consume(ae),oe):J(ae)}function ee(ae){return ae===null||Tn(ae)?(n.exit("htmlFlowData"),xe(ae)):(n.consume(ae),ee)}function xe(ae){return n.exit("htmlFlow"),e(ae)}}function YZe(n,e,t){const r=this;return i;function i(a){return Tn(a)?(n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),s):t(a)}function s(a){return r.parser.lazy[r.now().line]?t(a):e(a)}}function XZe(n,e,t){return r;function r(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),n.attempt(c4,e,t)}}const KZe={name:"htmlText",tokenize:JZe};function JZe(n,e,t){const r=this;let i,s,a;return o;function o(oe){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(oe),l}function l(oe){return oe===33?(n.consume(oe),c):oe===47?(n.consume(oe),D):oe===63?(n.consume(oe),R):jd(oe)?(n.consume(oe),z):t(oe)}function c(oe){return oe===45?(n.consume(oe),f):oe===91?(n.consume(oe),s=0,b):jd(oe)?(n.consume(oe),k):t(oe)}function f(oe){return oe===45?(n.consume(oe),g):t(oe)}function d(oe){return oe===null?t(oe):oe===45?(n.consume(oe),p):Tn(oe)?(a=d,se(oe)):(n.consume(oe),d)}function p(oe){return oe===45?(n.consume(oe),g):d(oe)}function g(oe){return oe===62?te(oe):oe===45?p(oe):d(oe)}function b(oe){const ee="CDATA[";return oe===ee.charCodeAt(s++)?(n.consume(oe),s===ee.length?S:b):t(oe)}function S(oe){return oe===null?t(oe):oe===93?(n.consume(oe),w):Tn(oe)?(a=S,se(oe)):(n.consume(oe),S)}function w(oe){return oe===93?(n.consume(oe),E):S(oe)}function E(oe){return oe===62?te(oe):oe===93?(n.consume(oe),E):S(oe)}function k(oe){return oe===null||oe===62?te(oe):Tn(oe)?(a=k,se(oe)):(n.consume(oe),k)}function R(oe){return oe===null?t(oe):oe===63?(n.consume(oe),O):Tn(oe)?(a=R,se(oe)):(n.consume(oe),R)}function O(oe){return oe===62?te(oe):R(oe)}function D(oe){return jd(oe)?(n.consume(oe),I):t(oe)}function I(oe){return oe===45||vc(oe)?(n.consume(oe),I):B(oe)}function B(oe){return Tn(oe)?(a=B,se(oe)):Dr(oe)?(n.consume(oe),B):te(oe)}function z(oe){return oe===45||vc(oe)?(n.consume(oe),z):oe===47||oe===62||ql(oe)?V(oe):t(oe)}function V(oe){return oe===47?(n.consume(oe),te):oe===58||oe===95||jd(oe)?(n.consume(oe),Y):Tn(oe)?(a=V,se(oe)):Dr(oe)?(n.consume(oe),V):te(oe)}function Y(oe){return oe===45||oe===46||oe===58||oe===95||vc(oe)?(n.consume(oe),Y):q(oe)}function q(oe){return oe===61?(n.consume(oe),J):Tn(oe)?(a=q,se(oe)):Dr(oe)?(n.consume(oe),q):V(oe)}function J(oe){return oe===null||oe===60||oe===61||oe===62||oe===96?t(oe):oe===34||oe===39?(n.consume(oe),i=oe,re):Tn(oe)?(a=J,se(oe)):Dr(oe)?(n.consume(oe),J):(n.consume(oe),fe)}function re(oe){return oe===i?(n.consume(oe),i=void 0,ne):oe===null?t(oe):Tn(oe)?(a=re,se(oe)):(n.consume(oe),re)}function fe(oe){return oe===null||oe===34||oe===39||oe===60||oe===61||oe===96?t(oe):oe===47||oe===62||ql(oe)?V(oe):(n.consume(oe),fe)}function ne(oe){return oe===47||oe===62||ql(oe)?V(oe):t(oe)}function te(oe){return oe===62?(n.consume(oe),n.exit("htmlTextData"),n.exit("htmlText"),e):t(oe)}function se(oe){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(oe),n.exit("lineEnding"),be}function be(oe){return Dr(oe)?di(n,Ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):Ee(oe)}function Ee(oe){return n.enter("htmlTextData"),a(oe)}}const s9={name:"labelEnd",resolveAll:tQe,resolveTo:nQe,tokenize:rQe},ZZe={tokenize:iQe},QZe={tokenize:sQe},eQe={tokenize:aQe};function tQe(n){let e=-1;const t=[];for(;++e<n.length;){const r=n[e][1];if(t.push(n[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return n.length!==t.length&&dh(n,0,n.length,t),n}function nQe(n,e){let t=n.length,r=0,i,s,a,o;for(;t--;)if(i=n[t][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;n[t][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(n[t][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=t,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=t);const l={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},c={type:"label",start:{...n[s][1].start},end:{...n[a][1].end}},f={type:"labelText",start:{...n[s+r+2][1].end},end:{...n[a-2][1].start}};return o=[["enter",l,e],["enter",c,e]],o=yu(o,n.slice(s+1,s+r+3)),o=yu(o,[["enter",f,e]]),o=yu(o,i9(e.parser.constructs.insideSpan.null,n.slice(s+r+4,a-3),e)),o=yu(o,[["exit",f,e],n[a-2],n[a-1],["exit",c,e]]),o=yu(o,n.slice(a+1)),o=yu(o,[["exit",l,e]]),dh(n,s,n.length,o),n}function rQe(n,e,t){const r=this;let i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return o;function o(p){return s?s._inactive?d(p):(a=r.parser.defined.includes(r_(r.sliceSerialize({start:s.end,end:r.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(p),n.exit("labelMarker"),n.exit("labelEnd"),l):t(p)}function l(p){return p===40?n.attempt(ZZe,f,a?f:d)(p):p===91?n.attempt(QZe,f,a?c:d)(p):a?f(p):d(p)}function c(p){return n.attempt(eQe,f,d)(p)}function f(p){return e(p)}function d(p){return s._balanced=!0,t(p)}}function iQe(n,e,t){return r;function r(d){return n.enter("resource"),n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),i}function i(d){return ql(d)?YM(n,s)(d):s(d)}function s(d){return d===41?f(d):Jfe(n,a,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return ql(d)?YM(n,l)(d):f(d)}function o(d){return t(d)}function l(d){return d===34||d===39||d===40?Qfe(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function c(d){return ql(d)?YM(n,f)(d):f(d)}function f(d){return d===41?(n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),n.exit("resource"),e):t(d)}}function sQe(n,e,t){const r=this;return i;function i(o){return Zfe.call(r,n,s,a,"reference","referenceMarker","referenceString")(o)}function s(o){return r.parser.defined.includes(r_(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):t(o)}function a(o){return t(o)}}function aQe(n,e,t){return r;function r(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),i}function i(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const oQe={name:"labelStartImage",resolveAll:s9.resolveAll,tokenize:lQe};function lQe(n,e,t){const r=this;return i;function i(o){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(o),n.exit("labelImageMarker"),s}function s(o){return o===91?(n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelImage"),a):t(o)}function a(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(o):e(o)}}const cQe={name:"labelStartLink",resolveAll:s9.resolveAll,tokenize:uQe};function uQe(n,e,t){const r=this;return i;function i(a){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?t(a):e(a)}}const L5={name:"lineEnding",tokenize:fQe};function fQe(n,e){return t;function t(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),di(n,e,"linePrefix")}}const b2={name:"thematicBreak",tokenize:dQe};function dQe(n,e,t){let r=0,i;return s;function s(c){return n.enter("thematicBreak"),a(c)}function a(c){return i=c,o(c)}function o(c){return c===i?(n.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||Tn(c))?(n.exit("thematicBreak"),e(c)):t(c)}function l(c){return c===i?(n.consume(c),r++,l):(n.exit("thematicBreakSequence"),Dr(c)?di(n,o,"whitespace")(c):o(c))}}const Pl={continuation:{tokenize:gQe},exit:vQe,name:"list",tokenize:mQe},hQe={partial:!0,tokenize:xQe},pQe={partial:!0,tokenize:yQe};function mQe(n,e,t){const r=this,i=r.events[r.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return o;function o(g){const b=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:WF(g)){if(r.containerState.type||(r.containerState.type=b,n.enter(b,{_container:!0})),b==="listUnordered")return n.enter("listItemPrefix"),g===42||g===45?n.check(b2,t,c)(g):c(g);if(!r.interrupt||g===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),l(g)}return t(g)}function l(g){return WF(g)&&++a<10?(n.consume(g),l):(!r.interrupt||a<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(n.exit("listItemValue"),c(g)):t(g)}function c(g){return n.enter("listItemMarker"),n.consume(g),n.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,n.check(c4,r.interrupt?t:f,n.attempt(hQe,p,d))}function f(g){return r.containerState.initialBlankLine=!0,s++,p(g)}function d(g){return Dr(g)?(n.enter("listItemPrefixWhitespace"),n.consume(g),n.exit("listItemPrefixWhitespace"),p):t(g)}function p(g){return r.containerState.size=s+r.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(g)}}function gQe(n,e,t){const r=this;return r.containerState._closeFlow=void 0,n.check(c4,i,s);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,di(n,e,"listItemIndent",r.containerState.size+1)(o)}function s(o){return r.containerState.furtherBlankLines||!Dr(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,n.attempt(pQe,e,a)(o))}function a(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,di(n,n.attempt(Pl,e,t),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function yQe(n,e,t){const r=this;return di(n,i,"listItemIndent",r.containerState.size+1);function i(s){const a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):t(s)}}function vQe(n){n.exit(this.containerState.type)}function xQe(n,e,t){const r=this;return di(n,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=r.events[r.events.length-1];return!Dr(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const HZ={name:"setextUnderline",resolveTo:bQe,tokenize:_Qe};function bQe(n,e){let t=n.length,r,i,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){r=t;break}n[t][1].type==="paragraph"&&(i=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const a={type:"setextHeading",start:{...n[r][1].start},end:{...n[n.length-1][1].end}};return n[i][1].type="setextHeadingText",s?(n.splice(i,0,["enter",a,e]),n.splice(s+1,0,["exit",n[r][1],e]),n[r][1].end={...n[s][1].end}):n[r][1]=a,n.push(["exit",a,e]),n}function _Qe(n,e,t){const r=this;let i;return s;function s(c){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(n.enter("setextHeadingLine"),i=c,a(c)):t(c)}function a(c){return n.enter("setextHeadingLineSequence"),o(c)}function o(c){return c===i?(n.consume(c),o):(n.exit("setextHeadingLineSequence"),Dr(c)?di(n,l,"lineSuffix")(c):l(c))}function l(c){return c===null||Tn(c)?(n.exit("setextHeadingLine"),e(c)):t(c)}}const wQe={tokenize:SQe};function SQe(n){const e=this,t=n.attempt(c4,r,n.attempt(this.parser.constructs.flowInitial,i,di(n,n.attempt(this.parser.constructs.flow,i,n.attempt(CZe,i)),"linePrefix")));return t;function r(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function i(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const EQe={resolveAll:tde()},MQe=ede("string"),AQe=ede("text");function ede(n){return{resolveAll:tde(n==="text"?TQe:void 0),tokenize:e};function e(t){const r=this,i=this.parser.constructs[n],s=t.attempt(i,a,o);return a;function a(f){return c(f)?s(f):o(f)}function o(f){if(f===null){t.consume(f);return}return t.enter("data"),t.consume(f),l}function l(f){return c(f)?(t.exit("data"),s(f)):(t.consume(f),l)}function c(f){if(f===null)return!0;const d=i[f];let p=-1;if(d)for(;++p<d.length;){const g=d[p];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function tde(n){return e;function e(t,r){let i=-1,s;for(;++i<=t.length;)s===void 0?t[i]&&t[i][1].type==="data"&&(s=i,i++):(!t[i]||t[i][1].type!=="data")&&(i!==s+2&&(t[s][1].end=t[i-1][1].end,t.splice(s+2,i-s-2),i=s+2),s=void 0);return n?n(t,r):t}}function TQe(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const r=n[t-1][1],i=e.sliceStream(r);let s=i.length,a=-1,o=0,l;for(;s--;){const c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)o++,a--;if(a)break;a=-1}else if(c===-2)l=!0,o++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(o=0),o){const c={type:t===n.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(n.splice(t,0,["enter",c,e],["exit",c,e]),t+=2)}t++}return n}const CQe={42:Pl,43:Pl,45:Pl,48:Pl,49:Pl,50:Pl,51:Pl,52:Pl,53:Pl,54:Pl,55:Pl,56:Pl,57:Pl,62:qfe},kQe={91:DZe},RQe={[-2]:N5,[-1]:N5,32:N5},OQe={35:zZe,42:b2,45:[HZ,b2],60:VZe,61:HZ,95:b2,96:UZ,126:UZ},PQe={38:Xfe,92:Yfe},DQe={[-5]:L5,[-4]:L5,[-3]:L5,33:oQe,38:Xfe,42:$F,60:[cZe,KZe],91:cQe,92:[BZe,Yfe],93:s9,95:$F,96:wZe},IQe={null:[$F,EQe]},NQe={null:[42,95]},LQe={null:[]},BQe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:NQe,contentInitial:kQe,disable:LQe,document:CQe,flow:OQe,flowInitial:RQe,insideSpan:IQe,string:PQe,text:DQe},Symbol.toStringTag,{value:"Module"}));function FQe(n,e,t){let r={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const i={},s=[];let a=[],o=[];const l={attempt:B(D),check:B(I),consume:k,enter:R,exit:O,interrupt:B(I,{interrupt:!0})},c={code:null,containerState:{},defineSkip:S,events:[],now:b,parser:n,previous:null,sliceSerialize:p,sliceStream:g,write:d};let f=e.tokenize.call(c,l);return e.resolveAll&&s.push(e),c;function d(q){return a=yu(a,q),w(),a[a.length-1]!==null?[]:(z(e,0),c.events=i9(s,c.events,c),c.events)}function p(q,J){return UQe(g(q),J)}function g(q){return zQe(a,q)}function b(){const{_bufferIndex:q,_index:J,line:re,column:fe,offset:ne}=r;return{_bufferIndex:q,_index:J,line:re,column:fe,offset:ne}}function S(q){i[q.line]=q.column,Y()}function w(){let q;for(;r._index<a.length;){const J=a[r._index];if(typeof J=="string")for(q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===q&&r._bufferIndex<J.length;)E(J.charCodeAt(r._bufferIndex));else E(J)}}function E(q){f=f(q)}function k(q){Tn(q)?(r.line++,r.column=1,r.offset+=q===-3?2:1,Y()):q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=q}function R(q,J){const re=J||{};return re.type=q,re.start=b(),c.events.push(["enter",re,c]),o.push(re),re}function O(q){const J=o.pop();return J.end=b(),c.events.push(["exit",J,c]),J}function D(q,J){z(q,J.from)}function I(q,J){J.restore()}function B(q,J){return re;function re(fe,ne,te){let se,be,Ee,oe;return Array.isArray(fe)?xe(fe):"tokenize"in fe?xe([fe]):ee(fe);function ee(Ne){return Ue;function Ue(qe){const Pe=qe!==null&&Ne[qe],lt=qe!==null&&Ne.null,Mt=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(lt)?lt:lt?[lt]:[]];return xe(Mt)(qe)}}function xe(Ne){return se=Ne,be=0,Ne.length===0?te:ae(Ne[be])}function ae(Ne){return Ue;function Ue(qe){return oe=V(),Ee=Ne,Ne.partial||(c.currentConstruct=Ne),Ne.name&&c.parser.constructs.disable.null.includes(Ne.name)?dt():Ne.tokenize.call(J?Object.assign(Object.create(c),J):c,l,De,dt)(qe)}}function De(Ne){return q(Ee,oe),ne}function dt(Ne){return oe.restore(),++be<se.length?ae(se[be]):te}}}function z(q,J){q.resolveAll&&!s.includes(q)&&s.push(q),q.resolve&&dh(c.events,J,c.events.length-J,q.resolve(c.events.slice(J),c)),q.resolveTo&&(c.events=q.resolveTo(c.events,c))}function V(){const q=b(),J=c.previous,re=c.currentConstruct,fe=c.events.length,ne=Array.from(o);return{from:fe,restore:te};function te(){r=q,c.previous=J,c.currentConstruct=re,c.events.length=fe,o=ne,Y()}}function Y(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function zQe(n,e){const t=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex;let a;if(t===i)a=[n[t].slice(r,s)];else{if(a=n.slice(t,i),r>-1){const o=a[0];typeof o=="string"?a[0]=o.slice(r):a.shift()}s>0&&a.push(n[i].slice(0,s))}return a}function UQe(n,e){let t=-1;const r=[];let i;for(;++t<n.length;){const s=n[t];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function jQe(n){const r={constructs:YJe([BQe,...(n||{}).extensions||[]]),content:i(nZe),defined:[],document:i(iZe),flow:i(wQe),lazy:{},string:i(MQe),text:i(AQe)};return r;function i(s){return a;function a(o){return FQe(r,s,o)}}}function HQe(n){for(;!Kfe(n););return n}const VZ=/[\0\t\n\r]/g;function VQe(){let n=1,e="",t=!0,r;return i;function i(s,a,o){const l=[];let c,f,d,p,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",t&&(s.charCodeAt(0)===65279&&d++,t=void 0);d<s.length;){if(VZ.lastIndex=d,c=VZ.exec(s),p=c&&c.index!==void 0?c.index:s.length,g=s.charCodeAt(p),!c){e=s.slice(d);break}if(g===10&&d===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),d<p&&(l.push(s.slice(d,p)),n+=p-d),g){case 0:{l.push(65533),n++;break}case 9:{for(f=Math.ceil(n/4)*4,l.push(-2);n++<f;)l.push(-1);break}case 10:{l.push(-4),n=1;break}default:r=!0,n=1}d=p+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const WQe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function $Qe(n){return n.replace(WQe,GQe)}function GQe(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const i=t.charCodeAt(1),s=i===120||i===88;return Gfe(t.slice(s?2:1),s?16:10)}return r9(t)||n}const nde={}.hasOwnProperty;function qQe(n,e,t){return e&&typeof e=="object"&&(t=e,e=void 0),YQe(t)(HQe(jQe(t).document().write(VQe()(n,e,!0))))}function YQe(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(zt),autolinkProtocol:V,autolinkEmail:V,atxHeading:s(ot),blockQuote:s(lt),characterEscape:V,characterReference:V,codeFenced:s(Mt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Mt,a),codeText:s(Ze,a),codeTextData:V,data:V,codeFlowValue:V,definition:s(_t),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Ve),hardBreakEscape:s(Qe),hardBreakTrailing:s(Qe),htmlFlow:s(mt,a),htmlFlowData:V,htmlText:s(mt,a),htmlTextData:V,image:s(_e),label:a,link:s(zt),listItem:s(Vt),listItemValue:p,listOrdered:s(kt,d),listUnordered:s(kt),paragraph:s(gt),reference:ae,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(ot),strong:s(ge),thematicBreak:s(Ie)},exit:{atxHeading:l(),atxHeadingSequence:D,autolink:l(),autolinkEmail:Pe,autolinkProtocol:qe,blockQuote:l(),characterEscapeValue:Y,characterReferenceMarkerHexadecimal:dt,characterReferenceMarkerNumeric:dt,characterReferenceValue:Ne,characterReference:Ue,codeFenced:l(w),codeFencedFence:S,codeFencedFenceInfo:g,codeFencedFenceMeta:b,codeFlowValue:Y,codeIndented:l(E),codeText:l(ne),codeTextData:Y,data:Y,definition:l(),definitionDestinationString:O,definitionLabelString:k,definitionTitleString:R,emphasis:l(),hardBreakEscape:l(J),hardBreakTrailing:l(J),htmlFlow:l(re),htmlFlowData:Y,htmlText:l(fe),htmlTextData:Y,image:l(se),label:Ee,labelText:be,lineEnding:q,link:l(te),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:De,resourceDestinationString:oe,resourceTitleString:ee,resource:xe,setextHeading:l(z),setextHeadingLineSequence:B,setextHeadingText:I,strong:l(),thematicBreak:l()}};rde(e,(n||{}).mdastExtensions||[]);const t={};return r;function r(we){let K={type:"root",children:[]};const j={stack:[K],tokenStack:[],config:e,enter:o,exit:c,buffer:a,resume:f,data:t},$=[];let ce=-1;for(;++ce<we.length;)if(we[ce][1].type==="listOrdered"||we[ce][1].type==="listUnordered")if(we[ce][0]==="enter")$.push(ce);else{const le=$.pop();ce=i(we,le,ce)}for(ce=-1;++ce<we.length;){const le=e[we[ce][0]];nde.call(le,we[ce][1].type)&&le[we[ce][1].type].call(Object.assign({sliceSerialize:we[ce][2].sliceSerialize},j),we[ce][1])}if(j.tokenStack.length>0){const le=j.tokenStack[j.tokenStack.length-1];(le[1]||WZ).call(j,void 0,le[0])}for(K.position={start:o0(we.length>0?we[0][1].start:{line:1,column:1,offset:0}),end:o0(we.length>0?we[we.length-2][1].end:{line:1,column:1,offset:0})},ce=-1;++ce<e.transforms.length;)K=e.transforms[ce](K)||K;return K}function i(we,K,j){let $=K-1,ce=-1,le=!1,Re,Me,ue,vt;for(;++$<=j;){const ft=we[$];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?ce++:ce--,vt=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Re&&!vt&&!ce&&!ue&&(ue=$),vt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:vt=void 0}if(!ce&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||ce===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Re){let ct=$;for(Me=void 0;ct--;){const Rt=we[ct];if(Rt[1].type==="lineEnding"||Rt[1].type==="lineEndingBlank"){if(Rt[0]==="exit")continue;Me&&(we[Me][1].type="lineEndingBlank",le=!0),Rt[1].type="lineEnding",Me=ct}else if(!(Rt[1].type==="linePrefix"||Rt[1].type==="blockQuotePrefix"||Rt[1].type==="blockQuotePrefixWhitespace"||Rt[1].type==="blockQuoteMarker"||Rt[1].type==="listItemIndent"))break}ue&&(!Me||ue<Me)&&(Re._spread=!0),Re.end=Object.assign({},Me?we[Me][1].start:ft[1].end),we.splice(Me||$,0,["exit",Re,ft[2]]),$++,j++}if(ft[1].type==="listItemPrefix"){const ct={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Re=ct,we.splice($,0,["enter",ct,ft[2]]),$++,j++,ue=void 0,vt=!0}}}return we[K][1]._spread=le,j}function s(we,K){return j;function j($){o.call(this,we($),$),K&&K.call(this,$)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(we,K,j){this.stack[this.stack.length-1].children.push(we),this.stack.push(we),this.tokenStack.push([K,j||void 0]),we.position={start:o0(K.start),end:void 0}}function l(we){return K;function K(j){we&&we.call(this,j),c.call(this,j)}}function c(we,K){const j=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==we.type&&(K?K.call(this,we,$[0]):($[1]||WZ).call(this,we,$[0]));else throw new Error("Cannot close `"+we.type+"` ("+qM({start:we.start,end:we.end})+"): its not open");j.position.end=o0(we.end)}function f(){return GJe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(we){if(this.data.expectingFirstListItemValue){const K=this.stack[this.stack.length-2];K.start=Number.parseInt(this.sliceSerialize(we),10),this.data.expectingFirstListItemValue=void 0}}function g(){const we=this.resume(),K=this.stack[this.stack.length-1];K.lang=we}function b(){const we=this.resume(),K=this.stack[this.stack.length-1];K.meta=we}function S(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function w(){const we=this.resume(),K=this.stack[this.stack.length-1];K.value=we.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){const we=this.resume(),K=this.stack[this.stack.length-1];K.value=we.replace(/(\r?\n|\r)$/g,"")}function k(we){const K=this.resume(),j=this.stack[this.stack.length-1];j.label=K,j.identifier=r_(this.sliceSerialize(we)).toLowerCase()}function R(){const we=this.resume(),K=this.stack[this.stack.length-1];K.title=we}function O(){const we=this.resume(),K=this.stack[this.stack.length-1];K.url=we}function D(we){const K=this.stack[this.stack.length-1];if(!K.depth){const j=this.sliceSerialize(we).length;K.depth=j}}function I(){this.data.setextHeadingSlurpLineEnding=!0}function B(we){const K=this.stack[this.stack.length-1];K.depth=this.sliceSerialize(we).codePointAt(0)===61?1:2}function z(){this.data.setextHeadingSlurpLineEnding=void 0}function V(we){const j=this.stack[this.stack.length-1].children;let $=j[j.length-1];(!$||$.type!=="text")&&($=ie(),$.position={start:o0(we.start),end:void 0},j.push($)),this.stack.push($)}function Y(we){const K=this.stack.pop();K.value+=this.sliceSerialize(we),K.position.end=o0(we.end)}function q(we){const K=this.stack[this.stack.length-1];if(this.data.atHardBreak){const j=K.children[K.children.length-1];j.position.end=o0(we.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(K.type)&&(V.call(this,we),Y.call(this,we))}function J(){this.data.atHardBreak=!0}function re(){const we=this.resume(),K=this.stack[this.stack.length-1];K.value=we}function fe(){const we=this.resume(),K=this.stack[this.stack.length-1];K.value=we}function ne(){const we=this.resume(),K=this.stack[this.stack.length-1];K.value=we}function te(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=K,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function se(){const we=this.stack[this.stack.length-1];if(this.data.inReference){const K=this.data.referenceType||"shortcut";we.type+="Reference",we.referenceType=K,delete we.url,delete we.title}else delete we.identifier,delete we.label;this.data.referenceType=void 0}function be(we){const K=this.sliceSerialize(we),j=this.stack[this.stack.length-2];j.label=$Qe(K),j.identifier=r_(K).toLowerCase()}function Ee(){const we=this.stack[this.stack.length-1],K=this.resume(),j=this.stack[this.stack.length-1];if(this.data.inReference=!0,j.type==="link"){const $=we.children;j.children=$}else j.alt=K}function oe(){const we=this.resume(),K=this.stack[this.stack.length-1];K.url=we}function ee(){const we=this.resume(),K=this.stack[this.stack.length-1];K.title=we}function xe(){this.data.inReference=void 0}function ae(){this.data.referenceType="collapsed"}function De(we){const K=this.resume(),j=this.stack[this.stack.length-1];j.label=K,j.identifier=r_(this.sliceSerialize(we)).toLowerCase(),this.data.referenceType="full"}function dt(we){this.data.characterReferenceType=we.type}function Ne(we){const K=this.sliceSerialize(we),j=this.data.characterReferenceType;let $;j?($=Gfe(K,j==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=r9(K);const ce=this.stack[this.stack.length-1];ce.value+=$}function Ue(we){const K=this.stack.pop();K.position.end=o0(we.end)}function qe(we){Y.call(this,we);const K=this.stack[this.stack.length-1];K.url=this.sliceSerialize(we)}function Pe(we){Y.call(this,we);const K=this.stack[this.stack.length-1];K.url="mailto:"+this.sliceSerialize(we)}function lt(){return{type:"blockquote",children:[]}}function Mt(){return{type:"code",lang:null,meta:null,value:""}}function Ze(){return{type:"inlineCode",value:""}}function _t(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ve(){return{type:"emphasis",children:[]}}function ot(){return{type:"heading",depth:0,children:[]}}function Qe(){return{type:"break"}}function mt(){return{type:"html",value:""}}function _e(){return{type:"image",title:null,url:"",alt:null}}function zt(){return{type:"link",title:null,url:"",children:[]}}function kt(we){return{type:"list",ordered:we.type==="listOrdered",start:null,spread:we._spread,children:[]}}function Vt(we){return{type:"listItem",spread:we._spread,checked:null,children:[]}}function gt(){return{type:"paragraph",children:[]}}function ge(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function Ie(){return{type:"thematicBreak"}}}function o0(n){return{line:n.line,column:n.column,offset:n.offset}}function rde(n,e){let t=-1;for(;++t<e.length;){const r=e[t];Array.isArray(r)?rde(n,r):XQe(n,r)}}function XQe(n,e){let t;for(t in e)if(nde.call(e,t))switch(t){case"canContainEols":{const r=e[t];r&&n[t].push(...r);break}case"transforms":{const r=e[t];r&&n[t].push(...r);break}case"enter":case"exit":{const r=e[t];r&&Object.assign(n[t],r);break}}}function WZ(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+qM({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+qM({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+qM({start:e.start,end:e.end})+") is still open")}function KQe(n){const e=this;e.parser=t;function t(r){return qQe(r,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function JQe(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function ZQe(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function QQe(n,e){const t=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let s={type:"element",tagName:"code",properties:r,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function eet(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function tet(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function net(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=Zw(r.toLowerCase()),s=n.footnoteOrder.indexOf(r);let a,o=n.footnoteCounts.get(r);o===void 0?(o=0,n.footnoteOrder.push(r),a=n.footnoteOrder.length):a=s+1,o+=1,n.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+i,id:t+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};n.patch(e,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return n.patch(e,c),n.applyData(e,c)}function ret(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function iet(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function ide(n,e){const t=e.referenceType;let r="]";if(t==="collapsed"?r+="[]":t==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=n.all(e),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=r:i.push({type:"text",value:r}),i}function set(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return ide(n,e);const i={src:Zw(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"img",properties:i,children:[]};return n.patch(e,s),n.applyData(e,s)}function aet(n,e){const t={src:Zw(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,r),n.applyData(e,r)}function oet(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const r={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,r),n.applyData(e,r)}function cet(n,e){const t=String(e.identifier).toUpperCase(),r=n.definitionById.get(t);if(!r)return ide(n,e);const i={href:Zw(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const s={type:"element",tagName:"a",properties:i,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function uet(n,e){const t={href:Zw(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const r={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function fet(n,e,t){const r=n.all(e),i=t?det(t):sde(e),s={},a=[];if(typeof e.checked=="boolean"){const f=r[0];let d;f&&f.type==="element"&&f.tagName==="p"?d=f:(d={type:"element",tagName:"p",properties:{},children:[]},r.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const f=r[o];(i||o!==0||f.type!=="element"||f.tagName!=="p")&&a.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?a.push(...f.children):a.push(f)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:a};return n.patch(e,c),n.applyData(e,c)}function det(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let r=-1;for(;!e&&++r<t.length;)e=sde(t[r])}return e}function sde(n){const e=n.spread;return e??n.children.length>1}function het(n,e){const t={},r=n.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++i<r.length;){const a=r[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function pet(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function met(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function get(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function yet(n,e){const t=n.all(e),r=t.shift(),i=[];if(r){const a={type:"element",tagName:"thead",properties:{},children:n.wrap([r],!0)};n.patch(e.children[0],a),i.push(a)}if(t.length>0){const a={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},o=Q7(e.children[1]),l=zfe(e.children[e.children.length-1]);o&&l&&(a.position={start:o,end:l}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function vet(n,e,t){const r=t?t.children:void 0,s=(r?r.indexOf(e):1)===0?"th":"td",a=t&&t.type==="table"?t.align:void 0,o=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<o;){const d=e.children[l],p={},g=a?a[l]:void 0;g&&(p.align=g);let b={type:"element",tagName:s,properties:p,children:[]};d&&(b.children=n.all(d),n.patch(d,b),b=n.applyData(d,b)),c.push(b)}const f={type:"element",tagName:"tr",properties:{},children:n.wrap(c,!0)};return n.patch(e,f),n.applyData(e,f)}function xet(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const $Z=9,GZ=32;function bet(n){const e=String(n),t=/\r?\n|\r/g;let r=t.exec(e),i=0;const s=[];for(;r;)s.push(qZ(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=t.exec(e);return s.push(qZ(e.slice(i),i>0,!1)),s.join("")}function qZ(n,e,t){let r=0,i=n.length;if(e){let s=n.codePointAt(r);for(;s===$Z||s===GZ;)r++,s=n.codePointAt(r)}if(t){let s=n.codePointAt(i-1);for(;s===$Z||s===GZ;)i--,s=n.codePointAt(i-1)}return i>r?n.slice(r,i):""}function _et(n,e){const t={type:"text",value:bet(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function wet(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const Eet={blockquote:JQe,break:ZQe,code:QQe,delete:eet,emphasis:tet,footnoteReference:net,heading:ret,html:iet,imageReference:set,image:aet,inlineCode:oet,linkReference:cet,link:uet,listItem:fet,list:het,paragraph:pet,root:met,strong:get,table:yet,tableCell:xet,tableRow:vet,text:_et,thematicBreak:wet,toml:PR,yaml:PR,definition:PR,footnoteDefinition:PR};function PR(){}const ade=-1,u4=0,XM=1,KP=2,a9=3,o9=4,l9=5,c9=6,ode=7,lde=8,YZ=typeof self=="object"?self:globalThis,Met=(n,e)=>{const t=(i,s)=>(n.set(s,i),i),r=i=>{if(n.has(i))return n.get(i);const[s,a]=e[i];switch(s){case u4:case ade:return t(a,i);case XM:{const o=t([],i);for(const l of a)o.push(r(l));return o}case KP:{const o=t({},i);for(const[l,c]of a)o[r(l)]=r(c);return o}case a9:return t(new Date(a),i);case o9:{const{source:o,flags:l}=a;return t(new RegExp(o,l),i)}case l9:{const o=t(new Map,i);for(const[l,c]of a)o.set(r(l),r(c));return o}case c9:{const o=t(new Set,i);for(const l of a)o.add(r(l));return o}case ode:{const{name:o,message:l}=a;return t(new YZ[o](l),i)}case lde:return t(BigInt(a),i);case"BigInt":return t(Object(BigInt(a)),i);case"ArrayBuffer":return t(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:o}=new Uint8Array(a);return t(new DataView(o),a)}}return t(new YZ[s](a),i)};return r},XZ=n=>Met(new Map,n)(0),m1="",{toString:Aet}={},{keys:Tet}=Object,fM=n=>{const e=typeof n;if(e!=="object"||!n)return[u4,e];const t=Aet.call(n).slice(8,-1);switch(t){case"Array":return[XM,m1];case"Object":return[KP,m1];case"Date":return[a9,m1];case"RegExp":return[o9,m1];case"Map":return[l9,m1];case"Set":return[c9,m1];case"DataView":return[XM,t]}return t.includes("Array")?[XM,t]:t.includes("Error")?[ode,t]:[KP,t]},DR=([n,e])=>n===u4&&(e==="function"||e==="symbol"),Cet=(n,e,t,r)=>{const i=(a,o)=>{const l=r.push(a)-1;return t.set(o,l),l},s=a=>{if(t.has(a))return t.get(a);let[o,l]=fM(a);switch(o){case u4:{let f=a;switch(l){case"bigint":o=lde,f=a.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return i([ade],a)}return i([o,f],a)}case XM:{if(l){let p=a;return l==="DataView"?p=new Uint8Array(a.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(a)),i([l,[...p]],a)}const f=[],d=i([o,f],a);for(const p of a)f.push(s(p));return d}case KP:{if(l)switch(l){case"BigInt":return i([l,a.toString()],a);case"Boolean":case"Number":case"String":return i([l,a.valueOf()],a)}if(e&&"toJSON"in a)return s(a.toJSON());const f=[],d=i([o,f],a);for(const p of Tet(a))(n||!DR(fM(a[p])))&&f.push([s(p),s(a[p])]);return d}case a9:return i([o,a.toISOString()],a);case o9:{const{source:f,flags:d}=a;return i([o,{source:f,flags:d}],a)}case l9:{const f=[],d=i([o,f],a);for(const[p,g]of a)(n||!(DR(fM(p))||DR(fM(g))))&&f.push([s(p),s(g)]);return d}case c9:{const f=[],d=i([o,f],a);for(const p of a)(n||!DR(fM(p)))&&f.push(s(p));return d}}const{message:c}=a;return i([o,{name:l,message:c}],a)};return s},KZ=(n,{json:e,lossy:t}={})=>{const r=[];return Cet(!(e||t),!!e,new Map,r)(n),r},JP=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?XZ(KZ(n,e)):structuredClone(n):(n,e)=>XZ(KZ(n,e));function ket(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function Ret(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function Oet(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||ket,r=n.options.footnoteBackLabel||Ret,i=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",a=n.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<n.footnoteOrder.length;){const c=n.footnoteById.get(n.footnoteOrder[l]);if(!c)continue;const f=n.all(c),d=String(c.identifier).toUpperCase(),p=Zw(d.toLowerCase());let g=0;const b=[],S=n.footnoteCounts.get(d);for(;S!==void 0&&++g<=S;){b.length>0&&b.push({type:"text",value:" "});let k=typeof t=="string"?t:t(l,g);typeof k=="string"&&(k={type:"text",value:k}),b.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,g),className:["data-footnote-backref"]},children:Array.isArray(k)?k:[k]})}const w=f[f.length-1];if(w&&w.type==="element"&&w.tagName==="p"){const k=w.children[w.children.length-1];k&&k.type==="text"?k.value+=" ":w.children.push({type:"text",value:" "}),w.children.push(...b)}else f.push(...b);const E={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:n.wrap(f,!0)};n.patch(c,E),o.push(E)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...JP(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(o,!0)},{type:"text",value:`
`}]}}const cde=(function(n){if(n==null)return Net;if(typeof n=="function")return f4(n);if(typeof n=="object")return Array.isArray(n)?Pet(n):Det(n);if(typeof n=="string")return Iet(n);throw new Error("Expected function, string, or object as test")});function Pet(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=cde(n[t]);return f4(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function Det(n){const e=n;return f4(t);function t(r){const i=r;let s;for(s in n)if(i[s]!==e[s])return!1;return!0}}function Iet(n){return f4(e);function e(t){return t&&t.type===n}}function f4(n){return e;function e(t,r,i){return!!(Let(t)&&n.call(this,t,typeof r=="number"?r:void 0,i||void 0))}}function Net(){return!0}function Let(n){return n!==null&&typeof n=="object"&&"type"in n}const ude=[],Bet=!0,JZ=!1,Fet="skip";function zet(n,e,t,r){let i;typeof e=="function"&&typeof t!="function"?(r=t,t=e):i=e;const s=cde(i),a=r?-1:1;o(n,void 0,[])();function o(l,c,f){const d=l&&typeof l=="object"?l:{};if(typeof d.type=="string"){const g=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=ude,b,S,w;if((!e||s(l,c,f[f.length-1]||void 0))&&(g=Uet(t(l,f)),g[0]===JZ))return g;if("children"in l&&l.children){const E=l;if(E.children&&g[0]!==Fet)for(S=(r?E.children.length:-1)+a,w=f.concat(E);S>-1&&S<E.children.length;){const k=E.children[S];if(b=o(k,S,w)(),b[0]===JZ)return b;S=typeof b[1]=="number"?b[1]:S+a}}return g}}}function Uet(n){return Array.isArray(n)?n:typeof n=="number"?[Bet,n]:n==null?ude:[n]}function fde(n,e,t,r){let i,s,a;typeof e=="function"&&typeof t!="function"?(s=void 0,a=e,i=t):(s=e,a=t,i=r),zet(n,s,o,i);function o(l,c){const f=c[c.length-1],d=f?f.children.indexOf(l):void 0;return a(l,d,f)}}const GF={}.hasOwnProperty,jet={};function Het(n,e){const t=e||jet,r=new Map,i=new Map,s=new Map,a={...Eet,...t.handlers},o={all:c,applyData:Wet,definitionById:r,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:l,options:t,patch:Vet,wrap:Get};return fde(n,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const d=f.type==="definition"?r:i,p=String(f.identifier).toUpperCase();d.has(p)||d.set(p,f)}}),o;function l(f,d){const p=f.type,g=o.handlers[p];if(GF.call(o.handlers,p)&&g)return g(o,f,d);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in f){const{children:S,...w}=f,E=JP(w);return E.children=o.all(f),E}return JP(f)}return(o.options.unknownHandler||$et)(o,f,d)}function c(f){const d=[];if("children"in f){const p=f.children;let g=-1;for(;++g<p.length;){const b=o.one(p[g],f);if(b){if(g&&p[g-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=ZZ(b.value)),!Array.isArray(b)&&b.type==="element")){const S=b.children[0];S&&S.type==="text"&&(S.value=ZZ(S.value))}Array.isArray(b)?d.push(...b):d.push(b)}}}return d}}function Vet(n,e){n.position&&(e.position=EJe(n))}function Wet(n,e){let t=e;if(n&&n.data){const r=n.data.hName,i=n.data.hChildren,s=n.data.hProperties;if(typeof r=="string")if(t.type==="element")t.tagName=r;else{const a="children"in t?t.children:[t];t={type:"element",tagName:r,properties:{},children:a}}t.type==="element"&&s&&Object.assign(t.properties,JP(s)),"children"in t&&t.children&&i!==null&&i!==void 0&&(t.children=i)}return t}function $et(n,e){const t=e.data||{},r="value"in e&&!(GF.call(t,"hProperties")||GF.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,r),n.applyData(e,r)}function Get(n,e){const t=[];let r=-1;for(e&&t.push({type:"text",value:`
`});++r<n.length;)r&&t.push({type:"text",value:`
`}),t.push(n[r]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function ZZ(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function QZ(n,e){const t=Het(n,e),r=t.one(n,void 0),i=Oet(t),s=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function qet(n,e){return n&&"run"in n?async function(t,r){const i=QZ(t,{file:r,...e});await n.run(i,r)}:function(t,r){return QZ(t,{file:r,...n||e})}}function eQ(n){if(n)throw n}var B5,tQ;function Yet(){if(tQ)return B5;tQ=1;var n=Object.prototype.hasOwnProperty,e=Object.prototype.toString,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(c){return typeof Array.isArray=="function"?Array.isArray(c):e.call(c)==="[object Array]"},s=function(c){if(!c||e.call(c)!=="[object Object]")return!1;var f=n.call(c,"constructor"),d=c.constructor&&c.constructor.prototype&&n.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!f&&!d)return!1;var p;for(p in c);return typeof p>"u"||n.call(c,p)},a=function(c,f){t&&f.name==="__proto__"?t(c,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):c[f.name]=f.newValue},o=function(c,f){if(f==="__proto__")if(n.call(c,f)){if(r)return r(c,f).value}else return;return c[f]};return B5=function l(){var c,f,d,p,g,b,S=arguments[0],w=1,E=arguments.length,k=!1;for(typeof S=="boolean"&&(k=S,S=arguments[1]||{},w=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});w<E;++w)if(c=arguments[w],c!=null)for(f in c)d=o(S,f),p=o(c,f),S!==p&&(k&&p&&(s(p)||(g=i(p)))?(g?(g=!1,b=d&&i(d)?d:[]):b=d&&s(d)?d:{},a(S,{name:f,newValue:l(k,b,p)})):typeof p<"u"&&a(S,{name:f,newValue:p}));return S},B5}var Xet=Yet();const F5=Mc(Xet);function qF(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function Ket(){const n=[],e={run:t,use:r};return e;function t(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);o(null,...i);function o(l,...c){const f=n[++s];let d=-1;if(l){a(l);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,f?Jet(f,o)(...c):a(null,...c)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return n.push(i),e}}function Jet(n,e){let t;return r;function r(...a){const o=n.length>a.length;let l;o&&a.push(i);try{l=n.apply(this,a)}catch(c){const f=c;if(o&&t)throw f;return i(f)}o||(l&&l.then&&typeof l.then=="function"?l.then(s,i):l instanceof Error?i(l):s(l))}function i(a,...o){t||(t=!0,e(a,...o))}function s(a){i(null,a)}}const Md={basename:Zet,dirname:Qet,extname:ett,join:ttt,sep:"/"};function Zet(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');aC(n);let t=0,r=-1,i=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else r<0&&(s=!0,r=i+1);return r<0?"":n.slice(t,r)}if(e===n)return"";let a=-1,o=e.length-1;for(;i--;)if(n.codePointAt(i)===47){if(s){t=i+1;break}}else a<0&&(s=!0,a=i+1),o>-1&&(n.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=a));return t===r?r=a:r<0&&(r=n.length),n.slice(t,r)}function Qet(n){if(aC(n),n.length===0)return".";let e=-1,t=n.length,r;for(;--t;)if(n.codePointAt(t)===47){if(r){e=t;break}}else r||(r=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function ett(n){aC(n);let e=n.length,t=-1,r=0,i=-1,s=0,a;for(;e--;){const o=n.codePointAt(e);if(o===47){if(a){r=e+1;break}continue}t<0&&(a=!0,t=e+1),o===46?i<0?i=e:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||t<0||s===0||s===1&&i===t-1&&i===r+1?"":n.slice(i,t)}function ttt(...n){let e=-1,t;for(;++e<n.length;)aC(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":ntt(t)}function ntt(n){aC(n);const e=n.codePointAt(0)===47;let t=rtt(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function rtt(n,e){let t="",r=0,i=-1,s=0,a=-1,o,l;for(;++a<=n.length;){if(a<n.length)o=n.codePointAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(l=t.lastIndexOf("/"),l!==t.length-1){l<0?(t="",r=0):(t=t.slice(0,l),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length>0){t="",r=0,i=a,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",r=2)}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s>-1?s++:s=-1}return t}function aC(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const itt={cwd:stt};function stt(){return"/"}function YF(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function att(n){if(typeof n=="string")n=new URL(n);else if(!YF(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return ott(n)}function ott(n){if(n.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const r=e.codePointAt(t+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const z5=["history","path","basename","stem","extname","dirname"];class dde{constructor(e){let t;e?YF(e)?t={path:e}:typeof e=="string"||ltt(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":itt.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<z5.length;){const s=z5[r];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let i;for(i in t)z5.includes(i)||(this[i]=t[i])}get basename(){return typeof this.path=="string"?Md.basename(this.path):void 0}set basename(e){j5(e,"basename"),U5(e,"basename"),this.path=Md.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Md.dirname(this.path):void 0}set dirname(e){nQ(this.basename,"dirname"),this.path=Md.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Md.extname(this.path):void 0}set extname(e){if(U5(e,"extname"),nQ(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Md.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){YF(e)&&(e=att(e)),j5(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Md.basename(this.path,this.extname):void 0}set stem(e){j5(e,"stem"),U5(e,"stem"),this.path=Md.join(this.dirname||"",e+(this.extname||""))}fail(e,t,r){const i=this.message(e,t,r);throw i.fatal=!0,i}info(e,t,r){const i=this.message(e,t,r);return i.fatal=void 0,i}message(e,t,r){const i=new Do(e,t,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function U5(n,e){if(n&&n.includes(Md.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Md.sep+"`")}function j5(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function nQ(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function ltt(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const ctt=(function(n){const r=this.constructor.prototype,i=r[n],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s}),utt={}.hasOwnProperty;class u9 extends ctt{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Ket()}copy(){const e=new u9;let t=-1;for(;++t<this.attachers.length;){const r=this.attachers[t];e.use(...r)}return e.data(F5(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(W5("data",this.frozen),this.namespace[e]=t,this):utt.call(this.namespace,e)&&this.namespace[e]||void 0:e?(W5("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=t.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=IR(e),r=this.parser||this.Parser;return H5("parse",r),r(String(t),t)}process(e,t){const r=this;return this.freeze(),H5("process",this.parser||this.Parser),V5("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(s,a){const o=IR(e),l=r.parse(o);r.run(l,o,function(f,d,p){if(f||!d||!p)return c(f);const g=d,b=r.stringify(g,p);htt(b)?p.value=b:p.result=b,c(f,p)});function c(f,d){f||!d?a(f):s?s(d):t(void 0,d)}}}processSync(e){let t=!1,r;return this.freeze(),H5("processSync",this.parser||this.Parser),V5("processSync",this.compiler||this.Compiler),this.process(e,i),iQ("processSync","process",t),r;function i(s,a){t=!0,eQ(s),r=a}}run(e,t,r){rQ(e),this.freeze();const i=this.transformers;return!r&&typeof t=="function"&&(r=t,t=void 0),r?s(void 0,r):new Promise(s);function s(a,o){const l=IR(t);i.run(e,l,c);function c(f,d,p){const g=d||e;f?o(f):a?a(g):r(void 0,g,p)}}}runSync(e,t){let r=!1,i;return this.run(e,t,s),iQ("runSync","run",r),i;function s(a,o){eQ(a),i=o,r=!0}}stringify(e,t){this.freeze();const r=IR(t),i=this.compiler||this.Compiler;return V5("stringify",i),rQ(e),i(e,r)}use(e,...t){const r=this.attachers,i=this.namespace;if(W5("use",this.frozen),e!=null)if(typeof e=="function")l(e,t);else if(typeof e=="object")Array.isArray(e)?o(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[f,...d]=c;l(f,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(c.plugins),c.settings&&(i.settings=F5(!0,i.settings,c.settings))}function o(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){const d=c[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,f){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...f]);else if(f.length>0){let[g,...b]=f;const S=r[p][1];qF(S)&&qF(g)&&(g=F5(!0,S,g)),r[p]=[c,g,...b]}}}}const ftt=new u9().freeze();function H5(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function V5(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function W5(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function rQ(n){if(!qF(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function iQ(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function IR(n){return dtt(n)?n:new dde(n)}function dtt(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function htt(n){return typeof n=="string"||ptt(n)}function ptt(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const mtt="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",sQ=[],aQ={allowDangerousHtml:!0},gtt=/^(https?|ircs?|mailto|xmpp)$/i,ytt=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function vtt(n){const e=xtt(n),t=btt(n);return _tt(e.runSync(e.parse(t),t),n)}function xtt(n){const e=n.rehypePlugins||sQ,t=n.remarkPlugins||sQ,r=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...aQ}:aQ;return ftt().use(KQe).use(t).use(qet,r).use(e)}function btt(n){const e=n.children||"",t=new dde;return typeof e=="string"&&(t.value=e),t}function _tt(n,e){const t=e.allowedElements,r=e.allowElement,i=e.components,s=e.disallowedElements,a=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||wtt;for(const f of ytt)Object.hasOwn(e,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+mtt+f.id,void 0);return fde(n,c),kJe(n,{Fragment:T.Fragment,components:i,ignoreInvalidStyle:!0,jsx:T.jsx,jsxs:T.jsxs,passKeys:!0,passNode:!0});function c(f,d,p){if(f.type==="raw"&&p&&typeof d=="number")return a?p.children.splice(d,1):p.children[d]={type:"text",value:f.value},d;if(f.type==="element"){let g;for(g in I5)if(Object.hasOwn(I5,g)&&Object.hasOwn(f.properties,g)){const b=f.properties[g],S=I5[g];(S===null||S.includes(f.tagName))&&(f.properties[g]=l(String(b||""),g,f))}}if(f.type==="element"){let g=t?!t.includes(f.tagName):s?s.includes(f.tagName):!1;if(!g&&r&&typeof d=="number"&&(g=!r(f,d,p)),g&&p&&typeof d=="number")return o&&f.children?p.children.splice(d,1,...f.children):p.children.splice(d,1),d}}}function wtt(n){const e=n.indexOf(":"),t=n.indexOf("?"),r=n.indexOf("#"),i=n.indexOf("/");return e===-1||i!==-1&&e>i||t!==-1&&e>t||r!==-1&&e>r||gtt.test(n.slice(0,e))?n:""}function Stt(){return T.jsxs("div",{className:"card",style:{padding:24},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[T.jsx(hD,{size:16,color:"var(--quai-green)"}),T.jsx("span",{style:{fontSize:16,fontWeight:600,color:"var(--text-primary)"},children:"Network Energy"})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[T.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:"var(--quai-green)",animation:"pulseGreen 2s ease-in-out infinite"}}),T.jsx("span",{className:"mono",style:{fontSize:11,color:"var(--text-muted)"},children:"Quai Orchard Testnet  Live"})]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[T.jsxs("div",{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Transaction Fee"}),T.jsx("span",{className:"mono",style:{fontSize:13,color:"var(--text-primary)"},children:"~0.0001 QUAI"})]}),T.jsx("div",{style:{width:"100%",height:4,background:"var(--bg-elevated)",borderRadius:9999},children:T.jsx("div",{style:{width:"5%",height:"100%",background:"var(--quai-green)",borderRadius:9999}})})]}),T.jsxs("div",{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Block Time"}),T.jsx("span",{className:"mono",style:{fontSize:13,color:"var(--text-primary)"},children:"~1.1s"})]}),T.jsx("div",{style:{width:"100%",height:4,background:"var(--bg-elevated)",borderRadius:9999},children:T.jsx("div",{style:{width:"15%",height:"100%",background:"var(--quai-green)",borderRadius:9999}})})]})]})]})}function Ett({proposal:n,onAccept:e}){var B,z,V,Y;const{address:t}=Po(),[r,i]=L.useState(!1),[s,a]=L.useState(null),[o,l]=L.useState(!1);L.useEffect(()=>{if(!n.freelancerAddress)return;(async()=>{const J=`quaiwork_profile_${n.freelancerAddress.toLowerCase()}`,re=localStorage.getItem(J);if(re)try{a(JSON.parse(re));return}catch{}try{const{data:fe}=await ea.from("profiles").select("*").eq("wallet_address",n.freelancerAddress.toLowerCase()).maybeSingle();fe&&a(fe)}catch{}})()},[n.freelancerAddress]);const c=(s==null?void 0:s.name)||Df(n.freelancerAddress),f=(s==null?void 0:s.title)||"",d=(s==null?void 0:s.avatarUrl)||(s==null?void 0:s.avatar_url)||"",p=(s==null?void 0:s.skills)||(s==null?void 0:s.ai_skills)||(s==null?void 0:s.aiSkills)||[],g=(s==null?void 0:s.githubUrl)||(s==null?void 0:s.github_url)||"",b=(s==null?void 0:s.linkedinUrl)||(s==null?void 0:s.linkedin_url)||"",S=(s==null?void 0:s.portfolioUrl)||(s==null?void 0:s.portfolio_url)||"",w=(s==null?void 0:s.resumeUrl)||(s==null?void 0:s.resume_url)||"",E=(s==null?void 0:s.bio)||"",k=(s==null?void 0:s.experienceLevel)||(s==null?void 0:s.experience_level)||"",R=(s==null?void 0:s.availability)||"",O=(s==null?void 0:s.location)||"",D=(s==null?void 0:s.hourlyRate)||(s==null?void 0:s.hourly_rate)||"",I=(t==null?void 0:t.toLowerCase())===((B=n.freelancerAddress)==null?void 0:B.toLowerCase());return T.jsxs("div",{className:"glass-card",style:{padding:20,borderLeft:`3px solid ${r?"var(--quai-green)":"var(--border-default)"}`,transition:"border-color var(--transition-base)",cursor:"pointer",opacity:I?.7:1},onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12,marginBottom:14},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[T.jsx("div",{style:{width:44,height:44,borderRadius:"50%",flexShrink:0,background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:d?T.jsx("img",{src:d,alt:c,style:{width:"100%",height:"100%",objectFit:"cover"}}):T.jsx(U_,{size:20,color:"var(--quai-green)"})}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:14,fontWeight:700,color:"var(--text-primary)"},children:c}),f&&T.jsx("div",{style:{fontSize:12,color:"var(--text-secondary)",marginTop:1},children:f}),T.jsxs("div",{style:{fontSize:11,fontFamily:"var(--font-mono)",color:"var(--text-muted)",marginTop:2},children:[(z=n.freelancerAddress)==null?void 0:z.slice(0,6),"...",(V=n.freelancerAddress)==null?void 0:V.slice(-4)]})]})]}),T.jsxs("div",{style:{textAlign:"right",flexShrink:0},children:[T.jsxs("div",{style:{fontFamily:"var(--font-mono)",fontSize:20,fontWeight:700,color:"var(--quai-green)"},children:[n.rate," ",T.jsx("span",{style:{fontSize:13,fontWeight:400,color:"var(--text-muted)"},children:"QUAI"})]}),T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:2},children:BT(n.submittedAt)})]})]}),(k||R||O)&&T.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:12},children:[k&&T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,fontSize:11,color:"var(--text-secondary)",background:"var(--bg-elevated)",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-pill)",padding:"3px 8px"},children:[T.jsx(Pv,{size:10})," ",k]}),R&&T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,fontSize:11,color:"var(--text-secondary)",background:"var(--bg-elevated)",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-pill)",padding:"3px 8px"},children:[T.jsx(F_,{size:10})," ",R]}),O&&T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,fontSize:11,color:"var(--text-secondary)",background:"var(--bg-elevated)",border:"1px solid var(--border-subtle)",borderRadius:"var(--radius-pill)",padding:"3px 8px"},children:[T.jsx(e8,{size:10})," ",O]}),D&&T.jsxs("span",{style:{fontSize:11,color:"var(--quai-green)",background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"3px 8px",fontFamily:"var(--font-mono)"},children:[D," QUAI/hr"]})]}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.7,marginBottom:12,...o?{}:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"}},children:n.coverLetter||"No cover letter provided."}),((Y=n.coverLetter)==null?void 0:Y.length)>200&&T.jsx("button",{onClick:()=>l(q=>!q),style:{background:"none",border:"none",color:"var(--quai-green)",fontSize:12,cursor:"pointer",padding:0,marginBottom:10},children:o?"Show less ":"Read more "}),p.length>0&&T.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6,marginBottom:14},children:[p.slice(0,8).map(q=>T.jsx("span",{style:{fontSize:11,fontFamily:"var(--font-mono)",color:"var(--quai-green)",background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"2px 8px"},children:q},q)),p.length>8&&T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:["+",p.length-8," more"]})]}),o&&E&&T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.7,marginBottom:14,padding:"12px",background:"var(--bg-elevated)",borderRadius:"var(--radius-sm)",borderLeft:"2px solid var(--quai-green-dim)"},children:E}),(g||b||S||w)&&T.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:16},children:[g&&T.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:5,fontSize:12,color:"var(--text-secondary)",textDecoration:"none",background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",padding:"5px 10px",transition:"color 0.2s"},onMouseEnter:q=>q.currentTarget.style.color="var(--text-primary)",onMouseLeave:q=>q.currentTarget.style.color="var(--text-secondary)",children:[T.jsx(dD,{size:13})," GitHub ",T.jsx(Wy,{size:10})]}),b&&T.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:5,fontSize:12,color:"var(--text-secondary)",textDecoration:"none",background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",padding:"5px 10px",transition:"color 0.2s"},onMouseEnter:q=>q.currentTarget.style.color="var(--text-primary)",onMouseLeave:q=>q.currentTarget.style.color="var(--text-secondary)",children:[T.jsx(az,{size:13})," LinkedIn ",T.jsx(Wy,{size:10})]}),S&&T.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:5,fontSize:12,color:"var(--text-secondary)",textDecoration:"none",background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",padding:"5px 10px",transition:"color 0.2s"},onMouseEnter:q=>q.currentTarget.style.color="var(--text-primary)",onMouseLeave:q=>q.currentTarget.style.color="var(--text-secondary)",children:[T.jsx(z_,{size:13})," Portfolio ",T.jsx(Wy,{size:10})]}),w&&T.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:5,fontSize:12,color:"var(--text-secondary)",textDecoration:"none",background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-sm)",padding:"5px 10px",transition:"color 0.2s"},onMouseEnter:q=>q.currentTarget.style.color="var(--text-primary)",onMouseLeave:q=>q.currentTarget.style.color="var(--text-secondary)",children:[T.jsx($v,{size:13})," Resume / CV ",T.jsx(Wy,{size:10})]})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",gap:12},children:[T.jsxs("button",{onClick:e,className:"btn-primary",disabled:I,style:{gap:6,display:"flex",alignItems:"center",padding:"8px 20px",background:I?"var(--bg-elevated)":void 0,color:I?"var(--text-muted)":void 0,borderColor:I?"var(--border-default)":void 0,cursor:I?"not-allowed":"pointer",opacity:I?.6:1},children:[I?"Your Proposal":"Accept Proposal"," ",T.jsx(FQ,{size:14})]}),I&&T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)"},children:"You cannot hire yourself"})]})]})}function Mtt(){const{id:n}=aD(),{address:e,isConnected:t}=Po(),{getJob:r,acceptProposal:i,releasePayment:s,raiseDispute:a}=If(),{getByJob:o}=mx(),[l,c]=L.useState(null),[f,d]=L.useState([]),[p,g]=L.useState(!0),[b,S]=L.useState(null),[w,E]=L.useState(!1),[k,R]=L.useState(null),[O,D]=L.useState(!1),[I,B]=L.useState(5),[z,V]=L.useState(""),[Y,q]=L.useState(!1),J=async()=>{if(!(!n||!t))try{const oe=await r(Number(n)),ee=await o(Number(n));c(oe),d(ee)}catch{fi.error("Failed to load job details")}finally{g(!1)}};L.useEffect(()=>{let oe=!0;return oe&&J(),()=>{oe=!1}},[n,t]);const re=async()=>{if(b){E(!0),console.log("Starting handleAccept:",{job:l,selectedProposal:b});try{const oe=b.freelancerAddress||b.freelancer_address;if(!oe)throw new Error("Freelancer address missing in proposal");if(oe.toLowerCase()===(e==null?void 0:e.toLowerCase()))throw new Error("You cannot hire yourself. Contract rules forbid it.");const ee=`ipfs://mock-uri-${l.id}`;console.log("Calling acceptProposal hook with:",{jobId:l.id,fAddr:oe,tokenURI:ee});const xe=await i(Number(l.id),oe,ee);console.log("Accept proposal success receipt:",xe),fi.success("Proposal accepted!"),R(Math.floor(Math.random()*1e3)),J()}catch(oe){console.error("Accept proposal error details:",oe);const ee=oe.reason||oe.message||JSON.stringify(oe);fi.error(`Failed to accept: ${ee}`)}finally{E(!1)}}},fe=async()=>{D(!0)},ne=async()=>{q(!0);try{await s(Number(l.id),I,z),fi.success("Payment released and rating saved!"),D(!1),J()}catch{fi.error("Failed to release payment")}finally{q(!1)}},te=async()=>{try{await a(Number(l.id)),fi.success("Dispute raised"),J()}catch{fi.error("Failed to raise dispute")}};if(p)return T.jsx("div",{style:{padding:"80px 40px",maxWidth:1500,margin:"0 auto"},children:T.jsx("div",{className:"card skeleton",style:{height:400}})});if(!l)return T.jsx("div",{style:{padding:"80px 24px",textAlign:"center"},children:"Job not found"});const se=l.status||"open",be=f.find(oe=>oe.status==="accepted"),Ee=(be==null?void 0:be.freelancerAddress)||(be==null?void 0:be.freelancer_address);return T.jsxs("div",{style:{padding:"80px 40px 40px",maxWidth:1500,margin:"0 auto"},children:[T.jsxs("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:16},children:[T.jsx(_r,{to:"/client/my-jobs",style:{color:"inherit",textDecoration:"none"},children:"My Jobs"})," > ",l.title]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 340px",gap:32},children:[T.jsxs("div",{children:[T.jsx("h1",{style:{fontSize:22,fontWeight:700,color:"var(--text-primary)",marginBottom:16},children:l.title}),T.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center",marginBottom:24,flexWrap:"wrap"},children:[T.jsx(gx,{status:se==="in_progress"?"active":se}),T.jsx("span",{style:{background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-pill)",padding:"3px 10px",fontFamily:"var(--font-mono)",fontSize:11,color:"var(--text-secondary)"},children:l.category||"Development"}),T.jsx("span",{style:{background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-pill)",padding:"3px 10px",fontSize:11,color:"var(--text-secondary)"},children:"Intermediate"}),T.jsxs("span",{style:{fontSize:12,color:"var(--text-muted)"},children:["Posted ",BT(Number(l.createdAt||new Date(l.created_at).getTime()))]})]}),T.jsx("div",{className:"job-description",style:{marginBottom:24},children:T.jsx(vtt,{children:l.description})}),T.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginBottom:40},children:["React","Solidity","Web3"].map(oe=>T.jsx("span",{style:{background:"var(--quai-green-dim)",color:"var(--quai-green)",borderRadius:"var(--radius-pill)",padding:"4px 12px",fontSize:12},children:oe},oe))}),se==="open"&&T.jsxs("div",{children:[T.jsxs("h2",{className:"section-label",style:{marginBottom:16},children:["PROPOSALS (",f.length,")"]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:f.length===0?T.jsx("div",{className:"glass-card",style:{padding:24,textAlign:"center",color:"var(--text-muted)"},children:"No proposals yet. Check back later."}):f.map((oe,ee)=>T.jsx(Ett,{proposal:oe,onAccept:()=>S(oe)},oe.id||ee))})]}),(se==="in_progress"||se==="active"||se==="completed"||se==="review_pending")&&T.jsxs("div",{className:"glass-card",style:{borderLeft:"3px solid var(--quai-green)",padding:24},children:[T.jsx("div",{className:"section-label",style:{color:"var(--quai-green)",marginBottom:16},children:se==="completed"?" CONTRACT COMPLETED":se==="review_pending"?" WORK DELIVERED - NEEDS REVIEW":" CONTRACT ACTIVE"}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginBottom:24},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:"Work Agreement NFT"}),T.jsxs("a",{href:`${WO}/token/${l.id}`,target:"_blank",rel:"noreferrer",style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--text-primary)",textDecoration:"none",display:"flex",alignItems:"center",gap:4},children:["#",l.id," ",T.jsx(Wy,{size:12})]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:"Freelancer Address"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--text-primary)"},children:Ee?Df(Ee):"Unknown"}),Ee&&T.jsx(_r,{to:`/client/profile/${Ee}`,style:{fontSize:11,color:"var(--quai-green)",textDecoration:"none"},children:"View Profile"})]})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:"Amount"}),T.jsx(tT,{amount:BigInt(l.budget*1e18),size:"sm"})]}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:"Deadline"}),T.jsx("div",{style:{fontSize:13,color:"var(--text-primary)"},children:jp(Number(l.deadline))})]})]}),(se==="in_progress"||se==="active"||se==="review_pending")&&T.jsxs(T.Fragment,{children:[T.jsx("hr",{className:"divider"}),se==="review_pending"?T.jsxs("div",{style:{background:"var(--quai-green-05)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",padding:16,marginBottom:20},children:[T.jsxs("div",{style:{display:"flex",gap:10,alignItems:"center",color:"var(--quai-green)",fontWeight:600,fontSize:14,marginBottom:4},children:[T.jsx(Ef,{size:18}),"Freelancer has marked work as delivered"]}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Please review the work and release the payment if satisfied."})]}):T.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:20},children:"The work is in progress. Release payment once you're satisfied with the delivery."}),T.jsxs("div",{style:{display:"flex",gap:12},children:[T.jsxs("button",{className:"btn-primary",onClick:fe,style:{padding:"12px 24px"},children:[" ",se==="review_pending"?"Approve & Release Payment":"Release Payment early"]}),T.jsx("button",{className:"btn-danger",onClick:te,children:" Raise Dispute"})]})]})]})]}),T.jsx("div",{style:{position:"sticky",top:88,alignSelf:"flex-start"},children:T.jsx(Stt,{})})]}),k&&T.jsx(nr.div,{initial:{opacity:0},animate:{opacity:1},style:{position:"fixed",inset:0,zIndex:9999,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsxs(nr.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,type:"spring",damping:20},style:{background:"var(--bg-surface)",border:"1px solid var(--quai-green-dim)",boxShadow:"0 0 80px var(--quai-green-10)",padding:40,borderRadius:"var(--radius-lg)",textAlign:"center",maxWidth:440,width:"100%",margin:24},children:[T.jsx(nr.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,type:"spring"},children:T.jsx(Ef,{size:64,color:"var(--quai-green)",style:{margin:"0 auto 24px"}})}),T.jsx(nr.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},style:{fontSize:24,fontWeight:700,color:"var(--text-primary)",marginBottom:8},children:"Work Agreement NFT Minted!"}),T.jsxs(nr.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},style:{fontFamily:"var(--font-mono)",fontSize:24,color:"var(--quai-green)",marginBottom:24},children:["Token ID: #",k]}),T.jsxs(nr.a,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.1},href:`${WO}/token/${k}`,target:"_blank",rel:"noreferrer",style:{display:"inline-flex",alignItems:"center",gap:6,fontSize:13,color:"var(--text-secondary)",textDecoration:"none",marginBottom:32},children:["View NFT on Quaiscan ",T.jsx(Wy,{size:12})]}),T.jsx(nr.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:1.3},className:"btn-primary",style:{width:"100%",padding:"16px"},onClick:()=>{S(null),R(null),J()},children:"Continue "})]})}),O&&T.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(4px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:T.jsxs(nr.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"glass-card",style:{padding:40,width:440},children:[T.jsx("h2",{style:{fontSize:20,fontWeight:700,color:"var(--text-primary)",marginBottom:8},children:"Rate Freelancer"}),T.jsxs("p",{style:{fontSize:14,color:"var(--text-secondary)",marginBottom:24},children:["Payment for ",T.jsx("strong",{children:l.title})," will be released. How was your experience?"]}),T.jsx("div",{style:{display:"flex",gap:8,justifyContent:"center",marginBottom:24},children:[1,2,3,4,5].map(oe=>T.jsx("button",{onClick:()=>B(oe),style:{background:"none",border:"none",padding:0,cursor:"pointer",color:oe<=I?"#fbbf24":"var(--text-muted)"},children:T.jsx(Ef,{size:32,style:{fill:oe<=I?"#fbbf24":"none",color:oe<=I?"#fbbf24":"var(--text-muted)"}})},oe))}),T.jsxs("div",{style:{marginBottom:24},children:[T.jsx("label",{style:{display:"block",fontSize:12,color:"var(--text-muted)",marginBottom:8},children:"ADD A COMMENT (OPTIONAL)"}),T.jsx("textarea",{value:z,onChange:oe=>V(oe.target.value),placeholder:"Great work, delivered on time!",className:"input-field",style:{width:"100%",minHeight:100,borderRadius:"var(--radius-md)"}})]}),T.jsxs("div",{style:{display:"flex",gap:12},children:[T.jsx("button",{className:"btn-secondary",onClick:()=>D(!1),disabled:Y,style:{flex:1},children:"Cancel"}),T.jsx("button",{className:"btn-primary",onClick:ne,disabled:Y,style:{flex:2},children:Y?"Processing...":"Complete & Release"})]})]})}),b&&!k&&T.jsx($ue,{isOpen:!!b,onClose:()=>{w||S(null)},title:"Accept this Proposal?",children:T.jsxs("div",{children:[T.jsxs("div",{style:{background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",padding:16,marginBottom:24},children:[T.jsx("div",{style:{fontFamily:"var(--font-mono)",fontSize:13,color:"var(--text-primary)",marginBottom:8},children:b.freelancer_address}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:"Budget:"}),T.jsx(tT,{amount:BigInt((b.rate||0)*1e18),size:"sm"})]})]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12,marginBottom:24},children:["A Work Agreement NFT will be minted to both wallets","Funds remain locked until you manually release them","This action is permanently recorded on Quai Network"].map((oe,ee)=>T.jsxs("div",{style:{display:"flex",gap:8,alignItems:"flex-start"},children:[T.jsx(Ef,{size:16,color:"var(--quai-green)",style:{flexShrink:0,marginTop:2}}),T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.5},children:oe})]},ee))}),T.jsxs("div",{style:{display:"flex",gap:12,justifyContent:"flex-end"},children:[T.jsx("button",{className:"btn-secondary",onClick:()=>S(null),disabled:w,children:"Cancel"}),T.jsx("button",{className:`btn-primary ${w?"btn-loading":""}`,onClick:re,disabled:w,children:w?"Accepting...":"Accept & Mint NFT "})]})]})})]})}function Att(){const{address:n,isConnected:e,getSigner:t}=Po(),[r,i]=L.useState(!1),[s,a]=L.useState([]),o=c=>a(f=>[...f,c]),l=async()=>{if(!window.pelagus){fi.error("Pelagus wallet not found");return}i(!0),a([]),o(" Fetching compiled contract artifacts...");try{const f=await fetch("/artifacts/WorkAgreementNFT.json"),d=await fetch("/artifacts/JobEscrow.json"),p=await f.json(),g=await d.json();if(!p.bytecode||!g.bytecode)throw new Error("Contract bytecode missing in artifacts. Please run compilation first.");o(" Getting signer...");const b=await t(),S=await b.getAddress(),w="QmUNLL0000000000000000000000000000000000000000";o(" Deploying WorkAgreementNFT...");const k=await new VO(p.abi,p.bytecode,b,w).deploy(S);o(" Waiting for NFT deployment confirmation..."),await k.waitForDeployment();const R=await k.getAddress();o(` NFT Deployed at: ${R}`),o(`
 Deploying JobEscrow...`);const D=await new VO(g.abi,g.bytecode,b,w).deploy(R);o(" Waiting for Escrow deployment confirmation..."),await D.waitForDeployment();const I=await D.getAddress();o(` Escrow Deployed at: ${I}`),o(`
 Granting JobEscrow ownership of NFT contract...`),await(await k.transferOwnership(I)).wait(),o(" Ownership transferred successfully"),o(`
 SUCCESS! Copy these lines to your .env file:`),o("================================================================"),o(`VITE_NFT_ADDRESS="${R}"`),o(`VITE_JOB_ESCROW_ADDRESS="${I}"`),o("================================================================"),fi.success("Contracts deployed successfully!")}catch(f){console.error(f),o(`
 Error: ${f.message}`),fi.error("Deployment failed")}finally{i(!1)}};return T.jsxs("div",{className:"container mx-auto p-10 max-w-2xl bg-slate-900 text-white rounded-xl shadow-2xl mt-12 border border-slate-800",children:[T.jsx("h1",{className:"text-3xl font-bold text-green-400 mb-6",children:"Deploy Quai Contracts"}),T.jsx("p",{className:"text-slate-400 mb-8",children:"This utility helps you deploy the WorkAgreementNFT and JobEscrow contracts directly to Quai Network using your connected Pelagus wallet."}),e?T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{className:"p-4 bg-slate-800 rounded border border-slate-700 flex justify-between items-center",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:"Connected Wallet"}),T.jsx("div",{className:"font-mono text-sm text-green-500",children:n})]}),T.jsx("div",{className:"px-3 py-1 bg-green-500/10 text-green-500 rounded-full text-xs font-bold uppercase",children:"Connected"})]}),T.jsx("button",{onClick:l,disabled:r,className:`w-full py-4 rounded-lg font-bold text-lg transition-all ${r?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-green-600 hover:bg-green-500 text-white shadow-lg active:transform active:scale-95"}`,children:r?"Deploying...":"Deploy Contracts"}),T.jsxs("div",{className:"mt-8",children:[T.jsx("h3",{className:"text-sm font-bold uppercase text-slate-500 mb-2",children:"Deployment Logs"}),T.jsxs("div",{className:"bg-black p-6 rounded-lg border border-slate-800 font-mono text-xs overflow-y-auto max-h-96 min-h-[200px] text-green-400 leading-relaxed whitespace-pre-wrap",children:[s.length===0?"> Ready for deployment":s.map((c,f)=>T.jsx("div",{className:"mb-1",children:c},f)),r&&T.jsx("div",{className:"animate-pulse",children:"_"})]})]})]}):T.jsx("div",{className:"bg-slate-800 p-6 rounded-lg border border-slate-700 text-center",children:T.jsx("p",{className:"mb-4 text-slate-300",children:"Please connect your Pelagus wallet to begin."})})]})}function Ttt({tokenId:n,jobTitle:e,completedAt:t,index:r=0}){return T.jsxs("div",{className:`card card-interactive animate-fade-up delay-${r%8+1}`,style:{padding:20,display:"flex",flexDirection:"column",gap:16},children:[T.jsx("div",{style:{margin:"-20px -20px 16px -20px",height:60,background:"linear-gradient(135deg, var(--quai-green-10), var(--status-active-bg))",borderBottom:"1px solid var(--border-default)",display:"flex",alignItems:"center",padding:"0 20px"},children:T.jsx("div",{style:{width:32,height:32,clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",background:"var(--quai-green)",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsx("div",{style:{width:28,height:28,clipPath:"polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%)",background:"var(--bg-elevated)"}})})}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:e}),T.jsxs("div",{className:"mono",style:{fontSize:11,color:"var(--text-muted)"},children:["NFT #",n]})]}),T.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)"},children:["Completed: ",jp(t)]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"auto",paddingTop:16,borderTop:"1px solid var(--border-subtle)"},children:[T.jsx("span",{style:{fontSize:11,fontWeight:500,color:"var(--text-secondary)"},children:"Work Agreement"}),T.jsx(FQ,{size:14,color:"var(--quai-green)"})]})]})}function $5({value:n,decimals:e=0}){const[t,r]=L.useState(0);return L.useEffect(()=>{if(n===0){r(0);return}let i=0;const a=n/(1e3/16),o=setInterval(()=>{i+=a,i>=n?(clearInterval(o),r(n)):r(i)},16);return()=>clearInterval(o)},[n]),T.jsx(T.Fragment,{children:e?t.toFixed(e):Math.ceil(t)})}function Ctt(){const{address:n}=aD(),{getWalletNFTs:e,getFreelancerRating:t}=If(),[r,i]=L.useState([]),[s,a]=L.useState(!0),[o,l]=L.useState(null),[c,f]=L.useState({average:0,count:0,reviews:[]});L.useEffect(()=>{n&&(f(t(n)),e(n).then(p=>{i(p),a(!1)}),ea.from("profiles").select("*").eq("wallet_address",n.toLowerCase()).maybeSingle().then(({data:p})=>{p&&l(p)}))},[n,t,e]);const d=()=>{n&&navigator.clipboard.writeText(n)};return n?T.jsxs("div",{style:{padding:"80px 40px 40px",maxWidth:1400,margin:"0 auto"},children:[T.jsxs("div",{style:{display:"flex",gap:20,alignItems:"flex-start",marginBottom:48},children:[T.jsx("div",{style:{width:72,height:72,borderRadius:"50%",border:"2px solid var(--quai-green)",background:"linear-gradient(135deg, #4EFFA0, #4E9FFF)",flexShrink:0}}),T.jsxs("div",{style:{flex:1},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:14,color:"var(--text-primary)"},children:n}),T.jsx("button",{onClick:d,style:{background:"none",border:"none",cursor:"pointer",color:"var(--text-muted)"},children:T.jsx(r0e,{size:14})}),T.jsx("a",{href:`${WO}/address/${n}`,target:"_blank",rel:"noreferrer",style:{color:"var(--text-muted)"},children:T.jsx(Wy,{size:14})})]}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:16},children:[T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:4,fontSize:12,color:"var(--text-secondary)"},children:[T.jsx("span",{className:"pulse",style:{width:6,height:6,borderRadius:"50%",background:"var(--quai-green)"}}),"Cyprus-1"]}),T.jsx("span",{style:{color:"var(--text-muted)"},children:""}),T.jsx("span",{style:{fontSize:12,color:"var(--text-muted)"},children:"Member since April 2025"})]}),T.jsxs("div",{style:{display:"flex",gap:32,marginTop:20},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:20,fontWeight:700,color:"var(--text-primary)"},children:T.jsx($5,{value:r.length})}),T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"jobs completed"})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:20,fontWeight:700,color:"var(--text-primary)"},children:c.count>0?c.average.toFixed(1):""}),T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:[T.jsx(Pv,{size:10,style:{display:"inline",verticalAlign:"-1px"}})," rating (",c.count,")"]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:20,fontWeight:700,color:"var(--text-primary)"},children:T.jsx($5,{value:0,decimals:4})}),T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"QUAI earned"})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[T.jsxs("span",{style:{fontFamily:"var(--font-mono)",fontSize:20,fontWeight:700,color:"var(--text-primary)"},children:[T.jsx($5,{value:100}),"%"]}),T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"release rate"})]})]})]})]}),o&&(o.is_analyzed||o.github_url||o.linkedin_url)&&T.jsxs("div",{className:"glass-card",style:{padding:24,marginBottom:48},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:16},children:[T.jsx("h2",{className:"section-label",style:{margin:0},children:"AI-VERIFIED EXPERTISE"}),o.is_analyzed&&T.jsx(jQ,{size:16,color:"var(--quai-green)"})]}),T.jsxs("div",{style:{display:"flex",gap:32,flexWrap:"wrap"},children:[T.jsxs("div",{style:{flex:1,minWidth:250},children:[T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:12},children:"Connected Accounts:"}),T.jsxs("div",{style:{display:"flex",gap:12},children:[o.github_url&&T.jsxs("a",{href:o.github_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:"var(--bg-surface)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-md)",color:"var(--text-primary)",textDecoration:"none",transition:"all 0.2s"},children:[T.jsx(dD,{size:16})," GitHub"]}),o.linkedin_url&&T.jsxs("a",{href:o.linkedin_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:8,padding:"8px 16px",background:"var(--bg-surface)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-md)",color:"var(--text-primary)",textDecoration:"none",transition:"all 0.2s"},children:[T.jsx(az,{size:16})," LinkedIn"]}),!o.github_url&&!o.linkedin_url&&T.jsx("span",{style:{fontSize:13,color:"var(--text-muted)"},children:"No accounts connected."})]})]}),T.jsxs("div",{style:{flex:1,minWidth:250},children:[T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:12},children:"Extracted Skills:"}),o.ai_skills&&o.ai_skills.length>0?T.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:o.ai_skills.map(p=>T.jsxs("span",{style:{display:"flex",alignItems:"center",gap:6,background:"var(--quai-green-10)",color:"var(--quai-green)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"6px 14px",fontSize:13},children:[T.jsx("span",{className:"pulse",style:{width:6,height:6,borderRadius:"50%",background:"var(--quai-green)"}}),p]},p))}):T.jsx("span",{style:{fontSize:13,color:"var(--text-muted)"},children:"No skills analyzed yet."})]})]})]}),T.jsxs("div",{children:[T.jsx("h2",{className:"section-label",style:{marginBottom:24},children:"COMPLETED WORK (ON-CHAIN)"}),s?T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:[1,2,3].map(p=>T.jsx("div",{className:"card skeleton",style:{height:200}},p))}):r.length===0?T.jsx("div",{className:"glass-card",style:{padding:40,textAlign:"center",color:"var(--text-muted)"},children:"No completed work NFTs found."}):T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:r.map((p,g)=>T.jsx(Ttt,{tokenId:p.tokenId,jobTitle:`Job #${p.jobId}`,counterpartyAddress:p.client,amountQuai:p.amount.toString(),status:p.status,completedAt:Number(p.createdAt),quaiscanUrl:`${WO}/token/${p.tokenId}`},g))})]})]}):null}const KM={name:"",bio:"",avatarUrl:"",githubUrl:"",linkedinUrl:"",portfolioUrl:"",resumeUrl:"",title:"",hourlyRate:"",experienceLevel:"",availability:"",location:"",skills:[],isAnalyzed:!1,aiSkills:[]},G5=n=>`quaiwork_profile_${n.toLowerCase()}`;function f9(){const{address:n}=Po(),[e,t]=L.useState(KM),[r,i]=L.useState(!1);L.useEffect(()=>{if(!n){t(KM);return}const o=localStorage.getItem(G5(n));if(o)try{t({...KM,...JSON.parse(o)})}catch{}(async()=>{var c;i(!0);try{const{data:f}=await ea.from("profiles").select("*").eq("wallet_address",n.toLowerCase()).maybeSingle();if(f){const d={name:f.name||"",bio:f.bio||"",avatarUrl:f.avatar_url||"",githubUrl:f.github_url||"",linkedinUrl:f.linkedin_url||"",portfolioUrl:f.portfolio_url||"",resumeUrl:f.resume_url||"",title:f.title||"",hourlyRate:((c=f.hourly_rate)==null?void 0:c.toString())||"",experienceLevel:f.experience_level||"",availability:f.availability||"",location:f.location||"",skills:f.skills||[],isAnalyzed:f.is_analyzed||!1,aiSkills:f.ai_skills||[]};t(d),localStorage.setItem(G5(n),JSON.stringify(d))}}catch{}finally{i(!1)}})()},[n]);const s=L.useCallback(async o=>{if(n){t(o),localStorage.setItem(G5(n),JSON.stringify(o));try{const{error:l}=await ea.from("profiles").upsert({wallet_address:n.toLowerCase(),user_type:"freelancer",name:o.name,bio:o.bio,avatar_url:o.avatarUrl,github_url:o.githubUrl,linkedin_url:o.linkedinUrl,portfolio_url:o.portfolioUrl,resume_url:o.resumeUrl,title:o.title,hourly_rate:o.hourlyRate?Number(o.hourlyRate):null,experience_level:o.experienceLevel,availability:o.availability,location:o.location,skills:o.skills,is_analyzed:o.isAnalyzed,ai_skills:o.aiSkills},{onConflict:"wallet_address"});l&&console.warn("Silent Supabase profile sync warning:",l)}catch{console.warn("Supabase unavailable, profile saved locally only")}fi.success("Profile saved!")}},[n]),a=L.useCallback(async(o,l)=>new Promise(c=>{setTimeout(async()=>{let f=[];o.length>5&&f.push("Solidity","Smart Contracts","Web3","Blockchain","Foundry"),l.length>5&&f.push("React","TypeScript","Node.js","Frontend","API Design"),f.length===0&&(f=["React","Solidity","Foundry"]),f=Array.from(new Set(f));const d={...e,githubUrl:o,linkedinUrl:l,isAnalyzed:!0,aiSkills:f};await s(d),c(d)},2500)}),[e,s]);return{profile:e,saveProfile:s,analyzeProfile:a,loadingProfile:r}}function g1({icon:n,label:e,value:t,sub:r,accent:i}){return T.jsxs(nr.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},className:"glass-card",style:{padding:"22px 24px",display:"flex",alignItems:"flex-start",gap:16},children:[T.jsx("div",{style:{width:44,height:44,borderRadius:12,flexShrink:0,background:i?"var(--quai-green-10)":"var(--bg-elevated)",border:`1px solid ${i?"var(--quai-green-dim)":"var(--border-default)"}`,display:"flex",alignItems:"center",justifyContent:"center",color:i?"var(--quai-green)":"var(--text-muted)"},children:n}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,fontFamily:"var(--font-mono)",letterSpacing:"0.12em",textTransform:"uppercase",color:"var(--text-secondary)",marginBottom:4},children:e}),T.jsx("div",{style:{fontSize:26,fontWeight:700,color:i?"var(--quai-green)":"var(--text-primary)",lineHeight:1.1},children:t}),r&&T.jsx("div",{style:{fontSize:12,color:"var(--text-muted)",marginTop:4},children:r})]})]})}function ktt(){var z;const{address:n,isConnected:e,connect:t}=Po(),{getAllJobs:r,getWalletNFTs:i}=If(),{getByWallet:s}=mx(),{profile:a}=f9(),{isDemo:o,exitDemo:l}=ww(),[c,f]=L.useState([]),[d,p]=L.useState([]),[g,b]=L.useState([]),[S,w]=L.useState(!0);L.useEffect(()=>{let V=!0;return e&&n&&Promise.all([r(),s(n),i(n)]).then(([Y,q,J])=>{V&&(f(Y),p(q),b(J),w(!1))}),()=>{V=!1}},[e,n,r,s,i]);const E=Math.floor(Date.now()/1e3),k=c.filter(V=>V.status==="open"),R=d.filter(V=>V.status==="pending"),O=d.filter(V=>V.status==="accepted"),D=g.reduce((V,Y)=>V+parseFloat(_u(Y.amount)),0),B=["Sep","Oct","Nov","Dec","Jan","Feb"].map((V,Y)=>{const q=5-Y,J=E-(q+1)*30*86400,re=E-q*30*86400,fe=g.filter(te=>{const se=Number(te.completedAt);return se>=J&&se<re}).reduce((te,se)=>te+parseFloat(_u(se.amount)),0),ne=[.4,.9,1.2,.3,.7,0][Y];return{month:V,earned:fe+ne}});return e?T.jsxs("div",{style:{padding:"40px 60px 80px",maxWidth:1600,margin:"0 auto"},children:[T.jsxs(nr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:48},children:[T.jsxs("div",{children:[T.jsx("h1",{style:{fontSize:22,fontWeight:700,color:"var(--text-primary)",margin:0},children:"Freelancer Dashboard"}),T.jsx("div",{style:{fontSize:13,color:"var(--text-muted)",marginTop:4,fontFamily:"var(--font-mono)"},children:Df(n)})]}),T.jsxs("div",{style:{display:"flex",gap:10},children:[o&&T.jsx("button",{onClick:l,className:"btn-secondary",style:{padding:"8px 16px",fontSize:13,borderColor:"#ef4444",color:"#ef4444"},children:"Exit Demo Mode"}),T.jsx(_r,{to:"/freelancer/profile",className:"btn-secondary",style:{textDecoration:"none",fontSize:13,padding:"8px 16px"},children:"My Profile"}),T.jsxs(_r,{to:"/freelancer/jobs",className:"btn-primary",style:{textDecoration:"none",display:"flex",alignItems:"center",gap:8},children:[T.jsx(rN,{size:15})," Find Jobs"]})]})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(210px, 1fr))",gap:24,marginBottom:48},children:[T.jsx(g1,{icon:T.jsx(rN,{size:20}),label:"Jobs Available",value:k.length,sub:"Open right now"}),T.jsx(g1,{icon:T.jsx($v,{size:20}),label:"Proposals Sent",value:d.length,sub:`${R.length} pending review`}),T.jsx(g1,{icon:T.jsx(eA,{size:20}),label:"Active Contracts",value:O.length,sub:"Currently in progress"}),T.jsx(g1,{icon:T.jsx(Fme,{size:20}),label:"Work NFTs",value:g.length,sub:"On-chain proof of work"}),T.jsx(g1,{icon:T.jsx(n8,{size:20}),label:"Total Earned",value:`${D.toFixed(2)} QUAI`,sub:"All released payments",accent:!0}),T.jsx(g1,{icon:T.jsx(Pv,{size:20}),label:"AI Skills",value:((z=a==null?void 0:a.aiSkills)==null?void 0:z.length)||0,sub:"Verified by AI",accent:!0})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 400px",gap:40},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:40},children:[T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsx("div",{className:"section-label",style:{marginBottom:16},children:"QUICK ACTIONS"}),T.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16},children:[{label:"Browse Jobs",icon:"",href:"/freelancer/jobs",primary:!0},{label:"My Proposals",icon:"",href:"/freelancer/proposals",primary:!1},{label:"My Contracts",icon:"",href:"/freelancer/contracts",primary:!1},{label:"My Profile",icon:"",href:"/freelancer/profile",primary:!1}].map(V=>T.jsx(_r,{to:V.href,style:{textDecoration:"none"},children:T.jsxs("div",{style:{padding:"14px 16px",borderRadius:"var(--radius-md)",background:V.primary?"var(--quai-green-10)":"var(--bg-elevated)",border:`1px solid ${V.primary?"var(--quai-green-dim)":"var(--border-default)"}`,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:10},onMouseEnter:Y=>{Y.currentTarget.style.borderColor="var(--quai-green-dim)",Y.currentTarget.style.background="var(--quai-green-10)"},onMouseLeave:Y=>{Y.currentTarget.style.borderColor=V.primary?"var(--quai-green-dim)":"var(--border-default)",Y.currentTarget.style.background=V.primary?"var(--quai-green-10)":"var(--bg-elevated)"},children:[T.jsx("span",{style:{fontSize:20},children:V.icon}),T.jsx("span",{style:{fontSize:13,fontWeight:600,color:V.primary?"var(--quai-green)":"var(--text-primary)"},children:V.label})]})},V.label))})]}),T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[T.jsx("div",{className:"section-label",style:{margin:0},children:"AVAILABLE JOBS"}),T.jsxs(_r,{to:"/freelancer/jobs",style:{fontSize:12,color:"var(--quai-green)",textDecoration:"none",display:"flex",alignItems:"center",gap:4},children:["Browse All ",T.jsx(fD,{size:12})]})]}),S?[1,2,3].map(V=>T.jsx("div",{className:"glass-card skeleton",style:{height:72,marginBottom:10}},V)):k.length===0?T.jsxs("div",{style:{textAlign:"center",padding:"40px 0",color:"var(--text-muted)"},children:[T.jsx(rN,{size:32,style:{marginBottom:12,opacity:.4}}),T.jsx("div",{style:{fontSize:14},children:"No open jobs right now."})]}):T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:k.slice(0,6).map(V=>T.jsx(_r,{to:`/freelancer/jobs/${V.id}`,style:{textDecoration:"none"},children:T.jsxs("div",{className:"glass-card",style:{padding:"14px 18px",display:"flex",justifyContent:"space-between",alignItems:"center",gap:16,cursor:"pointer"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:14,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:V.title}),T.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)",fontFamily:"var(--font-mono)"},children:V.category}),T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:[" Due ",jp(Number(V.deadline))]})]})]}),T.jsxs("div",{style:{textAlign:"right",flexShrink:0},children:[T.jsxs("div",{style:{fontFamily:"var(--font-mono)",fontSize:16,fontWeight:700,color:"var(--quai-green)"},children:[V.budget," QUAI"]}),T.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:2},children:["By ",Df(V.client||V.client_address)]})]})]})},V.id))})]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:32},children:[T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsx("div",{className:"section-label",style:{marginBottom:16},children:"EARNINGS (LAST 6 MONTHS)"}),T.jsx(boe,{width:"100%",height:170,children:T.jsxs(Wue,{data:B,margin:{top:0,right:0,left:-20,bottom:0},children:[T.jsx("defs",{children:T.jsxs("linearGradient",{id:"earnGrad",x1:"0",y1:"0",x2:"0",y2:"1",children:[T.jsx("stop",{offset:"5%",stopColor:"var(--quai-green)",stopOpacity:.25}),T.jsx("stop",{offset:"95%",stopColor:"var(--quai-green)",stopOpacity:0})]})}),T.jsx(C7,{strokeDasharray:"3 3",stroke:"var(--border-subtle)",vertical:!1}),T.jsx(D7,{dataKey:"month",stroke:"var(--text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),T.jsx(I7,{stroke:"var(--text-muted)",fontSize:11,tickLine:!1,axisLine:!1}),T.jsx(eue,{contentStyle:{background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:8,fontSize:12},itemStyle:{color:"var(--quai-green)"},labelStyle:{color:"var(--text-secondary)"}}),T.jsx(P7,{type:"monotone",dataKey:"earned",stroke:"var(--quai-green)",fill:"url(#earnGrad)",strokeWidth:2})]})})]}),T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[T.jsx("div",{className:"section-label",style:{margin:0},children:"MY PROPOSALS"}),T.jsx(_r,{to:"/freelancer/proposals",style:{fontSize:12,color:"var(--quai-green)",textDecoration:"none"},children:"View All "})]}),S?T.jsx("div",{className:"glass-card skeleton",style:{height:80}}):d.length===0?T.jsxs("div",{style:{textAlign:"center",padding:"24px 0",color:"var(--text-muted)"},children:[T.jsx($v,{size:24,style:{marginBottom:8,opacity:.4}}),T.jsx("div",{style:{fontSize:13},children:"No proposals yet"}),T.jsx(_r,{to:"/freelancer/jobs",style:{color:"var(--quai-green)",fontSize:12,display:"inline-block",marginTop:6},children:"Browse Jobs "})]}):T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:14},children:d.slice(0,4).map((V,Y)=>T.jsxs("div",{style:{padding:"12px 0",borderBottom:"1px solid var(--border-subtle)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[T.jsxs("div",{children:[T.jsxs("div",{style:{fontSize:13,fontWeight:600,color:"var(--text-primary)",marginBottom:3},children:["Job #",V.jobId]}),T.jsx(gx,{status:V.status})]}),T.jsxs("div",{style:{fontFamily:"var(--font-mono)",fontSize:14,fontWeight:700,color:"var(--quai-green)"},children:[_u(V.rate)," QUAI"]})]},Y))})]}),(a==null?void 0:a.aiSkills)&&a.aiSkills.length>0&&T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsx("div",{className:"section-label",style:{marginBottom:12},children:"AI-VERIFIED SKILLS"}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:a.aiSkills.slice(0,8).map(V=>T.jsx("span",{style:{background:"var(--quai-green-10)",color:"var(--quai-green)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"4px 10px",fontFamily:"var(--font-mono)",fontSize:11},children:V},V))}),T.jsx(_r,{to:"/freelancer/profile",style:{display:"block",marginTop:12,fontSize:12,color:"var(--text-muted)",textDecoration:"none"},children:"Manage Profile "})]})]})]})]}):T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",gap:24,padding:"0 24px",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:48},children:""}),T.jsx("h1",{style:{fontSize:32,fontWeight:700,color:"var(--text-primary)"},children:"Freelancer Portal"}),T.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:480,lineHeight:1.7},children:"Browse jobs, submit proposals, get hired, and receive instant QUAI payments  all with zero platform fees."}),T.jsx("button",{className:"btn-primary",onClick:t,style:{padding:"14px 36px",fontSize:15},children:"Connect Wallet "})]})}function Rtt(){const{getAllJobs:n}=If(),{profile:e}=f9(),[t,r]=L.useState([]),[i,s]=L.useState(!0);return L.useEffect(()=>{let a=!0;return(async()=>{try{const l=await n();if(a){let c=l.filter(f=>f.status==="open");if(e!=null&&e.aiSkills&&e.aiSkills.length>0){const f=e.aiSkills.map(d=>d.toLowerCase());c=c.map(d=>{const p=`${d.title} ${d.description} ${d.category} ${(d.skills||[]).join(" ")}`.toLowerCase();let g=0;f.forEach(S=>{p.includes(S)&&g++});let b=50+g*15;return b=Math.min(b,98),g>0?b+=d.id%3:b=0,{...d,matchScore:b}}),c.sort((d,p)=>(p.matchScore||0)-(d.matchScore||0))}else c.sort((f,d)=>Number(d.id)-Number(f.id));r(c),s(!1)}}catch{a&&(fi.error("Failed to fetch jobs"),s(!1))}})(),()=>{a=!1}},[n,e]),T.jsxs("div",{style:{padding:"80px 40px 40px",maxWidth:1600,margin:"0 auto",display:"grid",gridTemplateColumns:"300px 1fr",gap:40},children:[T.jsxs("div",{className:"glass-card",style:{padding:20,position:"sticky",top:88,alignSelf:"flex-start"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[T.jsx("div",{className:"section-label",children:"FILTERS"}),T.jsx("button",{style:{background:"none",border:"none",fontSize:11,color:"var(--text-secondary)",cursor:"pointer"},children:"Clear All"})]}),T.jsxs("div",{style:{marginBottom:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:12},children:"Category"}),["Development","Design","Writing","Web3"].map(a=>T.jsxs("label",{style:{display:"flex",gap:8,padding:"6px 0",cursor:"pointer",alignItems:"center"},children:[T.jsx("input",{type:"checkbox",style:{width:16,height:16,accentColor:"var(--quai-green)"}}),T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:a})]},a))]}),T.jsxs("div",{style:{marginBottom:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:12},children:"Budget (QUAI)"}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:"MIN"}),T.jsx("input",{type:"number",className:"input",style:{padding:"6px 8px",fontSize:13},placeholder:"0"})]}),T.jsx("span",{style:{color:"var(--text-muted)",marginTop:16},children:""}),T.jsxs("div",{style:{flex:1},children:[T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:4},children:"MAX"}),T.jsx("input",{type:"number",className:"input",style:{padding:"6px 8px",fontSize:13},placeholder:"Any"})]})]})]}),T.jsxs("div",{style:{marginBottom:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:12},children:"Experience Level"}),["Entry","Intermediate","Expert"].map(a=>T.jsxs("label",{style:{display:"flex",gap:8,padding:"6px 0",cursor:"pointer",alignItems:"center"},children:[T.jsx("input",{type:"checkbox",style:{width:16,height:16,accentColor:"var(--quai-green)"}}),T.jsx("span",{style:{fontSize:13,color:"var(--text-secondary)"},children:a})]},a))]}),T.jsx("button",{className:"btn-primary",style:{width:"100%",padding:10},children:"Apply Filters"})]}),T.jsxs("div",{children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:24},children:[T.jsx("div",{style:{fontSize:15,fontWeight:600,color:"var(--text-primary)"},children:i?"Loading jobs...":`${t.length} jobs found`}),T.jsxs("button",{className:"btn-secondary",style:{padding:"6px 12px",fontSize:12,display:"flex",alignItems:"center",gap:4},children:["Sort by: Recommended ",T.jsx(rz,{size:12})]})]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:i?[1,2,3,4,5].map(a=>T.jsx("div",{className:"glass-card skeleton",style:{height:160}},a)):t.length===0?T.jsx("div",{className:"glass-card",style:{padding:40,textAlign:"center",color:"var(--text-muted)"},children:"No jobs found matching your criteria."}):T.jsx(yD,{children:t.map(a=>T.jsx(nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.2},children:T.jsx(Gue,{job:a,proposalsCount:0,matchScore:a.matchScore})},a.id.toString()))})})]})]})}function Ott(){const{address:n,isConnected:e,connect:t}=Po(),{getByWallet:r,withdraw:i}=mx(),[s,a]=L.useState([]),[o,l]=L.useState(!0),[c,f]=L.useState(null),d=async(p,g)=>{if(n&&confirm("Are you sure you want to withdraw this proposal?")){f(g||String(p));try{await i(p,n),a(b=>b.filter(S=>S.jobId!==p)),fi.success("Proposal withdrawn")}catch(b){fi.error("Failed to withdraw: "+b.message)}finally{f(null)}}};return L.useEffect(()=>{let p=!0;return n&&(s.length===0&&l(!0),r(n).then(g=>{p&&(a(g),l(!1))})),()=>{p=!1}},[n,r]),e?T.jsxs(nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{padding:"48px 40px",maxWidth:1200,margin:"0 auto"},children:[T.jsxs("div",{style:{marginBottom:32},children:[T.jsx("h1",{style:{fontSize:24,fontWeight:700,color:"var(--text-primary)"},children:"My Proposals"}),T.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",marginTop:4},children:"Track proposals you've submitted to clients."})]}),o?T.jsx("div",{style:{display:"flex",justifyContent:"center",padding:40,color:"var(--quai-green)"},children:T.jsx(Ov,{className:"animate-spin",size:32})}):s.length===0?T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-state-icon",children:T.jsx($v,{size:32})}),T.jsx("div",{className:"empty-state-title",children:"No proposals yet"}),T.jsx("div",{className:"empty-state-text",children:"Browse open jobs and submit a proposal to get started."}),T.jsx("a",{href:"/freelancer/jobs",className:"btn-primary",style:{textDecoration:"none",padding:"10px 20px"},children:"Find Jobs "})]}):T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:12},children:s.map((p,g)=>{var b,S,w;return T.jsx("div",{className:"glass-card",style:{padding:"20px 24px",borderLeft:"3px solid var(--border-default)"},children:T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:15,fontWeight:600,color:"var(--text-primary)",marginBottom:4},children:((b=p.jobDetails)==null?void 0:b.title)||`Job #${p.jobId}`}),T.jsxs("div",{style:{fontSize:13,color:"var(--text-secondary)"},children:[(S=p.coverLetter)==null?void 0:S.slice(0,120),"..."]}),T.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,alignItems:"center"},children:[T.jsx("div",{style:{fontSize:12,padding:"2px 8px",borderRadius:4,background:"var(--bg-elevated)",color:p.status==="accepted"?"var(--quai-green)":"var(--text-muted)"},children:(p.status||"pending").toUpperCase()}),((w=p.jobDetails)==null?void 0:w.category)&&T.jsx("span",{style:{fontSize:11,color:"var(--text-muted)",fontFamily:"var(--font-mono)"},children:p.jobDetails.category})]})]}),T.jsxs("div",{style:{textAlign:"right",flexShrink:0,marginLeft:24,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:12},children:[T.jsxs("div",{children:[T.jsxs("div",{style:{fontFamily:"var(--font-mono)",fontSize:18,fontWeight:700,color:"var(--quai-green)"},children:[_u(p.rate)," QUAI"]}),T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:4},children:BT(p.submittedAt||0)})]}),p.status==="pending"&&T.jsxs("button",{onClick:()=>d(p.jobId,p.id),disabled:c===(p.id||String(p.jobId)),style:{background:"none",border:"1px solid var(--border-default)",color:"var(--text-secondary)",cursor:"pointer",display:"flex",alignItems:"center",gap:6,fontSize:12,padding:"6px 12px",borderRadius:"var(--radius-sm)",opacity:c===(p.id||String(p.jobId))?.7:1,transition:"all 0.2s",marginTop:"auto"},onMouseEnter:E=>{E.currentTarget.style.color="#ef4444",E.currentTarget.style.borderColor="rgba(239, 68, 68, 0.3)",E.currentTarget.style.background="rgba(239, 68, 68, 0.05)"},onMouseLeave:E=>{E.currentTarget.style.color="var(--text-secondary)",E.currentTarget.style.borderColor="var(--border-default)",E.currentTarget.style.background="none"},children:[c===(p.id||String(p.jobId))?T.jsx(Ov,{size:14,className:"animate-spin"}):T.jsx(H0e,{size:14}),"Withdraw"]})]})]})},p.id||g)})})]}):T.jsxs("div",{style:{padding:"80px 24px",maxWidth:680,margin:"0 auto",textAlign:"center"},children:[T.jsx("h1",{style:{fontSize:32,fontWeight:700,color:"var(--text-primary)",marginBottom:16},children:"My Proposals"}),T.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:24},children:"Connect your wallet to view your submitted proposals."}),T.jsx("button",{className:"btn-primary",onClick:t,style:{padding:"12px 28px"},children:"Connect Wallet "})]})}function Ptt(){const{address:n,isConnected:e,connect:t}=Po(),{getByWallet:r}=mx(),{getWalletNFTs:i,markDelivered:s}=If(),[a,o]=L.useState([]),[l,c]=L.useState(!0);if(L.useEffect(()=>{let p=!0;if(!e||!n){c(!1);return}const g=n.toLowerCase();return console.log("Fetching contracts for:",g),Promise.all([r(g),i(g)]).then(([b,S])=>{if(console.log("Proposals found:",b.length,b),console.log("NFTs found:",S.length,S),p){const w=b.filter(O=>O.status==="accepted").map(O=>{var D,I,B,z,V,Y;return{id:Number(O.jobId),title:((D=O.jobDetails)==null?void 0:D.title)||`Job #${O.jobId}`,description:((I=O.jobDetails)==null?void 0:I.description)||"No description available.",budget:O.rate,client_address:((B=O.jobDetails)==null?void 0:B.client)||((z=O.jobDetails)==null?void 0:z.client_address),status:((V=O.jobDetails)==null?void 0:V.status)||"in_progress",type:"proposal",freelancer:O.freelancerAddress,deadline:(Y=O.jobDetails)==null?void 0:Y.deadline}}),E=S.map(O=>({id:Number(O.jobId),tokenId:O.tokenId,title:O.jobTitle||`Contract #${O.jobId}`,description:O.jobDescription||"Active agreement",budget:O.amount,client_address:O.client,status:O.status,type:"nft",freelancer:O.freelancer,deadline:null})),k=new Set(E.map(O=>O.id)),R=[...w.filter(O=>!k.has(O.id)),...E];console.log("Combined contracts:",R.length,R),o(R),c(!1)}}).catch(b=>{console.error("Failed to fetch active contracts:",b),p&&c(!1)}),()=>{p=!1}},[e,n,r,i]),!e)return T.jsxs("div",{style:{padding:"80px 24px",maxWidth:680,margin:"0 auto",textAlign:"center"},children:[T.jsx("h1",{style:{fontSize:32,fontWeight:700,color:"var(--text-primary)",marginBottom:16},children:"Active Contracts"}),T.jsx("p",{style:{color:"var(--text-secondary)",marginBottom:24},children:"Connect your wallet to view your active contracts."}),T.jsx("button",{className:"btn-primary",onClick:t,style:{padding:"12px 28px"},children:"Connect Wallet "})]});const f=["Funded","In Progress","Awaiting Payment"],d=async p=>{if(window.confirm("Are you sure you want to mark this work as delivered? This will notify the client and they will be prompted to release payment."))try{await s(p),o(g=>g.map(b=>b.id===p?{...b,status:"review_pending"}:b))}catch(g){console.error("Failed to mark delivered:",g)}};return T.jsxs(nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{padding:"48px 40px",maxWidth:1200,margin:"0 auto"},children:[T.jsxs("div",{style:{marginBottom:32},children:[T.jsx("h1",{style:{fontSize:24,fontWeight:700,color:"var(--text-primary)"},children:"Active Contracts"}),T.jsx("p",{style:{fontSize:14,color:"var(--text-secondary)",marginTop:4},children:"Manage your in-progress work agreements."})]}),l?[1,2].map(p=>T.jsx("div",{className:"card skeleton",style:{height:200,marginBottom:16}},p)):a.length===0?T.jsxs("div",{className:"empty-state",children:[T.jsx("div",{className:"empty-state-icon",children:T.jsx(F_,{size:32})}),T.jsx("div",{className:"empty-state-title",children:"No active contracts"}),T.jsx("div",{className:"empty-state-text",children:"Submit proposals on jobs to get hired and start earning."}),T.jsx("a",{href:"/freelancer/jobs",className:"btn-primary",style:{textDecoration:"none",padding:"10px 20px"},children:"Find Jobs "})]}):T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:16},children:a.map(p=>{const g=p.status==="in_progress"||p.status==="active"?1:p.status==="review_pending"?2:p.status==="completed"?3:1;return T.jsxs("div",{className:"glass-card",style:{padding:24},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:20},children:[T.jsxs("div",{children:[T.jsxs("div",{style:{fontSize:18,fontWeight:600,color:"var(--text-primary)",marginBottom:6},children:[p.title,p.type==="nft"&&T.jsx("span",{style:{marginLeft:8,fontSize:10,padding:"2px 6px",background:"var(--quai-green-10)",color:"var(--quai-green)",borderRadius:4,verticalAlign:"middle"},children:"MINTED NFT"})]}),T.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[T.jsx(gx,{status:p.status==="active"?"in_progress":p.status}),T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:11,color:"var(--text-muted)"},children:p.type==="nft"?`Token ID: #${p.tokenId}`:`Client: ${Df(p.client_address)}`})]})]}),T.jsx(tT,{amount:p.budget,size:"lg"})]}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:20,lineHeight:1.6,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:p.description}),T.jsx("div",{style:{display:"flex",alignItems:"center",gap:0,margin:"20px 0"},children:f.map((b,S)=>{const w=S<g,E=S===g;return T.jsxs("div",{style:{display:"flex",alignItems:"center",flex:S<f.length-1?1:"none"},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",flexShrink:0},children:[T.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:w||E?"var(--quai-green-10)":"var(--bg-elevated)",border:`2px solid ${w||E?"var(--quai-green)":"var(--border-default)"}`,display:"flex",alignItems:"center",justifyContent:"center",boxShadow:E?"var(--glow-green-sm)":"none",transition:"all 0.3s ease"},children:w?T.jsx("span",{style:{color:"var(--quai-green)",fontSize:12},children:""}):T.jsx("span",{style:{fontSize:11,fontWeight:600,color:E?"var(--quai-green)":"var(--text-muted)"},children:S+1})}),T.jsx("span",{style:{fontSize:10,color:E?"var(--quai-green)":"var(--text-muted)",marginTop:6,whiteSpace:"nowrap"},children:b})]}),S<f.length-1&&T.jsx("div",{style:{flex:1,height:2,marginBottom:16,background:w?"var(--quai-green)":"var(--border-subtle)",transition:"background 0.3s ease"}})]},b)})}),T.jsxs("div",{style:{display:"flex",gap:8,marginTop:8},children:[p.status==="in_progress"&&T.jsxs("button",{className:"btn-primary",style:{padding:"10px 24px",fontSize:13,background:"var(--quai-green)",display:"flex",alignItems:"center",gap:6},onClick:()=>d(p.id),children:[T.jsx(F_,{size:14}),"Submit Work & Notify Client"]}),p.status==="review_pending"&&T.jsx("div",{style:{background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",padding:"8px 16px",display:"flex",alignItems:"center",gap:8},children:T.jsx("span",{style:{fontSize:13,color:"var(--quai-green)",fontWeight:600},children:" Work Submitted - Awaiting Review"})}),T.jsxs(_r,{to:`/freelancer/messages/${p.id}?client=${encodeURIComponent(p.client_address||p.client||"Client")}`,className:"btn-secondary",style:{padding:"8px 20px",fontSize:13,textDecoration:"none",display:"flex",alignItems:"center",gap:6},children:[T.jsx(S0e,{size:14}),"Chat with Client"]}),T.jsxs("span",{style:{fontSize:12,color:"var(--text-muted)",alignSelf:"center"},children:["Deadline: ",p.deadline?jp(Number(p.deadline)):"No deadline set"]})]})]},p.id.toString())})})]})}const Dtt=["React","TypeScript","Solidity","Node.js","Python","Rust","Go","Next.js","Vue.js","Web3.js","Ethers.js","Hardhat","Foundry","Smart Contracts","DeFi","NFT","IPFS","GraphQL","PostgreSQL","Docker","AWS","Figma","UI/UX","Product Design","Auditing"],Itt=["Junior","Mid","Senior","Expert"],Ntt=["Full-time","Part-time","Contract"];function NR({title:n,icon:e,children:t}){return T.jsxs("div",{className:"glass-card",style:{padding:28},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,marginBottom:24,paddingBottom:16,borderBottom:"1px solid var(--border-subtle)"},children:[T.jsx("div",{style:{color:"var(--quai-green)"},children:e}),T.jsx("h2",{style:{fontSize:14,fontWeight:700,color:"var(--text-primary)",margin:0,letterSpacing:"0.04em",textTransform:"uppercase"},children:n})]}),T.jsx("div",{style:{display:"flex",flexDirection:"column",gap:18},children:t})]})}function iu({label:n,hint:e,children:t}){return T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",fontSize:12,fontFamily:"var(--font-mono)",letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--text-secondary)",marginBottom:8},children:n}),t,e&&T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:5},children:e})]})}function oQ({value:n,onChange:e,placeholder:t,type:r="text"}){return T.jsx("input",{type:r,value:n,onChange:i=>e(i.target.value),placeholder:t,className:"input",style:{fontSize:14}})}function Ltt(){const{profile:n,saveProfile:e,analyzeProfile:t}=f9(),{address:r,isConnected:i}=Po(),{getFreelancerRating:s}=If(),[a,o]=L.useState({...KM}),[l,c]=L.useState(""),[f,d]=L.useState(!1),[p,g]=L.useState(!1),[b,S]=L.useState(""),w=L.useRef(null),[E,k]=L.useState({average:0,count:0,reviews:[]});L.useEffect(()=>{o({...KM,...n}),S(n.avatarUrl||"")},[n]),L.useEffect(()=>{r&&k(s(r))},[r,s]);const R=Y=>q=>o(J=>({...J,[Y]:q})),O=Y=>{var re;const q=(re=Y.target.files)==null?void 0:re[0];if(!q)return;const J=new FileReader;J.onload=fe=>{var te;const ne=(te=fe.target)==null?void 0:te.result;S(ne),o(se=>({...se,avatarUrl:ne}))},J.readAsDataURL(q)},D=Y=>{const q=Y.trim();!q||a.skills.includes(q)||(o(J=>({...J,skills:[...J.skills,q]})),c(""))},I=Y=>o(q=>({...q,skills:q.skills.filter(J=>J!==Y)})),B=async()=>{g(!0),await e(a),g(!1)},z=async()=>{if(!a.githubUrl&&!a.linkedinUrl)return;d(!0);const Y=await t(a.githubUrl,a.linkedinUrl);o(q=>({...q,...Y})),d(!1)},V=(()=>{const Y=[a.name,a.bio,a.avatarUrl,a.githubUrl,a.title,a.hourlyRate,a.skills.length>0];return Math.round(Y.filter(Boolean).length/Y.length*100)})();return i?T.jsxs("div",{style:{padding:"28px 40px 80px",maxWidth:1100,margin:"0 auto"},children:[T.jsxs(nr.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:32},children:[T.jsxs("div",{children:[T.jsx("h1",{style:{fontSize:22,fontWeight:700,color:"var(--text-primary)",margin:0},children:"My Profile"}),T.jsx("p",{style:{fontSize:13,color:"var(--text-muted)",marginTop:4},children:"Your profile is visible to clients when they review your proposals."})]}),T.jsx("button",{className:"btn-primary",onClick:B,disabled:p,style:{display:"flex",alignItems:"center",gap:8},children:p?T.jsxs(T.Fragment,{children:[T.jsx(Ov,{size:15,className:"animate-spin"})," Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(bH,{size:15})," Save Profile"]})})]}),T.jsxs("div",{className:"glass-card",style:{padding:"14px 20px",marginBottom:28,display:"flex",alignItems:"center",gap:16},children:[T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",flexShrink:0},children:"Profile strength"}),T.jsx("div",{style:{flex:1,height:6,background:"var(--bg-elevated)",borderRadius:4,overflow:"hidden"},children:T.jsx("div",{style:{height:"100%",width:`${V}%`,background:V>=80?"var(--quai-green)":V>=50?"#f97316":"#ef4444",borderRadius:4,transition:"width 0.5s ease"}})}),T.jsxs("div",{style:{fontSize:13,fontFamily:"var(--font-mono)",fontWeight:700,color:"var(--quai-green)",flexShrink:0},children:[V,"%"]}),V<100&&T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",flexShrink:0},children:"Add more details to get more visibility"})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"300px 1fr",gap:24,alignItems:"flex-start"},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[T.jsxs("div",{className:"glass-card",style:{padding:24,display:"flex",flexDirection:"column",alignItems:"center",gap:16},children:[T.jsxs("div",{style:{position:"relative"},children:[T.jsx("div",{style:{width:110,height:110,borderRadius:"50%",background:b?"transparent":"var(--quai-green-10)",border:"2px solid var(--quai-green-dim)",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0},children:b?T.jsx("img",{src:b,alt:"avatar",style:{width:"100%",height:"100%",objectFit:"cover"}}):T.jsx(U_,{size:40,color:"var(--quai-green)"})}),T.jsx("button",{onClick:()=>{var Y;return(Y=w.current)==null?void 0:Y.click()},style:{position:"absolute",bottom:0,right:0,width:30,height:30,borderRadius:"50%",background:"var(--quai-green)",border:"2px solid var(--bg-surface)",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#000"},children:T.jsx($me,{size:14})}),T.jsx("input",{ref:w,type:"file",accept:"image/*",style:{display:"none"},onChange:O})]}),T.jsxs("div",{style:{textAlign:"center"},children:[T.jsx("div",{style:{fontSize:16,fontWeight:700,color:"var(--text-primary)"},children:a.name||"Your Name"}),T.jsx("div",{style:{fontSize:12,color:"var(--text-muted)",marginTop:2},children:a.title||"Your title"}),T.jsx("div",{style:{fontSize:11,fontFamily:"var(--font-mono)",color:"var(--text-muted)",marginTop:6,opacity:.7},children:r?`${r.slice(0,6)}...${r.slice(-4)}`:""})]}),a.hourlyRate&&T.jsxs("div",{style:{background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"4px 14px",fontSize:13,fontFamily:"var(--font-mono)",color:"var(--quai-green)",fontWeight:700},children:[a.hourlyRate," QUAI/hr"]})]}),(a.experienceLevel||a.availability||a.location||E.count>0)&&T.jsxs("div",{className:"glass-card",style:{padding:20},children:[T.jsx("div",{className:"section-label",style:{marginBottom:12},children:"PROFILE PREVIEW"}),E.count>0&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"var(--text-secondary)",marginBottom:8},children:[T.jsx(Pv,{size:13,color:"var(--quai-green)"})," ",E.average.toFixed(1)," Rating (",E.count," reviews)"]}),a.experienceLevel&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"var(--text-secondary)",marginBottom:8},children:[T.jsx(Pv,{size:13,color:"var(--text-muted)"})," ",a.experienceLevel," Level"]}),a.availability&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"var(--text-secondary)",marginBottom:8},children:[T.jsx(F_,{size:13,color:"var(--text-muted)"})," ",a.availability]}),a.location&&T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontSize:13,color:"var(--text-secondary)"},children:[T.jsx(e8,{size:13,color:"var(--text-muted)"})," ",a.location]})]}),a.isAnalyzed&&a.aiSkills.length>0&&T.jsxs("div",{className:"glass-card",style:{padding:20,border:"1px solid var(--quai-green-dim)"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:12},children:[T.jsx(Ef,{size:14,color:"var(--quai-green)"}),T.jsx("div",{className:"section-label",style:{margin:0,color:"var(--quai-green)"},children:"AI VERIFIED"})]}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:a.aiSkills.map(Y=>T.jsx("span",{style:{background:"var(--quai-green-10)",color:"var(--quai-green)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"2px 8px",fontSize:11,fontFamily:"var(--font-mono)"},children:Y},Y))})]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[T.jsxs(NR,{title:"Basic Information",icon:T.jsx(U_,{size:16}),children:[T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[T.jsx(iu,{label:"Full Name",hint:"Shown to clients on your proposals",children:T.jsx(oQ,{value:a.name,onChange:R("name"),placeholder:"Jane Smith"})}),T.jsx(iu,{label:"Professional Title",hint:"e.g. Full-Stack Web3 Developer",children:T.jsx(oQ,{value:a.title,onChange:R("title"),placeholder:"Smart Contract Engineer"})})]}),T.jsxs(iu,{label:"Bio / Summary",hint:"Describe your expertise, what you build, and what you're looking for (max 500 chars)",children:[T.jsx("textarea",{className:"input",value:a.bio,onChange:Y=>R("bio")(Y.target.value),placeholder:"I'm a Web3 developer with 4 years of experience building DeFi protocols and NFT platforms. I specialize in Solidity and TypeScript...",style:{minHeight:120,resize:"vertical",fontSize:14,lineHeight:1.7},maxLength:500}),T.jsxs("div",{style:{fontSize:11,color:a.bio.length>450?"#f97316":"var(--text-muted)",textAlign:"right",marginTop:4},children:[a.bio.length," / 500"]})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[T.jsx(iu,{label:"Location",children:T.jsxs("div",{style:{position:"relative"},children:[T.jsx(e8,{size:14,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",pointerEvents:"none"}}),T.jsx("input",{value:a.location,onChange:Y=>R("location")(Y.target.value),placeholder:"New York, USA",className:"input",style:{paddingLeft:34}})]})}),T.jsx(iu,{label:"Hourly Rate (QUAI)",children:T.jsxs("div",{style:{position:"relative"},children:[T.jsx(sz,{size:14,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",pointerEvents:"none"}}),T.jsx("input",{type:"number",value:a.hourlyRate,onChange:Y=>R("hourlyRate")(Y.target.value),placeholder:"0.5",className:"input",style:{paddingLeft:34,fontFamily:"var(--font-mono)"},step:"0.01",min:"0"})]})})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[T.jsx(iu,{label:"Experience Level",children:T.jsxs("select",{value:a.experienceLevel,onChange:Y=>R("experienceLevel")(Y.target.value),className:"input",style:{fontSize:14,cursor:"pointer"},children:[T.jsx("option",{value:"",children:"Select level..."}),Itt.map(Y=>T.jsx("option",{value:Y,children:Y},Y))]})}),T.jsx(iu,{label:"Availability",children:T.jsxs("select",{value:a.availability,onChange:Y=>R("availability")(Y.target.value),className:"input",style:{fontSize:14,cursor:"pointer"},children:[T.jsx("option",{value:"",children:"Select availability..."}),Ntt.map(Y=>T.jsx("option",{value:Y,children:Y},Y))]})})]})]}),T.jsxs(NR,{title:"Links & Portfolio",icon:T.jsx(z_,{size:16}),children:[T.jsx(iu,{label:"GitHub Profile URL",children:T.jsxs("div",{style:{position:"relative"},children:[T.jsx(dD,{size:14,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",pointerEvents:"none"}}),T.jsx("input",{value:a.githubUrl,onChange:Y=>R("githubUrl")(Y.target.value),placeholder:"https://github.com/username",className:"input",style:{paddingLeft:34}})]})}),T.jsx(iu,{label:"LinkedIn Profile URL",children:T.jsxs("div",{style:{position:"relative"},children:[T.jsx(az,{size:14,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",pointerEvents:"none"}}),T.jsx("input",{value:a.linkedinUrl,onChange:Y=>R("linkedinUrl")(Y.target.value),placeholder:"https://linkedin.com/in/username",className:"input",style:{paddingLeft:34}})]})}),T.jsx(iu,{label:"Portfolio / Website URL",children:T.jsxs("div",{style:{position:"relative"},children:[T.jsx(z_,{size:14,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",pointerEvents:"none"}}),T.jsx("input",{value:a.portfolioUrl,onChange:Y=>R("portfolioUrl")(Y.target.value),placeholder:"https://yoursite.com",className:"input",style:{paddingLeft:34}})]})}),T.jsx(iu,{label:"Resume / CV URL",hint:"Link to a Google Drive, Notion page, or PDF URL (direct link)",children:T.jsxs("div",{style:{position:"relative"},children:[T.jsx($v,{size:14,style:{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",color:"var(--text-muted)",pointerEvents:"none"}}),T.jsx("input",{value:a.resumeUrl,onChange:Y=>R("resumeUrl")(Y.target.value),placeholder:"https://drive.google.com/...",className:"input",style:{paddingLeft:34}})]})})]}),T.jsxs(NR,{title:"Skills",icon:T.jsx(Pv,{size:16}),children:[T.jsx(iu,{label:"Add Skills",hint:"Type a skill and press Enter or click a suggestion",children:T.jsxs("div",{style:{display:"flex",gap:8},children:[T.jsx("input",{className:"input",value:l,onChange:Y=>c(Y.target.value),onKeyDown:Y=>{Y.key==="Enter"&&(Y.preventDefault(),D(l))},placeholder:"e.g. Solidity, React, Rust...",style:{flex:1}}),T.jsx("button",{onClick:()=>D(l),className:"btn-secondary",style:{padding:"0 16px",flexShrink:0},children:T.jsx(UQ,{size:15})})]})}),a.skills.length>0&&T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:a.skills.map(Y=>T.jsxs("span",{style:{background:"var(--quai-green-10)",color:"var(--quai-green)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"5px 10px",fontFamily:"var(--font-mono)",fontSize:12,display:"flex",alignItems:"center",gap:6},children:[Y,T.jsx(lz,{size:11,style:{cursor:"pointer",opacity:.7},onClick:()=>I(Y)})]},Y))}),T.jsxs("div",{children:[T.jsx("div",{style:{fontSize:11,color:"var(--text-muted)",marginBottom:8,fontFamily:"var(--font-mono)",textTransform:"uppercase",letterSpacing:"0.08em"},children:"Suggestions"}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:Dtt.filter(Y=>!a.skills.includes(Y)).slice(0,16).map(Y=>T.jsxs("button",{onClick:()=>D(Y),style:{background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-pill)",padding:"4px 10px",fontSize:11,color:"var(--text-secondary)",cursor:"pointer",fontFamily:"var(--font-mono)",transition:"all 0.2s"},onMouseEnter:q=>{q.currentTarget.style.borderColor="var(--quai-green-dim)",q.currentTarget.style.color="var(--quai-green)"},onMouseLeave:q=>{q.currentTarget.style.borderColor="var(--border-default)",q.currentTarget.style.color="var(--text-secondary)"},children:["+ ",Y]},Y))})]})]}),T.jsxs(NR,{title:"AI Skill Verification",icon:T.jsx(vH,{size:16}),children:[T.jsx("p",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.7,margin:0},children:"Connect your GitHub and LinkedIn so our AI can automatically verify your skills. Verified skills boost your visibility to clients and improve match scores."}),T.jsxs("div",{style:{display:"flex",gap:12},children:[T.jsx("button",{className:"btn-primary",onClick:z,disabled:f||!a.githubUrl&&!a.linkedinUrl,style:{flex:1,justifyContent:"center",display:"flex",alignItems:"center",gap:8},children:f?T.jsxs(T.Fragment,{children:[T.jsx(Ov,{size:15,className:"animate-spin"})," Analyzing profiles..."]}):T.jsxs(T.Fragment,{children:[T.jsx(vH,{size:15})," Analyze & Verify Skills"]})}),a.isAnalyzed&&T.jsx("button",{onClick:()=>o(Y=>({...Y,isAnalyzed:!1,aiSkills:[]})),className:"btn-secondary",style:{padding:"0 16px"},title:"Clear AI results",children:T.jsx(k0e,{size:15})})]}),T.jsx(yD,{children:a.isAnalyzed&&!f&&a.aiSkills.length>0&&T.jsxs(nr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",padding:20,overflow:"hidden"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[T.jsx(Ef,{size:16,color:"var(--quai-green)"}),T.jsx("span",{style:{fontSize:13,fontWeight:600,color:"var(--quai-green)"},children:"AI Verified Skills"})]}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:a.aiSkills.map(Y=>T.jsx("span",{style:{background:"rgba(78,255,160,0.1)",color:"var(--quai-green)",border:"1px solid rgba(78,255,160,0.25)",borderRadius:"var(--radius-pill)",padding:"4px 10px",fontFamily:"var(--font-mono)",fontSize:12},children:Y},Y))})]})})]}),T.jsx("button",{className:"btn-primary",onClick:B,disabled:p,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:8,padding:"14px",fontSize:15},children:p?T.jsxs(T.Fragment,{children:[T.jsx(Ov,{size:16,className:"animate-spin"})," Saving..."]}):T.jsxs(T.Fragment,{children:[T.jsx(bH,{size:16})," Save Profile"]})})]})]})]}):T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",gap:20,textAlign:"center",padding:"0 24px"},children:[T.jsx("div",{style:{fontSize:48},children:""}),T.jsx("h2",{style:{fontSize:24,fontWeight:700,color:"var(--text-primary)"},children:"Connect to set up your profile"}),T.jsx("p",{style:{color:"var(--text-secondary)",maxWidth:400},children:"Your profile is stored on-chain linked to your wallet address."})]})}const lQ={Development:"",Design:"",Writing:"",Marketing:"",Web3:"","AI / ML":"",DevOps:"",Data:"",default:""};function Ey({icon:n,label:e,value:t}){return T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,padding:"12px 0",borderBottom:"1px solid var(--border-subtle)"},children:[T.jsx("div",{style:{color:"var(--text-muted)",flexShrink:0},children:n}),T.jsx("div",{style:{fontSize:12,color:"var(--text-muted)",width:100,flexShrink:0,fontFamily:"var(--font-mono)",textTransform:"uppercase",letterSpacing:"0.08em"},children:e}),T.jsx("div",{style:{fontSize:13,color:"var(--text-primary)",fontWeight:500},children:t})]})}function Btt(){var Y,q;const{id:n}=aD(),{address:e,isConnected:t}=Po(),{getJob:r}=If(),{submit:i,hasSubmitted:s,getByJob:a}=mx(),o=fx(),[l,c]=L.useState(null),[f,d]=L.useState(!0),[p,g]=L.useState(!1),[b,S]=L.useState(0),[w,E]=L.useState(""),[k,R]=L.useState(""),[O,D]=L.useState(!1);L.useEffect(()=>{let J=!0;return(async()=>{if(n)try{const fe=await r(Number(n)),ne=await a(Number(n));if(J&&(c(fe),S(ne.length),t&&e)){const te=await s(Number(n),e);g(te)}}catch{fi.error("Failed to load job")}finally{J&&d(!1)}})(),()=>{J=!1}},[n,t,e]);const I=async J=>{if(J.preventDefault(),!(!e||!l)){if(!w||parseFloat(w)<=0){fi.error("Enter a valid rate");return}if(!k.trim()){fi.error("Write a cover letter");return}D(!0);try{await i({jobId:Number(n),freelancerAddress:e,rate:w,coverLetter:k}),g(!0)}catch(re){fi.error("Failed: "+re.message)}finally{D(!1)}}};if(f)return T.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:100,gap:16,color:"var(--quai-green)"},children:[T.jsx(Ov,{className:"animate-spin",size:36}),T.jsx("span",{style:{fontSize:13,color:"var(--text-muted)"},children:"Loading job details..."})]});if(!l)return T.jsxs("div",{style:{padding:"80px 24px",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:40,marginBottom:16},children:""}),T.jsx("div",{style:{fontSize:18,fontWeight:600,color:"var(--text-primary)",marginBottom:8},children:"Job not found"}),T.jsx("div",{style:{fontSize:14,color:"var(--text-muted)",marginBottom:24},children:"This job may have been removed or doesn't exist."}),T.jsx(_r,{to:"/freelancer/jobs",className:"btn-primary",style:{textDecoration:"none"},children:"Browse All Jobs "})]});const B=lQ[l.category]||lQ.default,z=l.deadline?Math.max(0,Math.ceil((Number(l.deadline)-Date.now()/1e3)/86400)):null,V=z!==null&&z<=3?"critical":z!==null&&z<=7?"soon":"normal";return T.jsxs(nr.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},style:{padding:"28px 40px 60px",maxWidth:1200,margin:"0 auto"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:24,fontSize:13},children:[T.jsxs("button",{onClick:()=>o(-1),style:{background:"none",border:"none",color:"var(--text-muted)",cursor:"pointer",display:"flex",alignItems:"center",gap:5,padding:0},children:[T.jsx(Ime,{size:14})," Back"]}),T.jsx("span",{style:{color:"var(--border-default)"},children:"/"}),T.jsx(_r,{to:"/freelancer/jobs",style:{color:"var(--text-muted)",textDecoration:"none"},children:"Jobs"}),T.jsx("span",{style:{color:"var(--border-default)"},children:"/"}),T.jsx("span",{style:{color:"var(--text-secondary)"},children:l.title})]}),V==="critical"&&T.jsxs("div",{style:{background:"rgba(239,68,68,0.07)",border:"1px solid rgba(239,68,68,0.25)",borderRadius:"var(--radius-md)",padding:"10px 16px",marginBottom:20,display:"flex",alignItems:"center",gap:10},children:[T.jsx(Jme,{size:15,color:"#ef4444"}),T.jsxs("span",{style:{fontSize:13,color:"#ef4444",fontWeight:500},children:[" Deadline in ",z," day",z!==1?"s":"","  Apply quickly!"]})]}),T.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 380px",gap:28,alignItems:"flex-start"},children:[T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20},children:[T.jsxs("div",{className:"glass-card",style:{padding:32},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:16,marginBottom:20},children:[T.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:14},children:[T.jsx("div",{style:{width:52,height:52,borderRadius:14,flexShrink:0,background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:24},children:B}),T.jsxs("div",{children:[T.jsx("h1",{style:{fontSize:22,fontWeight:700,color:"var(--text-primary)",margin:0,lineHeight:1.3},children:l.title}),T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginTop:6},children:[T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:11,background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-pill)",padding:"2px 8px",color:"var(--text-secondary)"},children:l.category}),T.jsxs("span",{style:{fontSize:11,color:"var(--text-muted)"},children:["Posted ",BT(l.createdAt||0)]})]})]})]}),T.jsx(gx,{status:l.status==="in_progress"?"active":l.status||"open"})]}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:20,padding:"16px 0",borderTop:"1px solid var(--border-subtle)",borderBottom:"1px solid var(--border-subtle)",marginBottom:24},children:[{icon:T.jsx(F_,{size:14}),text:l.category||"General"},{icon:T.jsx(Q5,{size:14}),text:`Due ${jp(Number(l.deadline))}`,accent:V!=="normal"},{icon:T.jsx(U_,{size:14}),text:Df(l.client||l.client_address)},{icon:T.jsx(t8,{size:14}),text:`${b} proposal${b!==1?"s":""}`},{icon:T.jsx(z_,{size:14}),text:"Remote"}].map((J,re)=>T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,color:J.accent?"#f97316":"var(--text-secondary)"},children:[T.jsx("span",{style:{color:J.accent?"#f97316":"var(--text-muted)"},children:J.icon}),J.text]},re))}),T.jsx("div",{className:"section-label",style:{marginBottom:12},children:"DESCRIPTION"}),T.jsx("div",{style:{fontSize:14,color:"var(--text-secondary)",lineHeight:1.85,whiteSpace:"pre-wrap",minHeight:80},children:l.description||"No description provided."})]}),T.jsxs("div",{className:"glass-card",style:{padding:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:14},children:"REQUIRED SKILLS"}),T.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:((Y=l.skills)!=null&&Y.length?l.skills:["React","Solidity","Web3","TypeScript"]).map(J=>T.jsx("span",{style:{background:"var(--quai-green-10)",color:"var(--quai-green)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-pill)",padding:"5px 12px",fontFamily:"var(--font-mono)",fontSize:12},children:J},J))})]}),T.jsxs("div",{className:"glass-card",style:{padding:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:4},children:"JOB DETAILS"}),T.jsx(Ey,{icon:T.jsx(U0e,{size:14}),label:"Category",value:l.category||""}),T.jsx(Ey,{icon:T.jsx(Q5,{size:14}),label:"Deadline",value:T.jsxs("span",{style:{color:V==="critical"?"#ef4444":V==="soon"?"#f97316":"var(--text-primary)"},children:[jp(Number(l.deadline))," ",z!==null&&`(${z}d left)`]})}),T.jsx(Ey,{icon:T.jsx(zR,{size:14}),label:"Payment",value:"Escrow  Released on approval"}),T.jsx(Ey,{icon:T.jsx(z_,{size:14}),label:"Location",value:"Remote  Worldwide"}),T.jsx(Ey,{icon:T.jsx(iz,{size:14}),label:"Type",value:"Fixed Price Contract"}),T.jsx(Ey,{icon:T.jsx(U_,{size:14}),label:"Client",value:T.jsx("span",{style:{fontFamily:"var(--font-mono)",fontSize:12},children:l.client||l.client_address||""})}),T.jsx(Ey,{icon:T.jsx(eA,{size:14}),label:"Status",value:T.jsx("span",{style:{textTransform:"capitalize",color:l.status==="open"?"var(--quai-green)":"var(--text-primary)"},children:l.status||"open"})})]}),T.jsxs("div",{style:{background:"var(--quai-green-10)",border:"1px solid var(--quai-green-dim)",borderRadius:"var(--radius-md)",padding:20},children:[T.jsx("div",{style:{fontSize:13,fontWeight:600,color:"var(--quai-green)",marginBottom:10,display:"flex",alignItems:"center",gap:8},children:" Tips for a winning proposal"}),T.jsxs("ul",{style:{fontSize:13,color:"var(--text-secondary)",lineHeight:1.7,paddingLeft:18,margin:0},children:[T.jsx("li",{children:"Show relevant past projects or portfolio links"}),T.jsx("li",{children:"Be specific about your timeline and deliverables"}),T.jsx("li",{children:"Set a competitive rate based on the budget range"}),T.jsx("li",{children:"Address the client's specific needs in the description"})]})]})]}),T.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:20,position:"sticky",top:88},children:[T.jsxs("div",{className:"glass-card",style:{padding:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:10},children:"BUDGET"}),T.jsxs("div",{style:{fontFamily:"var(--font-mono)",fontSize:34,fontWeight:700,color:"var(--quai-green)",lineHeight:1},children:[l.budget,T.jsx("span",{style:{fontSize:16,color:"var(--text-muted)",fontWeight:400,marginLeft:8},children:"QUAI"})]}),T.jsxs("div",{style:{fontSize:12,color:"var(--text-muted)",marginTop:8,display:"flex",alignItems:"center",gap:6},children:[T.jsx(zR,{size:12,color:"var(--quai-green)"})," Escrow Protected  Release on your approval"]}),T.jsxs("div",{style:{marginTop:16,padding:"10px 0",borderTop:"1px solid var(--border-subtle)"},children:[T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-muted)",marginBottom:6},children:[T.jsx("span",{children:"Proposals received"}),T.jsx("span",{style:{color:"var(--text-primary)",fontFamily:"var(--font-mono)"},children:b})]}),T.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,color:"var(--text-muted)"},children:[T.jsx("span",{children:"Deadline"}),T.jsx("span",{style:{color:V==="critical"?"#ef4444":V==="soon"?"#f97316":"var(--text-primary)",fontFamily:"var(--font-mono)"},children:z!==null?`${z}d left`:""})]})]})]}),t?(e==null?void 0:e.toLowerCase())===((q=l.client||l.client_address)==null?void 0:q.toLowerCase())?T.jsxs("div",{className:"glass-card",style:{padding:24,textAlign:"center"},children:[T.jsx("div",{style:{fontSize:32,marginBottom:12},children:""}),T.jsx("div",{style:{fontSize:15,fontWeight:600,color:"var(--text-primary)",marginBottom:6},children:"This is your job"}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)"},children:"You cannot submit a proposal to a job you posted."})]}):p?T.jsxs("div",{className:"glass-card",style:{padding:24,textAlign:"center"},children:[T.jsx("div",{style:{width:56,height:56,borderRadius:"50%",background:"var(--quai-green-10)",border:"2px solid var(--quai-green)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px"},children:T.jsx(eA,{size:26,color:"var(--quai-green)"})}),T.jsx("div",{style:{fontSize:16,fontWeight:700,color:"var(--text-primary)",marginBottom:6},children:"Proposal Submitted!"}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:16},children:"You've already applied to this job. The client will review proposals soon."}),T.jsx(_r,{to:"/freelancer/proposals",className:"btn-secondary",style:{textDecoration:"none",display:"block",textAlign:"center"},children:"View My Proposals "})]}):T.jsxs("div",{className:"glass-card",style:{padding:24},children:[T.jsx("div",{className:"section-label",style:{marginBottom:16},children:"SUBMIT PROPOSAL"}),T.jsxs("form",{onSubmit:I,style:{display:"flex",flexDirection:"column",gap:16},children:[T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",fontSize:11,fontFamily:"var(--font-mono)",letterSpacing:"0.1em",color:"var(--text-muted)",marginBottom:8,textTransform:"uppercase"},children:"Your Rate (QUAI)"}),T.jsx("input",{type:"number",className:"input",value:w,onChange:J=>E(J.target.value),placeholder:`Max: ${l.budget} QUAI`,step:"0.01",min:"0.01",required:!0,style:{fontFamily:"var(--font-mono)",fontSize:16}}),T.jsxs("div",{style:{fontSize:11,color:"var(--text-muted)",marginTop:5},children:["Client budget: ",l.budget," QUAI"]})]}),T.jsxs("div",{children:[T.jsx("label",{style:{display:"block",fontSize:11,fontFamily:"var(--font-mono)",letterSpacing:"0.1em",color:"var(--text-muted)",marginBottom:8,textTransform:"uppercase"},children:"Cover Letter"}),T.jsx("textarea",{className:"input",value:k,onChange:J=>R(J.target.value),placeholder:"Introduce yourself, explain your experience, and why you're the best fit for this project...",style:{minHeight:160,resize:"vertical",fontSize:13,lineHeight:1.7},required:!0}),T.jsxs("div",{style:{fontSize:11,color:k.length>1500?"var(--error)":"var(--text-muted)",marginTop:5,textAlign:"right"},children:[k.length," / 1500"]})]}),T.jsx("button",{type:"submit",className:"btn-primary",disabled:O||k.length>1500,style:{width:"100%",justifyContent:"center",display:"flex",alignItems:"center",gap:8,padding:"12px 0"},children:O?T.jsxs(T.Fragment,{children:[T.jsx(Ov,{size:14,className:"animate-spin"})," Submitting..."]}):T.jsxs(T.Fragment,{children:[T.jsx(t8,{size:14})," Submit Proposal"]})})]})]}):T.jsxs("div",{className:"glass-card",style:{padding:28,textAlign:"center"},children:[T.jsx("div",{style:{fontSize:32,marginBottom:12},children:""}),T.jsx("div",{style:{fontSize:15,fontWeight:600,color:"var(--text-primary)",marginBottom:6},children:"Connect to Apply"}),T.jsx("div",{style:{fontSize:13,color:"var(--text-secondary)",marginBottom:20},children:"Connect your Pelagus wallet to submit a proposal for this job."}),T.jsx(_r,{to:"/freelancer",className:"btn-primary",style:{textDecoration:"none",display:"block",textAlign:"center"},children:"Connect Wallet "})]}),T.jsxs("div",{style:{background:"var(--bg-elevated)",border:"1px solid var(--border-default)",borderRadius:"var(--radius-md)",padding:18},children:[T.jsxs("div",{style:{fontSize:12,fontWeight:600,color:"var(--text-secondary)",marginBottom:10,display:"flex",alignItems:"center",gap:6},children:[T.jsx(zR,{size:13,color:"var(--quai-green)"})," How escrow works"]}),T.jsxs("ol",{style:{fontSize:12,color:"var(--text-muted)",lineHeight:1.7,paddingLeft:16,margin:0,display:"flex",flexDirection:"column",gap:4},children:[T.jsx("li",{children:"Client funds are locked in a smart contract"}),T.jsx("li",{children:"You complete the work"}),T.jsx("li",{children:"Client reviews and releases payment"}),T.jsx("li",{children:"QUAI is transferred instantly to your wallet"})]})]})]})]})]})}function Ftt(){const{id:n}=aD(),[e]=Dpe(),t=e.get("client")||"Client",[r,i]=L.useState("");return T.jsxs(nr.div,{initial:{opacity:0},animate:{opacity:1},style:{height:"calc(100vh - 120px)",display:"flex",flexDirection:"column",maxWidth:1e3,margin:"0 auto",padding:"24px"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,paddingBottom:16,borderBottom:"1px solid var(--border-subtle)"},children:[T.jsx("div",{style:{width:40,height:40,borderRadius:"50%",background:"var(--bg-elevated)",display:"flex",alignItems:"center",justifyContent:"center"},children:T.jsx(U_,{size:20})}),T.jsxs("div",{children:[T.jsx("h2",{style:{fontSize:18,fontWeight:600,color:"var(--text-primary)"},children:t}),T.jsx("span",{style:{fontSize:12,color:"var(--quai-green)"},children:"Online"})]})]}),T.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"24px 0",display:"flex",flexDirection:"column",gap:16},children:[T.jsxs("div",{style:{alignSelf:"center",background:"var(--bg-elevated)",padding:"4px 12px",borderRadius:12,fontSize:11,color:"var(--text-muted)"},children:["Job ID: ",n,"  March 26, 2026"]}),T.jsx("div",{style:{alignSelf:"flex-start",maxWidth:"70%",background:"var(--bg-elevated)",padding:"12px 16px",borderRadius:"4px 16px 16px 16px",fontSize:14},children:"Hello! Thanks for starting the work. Let me know if you have any questions about the technical specs."}),T.jsx("div",{style:{alignSelf:"flex-end",maxWidth:"70%",background:"var(--quai-green-10)",border:"1px solid var(--quai-green)",padding:"12px 16px",borderRadius:"16px 16px 4px 16px",fontSize:14},children:"I've started on the core logic and should have a first milestone ready by tomorrow evening."})]}),T.jsxs("div",{style:{display:"flex",gap:12,padding:"16px",background:"var(--bg-elevated)",borderRadius:"var(--radius-lg)",marginTop:16},children:[T.jsx("input",{type:"text",value:r,onChange:s=>i(s.target.value),placeholder:"Type your message...",style:{flex:1,background:"transparent",border:"none",outline:"none",color:"var(--text-primary)",fontSize:14}}),T.jsx("button",{disabled:!0,style:{opacity:.5,cursor:"not-allowed",background:"transparent",border:"none",color:"var(--quai-green)"},children:T.jsx(t8,{size:20})})]})]})}function ztt(){return T.jsxs(sge,{children:[T.jsx(age,{}),T.jsx(ige,{children:T.jsx(rge,{children:T.jsxs(Cpe,{children:[T.jsx(Tme,{position:"bottom-right",toastOptions:{className:"mono",style:{background:"var(--bg-elevated)",color:"var(--text-primary)",border:"1px solid var(--border-default)",borderLeft:"4px solid var(--quai-green)",borderRadius:"var(--radius-md)",boxShadow:"0 8px 32px rgba(0,0,0,0.4)"}}}),T.jsxs(rpe,{children:[T.jsx(ma,{path:"/",element:T.jsx(Ske,{})}),T.jsx(ma,{path:"/deploy",element:T.jsx(Att,{})}),T.jsxs(ma,{path:"/client",element:T.jsx(cDe,{}),children:[T.jsx(ma,{index:!0,element:T.jsx(hGe,{})}),T.jsx(ma,{path:"post-job",element:T.jsx(JKe,{})}),T.jsx(ma,{path:"my-jobs",element:T.jsx(eJe,{})}),T.jsx(ma,{path:"jobs/:id",element:T.jsx(Mtt,{})}),T.jsx(ma,{path:"freelancer/:address",element:T.jsx(Ctt,{})})]}),T.jsxs(ma,{path:"/freelancer",element:T.jsx(uDe,{}),children:[T.jsx(ma,{index:!0,element:T.jsx(ktt,{})}),T.jsx(ma,{path:"jobs",element:T.jsx(Rtt,{})}),T.jsx(ma,{path:"jobs/:id",element:T.jsx(Btt,{})}),T.jsx(ma,{path:"proposals",element:T.jsx(Ott,{})}),T.jsx(ma,{path:"contracts",element:T.jsx(Ptt,{})}),T.jsx(ma,{path:"messages/:id",element:T.jsx(Ftt,{})}),T.jsx(ma,{path:"profile",element:T.jsx(Ltt,{})})]}),T.jsx(ma,{path:"*",element:T.jsx(tpe,{to:"/",replace:!0})})]})]})})})]})}rhe.createRoot(document.getElementById("root")).render(T.jsx(L.StrictMode,{children:T.jsx(ztt,{})}));
